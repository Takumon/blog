{"data":{"site":{"siteMetadata":{"title":"Takumon Blog","author":"Takuto Inoue"}},"markdownRemark":{"html":"<p><img src=\"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png\" alt=\"gatsby-related-posts-like-hugo\"></p>\n<h2 id=\"なにこれ\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>ブログでよく見かけるUIのひとつに<strong>関連記事リンク</strong>あります。\n記事下部に関連記事リンクを設けておくと、記事を読み終えたユーザーが、また別の記事を見てくれる可能性が上がるので、\n回遊率向上という観点で非常に効果的なUIです。</p>\n<p>そんな関連記事リンクが<a href=\"https://gohugo.io/\"><strong>Hugo</strong></a>（Go言語製静的サイトジェネレーター）には、デフォルトで用意されていることを、<a href=\"https://mom0tomo.github.io/\">mom0tomoさんのブログ</a>の記事<a href=\"https://mom0tomo.github.io/post/hugo_related_posts/\">「HugoでRelated Content(関連記事)を表示する」</a>を見て知りました。\n自分が使っている<a href=\"https://www.gatsbyjs.org/\"><strong>Gatsby</strong></a>（JavaScript製静的サイトジェネレーター）に、そのような機能はありません。うらやましい！</p>\n<p>ということで、<strong>Hugoの実装を真似して、Gatsbyで関連記事が表示できるようにしてみました。</strong>実物はこのページの下部にあるのでご覧ください。\n今回は、以下のような流れで、関連記事機能について説明したいと思います。</p>\n<ul>\n<li><a href=\"#hugo%E3%81%AE%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD\">Hugoの関連記事機能</a></li>\n<li><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E8%A1%A8%E7%A4%BA%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\">関連記事機能イメージ</a></li>\n<li><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E8%A1%A8%E7%A4%BA%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89\">関連記事機能ソース</a></li>\n<li><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD%E4%BD%BF%E7%94%A8%E3%81%AB%E3%81%82%E3%81%9F%E3%82%8A%E3%83%9E%E3%83%BC%E3%82%AF%E3%83%80%E3%82%A6%E3%83%B3%E3%81%AEfront-matter%E3%81%AB%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F\">関連記事機能使用にあたりマークダウンのFront Matterにキーワードを追加した</a></li>\n<li><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9\">関連記事機能の使い方</a></li>\n<li><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%AE%E3%82%B3%E3%83%84\">関連記事機能の設定のコツ</a></li>\n</ul>\n<p>プラグイン化はできていませんが、ソースコードを見れば真似して実装できると思います。\n<strong>Gatsbyでブログを作っている方は是非実装してみてください！</strong></p>\n<ul>\n<li>関連記事取得処理：<a href=\"https://github.com/Takumon/blog/blob/master/gatsby-related-post.js\">blog/gatsby-related-post.js at master · Takumon/blog</a></li>\n<li>関連記事取得処理の呼び出し：<a href=\"https://github.com/Takumon/blog/blob/master/gatsby-node.js#L107\">blog/gatsby-node.js at master · Takumon/blog</a></li>\n</ul>\n<h2 id=\"hugoの関連記事機能\"><a href=\"#hugo%E3%81%AE%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Hugoの関連記事機能</h2>\n<p>記事の全文を解析するようなガッツリした機能ではなく、\nマークダウンのFront Matter（日付、タイトル、タグ、キーワード、カテゴリなど）をもとに関連度を測るシンプルな機能です。\n以下のようなチューニングが設定で可能です。</p>\n<ol>\n<li>どれが一致した場合に関連とみなすか</li>\n<li>一致した場合の重みづけをどうするか</li>\n<li>関連度がどれくらい以上の場合に関連記事とみなすか</li>\n</ol>\n<p>以下では設定方法と、実際にHugoの記事中で関連記事を表示されるためのメソッドについてご紹介します。</p>\n<h3 id=\"インターフェース\"><a href=\"#%E3%82%A4%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%95%E3%82%A7%E3%83%BC%E3%82%B9\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>インターフェース</h3>\n<p>3つのインターフェースが用意されています。</p>\n<h4 id=\"related-page\"><a href=\"#related-page\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.Related PAGE</h4>\n<p>指定したページの関連記事を取得します。</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> $related <span class=\"token operator\">:=</span> <span class=\"token punctuation\">.</span>Site<span class=\"token punctuation\">.</span>RegularPages<span class=\"token punctuation\">.</span>Related <span class=\"token punctuation\">.</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"relatedindices-page-indice1-indice2-\"><a href=\"#relatedindices-page-indice1-indice2-\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.RelatedIndices PAGE INDICE1 [INDICE2 …]</h4>\n<p>指定したページの関連記事を取得します。ただし指定した索引に限定して関連度を測ります。</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> $related <span class=\"token operator\">:=</span> <span class=\"token punctuation\">.</span>Site<span class=\"token punctuation\">.</span>RegularPages<span class=\"token punctuation\">.</span>RelatedIndices <span class=\"token punctuation\">.</span> <span class=\"token string\">\"tags\"</span> <span class=\"token string\">\"date\"</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"relatedto-keyvals-keyvals2-\"><a href=\"#relatedto-keyvals-keyvals2-\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>.RelatedTo KEYVALS [KEYVALS2 …]</h4>\n<p>指定した索引に関連する関連記事をコレクションで取得します。</p>\n<div class=\"gatsby-highlight\" data-language=\"go\"><pre class=\"language-go\"><code class=\"language-go\"><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> $related <span class=\"token operator\">:=</span> <span class=\"token punctuation\">.</span>Site<span class=\"token punctuation\">.</span>RegularPages<span class=\"token punctuation\">.</span>RelatedTo <span class=\"token punctuation\">(</span> keyVals <span class=\"token string\">\"tags\"</span> <span class=\"token string\">\"hugo\"</span> <span class=\"token string\">\"rocks\"</span><span class=\"token punctuation\">)</span>  <span class=\"token punctuation\">(</span> keyVals <span class=\"token string\">\"date\"</span> <span class=\"token punctuation\">.</span>Date <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"設定方法\"><a href=\"#%E8%A8%AD%E5%AE%9A%E6%96%B9%E6%B3%95\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>設定方法</h3>\n<p>以下のように設定します。\nそれぞれの項目について説明します。</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">related</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">threshold</span><span class=\"token punctuation\">:</span> <span class=\"token number\">80</span>\n  <span class=\"token key atrule\">includeNewer</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">toLower</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">indices</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> keywords\n    <span class=\"token key atrule\">weight</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>\n  <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> date\n    <span class=\"token key atrule\">weight</span><span class=\"token punctuation\">:</span> <span class=\"token number\">10</span></code></pre></div>\n<h4 id=\"threshold\"><a href=\"#threshold\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>threshold</h4>\n<p>関連記事とみなすための関連度の最低値を指定します。\n関連度がこの値未満のものは関連記事から除外されます。</p>\n<h4 id=\"includenewer\"><a href=\"#includenewer\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>includeNewer</h4>\n<p>対象の記事より新しい記事を関連記事として含めるかを指定します。\ntrueを指定すると、新しく記事を投稿した場合に、どんどん関連記事が増えていくことになります。</p>\n<h4 id=\"tolower\"><a href=\"#tolower\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>toLower</h4>\n<p>関連記事検索時に、大文字・小文字を区別するかを指定します。\ntrueの場合、若干パフォーマンスは下がりますご、より良い結果が得られます。</p>\n<h4 id=\"indices\"><a href=\"#indices\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>indices</h4>\n<p>関連度を評価する時に使う索引を指定します。\nこちらは複数指定できます。</p>\n<ul>\n<li>\n<p><code class=\"language-text\">name</code></p>\n<ul>\n<li>記事中に指定したfrontmatterのうちどれを関連度を測る索引として使うかを指定します。</li>\n</ul>\n</li>\n<li>\n<p><code class=\"language-text\">weigth</code></p>\n<ul>\n<li>\n<p>関連度を計算する時の重み付けです。たとえば以下のように指定した場合、日付が一致するよりも、キーワードが一致するほうが関連度が高くなります。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">indices:\n- name: keywords\nweight: 100\n- name: date\nweight: 10</code></pre></div>\n</li>\n</ul>\n</li>\n</ul>\n<h3 id=\"参考\"><a href=\"#%E5%8F%82%E8%80%83\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h3>\n<p>公式ドキュメントに詳細が載っています。<br/>\n<small>※ピンク眼鏡で若干うさんくさくなってるゴファーくんです。</small></p>\n<div class=\"iframely-embed\"><div class=\"iframely-responsive\" style=\"padding-bottom: 50%; padding-top: 120px;\"><a href=\"https://gohugo.io/content-management/related/\" data-iframely-url=\"//cdn.iframe.ly/Y4ImVvB\"></a></div></div>\n<br />\n関連記事取得ロジックのソースコードはコチラ\n<ul>\n<li><a href=\"https://github.com/gohugoio/hugo/blob/master/related/inverted_index.go\"><code class=\"language-text\">related/inverted_index.go</code>（コアロジック）</a></li>\n<li><a href=\"https://github.com/gohugoio/hugo/blob/master/hugolib/pages_related.go\"><code class=\"language-text\">hugolib/pages_related.go</code>（インターフェース）</a></li>\n</ul>\n<h2 id=\"関連記事表示イメージ\"><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E8%A1%A8%E7%A4%BA%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関連記事表示イメージ</h2>\n<p>たとえば、この記事だと以下のように表示されます。記事のキーワードがGatsbyなので、Gatsby関連の記事が表示されていますね。\nちなみに記事リンクの見た目は<a href=\"https://developer.smartnews.com/blog/\">SmartNewsさんのブログ</a>を参考にしました。\nSmartNewsさんのブログはPC・モバイルともにカッコいいデザインです！</p>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 86.37413394919169%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAA7DAAAOwwHHb6hkAAACP0lEQVQ4y41UW4vTUBDOnxVffRJfRIQ+ibIviz9BlCIa8GHXsCCILV1Z3G16SdJW2lW3l1xak5NrJx1nzjY1lnbrgY/JuX35vplJlGq1Wmk0Gp9rtdppu93WOp2OxrF4LqPb7f6zX6DVap3S3idN044VOnCCNJbLJQIArlYrzPN8E7Msk+uM4pnXy6OYE+k3xeiY7+ypi5PJOHVdFxaLBcRxDEEQAM8dxwHfDyAUAsbjsdyPogjofhkZE/b7/S+KYZhqEqfIl4kIGayELmGaphulZdWMQvUaUqJlWXXF6HZVnsRpAjGRMGFUimEYohDiTpCbnN6FlL66MmpeqvD6GP2TtzCbL9CezdC2bUrBhFVL4u2cbQ9SLg/0er26Mmw3VXz+FI2XRxDSxWRttayysL4P+fqNkrCw7IgAIhFKi7tw2PLq1vKweaWi9gbj+hk4i9/oOg56nodUTfR9H+fzOU6nU6RqyxgEYtMqOxWOWkT4+AFaLyoQ0HpMaooqJ0kiwSo4FgT7ckhtc2uZj0w8F5J12xQQYtt2uNcyE0rL33UqysUZZvo5eGSZK3xzcyPt7ei3naCv7G8fXuuX6urhPbSePYE52fJLuePD/znKljsqxgn++nENKeWOW4RzWORun80tlC3r7/NhE9ORuXQ9L6dq5tTUOVU550+K7RwCCZBWTNOsseUP+Og+/jyqYESLKRWDVbLaXRW9awwGg3PF0Juv7NZVZl18tQMhPKqYJ9aRcinjIdDfyKGuCHVd//gHhSv91pg/96oAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"related-content-prevew\"\n        title=\"\"\n        src=\"/static/da88522e5484ac5c3c250223fd8a0cee/fb8a0/related-content-preview.png\"\n        srcset=\"/static/da88522e5484ac5c3c250223fd8a0cee/1a291/related-content-preview.png 148w,\n/static/da88522e5484ac5c3c250223fd8a0cee/2bc4a/related-content-preview.png 295w,\n/static/da88522e5484ac5c3c250223fd8a0cee/fb8a0/related-content-preview.png 590w,\n/static/da88522e5484ac5c3c250223fd8a0cee/b42e9/related-content-preview.png 866w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  </p>\n<h2 id=\"関連記事機能使用にあたりマークダウンのfront-matterにキーワードを追加した\"><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD%E4%BD%BF%E7%94%A8%E3%81%AB%E3%81%82%E3%81%9F%E3%82%8A%E3%83%9E%E3%83%BC%E3%82%AF%E3%83%80%E3%82%A6%E3%83%B3%E3%81%AEfront-matter%E3%81%AB%E3%82%AD%E3%83%BC%E3%83%AF%E3%83%BC%E3%83%89%E3%82%92%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関連記事機能使用にあたりマークダウンのFront Matterにキーワードを追加した</h2>\n<p>関連記事機能は、記事のFront Matterをみて関連度を測ります。\n自分の場合Front Matterにtagsしか定義していなかったため、\n関連度測定精度向上目的でkeywords（その記事を一言で表すとなに？という単語）の定義を追加しました。\nkeywordsでもcategoryでもなんでもいいと思いますが、tagsしか定義していない場合は、\n関連度をプラスアルファで測れるような指標を導入したほうが良いです。</p>\n<h2 id=\"関連記事機能の使い方\"><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD%E3%81%AE%E4%BD%BF%E3%81%84%E6%96%B9\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関連記事機能の使い方</h2>\n<p>とりあえず自分のブログで使えればいいかなと考えていたので、Hugoの3つのインターフェースのうち1つ（Related）のみ移植しました。関数名は<code class=\"language-text\">extractRelatedPosts</code>に変えています。\nHugoの場合はページオブジェクトのメソッドなので<code class=\"language-text\">Related</code>だけでも意味が通るのですが、移植後は関数化したので、関数名だけで意味がわかるように変えました。</p>\n<p>Gatsbyを使っている方は、以下参考にしていただければ関連記事表示機能を実装できると思います。\nただ自分のブログは  (1)frontmatterの取得方法が特殊 (2)関連記事のソートが関連度降順、公開日降順で固定　なのでそこを読み替えてください。</p>\n<ul>\n<li>関連記事取得処理：<a href=\"https://github.com/Takumon/blog/blob/master/gatsby-related-post.js\">blog/gatsby-related-post.js at master · Takumon/blog</a></li>\n<li>関連記事取得処理の呼び出し：<a href=\"https://github.com/Takumon/blog/blob/master/gatsby-node.js#L107\">blog/gatsby-node.js at master · Takumon/blog</a></li>\n</ul>\n<p>実際には<code class=\"language-text\">gatsby-node.js</code>で以下のよう使います。\nページコンポーネントのコンテキストに関連記事ノードの配列を指定しています。</p>\n<div class=\"gatsby-code-title\">gatsby-node.js</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> relatedPost <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./gatsby-related-post'</span><span class=\"token punctuation\">)</span>\n\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// ・・・</span>\n\n  <span class=\"token comment\">// 関連記事取得</span>\n  <span class=\"token keyword\">const</span> relatedPosts <span class=\"token operator\">=</span> relatedPost<span class=\"token punctuation\">.</span><span class=\"token function\">extractRelatedPosts</span><span class=\"token punctuation\">(</span>\n    allPostNodes<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 全記事のノード配列</span>\n    node<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 対象の記事のノード</span>\n    relatedPost<span class=\"token punctuation\">.</span>defaultConfig <span class=\"token comment\">// 設定</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// この例では上位5件に絞っています</span>\n\n  <span class=\"token comment\">// 記事ページを生成</span>\n  actions<span class=\"token punctuation\">.</span><span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ・・・</span>\n    context<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ・・・</span>\n      relatedPosts<span class=\"token punctuation\">,</span> <span class=\"token comment\">// コンテキストに関連記事のノード配列を指定</span>\n      <span class=\"token comment\">// ・・・</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// ・・・</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>これで、関連記事ノード配列が記事コンポーネントで扱えるようになります。あとはよしなり画面に表示すればOKです。</p>\n<h2 id=\"関連記事機能の設定のコツ\"><a href=\"#%E9%96%A2%E9%80%A3%E8%A8%98%E4%BA%8B%E6%A9%9F%E8%83%BD%E3%81%AE%E8%A8%AD%E5%AE%9A%E3%81%AE%E3%82%B3%E3%83%84\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関連記事機能の設定のコツ</h2>\n<p>設定値のチューニングは少しコツがあります。\n<strong>設定値に必ずタグやキーワードよりも小さいweigthを持った索引を指定しましょう。</strong></p>\n<p>Hugoにおいて関連記事が閾値以上か判定している箇所は<a href=\"https://github.com/gohugoio/hugo/blob/master/related/inverted_index.go#L369-L375\">ココ</a>です。この中で呼ばれている<a href=\"https://github.com/gohugoio/hugo/blob/master/related/inverted_index.go#L390-L395\">norm関数</a>を見るとわかるのですが、このロジックだと、設定で指定した最小Weihtの索引がどれだけ一致していても関連記事とはみなされません。</p>\n<p>今回はこのロジックをそのまま移植しているので、Hugoと同様に以下のような設定だとどれだけタグが一致しても関連記事とはみなされないことになります。</p>\n<div class=\"gatsby-code-title\">🙅🏻‍♂️ダメな設定例</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> relatedContentConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  threshold<span class=\"token punctuation\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n  includeNewer<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  toLower<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  indices<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token string\">'keywords'</span><span class=\"token punctuation\">,</span>\n      weight<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token string\">'tags'</span><span class=\"token punctuation\">,</span>\n      weight<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>必ずtagsやkeywordsよりも低いweigthの索引を指定してあげましょう。</p>\n<div class=\"gatsby-code-title\">🙆🏻‍♂️良い設定例</div>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> relatedContentConfig <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  threshold<span class=\"token punctuation\">:</span> <span class=\"token number\">80</span><span class=\"token punctuation\">,</span>\n  includeNewer<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  toLower<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n  indices<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token string\">'keywords'</span><span class=\"token punctuation\">,</span>\n      weight<span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      name<span class=\"token punctuation\">:</span> <span class=\"token string\">'tags'</span><span class=\"token punctuation\">,</span>\n      weight<span class=\"token punctuation\">:</span> <span class=\"token number\">50</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">      name<span class=\"token punctuation\">:</span> <span class=\"token string\">'date'</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      weight<span class=\"token punctuation\">:</span> <span class=\"token number\">10</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>          \n</span>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>単純なロジックですが、タグとキーワードを見直すことで、それなりに満足のいく関連記事機能となりました。\nプラグイン化は、自分のブログ依存の処理（frontmatterの取得方法、ソートキー固定）を汎用化する必要があって少しめんどくさいので、時間があればやりたいくらいの気持ちです。\n今回は関連記事を表示するだけでしたが、関連度の情報を使って、記事の関連度マップを作ると面白そうなので、次回は記事関連度マップを作ろうと思います🍅</p>","headingsDetail":[{"id":"なにこれ","value":"なにこれ","depth":2,"parents":[]},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2,"parents":[]},{"id":"インターフェース","value":"インターフェース","depth":3,"parents":[{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"related-page","value":".Related PAGE","depth":4,"parents":[{"id":"インターフェース","value":"インターフェース","depth":3},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"relatedindices-page-indice1-indice2-","value":".RelatedIndices PAGE INDICE1 INDICE2 …","depth":4,"parents":[{"id":"インターフェース","value":"インターフェース","depth":3},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"relatedto-keyvals-keyvals2-","value":".RelatedTo KEYVALS KEYVALS2 …","depth":4,"parents":[{"id":"インターフェース","value":"インターフェース","depth":3},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"設定方法","value":"設定方法","depth":3,"parents":[{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"threshold","value":"threshold","depth":4,"parents":[{"id":"設定方法","value":"設定方法","depth":3},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"includenewer","value":"includeNewer","depth":4,"parents":[{"id":"設定方法","value":"設定方法","depth":3},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"tolower","value":"toLower","depth":4,"parents":[{"id":"設定方法","value":"設定方法","depth":3},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"indices","value":"indices","depth":4,"parents":[{"id":"設定方法","value":"設定方法","depth":3},{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"参考","value":"参考","depth":3,"parents":[{"id":"hugoの関連記事機能","value":"Hugoの関連記事機能","depth":2}]},{"id":"関連記事表示イメージ","value":"関連記事表示イメージ","depth":2,"parents":[]},{"id":"関連記事機能使用にあたりマークダウンのfront-matterにキーワードを追加した","value":"関連記事機能使用にあたりマークダウンのFront Matterにキーワードを追加した","depth":2,"parents":[]},{"id":"関連記事機能の使い方","value":"関連記事機能の使い方","depth":2,"parents":[]},{"id":"関連記事機能の設定のコツ","value":"関連記事機能の設定のコツ","depth":2,"parents":[]},{"id":"まとめ","value":"まとめ","depth":2,"parents":[]}],"fields":{"title":"GatsbyでRelated Content(関連記事)を表示する / Hugoの関連記事機能をGatsbyに移植した","excerpt":"なにこれブログでよく見かけるUIのひとつに関連記事リンクあります。記事下部に関連記事リンクを設けておくと、記事を読み終えたユーザーが、また別の記事を見てくれる可能性が上がるので、回遊率向上という観点で非常に効果的なUIです。そんな関連記事リ...","date":"2019-02-09T17:00:00.000+09:00","tags":["Gatsby","Hugo","golang"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}}},"pageContext":{"slug":"/gatsby-related-posts-like-hugo","relatedPosts":[{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyショーケースに自分のWebサイトを登録する方法","date":"2019-01-15T22:00:00.000+09:00","excerpt":"なにこれGatsbyの公式サイトにはショーケースなるものがあって、世の中に公開されているGatsby製のWebサイトを一覧で見ることができます。実はこのショーケース、けっこう簡単に自分のWebサイトを登録できるということに最近気づきました。...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeを使ってみる","date":"2018-11-24T23:40:00.000+09:00","excerpt":"なにこれ下記の記事を読んで、実験的に追加されたGatsby themeで何ができるのかサンプル作って試してみました。そのときのメモです。Gatsby themeはどんな問題を解決してくれるかGatsbyはスキャフォールド機能があって初期導入...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},{"fields":{"slug":"/2018/10/14/","title":"Gatsbyにおけるコンポーネント分割とCSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"なにこれGatsbyでブログを作っていて、機能拡張とともにテンプレートが肥大化してきたので、下記図の青枠単位でコンポーネント分割しました。あわせてCSS Moduleも採用しました。そのときのメモです。CSSをコンポーネントスコープにする方...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},{"fields":{"slug":"/2018/10/12/","title":"Gatsby2系の新機能","date":"2018-10-12T12:00:00.000Z","excerpt":"なにこれGatsby（React製の静的サイトジェネレーター）が2018年9月に2系にアップデートしたそうです。2系の新機能について、公式ブログ(Announcing Gatsby 2.0.0)を参考に、主要な部分をピックアップして紹介しま...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},{"fields":{"slug":"/2018/10/08/","title":"GatsbyでPWA対応","date":"2018-10-08T12:00:00.000Z","excerpt":"なにこれスマホでネイティブアプリっぽいUXを実現するため、GatsbyでPWA対応した時のメモです。以下の4つが可能になりました。前提ServiceWorkerを利用するため、SSL化が必須です。そのためブログはhttpsでアクセスできるよ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}}],"latestPosts":[{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"VuetifyのDataTableとPaginationの状態をVuexで管理する","date":"2019-04-28T20:30:00.000+09:00","excerpt":"なにこれVuetifyのDataTableとPaginationを使った検索一覧画面でページングの状態を、ルーティングをまたいで保存しておきたい。という要望を満たすため、ページングの状態をVuexで管理する方法をメモします。DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"VuetifyのSnackbarで複数メッセージ表示する方法","date":"2019-04-21T21:30:00.000+09:00","excerpt":"なにこれVuetifyのSnackbarはメッセージを1つしか表示できません。こちらGitHubでもissueになっています。ただUIとしてはメッセージを複数表示できたほうが便利なので、今回はVuetifyのSnackbarをベースにメッセ...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncにおいてリゾルバーでユーザのカスタム属性を取得する方法","date":"2019-04-13T07:14:40.000+09:00","excerpt":"なにこれAppSync + Cognitoにおける認可制御について以前の記事で説明しました。今回は、ユーザーのカスタム属性を使った認可制御（AppSyncのリゾルバーでカスタム属性を取得する方法）についてご紹介します。TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nでカスタムバリデーション作成時にロケールごとのエラーメッセージを設定する方法","date":"2019-04-07T14:10:00.000+09:00","excerpt":"なにこれVuetify + VeeValidateで入力チェックする際に、VueI18nを使ってエラーメッセージを多言語対応・共通化する場合に、カスタムバリデーションのエラーメッセージをロケールごとに設定する方法について紹介します。実装方法...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},{"fields":{"slug":"/vuetify-select-tag","title":"VuetifyでSelectタグを使う時の注意点","date":"2019-03-24T23:55:00.000+09:00","excerpt":"なにこれ最近Vue.jsのマテリアルデザインのUIフレームワーク「Vuetify」を使っています。とても便利で、管理アプリのようにデザインにこだわる必要がなければ、CSSをほとんど書かずに済むくらいコンポーネントが充実しています。ただSel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}}],"previous":{"fields":{"slug":"/mdx-deck-and-code-surfer","title":"WEBエンジニア勉強会 初LT感想と参加レポート / 「MDX-DeckとCode Surferでスライドを作ろう！」補足情報","date":"2019-02-03T17:15:00.000+09:00","excerpt":"なにこれ2019/2/1(金)、WEBエンジニア勉強会 #11でLTしてきました。本記事では自分のLTスライドと、10分の枠では伝えきれなかった補足情報を紹介します。また他の方のLTの様子や、勉強会の雰囲気なども参加レポートとして書いていま...","tags":["勉強会","LT","mdx-deck","mdx","code-surfer","markdown","プレゼン","スライド"],"keywords":["mdx-deck"],"thumbnail":"/thumbnail/2019/02/mdx-deck-and-code-surfer.png"}},"next":{"fields":{"slug":"/nuxt-apollo-with-graphpack","title":"Nuxt.js＋Apollo ClientでCRUD操作 / ユーザー管理画面でQuery, Mutation, Subscriptionを実装","date":"2019-02-12T07:00:00.000+09:00","excerpt":"なにこれ以前の記事設定いらずのNode製GraphQLサーバー「Graphpack」の使い方でGraphQLのサーバー側を実装を紹介しました。Graphpackは備え付けのGraphQL Playground IDEで動作確認できますが、せ...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/nuxt-apollo-with-graphpack.png"}}}}