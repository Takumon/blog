{"data":{"site":{"siteMetadata":{"title":"Takumon Blog","author":"Takuto Inoue"}},"markdownRemark":{"html":"<p><img src=\"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png\" alt=\"mutliple-validation-errors-in-aws-appsync\"></p>\n<h2 id=\"ãªã«ã“ã‚Œ\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ãªã«ã“ã‚Œ</h2>\n<p>AppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§DynamoDBã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€æ›´æ–°å‡¦ç†ã®å‰ã«å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã¯å¿…ãšå®Ÿæ–½ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nã“ã®æ™‚ã€å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ãŸæ™‚ç‚¹ã§1ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã‚Šã€\nã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯å®Ÿæ–½å¾Œã«ã¾ã¨ã‚ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã—ã¦ã‚ã’ãŸã»ã†ãŒã€AppSyncã®å‘¼ã³å‡ºã—å´ã¨ã—ã¦ã¯åŠ©ã‹ã‚Šã¾ã™ã€‚\nãŸã ã€ã“ã®ã‚„ã‚Šæ–¹ã¯èª¿ã¹ã¦ã‚‚ã‚ã¾ã‚Šå‡ºã¦ãã¾ã›ã‚“ã§ã—ãŸã€‚ãã®ãŸã‚æœ¬è¨˜äº‹ã§ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n<h2 id=\"çµè«–\"><a href=\"#%E7%B5%90%E8%AB%96\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>çµè«–</h2>\n<p>ãŸã¨ãˆã°ã€äºº(IDã€åå‰ã€çµ„ç¹”å)ã‚’æ›´æ–°ã™ã‚‹å ´åˆ</p>\n<div class=\"gatsby-code-title\">äºº(IDã€åå‰ã€çµ„ç¹”å)ã‚’æ›´æ–°ã™ã‚‹mutation</div>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">mutation</span> <span class=\"token punctuation\">{</span>\n  updatePerson <span class=\"token punctuation\">(</span><span class=\"token attr-name\">input</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    id\n    name\n    organizationName\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n    person <span class=\"token punctuation\">{</span>\n      id\n      name\n      organizationName\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒãƒƒãƒ”ãƒ³ã‚°ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®VTLã‚’è¨˜è¿°ã—ã¾ã™ã€‚</p>\n<div class=\"gatsby-code-title\">è¤‡æ•°ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™VTL</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\"><span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrBlank</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span></span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åå‰ã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span>\n</span><span class=\"token directive\"><span class=\"token keyword\">#end</span></span> \n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>)\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åå‰ã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span>\n</span><span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n\n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrBlank</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span></span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çµ„ç¹”åã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"organizationName\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span>\n</span><span class=\"token directive\"><span class=\"token keyword\">#end</span></span> \n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>)\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çµ„ç¹”åã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"organizationName\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span>\n</span><span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>outErrors<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token directive\"><span class=\"token keyword\">#return</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>outErrors</span><span class=\"token punctuation\">)</span></span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n</span>\n{\n  \"operation\" : \"PutItem\",\n  \"key\" : {\n    \"id\" : { \"S\" : \"<span class=\"token variable\">$<span class=\"token punctuation\">{</span>ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">}</span></span>\" }\n  },\n  \"condition\" : {\n    \"expression\" : \"attribute_exists(id)\"\n  },\n  \"attributeValues\" : <span class=\"token variable\">$util<span class=\"token punctuation\">.</span>dynamodb<span class=\"token punctuation\">.</span><span class=\"token function\">toMapValuesJson</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">)</span></span>\n}</code></pre></div>\n<br/>\n<h2 id=\"å®Ÿéš›ã©ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚‹ã‹\"><a href=\"#%E5%AE%9F%E9%9A%9B%E3%81%A9%E3%81%AE%E3%82%88%E3%81%86%E3%81%AA%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%8C%E8%BF%94%E3%81%A3%E3%81%A6%E3%81%8F%E3%82%8B%E3%81%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>å®Ÿéš›ã©ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚‹ã‹</h2>\n<p>ä»¥ä¸‹ã®mutationã‚’ç™ºè¡Œã—ã¦ã¿ã‚‹ã¨...</p>\n<div class=\"gatsby-code-title\">è¤‡æ•°ã®å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã‚ˆã†ãªmutation</div>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">mutation</span> <span class=\"token punctuation\">{</span>\n  updatePerson<span class=\"token punctuation\">(</span><span class=\"token attr-name\">input</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"1234\"</span>\n    <span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰\"</span>\n    <span class=\"token attr-name\">organizationName</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”åã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”åã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”åã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”å\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    person <span class=\"token punctuation\">{</span>\n      id\n      name\n      organizationName\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>  \n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<p>è¤‡æ•°ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å«ã‚€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã¾ã™ï¼</p>\n<div class=\"gatsby-code-title\">è¤‡æ•°ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å«ã‚€ãƒ¬ã‚¹ãƒãƒ³ã‚¹</div>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"data\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"updatePerson\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token string\">\"person\"</span><span class=\"token punctuation\">:</span> null\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"errors\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token string\">\"updatePerson\"</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"data\"</span><span class=\"token punctuation\">:</span> null<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"errorType\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"errorInfo\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®åå‰\"</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"locations\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token string\">\"line\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token string\">\"column\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token string\">\"sourceName\"</span><span class=\"token punctuation\">:</span> null\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">}</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"message\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"åå‰ã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span>\n</span>    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"path\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token string\">\"updatePerson\"</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"data\"</span><span class=\"token punctuation\">:</span> null<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"errorType\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"organizationName\"</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"errorInfo\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"ã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”åã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”åã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”åã‚ãã‚‰ã‹ã«æ–‡å­—æ•°ã‚ªãƒ¼ãƒãƒ¼ã®çµ„ç¹”å\"</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"locations\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token string\">\"line\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">2</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token string\">\"column\"</span><span class=\"token punctuation\">:</span> <span class=\"token number\">3</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token string\">\"sourceName\"</span><span class=\"token punctuation\">:</span> null\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">}</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token string\">\"message\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"çµ„ç¹”åã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span>\n</span>    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br/>\n<h2 id=\"çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤\"><a href=\"#%E7%B5%90%E8%AB%96%E3%81%AB%E8%87%B3%E3%82%8B%E3%81%BE%E3%81%A7%E3%81%AE%E8%A9%A6%E8%A1%8C%E9%8C%AF%E8%AA%A4\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤</h2>\n<p><a href=\"https://docs.aws.amazon.com/ja_jp/appsync/latest/devguide/resolver-util-reference.html\">AppSyncã®å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ</a>ã‚’è¦‹ã‚‹ã¨ã€<code class=\"language-text\">$util.appendError</code>ãŒä½¿ãˆãã†ã ã¨æ€ã£ãŸã®ã§ã™ãŒã€ã„ã–æ›¸ã“ã†ã¨ã™ã‚‹ã¨ã€ä»¥ä¸‹2ç‚¹ã«ã¤ã¾ã¥ãã¾ã—ãŸã€‚</p>\n<ol>\n<li>ã€Œ1ã¤ä»¥ä¸Šå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã€ã“ã¨ã‚’ã©ã†ã‚„ã£ã¦åˆ¤å®šã™ã‚‹ã®ã‹</li>\n<li>è¤‡æ•°ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ã©ã†ã‚„ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã™ã®ã‹</li>\n</ol>\n<h3 id=\"1-ã€Œ1ã¤ä»¥ä¸Šå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã€ã“ã¨ã‚’ã©ã†ã‚„ã£ã¦åˆ¤å®šã™ã‚‹ã®ã‹\"><a href=\"#1-%E3%80%8C1%E3%81%A4%E4%BB%A5%E4%B8%8A%E5%85%A5%E5%8A%9B%E3%83%81%E3%82%A7%E3%83%83%E3%82%AF%E3%82%A8%E3%83%A9%E3%83%BC%E3%81%8C%E3%81%82%E3%82%8B%E3%80%8D%E3%81%93%E3%81%A8%E3%82%92%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E5%88%A4%E5%AE%9A%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. ã€Œ1ã¤ä»¥ä¸Šå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã€ã“ã¨ã‚’ã©ã†ã‚„ã£ã¦åˆ¤å®šã™ã‚‹ã®ã‹</h3>\n<p>æœ€åˆã«è€ƒãˆãŸã®ã¯ã€<code class=\"language-text\">#set($valid=true)</code>ã®ã‚ˆã†ã«ãƒ•ãƒ©ã‚°ã§åˆ¤æ–­ã™ã‚‹æ–¹æ³•ã§ã™ã€‚</p>\n<div class=\"gatsby-code-title\">validãƒ•ãƒ©ã‚°ã§åˆ¤å®šã™ã‚‹æ–¹æ³•</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\"><span class=\"gatsby-highlight-code-line\"><span class=\"token velocity-comment comment\">## äº‹å‰ã«ãƒ•ãƒ©ã‚°ã‚’å®šç¾©ã—ã¦ãŠã</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token directive\"><span class=\"token keyword\">#set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$valid</span> <span class=\"token operator\">=</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">)</span></span>\n</span>\n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrBlank</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span></span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token velocity-comment comment\">## ãƒã‚§ãƒƒã‚¯NGã®å ´åˆã¯ãƒ•ãƒ©ã‚°ã‚’æ›´æ–°</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token directive\"><span class=\"token keyword\">#set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$valid</span><span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span></span>\n</span>  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åå‰ã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span> \n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>)\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token directive\"><span class=\"token keyword\">#set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$valid</span><span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span></span>\n</span>  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åå‰ã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n\n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrBlank</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span></span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token directive\"><span class=\"token keyword\">#set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$valid</span><span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span></span>\n</span>  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çµ„ç¹”åã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"organizationName\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span> \n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>)\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token directive\"><span class=\"token keyword\">#set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$valid</span><span class=\"token operator\">=</span><span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span></span>\n</span>  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çµ„ç¹”åã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"organizationName\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$valid</span> <span class=\"token operator\">==</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span></span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token velocity-comment comment\">## ç•°å¸¸æ™‚ã®å‡¦ç†</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n</span></code></pre></div>\n<br/>\n<p>ãŸã ã“ã‚Œã ã¨è¨˜è¿°ãŒå†—é•·ã§ã™ã€‚<br/>\nappendErrorã—ãŸã‚¨ãƒ©ãƒ¼ã¯ã©ã“ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã®ã‹ï¼Ÿ<br/>\n<code class=\"language-text\">$util.error($util.toJson($context))</code>ã‚’ã—ã¦<code class=\"language-text\">$context</code>ã®ä¸­èº«ã‚’ç¢ºèªã—ã¦ã¿ã‚‹ã¨ã€\nã©ã†ã‚„ã‚‰<code class=\"language-text\">$context.outErrors</code>ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚<br/>\nãã‚Œã‚’è¸ã¾ãˆã¦å‡¦ç†ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã—ã¾ã—ãŸã€‚</p>\n<div class=\"gatsby-code-title\">validãƒ•ãƒ©ã‚°ã‚’ä½¿ã‚ãšã«åˆ¤å®šã™ã‚‹æ–¹æ³•</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\"><span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrBlank</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span></span>\n  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åå‰ã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span> \n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>)\n  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"åå‰ã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n\n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">isNullOrBlank</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span><span class=\"token punctuation\">)</span></span>\n  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çµ„ç¹”åã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"organizationName\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span> \n<span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">.</span><span class=\"token function\">length</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">30</span><span class=\"token punctuation\">)</span></span>)\n  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">appendError</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"çµ„ç¹”åã¯30æ–‡å­—ä»¥ä¸‹ã§å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"organizationName\"</span><span class=\"token punctuation\">,</span> null<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>input<span class=\"token punctuation\">.</span>organizationName<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>outErrors<span class=\"token punctuation\">.</span><span class=\"token function\">size</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></span> <span class=\"token operator\">></span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token velocity-comment comment\">## ç•°å¸¸æ™‚ã®å‡¦ç†</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n</span></code></pre></div>\n<br/>\n<h3 id=\"2-è¤‡æ•°ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ã©ã†ã‚„ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã™ã®ã‹\"><a href=\"#2-%E8%A4%87%E6%95%B0%E3%82%A8%E3%83%A9%E3%83%BC%E6%83%85%E5%A0%B1%E3%82%92%E3%81%A9%E3%81%86%E3%82%84%E3%81%A3%E3%81%A6%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%A8%E3%81%97%E3%81%A6%E8%BF%94%E3%81%99%E3%81%AE%E3%81%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. è¤‡æ•°ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ã©ã†ã‚„ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã™ã®ã‹</h3>\n<p><code class=\"language-text\">$util.appendError</code>ã¯ã‚¨ãƒ©ãƒ¼ã‚’è¿½åŠ ã—ã¦ãã‚Œã‚‹ã ã‘ã§ã™ã€‚<code class=\"language-text\">$util.error</code>ã¯1ã¤ã®ã‚¨ãƒ©ãƒ¼æƒ…å ±ã—ã‹è¿”ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br/>\nè©¦è¡ŒéŒ¯èª¤ã—ãŸçµæœã€<code class=\"language-text\">#return</code>ã§è¿”ã›ãã†ã ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚<br/>\n1ã®èª¿æŸ»çµæœã«ã‚ˆã‚Š<code class=\"language-text\">$util.appendError</code>ã§è©°ã‚ãŸã‚¨ãƒ©ãƒ¼æƒ…å ±ã¯<code class=\"language-text\">$ctx.outErrors</code>ã«æ ¼ç´ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒã‚ã‹ã£ã¦ã„ãŸã®ã§ã€\nãã‚Œã‚‰è¸ã¾ãˆã¦ä»¥ä¸‹ã®ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>\n<div class=\"gatsby-code-title\">ã‚¨ãƒ©ãƒ¼æ™‚ã«è¤‡æ•°ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã«ã¯returnã‚’ä½¿ã†</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\">  <span class=\"token directive\"><span class=\"token keyword\">#return</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>outErrors</span><span class=\"token punctuation\">)</span></span></code></pre></div>\n<br/>\n<h2 id=\"ã¾ã¨ã‚\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ã¾ã¨ã‚</h2>\n<p>VLTã¯çµæ§‹ã‚ã‚“ã©ãã•ã„ã§ã™ãŒã€ã¡ã‚‡ã£ã¨ãšã¤æ…£ã‚Œã¦ãã¾ã—ãŸã€‚\nã‚°ã‚°ã£ã¦ã‚‚AppSyncã®VTLç³»ã®æƒ…å ±ã¯ã€ã¾ã ã‚ã¾ã‚Šè¦‹ã‹ã‘ã¾ã›ã‚“ã€‚ãã®ãŸã‚ä»Šå¾Œã‚‚ãƒã‚¦ãƒã‚¦ãŒãŸã¾ã£ãŸã‚‰è¨˜äº‹ã‚’æ›¸ãã¾ã™ğŸ…</p>","headingsDetail":[{"id":"ãªã«ã“ã‚Œ","value":"ãªã«ã“ã‚Œ","depth":2,"parents":[]},{"id":"çµè«–","value":"çµè«–","depth":2,"parents":[]},{"id":"å®Ÿéš›ã©ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚‹ã‹","value":"å®Ÿéš›ã©ã®ã‚ˆã†ãªãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒè¿”ã£ã¦ãã‚‹ã‹","depth":2,"parents":[]},{"id":"çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤","value":"çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤","depth":2,"parents":[]},{"id":"1-ã€Œ1ã¤ä»¥ä¸Šå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã€ã“ã¨ã‚’ã©ã†ã‚„ã£ã¦åˆ¤å®šã™ã‚‹ã®ã‹","value":"1. ã€Œ1ã¤ä»¥ä¸Šå…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ãŒã‚ã‚‹ã€ã“ã¨ã‚’ã©ã†ã‚„ã£ã¦åˆ¤å®šã™ã‚‹ã®ã‹","depth":3,"parents":[{"id":"çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤","value":"çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤","depth":2}]},{"id":"2-è¤‡æ•°ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ã©ã†ã‚„ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã™ã®ã‹","value":"2. è¤‡æ•°ã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’ã©ã†ã‚„ã£ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã¨ã—ã¦è¿”ã™ã®ã‹","depth":3,"parents":[{"id":"çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤","value":"çµè«–ã«è‡³ã‚‹ã¾ã§ã®è©¦è¡ŒéŒ¯èª¤","depth":2}]},{"id":"ã¾ã¨ã‚","value":"ã¾ã¨ã‚","depth":2,"parents":[]}],"fields":{"title":"AWS AppSyncã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¤‡æ•°è¿”ã™æ–¹æ³•","excerpt":"ãªã«ã“ã‚ŒAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§DynamoDBã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€æ›´æ–°å‡¦ç†ã®å‰ã«å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã¯å¿…ãšå®Ÿæ–½ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®æ™‚ã€å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ãŸæ™‚ç‚¹ã§1ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯å®Ÿæ–½å¾Œã«ã¾ã¨ã‚ã¦ã‚¨ãƒ©...","date":"2019-02-26T07:30:00.000+09:00","tags":["AppSync","AWS","GraphQL"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}}},"pageContext":{"slug":"/mutliple-validation-errors-in-aws-appsync","relatedPosts":[{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkã«ã‚ˆã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆç®¡ç†","date":"2019-03-04T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã¯GUIã§ç°¡å˜ã«è¨­å®šãŒã§ãã¦ä¾¿åˆ©ã§ã™ãŒã€æœ¬æ ¼çš„ã«é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¨GUIãƒãƒãƒãƒã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã®ã¯ã¤ã‚‰ããªã£ã¦ãã¾ã™ã€‚Serverless Frameworkã¨ã„ã†...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}},{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncã«ãŠã„ã¦ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2019-04-13T07:14:40.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSync + Cognitoã«ãŠã‘ã‚‹èªå¯åˆ¶å¾¡ã«ã¤ã„ã¦ä»¥å‰ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ä½¿ã£ãŸèªå¯åˆ¶å¾¡ï¼ˆAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼‰ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},{"fields":{"slug":"/aws-appsync-auth-with-cognito","title":"AppSync + Cognitoã«ã‚ˆã‚‹èªå¯åˆ¶å¾¡","date":"2019-03-17T17:45:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã¯Cognitoã¨é€£æºã—ã¦èªå¯åˆ¶å¾¡ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ãã®ã‚„ã‚Šæ–¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚ã–ã£ãã‚Šã„ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ãŒå®Ÿç¾å¯èƒ½ã§ã™ã€‚âœ¨ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã«ãŠã‘ã‚‹Queryã‚„Mutationã”ã¨ã®èªå¯åˆ¶å¾¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ğŸ’...","tags":["AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/03/aws-appsync-auth-with-cognito.png"}}],"latestPosts":[{"fields":{"slug":"/wordcloud-with-kuromoji-d3cloud-react","title":"React + kuromoji.js + D3-Cloudã§WordCloudã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«æç”»","date":"2019-05-04T12:40:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒWordCloudã‚’JSã ã‘ã§ç”Ÿæˆã—ãŸã„ã€‚Pythonã¨ã‹ä½¿ã‚ãšã«ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã ã‘ã§ã‚„ã‚ŠãŸã„ã€‚ã¨ã„ã†ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã§ã€kuromoji.jsã¨D3-Cloudã‚’ä½¿ã£ã¦æ–‡å­—åˆ—ã‚’ã‚¤ãƒ³ãƒ—ãƒƒãƒˆã«WordCloudã‚’æç”»ã™ã‚‹Reactã‚¢ãƒ—ãƒª...","tags":["React","kuromoji.js","d3.js","d3Cloud","å½¢æ…‹ç´ è§£æ","WordCloud"],"keywords":["React"],"thumbnail":"/thumbnail/2019/05/wordcloud-with-kuromoji-d3cloud-react.png"}},{"fields":{"slug":"/posts-relation-map-with-cytoscape-in-gatsby","title":"Gatsbyã§Cytoscape.jsã‚’ä½¿ã£ã¦è¨˜äº‹é–¢é€£ãƒãƒƒãƒ—ã‚’ä½œã£ãŸ","date":"2019-05-01T18:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä»¥å‰ã®è¨˜äº‹ã§ç´¹ä»‹ã—ãŸã‚¿ã‚°ã¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‹ã‚‰é–¢é€£è¨˜äº‹ã‚’ç®—å‡ºã™ã‚‹ãƒ­ã‚¸ãƒƒã‚¯ã¨ã€Cytoscape.jsã‚’ç”¨ã„ã¦è¨˜äº‹ã®é–¢é€£æƒ…å ±ã‚’è¦–è¦šçš„ã«ç¢ºèªã§ãã‚‹ãƒãƒƒãƒ—ã‚’ä½œã‚Šã¾ã—ãŸã€‚ä»Šå›ã¯ãã®ãƒãƒƒãƒ—ã®ç´¹ä»‹ã¨Cytoscape.jsã‚’ä½¿ã£ã¦ã¿ãŸæ„Ÿæƒ³ã§ã™ã€‚è¨˜äº‹é–¢...","tags":["Gatsby","Cytoscape.js"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/05/posts-relation-map-with-cytoscape-in-gatsby.png"}},{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"Vuetifyã®DataTableã¨Paginationã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹","date":"2019-04-28T20:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®DataTableã¨Paginationã‚’ä½¿ã£ãŸæ¤œç´¢ä¸€è¦§ç”»é¢ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ãŸã„ã§ä¿å­˜ã—ã¦ãŠããŸã„ã€‚ã¨ã„ã†è¦æœ›ã‚’æº€ãŸã™ãŸã‚ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"Vuetifyã®Snackbarã§è¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã™ã‚‹æ–¹æ³•","date":"2019-04-21T21:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®Snackbarã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã—ã‹è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚ã“ã¡ã‚‰GitHubã§ã‚‚issueã«ãªã£ã¦ã„ã¾ã™ã€‚ãŸã UIã¨ã—ã¦ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°è¡¨ç¤ºã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ä»Šå›ã¯Vuetifyã®Snackbarã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncã«ãŠã„ã¦ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2019-04-13T07:14:40.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSync + Cognitoã«ãŠã‘ã‚‹èªå¯åˆ¶å¾¡ã«ã¤ã„ã¦ä»¥å‰ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ä½¿ã£ãŸèªå¯åˆ¶å¾¡ï¼ˆAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼‰ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}}],"previous":{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nã‚’scriptã‚¿ã‚°ã‚„JSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ã†æ–¹æ³•","date":"2019-02-21T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVueI18nã¯Vue.jsã®å¤šè¨€èªå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚vueãƒ•ã‚¡ã‚¤ãƒ«ã®templateã‚¿ã‚°ã§ã¯ã€&#x3C;p>{{$t('message.hello')}}&#x3C;/p>ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ãŸã vueãƒ•ã‚¡ã‚¤ãƒ«ã®scriptã‚¿ã‚°...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},"next":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±é€šåŒ–","date":"2019-03-02T12:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®šç¾©æ–¹æ³•VeeValidateVeeValidateã§ã‚ã‚‰ã‹ã˜ã‚è¨€èªæ¯ã«ã‚¨ãƒ©ãƒ¼ãƒ¡...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}}}}