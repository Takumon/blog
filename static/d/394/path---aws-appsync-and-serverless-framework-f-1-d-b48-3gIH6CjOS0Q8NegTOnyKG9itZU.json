{"data":{"site":{"siteMetadata":{"title":"Takumon Blog","author":"Takuto Inoue"}},"markdownRemark":{"html":"<p><img src=\"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png\" alt=\"aws-appsync-and-serverless-framework\"></p>\n<h2 id=\"なにこれ\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>AWSのGraphQLマネージドサービス「<a href=\"https://aws.amazon.com/jp/appsync/\">AppSync</a>」はGUIで簡単に設定ができて便利ですが、\n本格的に開発を進めていくとGUIポチポチでソースコードを管理するのはつらくなってきます。\n<strong><a href=\"https://serverless.com/\">Serverless Framework</a>というツールと<a href=\"https://github.com/sid88in/serverless-appsync-plugin\">serverless-appsync-plugin</a>（Serverless Frameworkのプラグイン）を使うと、AppSyncの設定をymlファイルで管理し、CLIでAWS上にデプロイできるので、GitHub等で構成管理が可能になります。</strong>\n今回はAppSyncからDynamoDBのユーザー情報を1件取得する場合を例にしてAppSync + Serverless Frameworkの使い方をご紹介します。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b4e940dd98c7ab5be67d93e353ffd018/bf025/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 27.04186684969115%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABcRAAAXEQHKJvM/AAABOUlEQVQY012PvU7DQAzH8xLwQuwdmVh4ERbUhVfgY+ABWBgQLMwIUEWhLbS95tK4adLQpvm4JJc7n7lmQAJLP/kv27L/djjn90QUK6XmFmiaBogMGGNavaOqqjZLKS11S13XgFpBWTWwLSQY1Is8z5kDAG9aa9okCQkhyBgiz5uT7wMphbSLLMvJDtP/yERNh6c3dHByR+9+aiuoHMbYi4UAfDUafeLMX2Pvg+Frf4LM6kW4xvGYoet6GKxShFWBPEgQwhSfh3Pc63Rx/+gKrx8n1ooRThAse4PBiM4vLs1kykhbU0Uh7IEFxXFM9lUKlhGFkdVKt27DMCKPc8pFRcdnt9TpPlCfJ3afrp2Z6z2lJdL3tq4yoaSopLTefynKRg5ZJL94bPXfXrwRcgZbOfWT2oWNLMsq/QGLmW71JK3q7AAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"image\"\n        title=\"\"\n        src=\"/static/b4e940dd98c7ab5be67d93e353ffd018/fb8a0/image.png\"\n        srcset=\"/static/b4e940dd98c7ab5be67d93e353ffd018/1a291/image.png 148w,\n/static/b4e940dd98c7ab5be67d93e353ffd018/2bc4a/image.png 295w,\n/static/b4e940dd98c7ab5be67d93e353ffd018/fb8a0/image.png 590w,\n/static/b4e940dd98c7ab5be67d93e353ffd018/526de/image.png 885w,\n/static/b4e940dd98c7ab5be67d93e353ffd018/fa2eb/image.png 1180w,\n/static/b4e940dd98c7ab5be67d93e353ffd018/08f6a/image.png 1770w,\n/static/b4e940dd98c7ab5be67d93e353ffd018/bf025/image.png 2914w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<ol>\n<li><a href=\"#1-serverless-framework%E3%81%AE%E8%A8%AD%E5%AE%9A\">🔰 Serverless Frameworkの設定</a></li>\n<li><a href=\"#2-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%81%B2%E3%81%AA%E5%9E%8B%E4%BD%9C%E6%88%90\">💪 プロジェクトのひな型作成</a></li>\n<li><a href=\"#3-%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BD%9C%E6%88%90\">📝 設定ファイル作成</a></li>\n<li><a href=\"#4-%E3%83%AA%E3%82%BE%E3%83%AB%E3%83%90%E3%83%BC%E4%BD%9C%E6%88%90\">💖 リゾルバー作成</a></li>\n<li><a href=\"#5-%E3%82%B9%E3%82%AD%E3%83%BC%E3%83%9E%E4%BD%9C%E6%88%90\">💎 スキーマ作成</a></li>\n<li><a href=\"#6-aws%E3%81%AB%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4\">🎊 AWSにデプロイ</a></li>\n</ol>\n<h2 id=\"1-serverless-frameworkの設定\"><a href=\"#1-serverless-framework%E3%81%AE%E8%A8%AD%E5%AE%9A\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. Serverless Frameworkの設定</h2>\n<ul>\n<li>Serverless Frameworkはnpmで提供されるCLIツールです。まずはnpmでインストールします。</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm i -g serverless</code></pre></div>\n<ul>\n<li>クレデンシャルを設定します（事前にIAMでユーザを作成しておいてください）</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">serverless config credentials --provider aws --key AKIAIOSFODNN7EXAMPLE --secret wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY</code></pre></div>\n<p><small>※詳細：<a href=\"https://serverless.com/framework/docs/providers/aws/guide/credentials#using-aws-profiles\">Serverless Framework - AWS Lambda Guide - Credentials</a></small></p>\n<h2 id=\"2-プロジェクトのひな型作成\"><a href=\"#2-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E3%81%B2%E3%81%AA%E5%9E%8B%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. プロジェクトのひな型作成</h2>\n<p>プロジェクトのひな型を作ります。\nServerless FrameworkでAppSync資産を扱えるように、<a href=\"https://github.com/sid88in/serverless-appsync-plugin\">serverless-appsync-plugin</a>と<a href=\"https://github.com/aws/aws-sdk-js\">aws-sdk</a>をインストールします。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">mkdir appsync-sample-with-serverless\ncd appsync-sample-with-serverless\nnpm init -y\nnpm i serverless-appsync-plugin aws-sdk</code></pre></div>\n<br/>\n<h2 id=\"3-設定ファイル作成\"><a href=\"#3-%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. 設定ファイル作成</h2>\n<p>プロジェクト直下にServerless Frameworkの設定ファイル<code class=\"language-text\">serverless.yml</code>を作ります。<br/>\n<small>※ここではserverless.ymlの全量を示して、次のセクションでブロックごとに詳細を説明します。</small></p>\n<div class=\"gatsby-code-title\">serverless.yml</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># サービス名</span>\n<span class=\"token key atrule\">service</span><span class=\"token punctuation\">:</span> appsync<span class=\"token punctuation\">-</span>sample<span class=\"token punctuation\">-</span>with<span class=\"token punctuation\">-</span>serverless\n<span class=\"token key atrule\">provider</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> aws\n  <span class=\"token comment\"># ステージ、デプロイ先を開発、運用などで分けたい場合はココを切り替えます</span>\n  <span class=\"token key atrule\">stage</span><span class=\"token punctuation\">:</span> production\n  <span class=\"token comment\"># デプロイ先のリージョンです</span>\n  <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n<span class=\"token comment\"># AppSyncのプラグインを指定します</span>\n<span class=\"token key atrule\">plugins</span><span class=\"token punctuation\">:</span>\n  <span class=\"token punctuation\">-</span> serverless<span class=\"token punctuation\">-</span>appsync<span class=\"token punctuation\">-</span>plugin\n<span class=\"token comment\"># プラグイン関連の設定はcustomで行います</span>\n<span class=\"token key atrule\">custom</span><span class=\"token punctuation\">:</span>\n  <span class=\"token comment\"># ここでAppSyncの設定を行います</span>\n  <span class=\"token key atrule\">appSync</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># エンドポイントの名前を指定します</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> appsync<span class=\"token punctuation\">-</span>serverless<span class=\"token punctuation\">-</span>sample\n    <span class=\"token comment\"># AppSyncの認証方法を指定します</span>\n    <span class=\"token comment\"># ここではCognitoによる認証方法を指定しています</span>\n    <span class=\"token key atrule\">authenticationType</span><span class=\"token punctuation\">:</span> AMAZON_COGNITO_USER_POOLS\n    <span class=\"token comment\"># Cogtnitoによる認証方法の場合、Cognito側の情報を指定する必要があります</span>\n    <span class=\"token key atrule\">userPoolConfig</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># Cognitoが存在するリージョンを指定します</span>\n      <span class=\"token comment\"># デフォルトだとproviderのregionで指定した値になります</span>\n      <span class=\"token key atrule\">awsRegion</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n      <span class=\"token comment\"># CognitoのユーザープールのIDを指定します</span>\n      <span class=\"token key atrule\">userPoolId</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span>1_U0e7zFRLQ\n      <span class=\"token comment\"># スキーマ定義で認証設定が記述されていない場合の挙動を指定します</span>\n      <span class=\"token comment\"># DENYを指定すると、認証されたいかなるユーザーも認可エラーに倒します</span>\n      <span class=\"token key atrule\">defaultAction</span><span class=\"token punctuation\">:</span> DENY\n    <span class=\"token comment\"># AppSyncのスキーマ定義ファイルのパスを指定します</span>\n    <span class=\"token comment\"># デフォルトだとschema.graphqlです</span>\n    <span class=\"token key atrule\">schema</span><span class=\"token punctuation\">:</span> schema.graphql\n    <span class=\"token comment\"># データソースを指定します(複数指定可能)</span>\n    <span class=\"token key atrule\">dataSources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># データソースの型を指定します</span>\n      <span class=\"token comment\"># 以下が指定できます</span>\n      <span class=\"token comment\"># AMAZON_DYNAMODB ・・・DynamoDB</span>\n      <span class=\"token comment\"># AMAZON_ELASTICSEARCH ・・・Elasticsearch</span>\n      <span class=\"token comment\"># AWS_LAMBDA ・・・Lambda関数</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> AMAZON_DYNAMODB\n        <span class=\"token comment\"># データソース名を指定します</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> dynamo_user\n        <span class=\"token comment\"># DynamoDBのテーブルの説明を指定します</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ユーザー情報テーブル'</span>\n        <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span>\n          <span class=\"token comment\"># 参照するテーブル名を指定します</span>\n          <span class=\"token key atrule\">tableName</span><span class=\"token punctuation\">:</span> dynamo_user\n          <span class=\"token comment\"># データソースのロールARNを指定します</span>\n          <span class=\"token key atrule\">serviceRoleArn</span><span class=\"token punctuation\">:</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>iam<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>999999999999<span class=\"token punctuation\">:</span>role/sample_role_arn\n          <span class=\"token comment\"># データソースのリージョンを指定します</span>\n          <span class=\"token comment\"># デフォルトだとproviderのregionで指定した値になります</span>\n          <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n    <span class=\"token comment\"># マッピングテンプレートのVTLファイルの格納先を指定します</span>\n    <span class=\"token comment\"># デフォルトはmapping-templatesです</span>\n    <span class=\"token key atrule\">mappingTemplatesLocation</span><span class=\"token punctuation\">:</span> mapping<span class=\"token punctuation\">-</span>templates\n    <span class=\"token comment\"># リゾルバー定義を指定します</span>\n    <span class=\"token comment\"># ※ここではPipeline Resolverの例を示します</span>\n    <span class=\"token key atrule\">mappingTemplates</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># リゾルバーの方を指定します</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> Query\n        <span class=\"token comment\"># リゾルバーを紐づけるスキーマ中のフィールド名を指定します</span>\n        <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span> user\n        <span class=\"token comment\"># Pipeline Resolverを使い場合、以下を指定します</span>\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> PIPELINE\n        <span class=\"token comment\"># リクエストマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token comment\"># ファイルパスはmappingTemplatesLocationで指定したパスからの相対パスになります</span>\n        <span class=\"token key atrule\">request</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'start.vtl'</span>\n        <span class=\"token comment\"># レスポンスマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token key atrule\">response</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'end.vtl'</span>\n        <span class=\"token comment\"># リゾルバーで使う関数を実行順に指定します</span>\n        <span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> GetUser\n    <span class=\"token comment\"># 関数定義を指定します</span>\n    <span class=\"token key atrule\">functionConfigurations</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># ユーザー一覧取得</span>\n        <span class=\"token comment\"># 関数で扱うデータソース名を指定します</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">dataSource</span><span class=\"token punctuation\">:</span> dynamo_user\n        <span class=\"token comment\"># 関数名を指定します</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'GetUser'</span>\n        <span class=\"token comment\"># 関数のリクエストマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token comment\"># ファイルパスはmappingTemplatesLocationで指定したパスからの相対パスになります</span>\n        <span class=\"token key atrule\">request</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'GetUser.req.vtl'</span>\n        <span class=\"token comment\"># 関数のレスポンスマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token key atrule\">response</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'GetUser.res.vtl'</span></code></pre></div>\n<br/>\n<p>以下で、<code class=\"language-text\">serverless.yml</code>に定義したプロパティがAWSコンソール上のどの項目に紐づくかを説明します。</p>\n<h3 id=\"appsyncの基本設定\"><a href=\"#appsync%E3%81%AE%E5%9F%BA%E6%9C%AC%E8%A8%AD%E5%AE%9A\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>AppSyncの基本設定</h3>\n<div class=\"gatsby-code-title\">serverless.ymlからAppSyncの基本設定を抜粋</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">  <span class=\"token comment\"># ここでAppSyncの設定を行います</span>\n  <span class=\"token key atrule\">appSync</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># エンドポイントの名前を指定します</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> appsync<span class=\"token punctuation\">-</span>serverless<span class=\"token punctuation\">-</span>sample\n    <span class=\"token comment\"># AppSyncの認証方法を指定します</span>\n    <span class=\"token comment\"># ここではCognitoによる認証方法を指定しています</span>\n    <span class=\"token key atrule\">authenticationType</span><span class=\"token punctuation\">:</span> AMAZON_COGNITO_USER_POOLS\n    <span class=\"token comment\"># Cogtnitoによる認証方法の場合、Cognito側の情報を指定する必要があります</span>\n    <span class=\"token key atrule\">userPoolConfig</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># Cognitoが存在するリージョンを指定します</span>\n      <span class=\"token comment\"># デフォルトだとproviderのregionで指定した値になります</span>\n      <span class=\"token key atrule\">awsRegion</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span><span class=\"token number\">1</span>\n      <span class=\"token comment\"># CognitoのユーザープールのIDを指定します</span>\n      <span class=\"token key atrule\">userPoolId</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span>1_U0e7zFRLQ\n      <span class=\"token comment\"># スキーマ定義で認証設定が記述されていない場合の挙動を指定します</span>\n      <span class=\"token comment\"># DENYを指定すると、認証されたいかなるユーザーも認可エラーに倒します</span>\n      <span class=\"token key atrule\">defaultAction</span><span class=\"token punctuation\">:</span> DENY</code></pre></div>\n<br/>\n<p>AWSコンソールのAppSyncの画面で、エンドポイント一覧が表示されます。\n<code class=\"language-text\">serverless.yml</code>で定義したエンドポイント名はココで確認できます。\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0d72e5f2831b7d4fea63c5eda934a0c0/90b21/appsync-gui-main-1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 53.31715210355987%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABcRAAAXEQHKJvM/AAAB1ElEQVQoz42Sy3KbMBSGebv2JdpF+3bNNLvaronKrvY6m8TZkICpAWNA3C8H/T2SGceTZlHNfHMkwfl1bpbn+VvXde/CMHKklI7McydNUyeKY2cfBM6L7zvPnud4bPX5Lf5+r63g75tvNzcfLfBq2xbvLcXIokAmCwxE5jwp9Q8jf9NrvV5/sWbfniGllEHvx3Gkoixpt9vR84tHVV1TLuW78KNDw0EtV6tPRnCappGFzlHNlvhVHV3BHJMEZVmiaRrUTHMFnxWLkfaybfuzNYuMOkF1JcgRGrE0y8B1Ms76bhiGtyidjfb55Tivguq8gZproP/IqxplXaPtOnSMTqudaV4xEWqfOyFmQU5ZixlBXWApQWEI6XsoeV9UDUoWl0xxsRW4rhrFaZNuzI/FYhbkDC+d1cIPD6DtFtVmgzJO4Gc1orxCkJYI2e7TCnVP18NgDtwUFuS6TIdDr5KE1OlE2iJNiXgvgz/UZpnptu5y3/fU9R1x3S4Tca6/mRIslkvuMhcej4+A5wG+D7guEATA0xNwf89D2mCYJvzPWq5+frW6adpU42jX4yjqYRDGMkXXicPpJKKEiWIRRpE4hOGFMI5FfDyKiImPic13v7/f3n74C7W6OcaoFOEsAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"appsync gui main 1\"\n        title=\"\"\n        src=\"/static/0d72e5f2831b7d4fea63c5eda934a0c0/fb8a0/appsync-gui-main-1.png\"\n        srcset=\"/static/0d72e5f2831b7d4fea63c5eda934a0c0/1a291/appsync-gui-main-1.png 148w,\n/static/0d72e5f2831b7d4fea63c5eda934a0c0/2bc4a/appsync-gui-main-1.png 295w,\n/static/0d72e5f2831b7d4fea63c5eda934a0c0/fb8a0/appsync-gui-main-1.png 590w,\n/static/0d72e5f2831b7d4fea63c5eda934a0c0/526de/appsync-gui-main-1.png 885w,\n/static/0d72e5f2831b7d4fea63c5eda934a0c0/fa2eb/appsync-gui-main-1.png 1180w,\n/static/0d72e5f2831b7d4fea63c5eda934a0c0/90b21/appsync-gui-main-1.png 1236w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>エンドポイントの画面を開き<code class=\"language-text\">Settings</code>を確認するとuserPoolConfigなどの詳細が確認できます。\nほぼ<code class=\"language-text\">serverless.yml</code>のプロパティ名と一致しているので、なんとなく紐づけがわかると思います。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ebbcece7c06dbe507ee4c1450e51f3f6/8014e/appsync-gui-main-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 85.01818181818183%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAABcRAAAXEQHKJvM/AAACvElEQVQ4y41UXW/TQBD07+d/ICHBM4qgQfQBtQ+tGjVx3NKq8Wdix46/z46b8y2zF5eaUCROWmd9uZvbmZ2zcX5+/s40lz8sy/oahtE0vLycBh8/Te2zs6mFfDZfTE3TnDqOM3Vd983Af2ee5327vr7+YNi2/Z3Go+uIkoQoy0i1Lcle0f+OLYYxXyw+d0pR2e67rBbyQCQBISspZdG2cpemsqwq2e73kkff938FHgc+NoqilfFoWZPm4YGEZcnetkm5LqmnJxKYq5FnRUFZnlOKikXT0B4MAE77UeBdHaQkPwgc48lcTCQA5GqFGY+IAX2fGnNJ+cUFhbsdn0xpmlIDQDFEMwq8q+fnZ2x1HcNznQnzV0eqNORUY2GN6nJEVVXUQE8FaThAk8B+HHprGIaO4XveEZBnsRCrOada1FSKBkLHBA2pKEoqypLKsqIW4HrPcIDix7EpqPAFcFQhYEFDUFo1FAEwirYakGm9gJwMPRHH8QiwaaSCwFBZ26UCVVHXg17tsRmYFyMdX6IWQnU4zNEarlYT3QjTlAgiyyK1WJBYLikNAgq3WwqCNS/WneYq9yddRijW1ff9AZCpJIlUAKGbGwYn8fMnVQDMUaXehAq77hlG76kfGjMKTRluGACZMkysYA9yHFLwo0BF5TaiDTSMkx0xJfYfVyjf6DIjrjebAZA7K4RU9/dEbO7HRxLzOQl4MOfuQk/22+Fw0A05AfsNuNGArjshXnh1JdXdHdHtLSmANdCyhNE3cUJ5Xmi7sBe5UgZ+rbL/04ee72vKfZoeVJ4rVRSqzzIl4ljlaapw7RRfLQAp6KhzAHITtHWH6FnX9XptG0EQfHnry9Hh9AaaVWhK0+5fm8GUkfPdPR3woWfMZrP3WZYhj1cJjJkkicMG5XsZrNdOiM5tQOVfER5/bZjfw3fz8heLbQepoY3dIgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"appsync gui main 2\"\n        title=\"\"\n        src=\"/static/ebbcece7c06dbe507ee4c1450e51f3f6/fb8a0/appsync-gui-main-2.png\"\n        srcset=\"/static/ebbcece7c06dbe507ee4c1450e51f3f6/1a291/appsync-gui-main-2.png 148w,\n/static/ebbcece7c06dbe507ee4c1450e51f3f6/2bc4a/appsync-gui-main-2.png 295w,\n/static/ebbcece7c06dbe507ee4c1450e51f3f6/fb8a0/appsync-gui-main-2.png 590w,\n/static/ebbcece7c06dbe507ee4c1450e51f3f6/526de/appsync-gui-main-2.png 885w,\n/static/ebbcece7c06dbe507ee4c1450e51f3f6/fa2eb/appsync-gui-main-2.png 1180w,\n/static/ebbcece7c06dbe507ee4c1450e51f3f6/8014e/appsync-gui-main-2.png 1375w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n<br/></p>\n<h3 id=\"データソース定義\"><a href=\"#%E3%83%87%E3%83%BC%E3%82%BF%E3%82%BD%E3%83%BC%E3%82%B9%E5%AE%9A%E7%BE%A9\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>データソース定義</h3>\n<div class=\"gatsby-code-title\">serverless.ymlからデータソース定義を抜粋</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token comment\"># データソースを指定します(複数指定可能)</span>\n    <span class=\"token key atrule\">dataSources</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># データソースの型を指定します</span>\n      <span class=\"token comment\"># 以下が指定できます</span>\n      <span class=\"token comment\"># AMAZON_DYNAMODB ・・・DynamoDB</span>\n      <span class=\"token comment\"># AMAZON_ELASTICSEARCH ・・・Elasticsearch</span>\n      <span class=\"token comment\"># AWS_LAMBDA ・・・Lambda関数</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> AMAZON_DYNAMODB\n        <span class=\"token comment\"># データソース名を指定します</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> dynamo_user\n        <span class=\"token comment\"># DynamoDBのテーブルの説明を指定します</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'ユーザー情報テーブル'</span>\n        <span class=\"token key atrule\">config</span><span class=\"token punctuation\">:</span>\n          <span class=\"token comment\"># 参照するテーブル名を指定します</span>\n          <span class=\"token key atrule\">tableName</span><span class=\"token punctuation\">:</span> dynamo_user\n          <span class=\"token comment\"># データソースのロールARNを指定します</span>\n          <span class=\"token key atrule\">serviceRoleArn</span><span class=\"token punctuation\">:</span> arn<span class=\"token punctuation\">:</span>aws<span class=\"token punctuation\">:</span>iam<span class=\"token punctuation\">:</span><span class=\"token punctuation\">:</span>999999999999<span class=\"token punctuation\">:</span>role/sample_role_arn\n          <span class=\"token comment\"># データソースのリージョンを指定します</span>\n          <span class=\"token comment\"># デフォルトだとproviderのregionで指定した値になります</span>\n          <span class=\"token key atrule\">region</span><span class=\"token punctuation\">:</span> ap<span class=\"token punctuation\">-</span>northeast<span class=\"token punctuation\">-</span><span class=\"token number\">1</span></code></pre></div>\n<br/>\n<p>エンドポイントの画面を開き<code class=\"language-text\">Data Sources</code>を確認すると\nデータソースが一覧表示されるので、一覧から今回<code class=\"language-text\">serverless.yml</code>に定義したデータソースを選択すると、以下のように詳細が確認できます。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ce7642343b110f652569cb878bcb890a/08352/appsync-gui-datasource.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 82.09269662921349%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAABcRAAAXEQHKJvM/AAAClElEQVQ4y32Ub2/aMBDG8/WnfZhpmhia1OVF30xTqcSgGxBISMgoFJIQO84/fPbt7NAqZVstPVIM4fHvuTvj3N7evp/N5t+Wy9XXw+Hg7vd7N45jd+n77uin5z54K3e6WLqT+cpqOvdIS/fHzHO9le/6QeD6vn+zDsPvd6PRO4c2Lv5jSaVwl3HMihJZIVBUNZZ1g6C1lVQaFb2nSWcp7W82cXzjTCaTQd20yDhvGWOglLLKsgyCwIcw2kAYRhCsQ4g2G+BFAfQucBK7KGesNcZE+ckJA3+IWiKcWzpY25OAxJsGkzTD3X6Px+MRG9obkrqusabnnjR9ZhG32+3A8RaLYUsvKSnBuqUpKs9DMZuhoGcuBJZliQBgRfRWz3uSlgDWkHowcNabzRC7WoDlyzKEKEIRBJgT2VOS4Ikxa8yK4kUFHSI6afpOdizpwPlNhNi2qKMINHSQajzGcjpFTmZpnmNBZiZeQ7Vu2k7S0FKJiFaTrGGSJAMnvrsbou+jHo1AEwnS6crEXa3wdDjgkYhTEhX+Je5fkaXsGcbx68imhvM5CjokJ8MsZy+EFdXaNKZvbAjhUsPOMAg6w7oGTWS4WKAiOmPIqIaHJLVNMUb9prw27Eder2lsNOqqAr3bmVYhbLco4hhPRPtEhukpt3SmZmDivhnZGPYjX+awIINclHg8MTyQxIXyfD5fx75qynPkviGRmLFIcm4Hu27qrrNkJC/Re4vi6aumnE6ofv2S+uFB43is4f5ei+lUp/FWU5e1EIW+XhcyK7gQ0o2iOXx8/GLPqSpt5pEyId0vrDhHe8dFhS0ofGspk93eieyz+bf5aIrdnM+8lbI0qtu2TLKsTHNulTFeCiH+KxorbuoaRdGHP06Xvi0j2WSQAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"appsync gui datasource\"\n        title=\"\"\n        src=\"/static/ce7642343b110f652569cb878bcb890a/fb8a0/appsync-gui-datasource.png\"\n        srcset=\"/static/ce7642343b110f652569cb878bcb890a/1a291/appsync-gui-datasource.png 148w,\n/static/ce7642343b110f652569cb878bcb890a/2bc4a/appsync-gui-datasource.png 295w,\n/static/ce7642343b110f652569cb878bcb890a/fb8a0/appsync-gui-datasource.png 590w,\n/static/ce7642343b110f652569cb878bcb890a/526de/appsync-gui-datasource.png 885w,\n/static/ce7642343b110f652569cb878bcb890a/fa2eb/appsync-gui-datasource.png 1180w,\n/static/ce7642343b110f652569cb878bcb890a/08352/appsync-gui-datasource.png 1424w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n<br/></p>\n<h3 id=\"リゾルバー定義\"><a href=\"#%E3%83%AA%E3%82%BE%E3%83%AB%E3%83%90%E3%83%BC%E5%AE%9A%E7%BE%A9\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>リゾルバー定義</h3>\n<div class=\"gatsby-code-title\">serverless.ymlからリゾルバー定義を抜粋</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token comment\"># リゾルバー定義を指定します</span>\n    <span class=\"token comment\"># ※ここではPipeline Resolverの例を示します</span>\n    <span class=\"token key atrule\">mappingTemplates</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># リゾルバーの方を指定します</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">type</span><span class=\"token punctuation\">:</span> Query\n        <span class=\"token comment\"># リゾルバーを紐づけるスキーマ中のフィールド名を指定します</span>\n        <span class=\"token key atrule\">field</span><span class=\"token punctuation\">:</span> user\n        <span class=\"token comment\"># Pipeline Resolverを使い場合、以下を指定します</span>\n        <span class=\"token key atrule\">kind</span><span class=\"token punctuation\">:</span> PIPELINE\n        <span class=\"token comment\"># リクエストマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token comment\"># ファイルパスはmappingTemplatesLocationで指定したパスからの相対パスになります</span>\n        <span class=\"token key atrule\">request</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'start.vtl'</span>\n        <span class=\"token comment\"># レスポンスマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token key atrule\">response</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'end.vtl'</span>\n        <span class=\"token comment\"># リゾルバーで使う関数を実行順に指定します</span>\n        <span class=\"token key atrule\">functions</span><span class=\"token punctuation\">:</span>\n          <span class=\"token punctuation\">-</span> GetUser</code></pre></div>\n<br/>\n<p>リゾルバー定義は、エンドポイントの画面を開き<code class=\"language-text\">Schema</code>を確認します。\n今回は<code class=\"language-text\">user</code>というフィールド名のクエリに対してリゾルバーを割り当てているので、右側のペインで以下のように確認できます。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9433457c9ebfa1de9cb0d571d6625d1c/b789f/appsync-gui-resolver.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 66.11990950226244%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcRAAAXEQHKJvM/AAACJUlEQVQ4y4WTyXLaQBRF+f9vyAdk50UW9tIsUsEuVXAqZZshoAEJEEIIoaFnvdxuBifErnTVlbpeN6dvP11634fDT4tF/HO9Xj/u93svyzIvXCy851ng/Qojb+RH3us88sZ+6PlB4EVYi5PEW8TxRVEUPSbL5dPg4eFzz/f9b3Q1hFQUxgnlRUE141S1nJiQqEuSSlPTMmpRl0oR48e3HZPp9LU3HY/uWVVSWR6kEMKgbvZlafwgNIs4MclyZdJsa/JdbtZparJtjnlhtnludkVhDlVlpSx0NB4Pe0EQ9E3X2QO0fXSYV3VNxW5HTVWQVoyM1nAnXB0HE4erPN9Rjj0KoJMR6/BHD/fvn0DawqwOVU2CASQho6m77gn2wB2lmw3VOERw/gZMkuQC/NNh2zQkOYNDTkY1rm7BZ6EtVOPghgtiWjvg1ALjOP4HaB02AApuQXB4ctnhqlRVZCDWtm6vzDLSq5UDznz/fYdoMoAtgBVgwllywCAgursjGgxoG0VU4wD18kL85sYQWjANgo+B9spKwI3mgB672IUh0e0tdYBW69RFSRpDZcOODmezD3oI4Dlb55pziK9NhwN1WHf9wy04Pl7D5RsQPbw//cgSkKDOZUtK6eZ/ya6fZHPIGDNtCzWNMzOZTJ6sw6/XqeBC0P+GUo6BWBmq0R475vP5s83hF8xrBDTVWmcKQiQyRCdrGXtXTdte1nGbDAHfwESJf0r/N4rd3ksu3UVVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"appsync gui resolver\"\n        title=\"\"\n        src=\"/static/9433457c9ebfa1de9cb0d571d6625d1c/fb8a0/appsync-gui-resolver.png\"\n        srcset=\"/static/9433457c9ebfa1de9cb0d571d6625d1c/1a291/appsync-gui-resolver.png 148w,\n/static/9433457c9ebfa1de9cb0d571d6625d1c/2bc4a/appsync-gui-resolver.png 295w,\n/static/9433457c9ebfa1de9cb0d571d6625d1c/fb8a0/appsync-gui-resolver.png 590w,\n/static/9433457c9ebfa1de9cb0d571d6625d1c/526de/appsync-gui-resolver.png 885w,\n/static/9433457c9ebfa1de9cb0d571d6625d1c/fa2eb/appsync-gui-resolver.png 1180w,\n/static/9433457c9ebfa1de9cb0d571d6625d1c/b789f/appsync-gui-resolver.png 1768w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>上記画面の<code class=\"language-text\">Pipeline</code>のリンクを開くとリゾルバーの詳細が確認できます。</p>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/ec96f8926f756713f045671cd3c5f466/a95f7/appsync-gui-resolver-2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 62.8494623655914%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABcRAAAXEQHKJvM/AAACKUlEQVQ4y4WUbW+bMBSF8/9/w77sR0yapn5Zt7CNuFpWRdWaJiFA3iDhzRgDqe2za2BRulWbpaNDMDk89/omoyAIZnEcu3meM3LmhyH76QVsHW7Zwg/Zk79hT+uALQYtSSuffLViS89j4XY/CeOcBVE6+XBz83aEP1bbtvA3W/jhBrtDTL5FzkvUdF82DZrzGS2ppmvZ0jU/4XnloPVcMPfr3Ui1DQohzi2gKU8nnOunpad9P9B+EOi173cehBtSqKM41kma6iRJdHRKdbpdqvz7O539eK++OZ/GI2OxskyBMejpFNV8jrzg2O33nba7HdIsQ2PpiPLiJFtNc1aGYCAVjMvYl75kIZQ5HGCOR5RWQiBNUySDbCAvS1RSvlRVQVTCVPR8WXLjum4faOZzhft7mNkM4vERG8+j/kXg1LuCcxREnBcFFZJ34enwkqqSlthYUlnXxp1MhkBAWdfGdHQl0VgiSRQdWU/SXdv9mKo4JemwJ41tAxFfBRrTB2pN1dMX8hIH0pFXiIsKUS6QCdn1ra7rvn/DaROdsf6S8DqQaOwDSmsM9Jdl9y2hUup60syw93qgbbbtSWZ7RaKBt2/HP1YXqK4DqXet6e5pRQSKKBXnXBW8JC/ps1RU5utqeqeXPlPguB+bxQJ4eABoBkGzZ0l/n6yVHsr/35owNh1ReXc0R5+lEA6dpkMn6NCvwaGhdmioL36IIud4Ov2tY+/0PzD+eHv75hdnwtP/gHqLVwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"appsync gui resolver 2\"\n        title=\"\"\n        src=\"/static/ec96f8926f756713f045671cd3c5f466/fb8a0/appsync-gui-resolver-2.png\"\n        srcset=\"/static/ec96f8926f756713f045671cd3c5f466/1a291/appsync-gui-resolver-2.png 148w,\n/static/ec96f8926f756713f045671cd3c5f466/2bc4a/appsync-gui-resolver-2.png 295w,\n/static/ec96f8926f756713f045671cd3c5f466/fb8a0/appsync-gui-resolver-2.png 590w,\n/static/ec96f8926f756713f045671cd3c5f466/526de/appsync-gui-resolver-2.png 885w,\n/static/ec96f8926f756713f045671cd3c5f466/fa2eb/appsync-gui-resolver-2.png 1180w,\n/static/ec96f8926f756713f045671cd3c5f466/08f6a/appsync-gui-resolver-2.png 1770w,\n/static/ec96f8926f756713f045671cd3c5f466/a95f7/appsync-gui-resolver-2.png 1860w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \n<br/></p>\n<h3 id=\"関数定義\"><a href=\"#%E9%96%A2%E6%95%B0%E5%AE%9A%E7%BE%A9\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>関数定義</h3>\n<div class=\"gatsby-code-title\">serverless.ymlから関数定義を抜粋</div>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">    <span class=\"token comment\"># 関数定義を指定します</span>\n    <span class=\"token key atrule\">functionConfigurations</span><span class=\"token punctuation\">:</span>\n        <span class=\"token comment\"># ユーザー一覧取得</span>\n        <span class=\"token comment\"># 関数で扱うデータソース名を指定します</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">dataSource</span><span class=\"token punctuation\">:</span> dynamo_user\n        <span class=\"token comment\"># 関数名を指定します</span>\n        <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'GetUser'</span>\n        <span class=\"token comment\"># 関数のリクエストマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token comment\"># ファイルパスはmappingTemplatesLocationで指定したパスからの相対パスになります</span>\n        <span class=\"token key atrule\">request</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'GetUser.req.vtl'</span>\n        <span class=\"token comment\"># 関数のレスポンスマッピングテンプレートのファイルパスを指定します</span>\n        <span class=\"token key atrule\">response</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'GetUser.res.vtl'</span></code></pre></div>\n<br/>\n<p>関数定義は、エンドポイントの画面を開き<code class=\"language-text\">Functions</code>を確認します。\n関数が一覧表示されるので、一覧から今回<code class=\"language-text\">serverless.yml</code>に定義した関数を選択すると、以下のように詳細が確認できます。\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/435d0863a69c0fbe6ef7d6fe1f99ab06/4d911/appsync-gui-function.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 96.86520376175548%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAATCAYAAACQjC21AAAACXBIWXMAABcRAAAXEQHKJvM/AAAC3klEQVQ4y31U23LTMBTM//8AL3wIPJBhmBZMYSgT2iZpEqeJHd/vF1myZR3Okd00U1w8s5FlxetzdleaGYbxfrczby3L/hZFkeE4jmHu98af9c5Yb03jYWMa9487Y7nZGSucr3C8W29xfQDdr5/sr09evPi5eHg3M03zBl5dnZRwtB1wPB9sx4U0L6ERLTDOQbQdcATTcwFN1wM7/AYIbuH4a349Wy6XX+q6hjzLW865RD6ZFYV83GwGbE15OFrSsm2NMIpkkqYyjmMZhKGMk0ym629tb16D+f3Dp9nBOl6B74K6+SFhsQB1fw/1agVJloEfBBDFCQghoG1brK7V9xwhRnDBoZFAhYDlhfPZfr+/ookSQiJANQ3UeQ4ZIk4SaHCulJpE3/fDfS81oes689nJtgdCGL5Cf6gYg6IsIS+Koao30KCmpDdCv4uGzmf2M2Hfy5EYyoZjqzF4vg9pmgGjqvEjpHVdsxeMz6q61u8ejscLQqowikChjuzxEQpsmcgaJO+6DqgIavENDBW67ivCqgJ1OgHzPIxKpg3J8gLQVShxjcygFiWSyHEc9Rw09LzplivUBttAogQwStCPBgy4MOXFoAnCZ1NIQyRpxzZ1qxcE2gRcI7QvUky0TMK6mEfHgdq2Uc4IMLg4xnqkTNJIrTM0g0CmFDjHNGjCp8PhgpAe3t2BQrDtFnBHnEloDCMkj6MxKt25SpIEU6AJkWu6ZdKQdkaps1jqiOgFBGk4cel3vTc1xNxRXAQeAIJ3ILAA3nQajNE2RO16eXZaTgbbdSVg/tR2A7VlQTC2SfCxbWqdZCD3z0Efd1Q2pWGfJBINUcrzVO37KvRD5Zx8FQSRCqNYJUmmMOiKc6FQuzMwm7j9sfRnDbHM61GHszgNii0YtlvTxscFOeA/V08/aN5nOmDnJAFvmkpwznjDWZqmLPAj5rsJi4KIpUmOz3JW1RWrqn+B5pVkIp70H/8CGYSmIXpWVBIAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"appsync gui function\"\n        title=\"\"\n        src=\"/static/435d0863a69c0fbe6ef7d6fe1f99ab06/fb8a0/appsync-gui-function.png\"\n        srcset=\"/static/435d0863a69c0fbe6ef7d6fe1f99ab06/1a291/appsync-gui-function.png 148w,\n/static/435d0863a69c0fbe6ef7d6fe1f99ab06/2bc4a/appsync-gui-function.png 295w,\n/static/435d0863a69c0fbe6ef7d6fe1f99ab06/fb8a0/appsync-gui-function.png 590w,\n/static/435d0863a69c0fbe6ef7d6fe1f99ab06/526de/appsync-gui-function.png 885w,\n/static/435d0863a69c0fbe6ef7d6fe1f99ab06/fa2eb/appsync-gui-function.png 1180w,\n/static/435d0863a69c0fbe6ef7d6fe1f99ab06/08f6a/appsync-gui-function.png 1770w,\n/static/435d0863a69c0fbe6ef7d6fe1f99ab06/4d911/appsync-gui-function.png 1914w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<br/>\n<p>設定ファイルの説明は以上です。次にリゾルバーとスキーマの定義について説明します。</p>\n<h2 id=\"4-リゾルバー作成\"><a href=\"#4-%E3%83%AA%E3%82%BE%E3%83%AB%E3%83%90%E3%83%BC%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. リゾルバー作成</h2>\n<p><code class=\"language-text\">mapping-templates</code>フォルダを作成し、その中にリクエストマッピングテンプレートとレスポンスマッピングテンプレートを作成します。</p>\n<p>PipelineResolver用のマッピングテンプレート</p>\n<div class=\"gatsby-code-title\">mapping-templates/start.vtl</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\">{}</code></pre></div>\n<br/>\n<p>PipelineResolver用のマッピングテンプレート</p>\n<div class=\"gatsby-code-title\">mapping-templates/end.vtl</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\"><span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">toJson</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>result<span class=\"token punctuation\">)</span></span></code></pre></div>\n<br/>\n<p>ユーザー1件取得用の関数ではDynamoDBのGetItemを呼び出します。</p>\n<div class=\"gatsby-code-title\">mapping-templates/GetUser.req.vtl</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\">{\n    \"version\": \"2018-05-29\",\n    \"operation\": \"GetItem\",\n    \"key\": {\n        \"id\": <span class=\"token variable\">$util<span class=\"token punctuation\">.</span>dynamodb<span class=\"token punctuation\">.</span><span class=\"token function\">toDynamoDBJson</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>args<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span></span>,\n    }\n}</code></pre></div>\n<br/>\n<p>取得情報をレスポンスにて返却します。</p>\n<div class=\"gatsby-code-title\">mapping-templates/GetUser.res.vtl</div>\n<div class=\"gatsby-highlight\" data-language=\"velocity\"><pre class=\"language-velocity\"><code class=\"language-velocity\"><span class=\"token directive\"><span class=\"token keyword\">#if</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>error</span><span class=\"token punctuation\">)</span></span>\n  <span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">error</span><span class=\"token punctuation\">(</span>$ctx<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">.</span>message<span class=\"token punctuation\">,</span> $ctx<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span></span>\n<span class=\"token directive\"><span class=\"token keyword\">#end</span></span>\n\n<span class=\"token directive\"><span class=\"token keyword\">#set</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$res</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"user\"</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$ctx<span class=\"token punctuation\">.</span>result</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></span>\n<span class=\"token variable\">$util<span class=\"token punctuation\">.</span><span class=\"token function\">toJson</span><span class=\"token punctuation\">(</span>$res<span class=\"token punctuation\">)</span></span></code></pre></div>\n<br/>\n<h2 id=\"5-スキーマ作成\"><a href=\"#5-%E3%82%B9%E3%82%AD%E3%83%BC%E3%83%9E%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. スキーマ作成</h2>\n<p>ユーザー情報（ID、名前）を1件検索するだけのシンプルなスキーマ定義です。\n<code class=\"language-text\">serverless.yml</code>の<code class=\"language-text\">schema</code>で指定した通り、プロジェクトルートに<code class=\"language-text\">schema.graphql</code>ファイルを作成します。</p>\n<div class=\"gatsby-code-title\">schema.graphql</div>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\">type User <span class=\"token punctuation\">{</span>\n    <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> ID<span class=\"token operator\">!</span>\n    <span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> String\n<span class=\"token punctuation\">}</span>\n\ntype UserResponse <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">user</span><span class=\"token punctuation\">:</span> User\n<span class=\"token punctuation\">}</span>\n\ninput GetUserInput <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> ID<span class=\"token operator\">!</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token comment\"># ユーザー1件取得</span>\n</span><span class=\"gatsby-highlight-code-line\">type Query <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">    user<span class=\"token punctuation\">(</span><span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> ID<span class=\"token operator\">!</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">:</span> UserResponse\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span>\n</span></code></pre></div>\n<h2 id=\"6-awsにデプロイ\"><a href=\"#6-aws%E3%81%AB%E3%83%87%E3%83%97%E3%83%AD%E3%82%A4\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6. AWSにデプロイ</h2>\n<p>以下コマンドを実行します。とても簡単にデプロイできます。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">serverless deploy -v</code></pre></div>\n<br/>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>今回はAppSync + Serverless FrameworkによるAppSync資産の構成管理についてご紹介しました。\n複数人開発においてGUI操作の場合、意図せず変更が加えられてデグレするリスクがあるので、Serverless Frameworkを使って構成管理するのが得策です。\nまたServerless Frameworkの利点はなんといっても1コマンドでAWSにデプロイという手軽さです。\nAppSync資産だけでなく、Lambdaや他資産もServerless Frameworkで管理できるので、AWSでサーバーレスなアプリを開発するときは是非使ってみてください🍅</p>\n<h2 id=\"参考\"><a href=\"#%E5%8F%82%E8%80%83\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://foobar123.com/building-an-appsync-serverless-framework-backend-foobar-c383a840de0d\">Building an AppSync + Serverless Framework Backend | FooBar</a></li>\n</ul>","headingsDetail":[{"id":"なにこれ","value":"なにこれ","depth":2,"parents":[]},{"id":"1-serverless-frameworkの設定","value":"1. Serverless Frameworkの設定","depth":2,"parents":[]},{"id":"2-プロジェクトのひな型作成","value":"2. プロジェクトのひな型作成","depth":2,"parents":[]},{"id":"3-設定ファイル作成","value":"3. 設定ファイル作成","depth":2,"parents":[]},{"id":"appsyncの基本設定","value":"AppSyncの基本設定","depth":3,"parents":[{"id":"3-設定ファイル作成","value":"3. 設定ファイル作成","depth":2}]},{"id":"データソース定義","value":"データソース定義","depth":3,"parents":[{"id":"3-設定ファイル作成","value":"3. 設定ファイル作成","depth":2}]},{"id":"リゾルバー定義","value":"リゾルバー定義","depth":3,"parents":[{"id":"3-設定ファイル作成","value":"3. 設定ファイル作成","depth":2}]},{"id":"関数定義","value":"関数定義","depth":3,"parents":[{"id":"3-設定ファイル作成","value":"3. 設定ファイル作成","depth":2}]},{"id":"4-リゾルバー作成","value":"4. リゾルバー作成","depth":2,"parents":[]},{"id":"5-スキーマ作成","value":"5. スキーマ作成","depth":2,"parents":[]},{"id":"6-awsにデプロイ","value":"6. AWSにデプロイ","depth":2,"parents":[]},{"id":"まとめ","value":"まとめ","depth":2,"parents":[]},{"id":"参考","value":"参考","depth":2,"parents":[]}],"fields":{"title":"AppSync + Serverless Frameworkによるソースコードの構成管理","excerpt":"なにこれAWSのGraphQLマネージドサービス「AppSync」はGUIで簡単に設定ができて便利ですが、本格的に開発を進めていくとGUIポチポチでソースコードを管理するのはつらくなってきます。Serverless Frameworkという...","date":"2019-03-04T07:50:00.000+09:00","tags":["AppSync","serverless","AWS","GraphQL"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}}},"pageContext":{"slug":"/aws-appsync-and-serverless-framework","relatedPosts":[{"fields":{"slug":"/mutliple-validation-errors-in-aws-appsync","title":"AWS AppSyncで入力チェックエラーを複数返す方法","date":"2019-02-26T07:30:00.000+09:00","excerpt":"なにこれAppSyncのリゾルバーでDynamoDBのデータを更新する場合、更新処理の前に入力チェックは必ず実施すると思います。この時、入力チェックエラーを見つけた時点で1つのエラーメッセージを返すより、すべてのチェック実施後にまとめてエラ...","tags":["AppSync","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}},{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncのPipeline Resolverで複数データリソースを扱う場合のVTLの書き方","date":"2019-02-19T07:30:00.000+09:00","excerpt":"なにこれAWSのGraphQLフルマネージドサービス「AppSync」で複数のデータリソースを扱う場合は「Pipeline Resolver」という機能を使います。これは、1つのデータリソースを扱うファンクションを定義し、それらを組み合わせ...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}}],"latestPosts":[{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkによるソースコードの構成管理","date":"2019-03-04T07:50:00.000+09:00","excerpt":"なにこれAWSのGraphQLマネージドサービス「AppSync」はGUIで簡単に設定ができて便利ですが、本格的に開発を進めていくとGUIポチポチでソースコードを管理するのはつらくなってきます。Serverless Frameworkという...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}},{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nでエラーメッセージ共通化","date":"2019-03-02T12:30:00.000+09:00","excerpt":"なにこれVuetify + VeeValidateで入力チェックする際に、VueI18nを使ってエラーメッセージを多言語対応・共通化する方法について紹介します。定義方法VeeValidateVeeValidateであらかじめ言語毎にエラーメ...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},{"fields":{"slug":"/mutliple-validation-errors-in-aws-appsync","title":"AWS AppSyncで入力チェックエラーを複数返す方法","date":"2019-02-26T07:30:00.000+09:00","excerpt":"なにこれAppSyncのリゾルバーでDynamoDBのデータを更新する場合、更新処理の前に入力チェックは必ず実施すると思います。この時、入力チェックエラーを見つけた時点で1つのエラーメッセージを返すより、すべてのチェック実施後にまとめてエラ...","tags":["AppSync","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}},{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nをscriptタグやJSファイル内で使う方法","date":"2019-02-21T07:50:00.000+09:00","excerpt":"なにこれVueI18nはVue.jsの多言語対応ライブラリです。vueファイルのtemplateタグでは、&#x3C;p>{{$t('message.hello')}}&#x3C;/p>のように使います。ただvueファイルのscriptタグ...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncのPipeline Resolverで複数データリソースを扱う場合のVTLの書き方","date":"2019-02-19T07:30:00.000+09:00","excerpt":"なにこれAWSのGraphQLフルマネージドサービス「AppSync」で複数のデータリソースを扱う場合は「Pipeline Resolver」という機能を使います。これは、1つのデータリソースを扱うファンクションを定義し、それらを組み合わせ...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}}],"previous":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nでエラーメッセージ共通化","date":"2019-03-02T12:30:00.000+09:00","excerpt":"なにこれVuetify + VeeValidateで入力チェックする際に、VueI18nを使ってエラーメッセージを多言語対応・共通化する方法について紹介します。定義方法VeeValidateVeeValidateであらかじめ言語毎にエラーメ...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},"next":null}}