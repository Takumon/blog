{"data":{"site":{"siteMetadata":{"title":"Takumon Blog","author":"Takuto Inoue"}},"markdownRemark":{"html":"<h2 id=\"なにこれ\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>下記の<a href=\"https://www.gatsbyjs.org/blog/2018-11-11-introducing-gatsby-themes/\">記事</a>を読んで、\n実験的に追加されたGatsby themeで何ができるのか<a href=\"chrome://flags/#enable-ephemeral-flash-permission\">サンプル</a>作って試してみました。そのときのメモです。</p>\n<blockquote class=\"twitter-tweet\" data-lang=\"ja\"><p lang=\"en\" dir=\"ltr\">Excited to talk a bit about something I&#39;ve been working on a lot lately<br><br>Introducing <a href=\"https://twitter.com/gatsbyjs?ref_src=twsrc%5Etfw\">@gatsbyjs</a> Themes <a href=\"https://t.co/ysDITHlbsV\">https://t.co/ysDITHlbsV</a></p>&mdash; :party-corgi: (@chrisbiscardi) <a href=\"https://twitter.com/chrisbiscardi/status/1062426813840814080?ref_src=twsrc%5Etfw\">2018年11月13日</a></blockquote>\n<h2 id=\"gatsby-themeはどんな問題を解決してくれるか\"><a href=\"#gatsby-theme%E3%81%AF%E3%81%A9%E3%82%93%E3%81%AA%E5%95%8F%E9%A1%8C%E3%82%92%E8%A7%A3%E6%B1%BA%E3%81%97%E3%81%A6%E3%81%8F%E3%82%8C%E3%82%8B%E3%81%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby themeはどんな問題を解決してくれるか</h2>\n<p>Gatsbyはスキャフォールド機能があって初期導入が非常に簡単です。最小構成のものから、かなりデザインが作り込まれたものまで65個(2018/11/24現在)のスキャフォールドが存在し、<a href=\"https://www.gatsbyjs.org/starters/?v=2\">Gatsby Starter</a>から好きなものを選べます。<br>\nただし初期導入後はスキャフォールドのアップデートに追従できませんし、途中で別のものに変更することも容易ではありません。変更できたとしても実質作り直しと同じくらい改修が必要でしょう。（スキャフォールドなんであたりまえですが...）\nテーマを容易に変更できるようなWordPressなどに比べると拡張性の面で劣っています。<br>\nGatsby themeはこれらの問題を解決するための機能です。</p>\n<h2 id=\"gatsby-themeの概要\"><a href=\"#gatsby-theme%E3%81%AE%E6%A6%82%E8%A6%81\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby themeの概要</h2>\n<ul>\n<li>\n<p>テーマでは下記を定義でき、Gatsbyの資産の大部分をコンテンツから切り離してnpmパッケージとして管理できます。</p>\n<ul>\n<li>依存関係（package.json）</li>\n<li>設定ファイル（gatsby-config.js）</li>\n<li>ページ（blog-post.jsやindex.jsなど）</li>\n<li>コンポーネント（Bio.jsやLayout.jsなど）</li>\n</ul>\n</li>\n<li>コンテンツ側は、今までのように<code class=\"language-text\">package.json</code>で大量のGatsbyプラグインの依存関係を定義したり、<code class=\"language-text\">gatsby-config.js</code>で大量のプラグイン設定を定義する必要がなくなります、使用テーマの宣言とコンテンツの定義だけで、Webサイトを構築できます。</li>\n<li>テーマの設定は引数を許容するので、コンテンツ側から指定した値を設定値に反映できます。</li>\n<li>テーマで用意しているページやコンポーネントは、コンテンツ側で上書きでき、別途追加作成も可能です。　※現時点では若干自力実装が必要ですが...</li>\n</ul>\n<h2 id=\"gatsby-themeの作り方\"><a href=\"#gatsby-theme%E3%81%AE%E4%BD%9C%E3%82%8A%E6%96%B9\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Gatsby themeの作り方</h2>\n<p>ここでは2種類のテーマと3種類のブログを作ります。<br>\n<small>※ソースは<a href=\"https://github.com/Takumon/my-gatsby-theme-sample\">GitHub</a>参照</small></p>\n<h3 id=\"1-とりあえずテーマを作る\"><a href=\"#1-%E3%81%A8%E3%82%8A%E3%81%82%E3%81%88%E3%81%9A%E3%83%86%E3%83%BC%E3%83%9E%E3%82%92%E4%BD%9C%E3%82%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. とりあえずテーマを作る</h3>\n<p><a href=\"https://github.com/gatsbyjs/gatsby-starter-blog\">gatsby-starter-blog</a>を最小限の修正でテーマ化します。<br>\n<small>※<a href=\"https://github.com/Takumon/my-gatsby-theme-sample/tree/master/themes/gatsby-blog-theme\">ソース</a>、<a href=\"https://github.com/Takumon/my-gatsby-theme-sample/commit/10b68c4f3ad5158973952432da2b4d518570f53d\">参考コミット</a></small></p>\n<h4 id=\"1-1-設定ファイルgatsby-configjs修正\"><a href=\"#1-1-%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%ABgatsby-configjs%E4%BF%AE%E6%AD%A3\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-1. 設定ファイル(gatsby-config.js)修正</h4>\n<p>コンテンツ側のルートパスを受け取り、それを元にファイルパスを組み立てるようにします。</p>\n<div class=\"gatsby-code-title\">gatsby-config.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// ユーザ側からルートディレクトリを指定して、それをもとに設定の中でパスを組み立てる</span>\n</span><span class=\"gatsby-highlight-code-line\">module<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> root <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n</span>  <span class=\"token comment\">// ･･･</span>\n  plugins<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-source-filesystem`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token comment\">// ページはコンテンツ側の資産を読み込む</span>\n</span><span class=\"gatsby-highlight-code-line\">        path<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`src/pages`</span></span><span class=\"token punctuation\">,</span>\n</span>        name<span class=\"token punctuation\">:</span> <span class=\"token string\">'pages'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">'gatsby-plugin-typography'</span><span class=\"token punctuation\">,</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">        <span class=\"token comment\">// typographyはテーマで用意した資産を使うのでrootからの相対パスを指定する</span>\n</span><span class=\"gatsby-highlight-code-line\">        pathToConfigModule<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">relative</span><span class=\"token punctuation\">(</span>\n</span><span class=\"gatsby-highlight-code-line\">          root<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/utils/typography'</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n</span>      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token comment\">// ページとして、テーマで用意した資産を読み込む</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">      resolve<span class=\"token punctuation\">:</span> <span class=\"token template-string\"><span class=\"token string\">`gatsby-plugin-page-creator`</span></span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">        path<span class=\"token punctuation\">:</span> require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token string\">`./src/pages`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</span>  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<h4 id=\"1-2-ファイルパス設定ユーティリティwith-theme-pathjs作成\"><a href=\"#1-2-%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%83%91%E3%82%B9%E8%A8%AD%E5%AE%9A%E3%83%A6%E3%83%BC%E3%83%86%E3%82%A3%E3%83%AA%E3%83%86%E3%82%A3with-theme-pathjs%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-2. ファイルパス設定ユーティリティ(with-theme-path.js)作成</h4>\n<p>パス指定時に、コンテンツ側資産を優先的に使い、無ければテーマ側資産を使うようするユーティリティを作成します。※自力で実装します。</p>\n<div class=\"gatsby-code-title\">with-theme-path.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'path'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">/**\n * テーマで用意したページをユーザが上書き可能にするためのファイルパス解決ユーティリティ\n *\n * 指定した相対パスから\n * 1. ユーザが作成したファイルのパスを返却する\n * 2. ユーザが作成したファイルがなければテーマで用意しているパスを返却する\n * 3. テーマでもファイルを用意していない場合、指定した相対パスをそのまま返却する\n */</span>\nmodule<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">exports</span> <span class=\"token operator\">=</span> relativePath <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">let</span> pathResolvedPath <span class=\"token operator\">=</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>relativePath<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">let</span> finalPath <span class=\"token operator\">=</span> pathResolvedPath\n\n  <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// ファイル読み込み時にユーザが作成したファイルがあるかチェック</span>\n    require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>pathResolvedPath<span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// 1. ユーザが作成したファイルのパスを返却する</span>\n    finalPath <span class=\"token operator\">=</span> pathResolvedPath\n  <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 2. ユーザが作成したファイルがなければテーマで用意しているパスを返却する</span>\n      finalPath <span class=\"token operator\">=</span> require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>relativePath<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span><span class=\"token class-name\">e</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// 3. テーマでもファイルを用意していない場合、指定した相対パスをそのまま返却する</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>e<span class=\"token punctuation\">)</span>\n      <span class=\"token keyword\">return</span> relativePath\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token keyword\">return</span> finalPath\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"1-3-gatsby-nodejs修正\"><a href=\"#1-3-gatsby-nodejs%E4%BF%AE%E6%AD%A3\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-3. gatsby-node.js修正</h4>\n<p>先ほど作ったwith-theme-pash.jsを使ってページを読み込むようにします。\nまたnpmパッケージ公開用のビルド設定を追加します。\n※ここらへんも自力実装です。</p>\n<div class=\"gatsby-code-title\">gatsby-node.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> fs <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'fs'</span><span class=\"token punctuation\">)</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> withThemePath <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./with-theme-path'</span><span class=\"token punctuation\">)</span>\n</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n\n  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>resolve<span class=\"token punctuation\">,</span> reject<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n<span class=\"gatsby-highlight-code-line\">    <span class=\"token comment\">// withThemePathを使って、ユーザが作成したページまたはテーマで用意しているページを読み込む</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token keyword\">const</span> blogPost <span class=\"token operator\">=</span> <span class=\"token function\">withThemePath</span><span class=\"token punctuation\">(</span><span class=\"token string\">'./src/templates/blog-post.js'</span><span class=\"token punctuation\">)</span>\n</span>    <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>\n        <span class=\"token comment\">// ･･･</span>\n    <span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// ･･･</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">/*\n</span><span class=\"gatsby-highlight-code-line\"> * Gatsbyテーマのビルド方法をwebpackに設定しています。\n</span><span class=\"gatsby-highlight-code-line\"> * NPMモジュールの公開時は、(1)事前コンパイルするか、(2)コンパイル方法の設定追加 どちらかが必要です。\n</span><span class=\"gatsby-highlight-code-line\"> * Gatsbyテーマの場合(2)が可能なので、ここで設定しています。\n</span><span class=\"gatsby-highlight-code-line\"> */</span>\n</span><span class=\"gatsby-highlight-code-line\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreateWebpackConfig</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> stage<span class=\"token punctuation\">,</span> loaders<span class=\"token punctuation\">,</span> actions <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">  actions<span class=\"token punctuation\">.</span><span class=\"token function\">setWebpackConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">    module<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">      rules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">          test<span class=\"token punctuation\">:</span> <span class=\"token regex\">/\\.js$/</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          include<span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">dirname</span><span class=\"token punctuation\">(</span>require<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token string\">'gatsby-blog-theme'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          use<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>loaders<span class=\"token punctuation\">.</span><span class=\"token function\">js</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span>\n</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// ユーザがsrc/pages未作成の場合にエラーになるのを防ぐため、無ければ作成する</span>\n</span><span class=\"gatsby-highlight-code-line\">exports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onPreBootstrap</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> store <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> program <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> dir <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>program<span class=\"token punctuation\">.</span>directory<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/pages`</span></span>\n</span><span class=\"gatsby-highlight-code-line\">\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>fs<span class=\"token punctuation\">.</span><span class=\"token function\">existsSync</span><span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">    fs<span class=\"token punctuation\">.</span><span class=\"token function\">mkdirSync</span><span class=\"token punctuation\">(</span>dir<span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span>\n</span></code></pre></div>\n<h4 id=\"1-4-indexjs作成\"><a href=\"#1-4-indexjs%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-4. index.js作成</h4>\n<p>npmパッケージ公開用に空のindex.jsを作成します。</p>\n<h4 id=\"1-5-srccomponentslayoutjs修正\"><a href=\"#1-5-srccomponentslayoutjs%E4%BF%AE%E6%AD%A3\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1-5. src/components/Layout.js修正</h4>\n<p>ESLintエラーを解消すための設定を追加します。</p>\n<div class=\"gatsby-code-title\">src/components/Layout.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">/* eslint-disable */</span>\n</span><span class=\"token comment\">// 冒頭に上記コメントを追加</span></code></pre></div>\n<br>\n<p>これでテーマ化完了です。</p>\n<h3 id=\"2-とりあえずテーマを使ってみる\"><a href=\"#2-%E3%81%A8%E3%82%8A%E3%81%82%E3%81%88%E3%81%9A%E3%83%86%E3%83%BC%E3%83%9E%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%81%BF%E3%82%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. とりあえずテーマを使ってみる</h3>\n<p>前手順で作ったテーマを使って最小構成でブログを作ります。<br>\n<small><a href=\"https://github.com/Takumon/my-gatsby-theme-sample/tree/master/ui-surfaces/blog-minimal\">ソース</a>、<a href=\"https://github.com/Takumon/my-gatsby-theme-sample/commit/72b955f8d82dfca2ff009c477e72f53386e4a6a7\">参考コミット</a></small></p>\n<h4 id=\"2-1-設定ファイルgatsby-configjs作成\"><a href=\"#2-1-%E8%A8%AD%E5%AE%9A%E3%83%95%E3%82%A1%E3%82%A4%E3%83%ABgatsby-configjs%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-1. 設定ファイル(gatsby-config.js)作成</h4>\n<p>ここがGatsby themeにおいて肝となる機能で、\n<code class=\"language-text\">__experimentalThemes</code>プロパティで使用テーマを指定できます。\nここでは使用テーマに前手順で作った<code class=\"language-text\">gatsby-blog-theme</code>を指定します。\nその際、<code class=\"language-text\">gatsby-blog-theme</code>は設定引数としてルートディレクトリをとるので、それも指定します。※ここはGatsby側でよしなりやってくれます。</p>\n<div class=\"gatsby-code-title\">gatsby-config.js</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// テーマを指定する</span>\n  __experimentalThemes<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// テーマにgatsby-blog-themeを指定する</span>\n      resolve<span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby-blog-theme\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token comment\">// テーマgatsby-blog-themeではrootをオプションで受け取る想定なので本ブログのルートフォルダを指定する</span>\n      options<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> root<span class=\"token punctuation\">:</span> __dirname <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">]</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h4 id=\"2-2-packagejson作成\"><a href=\"#2-2-packagejson%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-2. package.json作成</h4>\n<p><code class=\"language-text\">gatsby</code>と<code class=\"language-text\">gatsby-blog-theme</code>を依存関係に指定するだけの簡単なpackage.jsonを作成します。</p>\n<div class=\"gatsby-code-title\">package.json</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n  <span class=\"token string\">\"name\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"blog-minimal\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token string\">\"scripts\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token string\">\"develop\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby develop\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">\"build\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"gatsby build\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token string\">\"dependencies\"</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token string\">\"gatsby\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"^2.0.19\"</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token string\">\"gatsby-blog-theme\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"*\"</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token punctuation\">}</span>\n</span><span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"2-3-srcpages配下に記事作成\"><a href=\"#2-3-srcpages%E9%85%8D%E4%B8%8B%E3%81%AB%E8%A8%98%E4%BA%8B%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-3. src/pages配下に記事作成</h4>\n<p>文字通り、テキトーにマークダウンファイルの記事を作成します。</p>\n<h4 id=\"2-4-srcassetsgatsby-iconpng配置\"><a href=\"#2-4-srcassetsgatsby-iconpng%E9%85%8D%E7%BD%AE\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-4. src/assets/gatsby-icon.png配置</h4>\n<p>本編とはあまり関係無い修正ですが、テーマからコンテンツ側のアイコン資産読み込みを期待しているので、これがないとエラーで落ちます。　※工夫次第でこれも「なければテーマ側の資産を使う」ようにはできるのでしょうが本記事ではそこまで触れていません。</p>\n<h4 id=\"2-5-動作確認\"><a href=\"#2-5-%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2-5. 動作確認</h4>\n<p>この状態でブログを起動すると、下記のような画面が表示できます。</p>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 92.2029702970297%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACDElEQVQ4y6WUS2/aQBSFWUI3XXXZVbvnT6ZLhMQSSiVEhRACCWF3BaIiiEaAG6ou0kVxTAikBgZqGydgYHw6M8GEFOgjXOlonvp0z9xr+14+f/b19asX5ru370eyJJN8Pk8kSSKVSoVks1kSDAZJIBAgfr9/PTIF1vLm7MyTr/Kx3FeUBrTLDrrda6iXGnr9G/w0DJDxBBcX36Aon9FUFDF6Oj9vCbVaX1D91MDpaRW1Wg0+6rpXuA/K5B4r32Kx6HKaJMk0k8kgHo8jlUohHA6jXq8jnU4jFAqBn3ElEgkUCgXYtn2fBaVwXXejDbBcLlN+mb0fSqUSYrEY2Bui0WgIaDKZFJZyuRyKxaIA8diGCeByuRTASCRCT07eIBqNCti/hAfZnm+AWueKttttNJtNyLL8kMHalmeNbkG2wV5sLPc0lfb1oUDwC4QQjEYjTCZjTC1TyLansEwD9tQSa4N1wnzuPM7QceYCeFb8QJtnVdEyqqpC0zSoLGOtN4Cqm/h+Y6D9w4DK1BmYYjSsKZjD/ZZd3jZsY7VaYeXZ41bZweqA9lr2gGybPnoX/L7a1R+LYs4pZYI2dqBbi51KHtLBDEdkTPXBEPqQYGrfsseegxVspz3+FhvgbDajvIp3d7dwHAeWZfG9pwPX3/Le5v2feKiy67KePT448HpvYZ8YrLEdbf3XWDAtj9UvlSU0bJbmFAoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"blog-mininal\"\n        title=\"\"\n        src=\"/static/22a88b15fab002ed304462e5cacf619a/fb8a0/blog-minimal.png\"\n        srcset=\"/static/22a88b15fab002ed304462e5cacf619a/1a291/blog-minimal.png 148w,\n/static/22a88b15fab002ed304462e5cacf619a/2bc4a/blog-minimal.png 295w,\n/static/22a88b15fab002ed304462e5cacf619a/fb8a0/blog-minimal.png 590w,\n/static/22a88b15fab002ed304462e5cacf619a/967ec/blog-minimal.png 808w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  </p>\n<p>従来のGatsbyであれば、一覧用ページ、記事詳細ページ、その他コンポーネントなどなど非常に多くの資産を必要としますが、\nテーマを使えば、ほぼgatsby-node.jsとpackage.jsonだけでブログが完成します。<br>\nまたテーマ側がアップデートした場合も依存パッケージのバージョンを上げればいいだけなので常に最新のテーマを適用できます。</p>\n<h3 id=\"3-テーマのページを上書きしてみる\"><a href=\"#3-%E3%83%86%E3%83%BC%E3%83%9E%E3%81%AE%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. テーマのページを上書きしてみる</h3>\n<p>最小構成のブログにページを追加してテーマで用意しているページを上書きします。<br>\n<small><a href=\"https://github.com/Takumon/my-gatsby-theme-sample/tree/master/ui-surfaces/blog-override-page\">ソース</a>、<a href=\"https://github.com/Takumon/my-gatsby-theme-sample/commit/7a09088d774035f3cbf370730e7af9ac6869849b\">参考コミット</a></small></p>\n<h4 id=\"3-1-記事詳細ページ作成\"><a href=\"#3-1-%E8%A8%98%E4%BA%8B%E8%A9%B3%E7%B4%B0%E3%83%9A%E3%83%BC%E3%82%B8%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-1. 記事詳細ページ作成</h4>\n<p>ページはテーマと同じ相対パスに配置します。with-theme-pathによりコンテンツ側のページが優先的に読み込まれます。</p>\n<div class=\"gatsby-code-title\">src/templates/blog-post.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// 上書きページではテーマで用意しているコンポーネントを使用できる</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> Bio <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-theme/src/components/Bio'</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-theme/src/components/Layout'</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> rhythm<span class=\"token punctuation\">,</span> scale <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-theme/src/utils/typography'</span>\n</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">BlogPostTemplate</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// テーマのblog-post.jsと同じ実装</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"3-2-動作確認\"><a href=\"#3-2-%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3-2. 動作確認</h4>\n<p>これでブログを立ち上げると、記事詳細のページが差し替わっているのが確認できます。</p>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 92.3172242874845%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACBklEQVQ4y6VT227aQBD1p/Ylgrymr/xUVSG1IgmkKUEgCi1QcYvBdhAmLvjGHXv3ZNZgy45o67QjHc3sePdo5sxYen/x7sfV1YXz8cPnX6ViaX5zcz0vFArzYrEY+FwuN89ms4TM/DJ7eYqTyGSEP36Tqg/lSbv9Har6hOlUh/ZEXp9h9mxgYZp4lGXU63XcFr/iy0MF5VoDjUYTjfsSmneEZhPVagWV8j3lv0E6eJ4KMsd1mGVZ3DRNblk2XyxMbts2D833GfcZ4yxMMF8kOY4HzsSZTPJ9XxOEo9GItVotdDod9Ho9DAYD9Pt9MMbw2ujd0cfi8Cx5nhcQDodDpus6xuMxut0uarUa8vk8VqtVRJIGEaEsy4xIhQ8qE5UK7bbbbaKqv1lEKITY7/fY7XYgGaILIg7bTkMaEdJDJtqjoYCGA9d1A2w2G9CdfyMUFR4OBwj/+vGbW6YVYaqqYjKZQNO0hHZpEN6NCEk7tlwuBXFCs7eQJSokC1g8z0/dXkgUL0AizY57+LPNZEXDer0OqjQMI4C5WMB1HIKNJQ3JsS3yTgCbYrEV8W4kGkBAWL39xBq1Cv3HOhRFIai0k49QpgZGzy6Gug155mA0s6EYbhA7yzX82AYkNAxbFuUnNBI5fh7nNkAQquFi89PvmQT/Lc5ZvML0k/jTHtJQxqdWPYL/v3gBZgFX0n6srxwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"blog-override-page\"\n        title=\"\"\n        src=\"/static/58fc204037ec56de00a4acbd0d2ef3f5/fb8a0/blog-override-page.png\"\n        srcset=\"/static/58fc204037ec56de00a4acbd0d2ef3f5/1a291/blog-override-page.png 148w,\n/static/58fc204037ec56de00a4acbd0d2ef3f5/2bc4a/blog-override-page.png 295w,\n/static/58fc204037ec56de00a4acbd0d2ef3f5/fb8a0/blog-override-page.png 590w,\n/static/58fc204037ec56de00a4acbd0d2ef3f5/ffad7/blog-override-page.png 807w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  </p>\n<h3 id=\"4-コンポーネント差し替え可能なテーマを作る\"><a href=\"#4-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E5%B7%AE%E3%81%97%E6%9B%BF%E3%81%88%E5%8F%AF%E8%83%BD%E3%81%AA%E3%83%86%E3%83%BC%E3%83%9E%E3%82%92%E4%BD%9C%E3%82%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4. コンポーネント差し替え可能なテーマを作る</h3>\n<p>今まで作ったテーマでは、ページで使うコンポーネントだけをを差し替えるようなことはできません。\nここではコンポーネントだけを差し替えられるようなテーマを作ります。<br>\n<small><a href=\"https://github.com/Takumon/my-gatsby-theme-sample/tree/master/themes/gatsby-blog-component-replacement-theme\">ソース</a>、<a href=\"https://github.com/Takumon/my-gatsby-theme-sample/commit/c9a14eb985ffcbc7c639ae82512c8a507ad149e1\">参考コミット</a></small></p>\n<h4 id=\"4-1-gatsby-nodejs修正\"><a href=\"#4-1-gatsby-nodejs%E4%BF%AE%E6%AD%A3\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4-1. gatsby-node.js修正</h4>\n<p>gatsby-node.jsでコンポーネントだけ差し替えられるようにします。このときコンテンツ側の差し替え資産配置場所を決めます。\nここでは<code class=\"language-text\">src/components/gatsby-blog-component-replacement-theme--component</code>を指定しています。\nまたエイリアスを設定して<code class=\"language-text\">gatsby-blog-component-replacement-theme--component/コンポーネント名</code>でimportできるようにしています。\n※これも自力実装です。</p>\n<div class=\"gatsby-code-title\">gatsby-node.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// テーマ差し替え用フォルダを指定して</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token comment\">// ユーザがフォルダ配下にコンポーネントを配置している場合、テーマで用意したものと差し替えるようにする</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token constant\">THEME_PREFIX</span> <span class=\"token operator\">=</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme--component'</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">const</span> <span class=\"token constant\">RELATIVE_DIR_PATH_OF_REPLACEMENT_COMPONETS</span> <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`./src/components/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">THEME_PREFIX</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreateWebpackConfig</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> actions<span class=\"token punctuation\">,</span> store <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// ユーザが作成したコンポーネント読み込んで</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token comment\">// エイリアスを作成する</span>\n</span><span class=\"gatsby-highlight-code-line\">  <span class=\"token keyword\">const</span> userComponents <span class=\"token operator\">=</span> fs\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">.</span><span class=\"token function\">readdirSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token constant\">RELATIVE_DIR_PATH_OF_REPLACEMENT_COMPONETS</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n</span><span class=\"gatsby-highlight-code-line\">    <span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token punctuation\">(</span>acc<span class=\"token punctuation\">,</span> componentName<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token operator\">...</span>acc<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token punctuation\">[</span><span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">THEME_PREFIX</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>componentName<span class=\"token punctuation\">.</span><span class=\"token function\">substr</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> componentName<span class=\"token punctuation\">.</span><span class=\"token function\">lastIndexOf</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">RELATIVE_DIR_PATH_OF_REPLACEMENT_COMPONETS</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>componentName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span>\n</span>        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">)</span>\n\n  <span class=\"token comment\">// エイリアス設定でユーザが作成したコンポーネントを先に定義することで</span>\n  <span class=\"token comment\">// ユーザが作成したコンポーネントを優先的に読み込むようにする</span>\n  actions<span class=\"token punctuation\">.</span><span class=\"token function\">setWebpackConfig</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n    resolve<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n      alias<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span>userComponents<span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">[</span><span class=\"token constant\">THEME_PREFIX</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">join</span><span class=\"token punctuation\">(</span>__dirname<span class=\"token punctuation\">,</span> <span class=\"token string\">'./src/components'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n\n<span class=\"token comment\">// ユーザがsrc/pages未作成の場合にエラーになるのを防ぐため、無ければ作成する</span>\n<span class=\"token comment\">// RELATIVE_DIR_PATH_OF_REPLACEMENT_COMPONETSも同様</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onPreBootstrap</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> store <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> program <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> store<span class=\"token punctuation\">.</span><span class=\"token function\">getState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">const</span> pageDir <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>program<span class=\"token punctuation\">.</span>directory<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/pages/`</span></span>\n  <span class=\"token keyword\">const</span> componentDir <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>program<span class=\"token punctuation\">.</span>directory<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/components/`</span></span>\n  <span class=\"token keyword\">const</span> replaceComponentDir <span class=\"token operator\">=</span> <span class=\"token template-string\"><span class=\"token string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>componentDir<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span><span class=\"token constant\">THEME_PREFIX</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/`</span></span>\n\n  <span class=\"token function\">mkdir</span><span class=\"token punctuation\">(</span>pageDir<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">mkdir</span><span class=\"token punctuation\">(</span>componentDir<span class=\"token punctuation\">)</span>\n  <span class=\"token function\">mkdir</span><span class=\"token punctuation\">(</span>replaceComponentDir<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">mkdir</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>fs<span class=\"token punctuation\">.</span><span class=\"token function\">existsSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    fs<span class=\"token punctuation\">.</span><span class=\"token function\">mkdirSync</span><span class=\"token punctuation\">(</span>path<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"4-2-ページ修正\"><a href=\"#4-2-%E3%83%9A%E3%83%BC%E3%82%B8%E4%BF%AE%E6%AD%A3\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4-2. ページ修正</h4>\n<p>各ページのimport文を上記で指定したエイリアスに修正します。</p>\n<div class=\"gatsby-code-title\">src/pages/404.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// コンポーネント読み込みはgatsby-node.jsで指定したファイルパスから読み込む</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme--component/Layout'</span></code></pre></div>\n<div class=\"gatsby-code-title\">src/pages/index.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// コンポーネント読み込みはgatsby-node.jsで指定したファイルパスから読み込む</span>\n<span class=\"token keyword\">import</span> Bio <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme--component/Bio'</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme--component/Layout'</span></code></pre></div>\n<div class=\"gatsby-code-title\">src/templates/blog-post.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// コンポーネント読み込みはgatsby-node.jsで指定したファイルパスから読み込む</span>\n<span class=\"token keyword\">import</span> Bio <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme--component/Bio'</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme--component/Layout'</span></code></pre></div>\n<h3 id=\"5-コンポーネントを差し替えてみる\"><a href=\"#5-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E5%B7%AE%E3%81%97%E6%9B%BF%E3%81%88%E3%81%A6%E3%81%BF%E3%82%8B\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5. コンポーネントを差し替えてみる</h3>\n<p>前手順で作ったテーマを使い、コンポーネントのみを差し替えてみます。<br>\n<small><a href=\"https://github.com/Takumon/my-gatsby-theme-sample/tree/master/ui-surfaces/blog-component-replacement\">ソース</a>、<a href=\"https://github.com/Takumon/my-gatsby-theme-sample/commit/c9a14eb985ffcbc7c639ae82512c8a507ad149e1\">参考コミット</a></small></p>\n<h4 id=\"5-1-コンポーネント作成\"><a href=\"#5-1-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E4%BD%9C%E6%88%90\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5-1. コンポーネント作成</h4>\n<p>src/components/gatsby-blog-component-replacement-theme--component/Bio.jsを作成します。</p>\n<div class=\"gatsby-code-title\">src/components/gatsby-blog-component-replacement-theme--component/Bio.jsの一部</div>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token comment\">// 上書きするコンポーネントからもテーマ資産は使える</span>\n<span class=\"token keyword\">import</span> profilePic <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme/src/components/profile-pic.jpg'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> rhythm <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'gatsby-blog-component-replacement-theme/src/utils/typography'</span>\n\n<span class=\"token comment\">// テーマ側で指定したフォルダ配下にテーマ資産と同名でコンポーネントを作成して上書きする</span>\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Bio</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token comment\">// ･･･</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"5-2-動作確認\"><a href=\"#5-2-%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5-2. 動作確認</h4>\n<p>これでブログを立ち上げると、記事一覧ページでBioコンポーネントだけ差し替わっていることが確認できます。</p>\n<p>\n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 92.3172242874845%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAACBklEQVQ4y6VT227aQBD1p/Ylgrymr/xUVSG1IgmkKUEgCi1QcYvBdhAmLvjGHXv3ZNZgy45o67QjHc3sePdo5sxYen/x7sfV1YXz8cPnX6ViaX5zcz0vFArzYrEY+FwuN89ms4TM/DJ7eYqTyGSEP36Tqg/lSbv9Har6hOlUh/ZEXp9h9mxgYZp4lGXU63XcFr/iy0MF5VoDjUYTjfsSmneEZhPVagWV8j3lv0E6eJ4KMsd1mGVZ3DRNblk2XyxMbts2D833GfcZ4yxMMF8kOY4HzsSZTPJ9XxOEo9GItVotdDod9Ho9DAYD9Pt9MMbw2ujd0cfi8Cx5nhcQDodDpus6xuMxut0uarUa8vk8VqtVRJIGEaEsy4xIhQ8qE5UK7bbbbaKqv1lEKITY7/fY7XYgGaILIg7bTkMaEdJDJtqjoYCGA9d1A2w2G9CdfyMUFR4OBwj/+vGbW6YVYaqqYjKZQNO0hHZpEN6NCEk7tlwuBXFCs7eQJSokC1g8z0/dXkgUL0AizY57+LPNZEXDer0OqjQMI4C5WMB1HIKNJQ3JsS3yTgCbYrEV8W4kGkBAWL39xBq1Cv3HOhRFIai0k49QpgZGzy6Gug155mA0s6EYbhA7yzX82AYkNAxbFuUnNBI5fh7nNkAQquFi89PvmQT/Lc5ZvML0k/jTHtJQxqdWPYL/v3gBZgFX0n6srxwAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"blog-override-page\"\n        title=\"\"\n        src=\"/static/58fc204037ec56de00a4acbd0d2ef3f5/fb8a0/blog-override-page.png\"\n        srcset=\"/static/58fc204037ec56de00a4acbd0d2ef3f5/1a291/blog-override-page.png 148w,\n/static/58fc204037ec56de00a4acbd0d2ef3f5/2bc4a/blog-override-page.png 295w,\n/static/58fc204037ec56de00a4acbd0d2ef3f5/fb8a0/blog-override-page.png 590w,\n/static/58fc204037ec56de00a4acbd0d2ef3f5/ffad7/blog-override-page.png 807w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  </p>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>Gatsby themeは発展途上の機能なので、パス設定などは自力でやる必要があります。ただこれらについても積極的に開発が行われているようです。\n将来的にはGatsby Starterのように全テーマ一覧が開設されて、すきなテーマを選べる、かつ気軽に変更できる、かつ気軽にコンテンツ側でカスタマイズできるみたいなことを期待しています🍅</p>\n<h2 id=\"参考\"><a href=\"#%E5%8F%82%E8%80%83\" aria-hidden class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li>\n<p><a href=\"https://www.gatsbyjs.org/blog/2018-11-11-introd%20ucing-gatsby-themes/\">Gatsby theme | Gatsby blog</a></p>\n<ul>\n<li><a href=\"https://github.com/ChristopherBiscardi\">ChristopherBiscardi</a>さんが書いたGastby themeの紹介ブログです。</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://github.com/ChristopherBiscardi/gatsby-theme-examples\">gatsby-theme-examples | GitHub</a></p>\n<ul>\n<li><a href=\"https://github.com/gatsbyjs/gatsby-starter-blog\">Gatsby-starter-blog</a>をtheme化したサンプルです。</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://www.npmjs.com/package/gatsby-theme-blog\">gatsby-theme-blog | npm</a></p>\n<ul>\n<li>上記サンプルのthemeがnpmライブラリとして公開されています。</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://spectrum.chat/gatsby-themes\">gatsby-themes | spectrum</a></p>\n<ul>\n<li>最新情報はspectrumで入手できます。</li>\n</ul>\n</li>\n</ul>","headingsDetail":[{"id":"なにこれ","value":"なにこれ","depth":2,"parents":[]},{"id":"gatsby-themeはどんな問題を解決してくれるか","value":"Gatsby themeはどんな問題を解決してくれるか","depth":2,"parents":[]},{"id":"gatsby-themeの概要","value":"Gatsby themeの概要","depth":2,"parents":[]},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2,"parents":[]},{"id":"1-とりあえずテーマを作る","value":"1. とりあえずテーマを作る","depth":3,"parents":[{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"1-1-設定ファイルgatsby-configjs修正","value":"1-1. 設定ファイル(gatsby-config.js)修正","depth":4,"parents":[{"id":"1-とりあえずテーマを作る","value":"1. とりあえずテーマを作る","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"1-2-ファイルパス設定ユーティリティwith-theme-pathjs作成","value":"1-2. ファイルパス設定ユーティリティ(with-theme-path.js)作成","depth":4,"parents":[{"id":"1-とりあえずテーマを作る","value":"1. とりあえずテーマを作る","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"1-3-gatsby-nodejs修正","value":"1-3. gatsby-node.js修正","depth":4,"parents":[{"id":"1-とりあえずテーマを作る","value":"1. とりあえずテーマを作る","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"1-4-indexjs作成","value":"1-4. index.js作成","depth":4,"parents":[{"id":"1-とりあえずテーマを作る","value":"1. とりあえずテーマを作る","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"1-5-srccomponentslayoutjs修正","value":"1-5. src/components/Layout.js修正","depth":4,"parents":[{"id":"1-とりあえずテーマを作る","value":"1. とりあえずテーマを作る","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"2-とりあえずテーマを使ってみる","value":"2. とりあえずテーマを使ってみる","depth":3,"parents":[{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"2-1-設定ファイルgatsby-configjs作成","value":"2-1. 設定ファイル(gatsby-config.js)作成","depth":4,"parents":[{"id":"2-とりあえずテーマを使ってみる","value":"2. とりあえずテーマを使ってみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"2-2-packagejson作成","value":"2-2. package.json作成","depth":4,"parents":[{"id":"2-とりあえずテーマを使ってみる","value":"2. とりあえずテーマを使ってみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"2-3-srcpages配下に記事作成","value":"2-3. src/pages配下に記事作成","depth":4,"parents":[{"id":"2-とりあえずテーマを使ってみる","value":"2. とりあえずテーマを使ってみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"2-4-srcassetsgatsby-iconpng配置","value":"2-4. src/assets/gatsby-icon.png配置","depth":4,"parents":[{"id":"2-とりあえずテーマを使ってみる","value":"2. とりあえずテーマを使ってみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"2-5-動作確認","value":"2-5. 動作確認","depth":4,"parents":[{"id":"2-とりあえずテーマを使ってみる","value":"2. とりあえずテーマを使ってみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"3-テーマのページを上書きしてみる","value":"3. テーマのページを上書きしてみる","depth":3,"parents":[{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"3-1-記事詳細ページ作成","value":"3-1. 記事詳細ページ作成","depth":4,"parents":[{"id":"3-テーマのページを上書きしてみる","value":"3. テーマのページを上書きしてみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"3-2-動作確認","value":"3-2. 動作確認","depth":4,"parents":[{"id":"3-テーマのページを上書きしてみる","value":"3. テーマのページを上書きしてみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"4-コンポーネント差し替え可能なテーマを作る","value":"4. コンポーネント差し替え可能なテーマを作る","depth":3,"parents":[{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"4-1-gatsby-nodejs修正","value":"4-1. gatsby-node.js修正","depth":4,"parents":[{"id":"4-コンポーネント差し替え可能なテーマを作る","value":"4. コンポーネント差し替え可能なテーマを作る","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"4-2-ページ修正","value":"4-2. ページ修正","depth":4,"parents":[{"id":"4-コンポーネント差し替え可能なテーマを作る","value":"4. コンポーネント差し替え可能なテーマを作る","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"5-コンポーネントを差し替えてみる","value":"5. コンポーネントを差し替えてみる","depth":3,"parents":[{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"5-1-コンポーネント作成","value":"5-1. コンポーネント作成","depth":4,"parents":[{"id":"5-コンポーネントを差し替えてみる","value":"5. コンポーネントを差し替えてみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"5-2-動作確認","value":"5-2. 動作確認","depth":4,"parents":[{"id":"5-コンポーネントを差し替えてみる","value":"5. コンポーネントを差し替えてみる","depth":3},{"id":"gatsby-themeの作り方","value":"Gatsby themeの作り方","depth":2}]},{"id":"まとめ","value":"まとめ","depth":2,"parents":[]},{"id":"参考","value":"参考","depth":2,"parents":[]}],"fields":{"title":"Gatsby themeを使ってみる","excerpt":"なにこれ下記の記事を読んで、実験的に追加されたGatsby themeで何ができるのかサンプル作って試してみました。そのときのメモです。Gatsby themeはどんな問題を解決してくれるかGatsbyはスキャフォールド機能があって初期導入...","date":"2018-11-24T23:40:00.000+09:00","tags":["Gatsby","Gatsby theme"],"thumbnail":""}}},"pageContext":{"slug":"/2018/11/24/","relatedPosts":[{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"GatsbyでRelated Content(関連記事)を表示する / Hugoの関連記事機能をGatsbyに移植した","date":"2019-02-09T17:00:00.000+09:00","excerpt":"なにこれブログでよく見かけるUIのひとつに関連記事リンクあります。記事下部に関連記事リンクを設けておくと、記事を読み終えたユーザーが、また別の記事を見てくれる可能性が上がるので、回遊率向上という観点で非常に効果的なUIです。そんな関連記事リ...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyショーケースに自分のWebサイトを登録する方法","date":"2019-01-15T22:00:00.000+09:00","excerpt":"なにこれGatsbyの公式サイトにはショーケースなるものがあって、世の中に公開されているGatsby製のWebサイトを一覧で見ることができます。実はこのショーケース、けっこう簡単に自分のWebサイトを登録できるということに最近気づきました。...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},{"fields":{"slug":"/2018/10/14/","title":"Gatsbyにおけるコンポーネント分割とCSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"なにこれGatsbyでブログを作っていて、機能拡張とともにテンプレートが肥大化してきたので、下記図の青枠単位でコンポーネント分割しました。あわせてCSS Moduleも採用しました。そのときのメモです。CSSをコンポーネントスコープにする方...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":""}},{"fields":{"slug":"/2018/10/12/","title":"Gatsby2系の新機能","date":"2018-10-12T12:00:00.000Z","excerpt":"なにこれGatsby（React製の静的サイトジェネレーター）が2018年9月に2系にアップデートしたそうです。2系の新機能について、公式ブログ(Announcing Gatsby 2.0.0)を参考に、主要な部分をピックアップして紹介しま...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":""}},{"fields":{"slug":"/2018/10/08/","title":"GatsbyでPWA対応","date":"2018-10-08T12:00:00.000Z","excerpt":"なにこれスマホでネイティブアプリっぽいUXを実現するため、GatsbyでPWA対応した時のメモです。以下の4つが可能になりました。前提ServiceWorkerを利用するため、SSL化が必須です。そのためブログはhttpsでアクセスできるよ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":""}}],"latestPosts":[{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncにおいてリゾルバーでユーザのカスタム属性を取得する方法","date":"2019-04-13T07:14:40.000+09:00","excerpt":"なにこれAppSync + Cognitoにおける認可制御について以前の記事で説明しました。今回は、ユーザーのカスタム属性を使った認可制御（AppSyncのリゾルバーでカスタム属性を取得する方法）についてご紹介します。TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nでカスタムバリデーション作成時にロケールごとのエラーメッセージを設定する方法","date":"2019-04-07T14:10:00.000+09:00","excerpt":"なにこれVuetify + VeeValidateで入力チェックする際に、VueI18nを使ってエラーメッセージを多言語対応・共通化する場合に、カスタムバリデーションのエラーメッセージをロケールごとに設定する方法について紹介します。実装方法...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},{"fields":{"slug":"/vuetify-select-tag","title":"VuetifyでSelectタグを使う時の注意点","date":"2019-03-24T23:55:00.000+09:00","excerpt":"なにこれ最近Vue.jsのマテリアルデザインのUIフレームワーク「Vuetify」を使っています。とても便利で、管理アプリのようにデザインにこだわる必要がなければ、CSSをほとんど書かずに済むくらいコンポーネントが充実しています。ただSel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}},{"fields":{"slug":"/aws-appsync-auth-with-cognito","title":"AppSync + Cognitoによる認可制御","date":"2019-03-17T17:45:00.000+09:00","excerpt":"なにこれAppSyncはCognitoと連携して認可制御ができます。今回はそのやり方についてご紹介します。ざっくりいうと以下のようなことが実現可能です。✨スキーマ定義におけるQueryやMutationごとの認可制御（ユーザーグループ）💎...","tags":["AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/03/aws-appsync-auth-with-cognito.png"}},{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkによるソースコードの構成管理","date":"2019-03-04T07:50:00.000+09:00","excerpt":"なにこれAWSのGraphQLマネージドサービス「AppSync」はGUIで簡単に設定ができて便利ですが、本格的に開発を進めていくとGUIポチポチでソースコードを管理するのはつらくなってきます。Serverless Frameworkという...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}}],"previous":{"fields":{"slug":"/2018/11/18/","title":"ファイル名を指定して実行（windows + r）をランチャーとして使う","date":"2018-11-18T12:00:00.000+09:00","excerpt":"なにこれ便利なランチャーは色々ありますが、Windows PCだと僕はファイル名を指定して実行（windows + r）をランチャー代わりにしています。この方法は、どんなWindows PCでもすぐに使えるというのが最大の利点です。PCリプ...","tags":["Windows","ランチャー"],"keywords":["ランチャー"],"thumbnail":""}},"next":{"fields":{"slug":"/2018/12/02/","title":"CSSのclip-pathでSlit Animationを実現する","date":"2018-12-02T16:00:00.000+09:00","excerpt":"なにこれSlit Animationを実現するReactコンポーネントをCSSのclip-pathを使って作りました。Slit Animation(スリットアニメーション)は下記のようなものです。コマ画像を縞々にして合成した画像に、スリット...","tags":["CSS","clip-path","React"],"keywords":["React"],"thumbnail":""}}}}