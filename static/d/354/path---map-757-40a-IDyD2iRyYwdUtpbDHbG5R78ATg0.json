{"pageContext":{"allPostRelations":[{"node":{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"Vuetifyã®DataTableã¨Paginationã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹","date":"2019-04-28T20:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®DataTableã¨Paginationã‚’ä½¿ã£ãŸæ¤œç´¢ä¸€è¦§ç”»é¢ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ãŸã„ã§ä¿å­˜ã—ã¦ãŠããŸã„ã€‚ã¨ã„ã†è¦æœ›ã‚’æº€ãŸã™ãŸã‚ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},"relations":[{"node":{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"Vuetifyã®Snackbarã§è¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã™ã‚‹æ–¹æ³•","date":"2019-04-21T21:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®Snackbarã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã—ã‹è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚ã“ã¡ã‚‰GitHubã§ã‚‚issueã«ãªã£ã¦ã„ã¾ã™ã€‚ãŸã UIã¨ã—ã¦ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°è¡¨ç¤ºã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ä»Šå›ã¯Vuetifyã®Snackbarã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nã§ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã™ã‚‹æ–¹æ³•","date":"2019-04-07T14:10:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹å ´åˆã«ã€ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã«è¨­å®šã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®Ÿè£…æ–¹æ³•...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-select-tag","title":"Vuetifyã§Selectã‚¿ã‚°ã‚’ä½¿ã†æ™‚ã®æ³¨æ„ç‚¹","date":"2019-03-24T23:55:00.000+09:00","excerpt":"ãªã«ã“ã‚Œæœ€è¿‘Vue.jsã®ãƒãƒ†ãƒªã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã®UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒVuetifyã€ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã€ç®¡ç†ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã“ã ã‚ã‚‹å¿…è¦ãŒãªã‘ã‚Œã°ã€CSSã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«æ¸ˆã‚€ãã‚‰ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚ãŸã Sel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±é€šåŒ–","date":"2019-03-02T12:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®šç¾©æ–¹æ³•VeeValidateVeeValidateã§ã‚ã‚‰ã‹ã˜ã‚è¨€èªæ¯ã«ã‚¨ãƒ©ãƒ¼ãƒ¡...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nã‚’scriptã‚¿ã‚°ã‚„JSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ã†æ–¹æ³•","date":"2019-02-21T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVueI18nã¯Vue.jsã®å¤šè¨€èªå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚vueãƒ•ã‚¡ã‚¤ãƒ«ã®templateã‚¿ã‚°ã§ã¯ã€&#x3C;p>{{$t('message.hello')}}&#x3C;/p>ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ãŸã vueãƒ•ã‚¡ã‚¤ãƒ«ã®scriptã‚¿ã‚°...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"Vuetifyã®Snackbarã§è¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã™ã‚‹æ–¹æ³•","date":"2019-04-21T21:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®Snackbarã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã—ã‹è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚ã“ã¡ã‚‰GitHubã§ã‚‚issueã«ãªã£ã¦ã„ã¾ã™ã€‚ãŸã UIã¨ã—ã¦ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°è¡¨ç¤ºã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ä»Šå›ã¯Vuetifyã®Snackbarã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},"relations":[{"node":{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"Vuetifyã®DataTableã¨Paginationã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹","date":"2019-04-28T20:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®DataTableã¨Paginationã‚’ä½¿ã£ãŸæ¤œç´¢ä¸€è¦§ç”»é¢ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ãŸã„ã§ä¿å­˜ã—ã¦ãŠããŸã„ã€‚ã¨ã„ã†è¦æœ›ã‚’æº€ãŸã™ãŸã‚ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nã§ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã™ã‚‹æ–¹æ³•","date":"2019-04-07T14:10:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹å ´åˆã«ã€ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã«è¨­å®šã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®Ÿè£…æ–¹æ³•...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-select-tag","title":"Vuetifyã§Selectã‚¿ã‚°ã‚’ä½¿ã†æ™‚ã®æ³¨æ„ç‚¹","date":"2019-03-24T23:55:00.000+09:00","excerpt":"ãªã«ã“ã‚Œæœ€è¿‘Vue.jsã®ãƒãƒ†ãƒªã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã®UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒVuetifyã€ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã€ç®¡ç†ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã“ã ã‚ã‚‹å¿…è¦ãŒãªã‘ã‚Œã°ã€CSSã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«æ¸ˆã‚€ãã‚‰ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚ãŸã Sel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±é€šåŒ–","date":"2019-03-02T12:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®šç¾©æ–¹æ³•VeeValidateVeeValidateã§ã‚ã‚‰ã‹ã˜ã‚è¨€èªæ¯ã«ã‚¨ãƒ©ãƒ¼ãƒ¡...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nã‚’scriptã‚¿ã‚°ã‚„JSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ã†æ–¹æ³•","date":"2019-02-21T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVueI18nã¯Vue.jsã®å¤šè¨€èªå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚vueãƒ•ã‚¡ã‚¤ãƒ«ã®templateã‚¿ã‚°ã§ã¯ã€&#x3C;p>{{$t('message.hello')}}&#x3C;/p>ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ãŸã vueãƒ•ã‚¡ã‚¤ãƒ«ã®scriptã‚¿ã‚°...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncã«ãŠã„ã¦ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2019-04-13T07:14:40.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSync + Cognitoã«ãŠã‘ã‚‹èªå¯åˆ¶å¾¡ã«ã¤ã„ã¦ä»¥å‰ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ä½¿ã£ãŸèªå¯åˆ¶å¾¡ï¼ˆAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼‰ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},"relations":[{"node":{"fields":{"slug":"/aws-appsync-auth-with-cognito","title":"AppSync + Cognitoã«ã‚ˆã‚‹èªå¯åˆ¶å¾¡","date":"2019-03-17T17:45:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã¯Cognitoã¨é€£æºã—ã¦èªå¯åˆ¶å¾¡ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ãã®ã‚„ã‚Šæ–¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚ã–ã£ãã‚Šã„ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ãŒå®Ÿç¾å¯èƒ½ã§ã™ã€‚âœ¨ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã«ãŠã‘ã‚‹Queryã‚„Mutationã”ã¨ã®èªå¯åˆ¶å¾¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ğŸ’...","tags":["AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/03/aws-appsync-auth-with-cognito.png"}},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"AWS"},{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"Cognito"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkã«ã‚ˆã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆç®¡ç†","date":"2019-03-04T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã¯GUIã§ç°¡å˜ã«è¨­å®šãŒã§ãã¦ä¾¿åˆ©ã§ã™ãŒã€æœ¬æ ¼çš„ã«é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¨GUIãƒãƒãƒãƒã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã®ã¯ã¤ã‚‰ããªã£ã¦ãã¾ã™ã€‚Serverless Frameworkã¨ã„ã†...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/mutliple-validation-errors-in-aws-appsync","title":"AWS AppSyncã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¤‡æ•°è¿”ã™æ–¹æ³•","date":"2019-02-26T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§DynamoDBã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€æ›´æ–°å‡¦ç†ã®å‰ã«å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã¯å¿…ãšå®Ÿæ–½ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®æ™‚ã€å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ãŸæ™‚ç‚¹ã§1ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯å®Ÿæ–½å¾Œã«ã¾ã¨ã‚ã¦ã‚¨ãƒ©...","tags":["AppSync","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nã§ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã™ã‚‹æ–¹æ³•","date":"2019-04-07T14:10:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹å ´åˆã«ã€ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã«è¨­å®šã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®Ÿè£…æ–¹æ³•...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},"relations":[{"node":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±é€šåŒ–","date":"2019-03-02T12:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®šç¾©æ–¹æ³•VeeValidateVeeValidateã§ã‚ã‚‰ã‹ã˜ã‚è¨€èªæ¯ã«ã‚¨ãƒ©ãƒ¼ãƒ¡...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},"matches":5,"weight":300,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"},{"weight":50,"keyword":"VeeValidate"},{"weight":50,"keyword":"VueI18n"}],"avgWeight":60,"totalWeight":56,"threshold":10,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"Vuetifyã®DataTableã¨Paginationã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹","date":"2019-04-28T20:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®DataTableã¨Paginationã‚’ä½¿ã£ãŸæ¤œç´¢ä¸€è¦§ç”»é¢ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ãŸã„ã§ä¿å­˜ã—ã¦ãŠããŸã„ã€‚ã¨ã„ã†è¦æœ›ã‚’æº€ãŸã™ãŸã‚ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"Vuetifyã®Snackbarã§è¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã™ã‚‹æ–¹æ³•","date":"2019-04-21T21:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®Snackbarã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã—ã‹è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚ã“ã¡ã‚‰GitHubã§ã‚‚issueã«ãªã£ã¦ã„ã¾ã™ã€‚ãŸã UIã¨ã—ã¦ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°è¡¨ç¤ºã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ä»Šå›ã¯Vuetifyã®Snackbarã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-select-tag","title":"Vuetifyã§Selectã‚¿ã‚°ã‚’ä½¿ã†æ™‚ã®æ³¨æ„ç‚¹","date":"2019-03-24T23:55:00.000+09:00","excerpt":"ãªã«ã“ã‚Œæœ€è¿‘Vue.jsã®ãƒãƒ†ãƒªã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã®UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒVuetifyã€ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã€ç®¡ç†ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã“ã ã‚ã‚‹å¿…è¦ãŒãªã‘ã‚Œã°ã€CSSã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«æ¸ˆã‚€ãã‚‰ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚ãŸã Sel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nã‚’scriptã‚¿ã‚°ã‚„JSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ã†æ–¹æ³•","date":"2019-02-21T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVueI18nã¯Vue.jsã®å¤šè¨€èªå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚vueãƒ•ã‚¡ã‚¤ãƒ«ã®templateã‚¿ã‚°ã§ã¯ã€&#x3C;p>{{$t('message.hello')}}&#x3C;/p>ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ãŸã vueãƒ•ã‚¡ã‚¤ãƒ«ã®scriptã‚¿ã‚°...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"VueI18n"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/vuetify-select-tag","title":"Vuetifyã§Selectã‚¿ã‚°ã‚’ä½¿ã†æ™‚ã®æ³¨æ„ç‚¹","date":"2019-03-24T23:55:00.000+09:00","excerpt":"ãªã«ã“ã‚Œæœ€è¿‘Vue.jsã®ãƒãƒ†ãƒªã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã®UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒVuetifyã€ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã€ç®¡ç†ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã“ã ã‚ã‚‹å¿…è¦ãŒãªã‘ã‚Œã°ã€CSSã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«æ¸ˆã‚€ãã‚‰ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚ãŸã Sel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}},"relations":[{"node":{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"Vuetifyã®DataTableã¨Paginationã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹","date":"2019-04-28T20:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®DataTableã¨Paginationã‚’ä½¿ã£ãŸæ¤œç´¢ä¸€è¦§ç”»é¢ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ãŸã„ã§ä¿å­˜ã—ã¦ãŠããŸã„ã€‚ã¨ã„ã†è¦æœ›ã‚’æº€ãŸã™ãŸã‚ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"Vuetifyã®Snackbarã§è¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã™ã‚‹æ–¹æ³•","date":"2019-04-21T21:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®Snackbarã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã—ã‹è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚ã“ã¡ã‚‰GitHubã§ã‚‚issueã«ãªã£ã¦ã„ã¾ã™ã€‚ãŸã UIã¨ã—ã¦ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°è¡¨ç¤ºã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ä»Šå›ã¯Vuetifyã®Snackbarã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nã§ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã™ã‚‹æ–¹æ³•","date":"2019-04-07T14:10:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹å ´åˆã«ã€ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã«è¨­å®šã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®Ÿè£…æ–¹æ³•...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±é€šåŒ–","date":"2019-03-02T12:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®šç¾©æ–¹æ³•VeeValidateVeeValidateã§ã‚ã‚‰ã‹ã˜ã‚è¨€èªæ¯ã«ã‚¨ãƒ©ãƒ¼ãƒ¡...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nã‚’scriptã‚¿ã‚°ã‚„JSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ã†æ–¹æ³•","date":"2019-02-21T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVueI18nã¯Vue.jsã®å¤šè¨€èªå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚vueãƒ•ã‚¡ã‚¤ãƒ«ã®templateã‚¿ã‚°ã§ã¯ã€&#x3C;p>{{$t('message.hello')}}&#x3C;/p>ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ãŸã vueãƒ•ã‚¡ã‚¤ãƒ«ã®scriptã‚¿ã‚°...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/aws-appsync-auth-with-cognito","title":"AppSync + Cognitoã«ã‚ˆã‚‹èªå¯åˆ¶å¾¡","date":"2019-03-17T17:45:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã¯Cognitoã¨é€£æºã—ã¦èªå¯åˆ¶å¾¡ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ãã®ã‚„ã‚Šæ–¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚ã–ã£ãã‚Šã„ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ãŒå®Ÿç¾å¯èƒ½ã§ã™ã€‚âœ¨ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã«ãŠã‘ã‚‹Queryã‚„Mutationã”ã¨ã®èªå¯åˆ¶å¾¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ğŸ’...","tags":["AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/03/aws-appsync-auth-with-cognito.png"}},"relations":[{"node":{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncã«ãŠã„ã¦ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2019-04-13T07:14:40.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSync + Cognitoã«ãŠã‘ã‚‹èªå¯åˆ¶å¾¡ã«ã¤ã„ã¦ä»¥å‰ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ä½¿ã£ãŸèªå¯åˆ¶å¾¡ï¼ˆAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼‰ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"AWS"},{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"Cognito"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkã«ã‚ˆã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆç®¡ç†","date":"2019-03-04T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã¯GUIã§ç°¡å˜ã«è¨­å®šãŒã§ãã¦ä¾¿åˆ©ã§ã™ãŒã€æœ¬æ ¼çš„ã«é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¨GUIãƒãƒãƒãƒã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã®ã¯ã¤ã‚‰ããªã£ã¦ãã¾ã™ã€‚Serverless Frameworkã¨ã„ã†...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/mutliple-validation-errors-in-aws-appsync","title":"AWS AppSyncã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¤‡æ•°è¿”ã™æ–¹æ³•","date":"2019-02-26T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§DynamoDBã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€æ›´æ–°å‡¦ç†ã®å‰ã«å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã¯å¿…ãšå®Ÿæ–½ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®æ™‚ã€å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ãŸæ™‚ç‚¹ã§1ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯å®Ÿæ–½å¾Œã«ã¾ã¨ã‚ã¦ã‚¨ãƒ©...","tags":["AppSync","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkã«ã‚ˆã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆç®¡ç†","date":"2019-03-04T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã¯GUIã§ç°¡å˜ã«è¨­å®šãŒã§ãã¦ä¾¿åˆ©ã§ã™ãŒã€æœ¬æ ¼çš„ã«é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¨GUIãƒãƒãƒãƒã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã®ã¯ã¤ã‚‰ããªã£ã¦ãã¾ã™ã€‚Serverless Frameworkã¨ã„ã†...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}},"relations":[{"node":{"fields":{"slug":"/mutliple-validation-errors-in-aws-appsync","title":"AWS AppSyncã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¤‡æ•°è¿”ã™æ–¹æ³•","date":"2019-02-26T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§DynamoDBã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€æ›´æ–°å‡¦ç†ã®å‰ã«å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã¯å¿…ãšå®Ÿæ–½ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®æ™‚ã€å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ãŸæ™‚ç‚¹ã§1ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯å®Ÿæ–½å¾Œã«ã¾ã¨ã‚ã¦ã‚¨ãƒ©...","tags":["AppSync","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"AppSync"},{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncã«ãŠã„ã¦ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2019-04-13T07:14:40.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSync + Cognitoã«ãŠã‘ã‚‹èªå¯åˆ¶å¾¡ã«ã¤ã„ã¦ä»¥å‰ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ä½¿ã£ãŸèªå¯åˆ¶å¾¡ï¼ˆAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼‰ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-auth-with-cognito","title":"AppSync + Cognitoã«ã‚ˆã‚‹èªå¯åˆ¶å¾¡","date":"2019-03-17T17:45:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã¯Cognitoã¨é€£æºã—ã¦èªå¯åˆ¶å¾¡ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ãã®ã‚„ã‚Šæ–¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚ã–ã£ãã‚Šã„ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ãŒå®Ÿç¾å¯èƒ½ã§ã™ã€‚âœ¨ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã«ãŠã‘ã‚‹Queryã‚„Mutationã”ã¨ã®èªå¯åˆ¶å¾¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ğŸ’...","tags":["AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/03/aws-appsync-auth-with-cognito.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±é€šåŒ–","date":"2019-03-02T12:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®šç¾©æ–¹æ³•VeeValidateVeeValidateã§ã‚ã‚‰ã‹ã˜ã‚è¨€èªæ¯ã«ã‚¨ãƒ©ãƒ¼ãƒ¡...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},"relations":[{"node":{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nã§ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã™ã‚‹æ–¹æ³•","date":"2019-04-07T14:10:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹å ´åˆã«ã€ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã«è¨­å®šã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®Ÿè£…æ–¹æ³•...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},"matches":5,"weight":300,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"},{"weight":50,"keyword":"VeeValidate"},{"weight":50,"keyword":"VueI18n"}],"avgWeight":60,"totalWeight":56,"threshold":10,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"Vuetifyã®DataTableã¨Paginationã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹","date":"2019-04-28T20:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®DataTableã¨Paginationã‚’ä½¿ã£ãŸæ¤œç´¢ä¸€è¦§ç”»é¢ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ãŸã„ã§ä¿å­˜ã—ã¦ãŠããŸã„ã€‚ã¨ã„ã†è¦æœ›ã‚’æº€ãŸã™ãŸã‚ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"Vuetifyã®Snackbarã§è¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã™ã‚‹æ–¹æ³•","date":"2019-04-21T21:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®Snackbarã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã—ã‹è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚ã“ã¡ã‚‰GitHubã§ã‚‚issueã«ãªã£ã¦ã„ã¾ã™ã€‚ãŸã UIã¨ã—ã¦ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°è¡¨ç¤ºã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ä»Šå›ã¯Vuetifyã®Snackbarã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-select-tag","title":"Vuetifyã§Selectã‚¿ã‚°ã‚’ä½¿ã†æ™‚ã®æ³¨æ„ç‚¹","date":"2019-03-24T23:55:00.000+09:00","excerpt":"ãªã«ã“ã‚Œæœ€è¿‘Vue.jsã®ãƒãƒ†ãƒªã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã®UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒVuetifyã€ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã€ç®¡ç†ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã“ã ã‚ã‚‹å¿…è¦ãŒãªã‘ã‚Œã°ã€CSSã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«æ¸ˆã‚€ãã‚‰ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚ãŸã Sel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"Vuetify"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nã‚’scriptã‚¿ã‚°ã‚„JSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ã†æ–¹æ³•","date":"2019-02-21T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVueI18nã¯Vue.jsã®å¤šè¨€èªå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚vueãƒ•ã‚¡ã‚¤ãƒ«ã®templateã‚¿ã‚°ã§ã¯ã€&#x3C;p>{{$t('message.hello')}}&#x3C;/p>ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ãŸã vueãƒ•ã‚¡ã‚¤ãƒ«ã®scriptã‚¿ã‚°...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"VueI18n"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/mutliple-validation-errors-in-aws-appsync","title":"AWS AppSyncã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¤‡æ•°è¿”ã™æ–¹æ³•","date":"2019-02-26T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§DynamoDBã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€æ›´æ–°å‡¦ç†ã®å‰ã«å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã¯å¿…ãšå®Ÿæ–½ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®æ™‚ã€å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ãŸæ™‚ç‚¹ã§1ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯å®Ÿæ–½å¾Œã«ã¾ã¨ã‚ã¦ã‚¨ãƒ©...","tags":["AppSync","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}},"relations":[{"node":{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkã«ã‚ˆã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆç®¡ç†","date":"2019-03-04T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã¯GUIã§ç°¡å˜ã«è¨­å®šãŒã§ãã¦ä¾¿åˆ©ã§ã™ãŒã€æœ¬æ ¼çš„ã«é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¨GUIãƒãƒãƒãƒã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã®ã¯ã¤ã‚‰ããªã£ã¦ãã¾ã™ã€‚Serverless Frameworkã¨ã„ã†...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"AppSync"},{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncã«ãŠã„ã¦ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2019-04-13T07:14:40.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSync + Cognitoã«ãŠã‘ã‚‹èªå¯åˆ¶å¾¡ã«ã¤ã„ã¦ä»¥å‰ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ä½¿ã£ãŸèªå¯åˆ¶å¾¡ï¼ˆAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼‰ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-auth-with-cognito","title":"AppSync + Cognitoã«ã‚ˆã‚‹èªå¯åˆ¶å¾¡","date":"2019-03-17T17:45:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã¯Cognitoã¨é€£æºã—ã¦èªå¯åˆ¶å¾¡ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ãã®ã‚„ã‚Šæ–¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚ã–ã£ãã‚Šã„ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ãŒå®Ÿç¾å¯èƒ½ã§ã™ã€‚âœ¨ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã«ãŠã‘ã‚‹Queryã‚„Mutationã”ã¨ã®èªå¯åˆ¶å¾¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ğŸ’...","tags":["AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/03/aws-appsync-auth-with-cognito.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/vue-i18n-in-script-tag","title":"VueI18nã‚’scriptã‚¿ã‚°ã‚„JSãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ä½¿ã†æ–¹æ³•","date":"2019-02-21T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVueI18nã¯Vue.jsã®å¤šè¨€èªå¯¾å¿œãƒ©ã‚¤ãƒ–ãƒ©ãƒªã§ã™ã€‚vueãƒ•ã‚¡ã‚¤ãƒ«ã®templateã‚¿ã‚°ã§ã¯ã€&#x3C;p>{{$t('message.hello')}}&#x3C;/p>ã®ã‚ˆã†ã«ä½¿ã„ã¾ã™ã€‚ãŸã vueãƒ•ã‚¡ã‚¤ãƒ«ã®scriptã‚¿ã‚°...","tags":["Vue.js","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/02/vue-i18n-in-script-tag.png"}},"relations":[{"node":{"fields":{"slug":"/vee-validate-custom-validation-locale-message","title":"Vuetify + VeeValidate + VueI18nã§ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ä½œæˆæ™‚ã«ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¨­å®šã™ã‚‹æ–¹æ³•","date":"2019-04-07T14:10:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹å ´åˆã«ã€ã‚«ã‚¹ã‚¿ãƒ ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãƒ­ã‚±ãƒ¼ãƒ«ã”ã¨ã«è¨­å®šã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®Ÿè£…æ–¹æ³•...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vee-validate-custom-validation-locale-message.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"VueI18n"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-and-vee-validate-and-vue-i18n","title":"Vuetify + VeeValidate + VueI18nã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…±é€šåŒ–","date":"2019-03-02T12:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetify + VeeValidateã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã™ã‚‹éš›ã«ã€VueI18nã‚’ä½¿ã£ã¦ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å¤šè¨€èªå¯¾å¿œãƒ»å…±é€šåŒ–ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚å®šç¾©æ–¹æ³•VeeValidateVeeValidateã§ã‚ã‚‰ã‹ã˜ã‚è¨€èªæ¯ã«ã‚¨ãƒ©ãƒ¼ãƒ¡...","tags":["Vue.js","Vuetify","VeeValidate","VueI18n"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-and-vee-validate-and-vue-i18n.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"},{"weight":50,"keyword":"VueI18n"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-datatable-and-pagination-with-vuex","title":"Vuetifyã®DataTableã¨Paginationã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹","date":"2019-04-28T20:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®DataTableã¨Paginationã‚’ä½¿ã£ãŸæ¤œç´¢ä¸€è¦§ç”»é¢ã§ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’ã€ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ã¾ãŸã„ã§ä¿å­˜ã—ã¦ãŠããŸã„ã€‚ã¨ã„ã†è¦æœ›ã‚’æº€ãŸã™ãŸã‚ã€ãƒšãƒ¼ã‚¸ãƒ³ã‚°ã®çŠ¶æ…‹ã‚’Vuexã§ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚DataTabl...","tags":["Vue.js","Vuetify","Vuex"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/vuetify-datatable-and-pagination-with-vuex.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/multi-message-snackbar-in-vuetify","title":"Vuetifyã®Snackbarã§è¤‡æ•°ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã™ã‚‹æ–¹æ³•","date":"2019-04-21T21:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒVuetifyã®Snackbarã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’1ã¤ã—ã‹è¡¨ç¤ºã§ãã¾ã›ã‚“ã€‚ã“ã¡ã‚‰GitHubã§ã‚‚issueã«ãªã£ã¦ã„ã¾ã™ã€‚ãŸã UIã¨ã—ã¦ã¯ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¤‡æ•°è¡¨ç¤ºã§ããŸã»ã†ãŒä¾¿åˆ©ãªã®ã§ã€ä»Šå›ã¯Vuetifyã®Snackbarã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ¡ãƒƒã‚»...","tags":["Vuetify","Vue.js"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/04/multi-message-snackbar-in-vuetify.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/vuetify-select-tag","title":"Vuetifyã§Selectã‚¿ã‚°ã‚’ä½¿ã†æ™‚ã®æ³¨æ„ç‚¹","date":"2019-03-24T23:55:00.000+09:00","excerpt":"ãªã«ã“ã‚Œæœ€è¿‘Vue.jsã®ãƒãƒ†ãƒªã‚¢ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ã®UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã€ŒVuetifyã€ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã€ç®¡ç†ã‚¢ãƒ—ãƒªã®ã‚ˆã†ã«ãƒ‡ã‚¶ã‚¤ãƒ³ã«ã“ã ã‚ã‚‹å¿…è¦ãŒãªã‘ã‚Œã°ã€CSSã‚’ã»ã¨ã‚“ã©æ›¸ã‹ãšã«æ¸ˆã‚€ãã‚‰ã„ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå……å®Ÿã—ã¦ã„ã¾ã™ã€‚ãŸã Sel...","tags":["Vue.js","Vuetify"],"keywords":["Vue.js"],"thumbnail":"/thumbnail/2019/03/vuetify-select-tag.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Vue.js"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"relations":[{"node":{"fields":{"slug":"/nuxt-apollo-with-graphpack","title":"Nuxt.jsï¼‹Apollo Clientã§CRUDæ“ä½œ / ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã§Query, Mutation, Subscriptionã‚’å®Ÿè£…","date":"2019-02-12T07:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä»¥å‰ã®è¨˜äº‹è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ã§GraphQLã®ã‚µãƒ¼ãƒãƒ¼å´ã‚’å®Ÿè£…ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚Graphpackã¯å‚™ãˆä»˜ã‘ã®GraphQL Playground IDEã§å‹•ä½œç¢ºèªã§ãã¾ã™ãŒã€ã›...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/nuxt-apollo-with-graphpack.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/graphpack-graphql-zero-config-server","title":"è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ / Query, Mutation, Subscriptionã‚’è©¦ã™","date":"2019-01-23T19:50:00.000+09:00","excerpt":"ãªã«ã“ã‚Œã€Œã¨ã‚Šã‚ãˆãšã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨åŒã˜JavaScriptã§æ‰‹ã£å–ã‚Šæ—©ãGraphQLã‚µãƒ¼ãƒãƒ¼ç«‹ã¦ãŸã„ï¼ã€ã“ã®ã‚ˆã†ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«Graphpackã¯ãƒ”ãƒƒã‚¿ãƒªã§ã™ã€‚è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã§ ã€ŒGraphQLã®ã‚¹ã‚­ãƒ¼ãƒ...","tags":["GraphQL","Graphpack"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/graphpack-graphql-zero-config-server.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/hello-nuxt-graphql-with-apollo-client","title":"Nuxt.jsï¼‹Apolloï¼‹GraphQLã‚’ã‚µã‚¯ãƒƒã¨å­¦ã¹ãŸ /ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ","date":"2019-01-07T19:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒNuxt.jsï¼‹GraphQLã®çŸ¥è­˜ãŒã“ã‚Œã‹ã‚‰å¿…è¦ã«ãªã‚‹ã®ã§ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ã¨ã“ã‚ã€éå¸¸ã«ã‚µã‚¯ã£ã¨å­¦ã¶ã“ã¨ãŒã§ããŸã®ã§æ„Ÿæƒ³ã‚’æ›¸ãã¾ã™ã€‚GraphQLã§ã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ã™ã‚‹ã«ã¯ã€Œ...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js","èª­æ›¸æ„Ÿæƒ³"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/hello-nuxt-graphql-with-apollo-client.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-and-serverless-framework","title":"AppSync + Serverless Frameworkã«ã‚ˆã‚‹ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®æ§‹æˆç®¡ç†","date":"2019-03-04T07:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã¯GUIã§ç°¡å˜ã«è¨­å®šãŒã§ãã¦ä¾¿åˆ©ã§ã™ãŒã€æœ¬æ ¼çš„ã«é–‹ç™ºã‚’é€²ã‚ã¦ã„ãã¨GUIãƒãƒãƒãƒã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç®¡ç†ã™ã‚‹ã®ã¯ã¤ã‚‰ããªã£ã¦ãã¾ã™ã€‚Serverless Frameworkã¨ã„ã†...","tags":["AppSync","serverless","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/03/aws-appsync-and-serverless-framework.png"}},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/mutliple-validation-errors-in-aws-appsync","title":"AWS AppSyncã§å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¤‡æ•°è¿”ã™æ–¹æ³•","date":"2019-02-26T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§DynamoDBã®ãƒ‡ãƒ¼ã‚¿ã‚’æ›´æ–°ã™ã‚‹å ´åˆã€æ›´æ–°å‡¦ç†ã®å‰ã«å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã¯å¿…ãšå®Ÿæ–½ã™ã‚‹ã¨æ€ã„ã¾ã™ã€‚ã“ã®æ™‚ã€å…¥åŠ›ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ©ãƒ¼ã‚’è¦‹ã¤ã‘ãŸæ™‚ç‚¹ã§1ã¤ã®ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¿”ã™ã‚ˆã‚Šã€ã™ã¹ã¦ã®ãƒã‚§ãƒƒã‚¯å®Ÿæ–½å¾Œã«ã¾ã¨ã‚ã¦ã‚¨ãƒ©...","tags":["AppSync","AWS","GraphQL"],"keywords":["AppSync"],"thumbnail":"/thumbnail/2019/02/mutliple-validation-errors-in-aws-appsync.png"}},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito","title":"Amplify + Cognito + AppSyncã«ãŠã„ã¦ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ãƒ¦ãƒ¼ã‚¶ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•","date":"2019-04-13T07:14:40.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSync + Cognitoã«ãŠã‘ã‚‹èªå¯åˆ¶å¾¡ã«ã¤ã„ã¦ä»¥å‰ã®è¨˜äº‹ã§èª¬æ˜ã—ã¾ã—ãŸã€‚ä»Šå›ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’ä½¿ã£ãŸèªå¯åˆ¶å¾¡ï¼ˆAppSyncã®ãƒªã‚¾ãƒ«ãƒãƒ¼ã§ã‚«ã‚¹ã‚¿ãƒ å±æ€§ã‚’å–å¾—ã™ã‚‹æ–¹æ³•ï¼‰ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚TL;DRAppSyn...","tags":["Amplify","AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/04/how-to-get-user-custom-attributes-in-resolver-with-amplify-appsync-cognito.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-auth-with-cognito","title":"AppSync + Cognitoã«ã‚ˆã‚‹èªå¯åˆ¶å¾¡","date":"2019-03-17T17:45:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAppSyncã¯Cognitoã¨é€£æºã—ã¦èªå¯åˆ¶å¾¡ãŒã§ãã¾ã™ã€‚ä»Šå›ã¯ãã®ã‚„ã‚Šæ–¹ã«ã¤ã„ã¦ã”ç´¹ä»‹ã—ã¾ã™ã€‚ã–ã£ãã‚Šã„ã†ã¨ä»¥ä¸‹ã®ã‚ˆã†ãªã“ã¨ãŒå®Ÿç¾å¯èƒ½ã§ã™ã€‚âœ¨ã‚¹ã‚­ãƒ¼ãƒå®šç¾©ã«ãŠã‘ã‚‹Queryã‚„Mutationã”ã¨ã®èªå¯åˆ¶å¾¡ï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚°ãƒ«ãƒ¼ãƒ—ï¼‰ğŸ’...","tags":["AppSync","AWS","Cognito"],"keywords":["AWS"],"thumbnail":"/thumbnail/2019/03/aws-appsync-auth-with-cognito.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"AppSync"},{"weight":50,"keyword":"AWS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/nuxt-apollo-with-graphpack","title":"Nuxt.jsï¼‹Apollo Clientã§CRUDæ“ä½œ / ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã§Query, Mutation, Subscriptionã‚’å®Ÿè£…","date":"2019-02-12T07:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä»¥å‰ã®è¨˜äº‹è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ã§GraphQLã®ã‚µãƒ¼ãƒãƒ¼å´ã‚’å®Ÿè£…ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚Graphpackã¯å‚™ãˆä»˜ã‘ã®GraphQL Playground IDEã§å‹•ä½œç¢ºèªã§ãã¾ã™ãŒã€ã›...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/nuxt-apollo-with-graphpack.png"}},"relations":[{"node":{"fields":{"slug":"/hello-nuxt-graphql-with-apollo-client","title":"Nuxt.jsï¼‹Apolloï¼‹GraphQLã‚’ã‚µã‚¯ãƒƒã¨å­¦ã¹ãŸ /ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ","date":"2019-01-07T19:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒNuxt.jsï¼‹GraphQLã®çŸ¥è­˜ãŒã“ã‚Œã‹ã‚‰å¿…è¦ã«ãªã‚‹ã®ã§ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ã¨ã“ã‚ã€éå¸¸ã«ã‚µã‚¯ã£ã¨å­¦ã¶ã“ã¨ãŒã§ããŸã®ã§æ„Ÿæƒ³ã‚’æ›¸ãã¾ã™ã€‚GraphQLã§ã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ã™ã‚‹ã«ã¯ã€Œ...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js","èª­æ›¸æ„Ÿæƒ³"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/hello-nuxt-graphql-with-apollo-client.png"}},"matches":5,"weight":300,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"},{"weight":50,"keyword":"Nuxt.js"},{"weight":50,"keyword":"Apollo Client"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":60,"totalWeight":56,"threshold":10,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/graphpack-graphql-zero-config-server","title":"è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ / Query, Mutation, Subscriptionã‚’è©¦ã™","date":"2019-01-23T19:50:00.000+09:00","excerpt":"ãªã«ã“ã‚Œã€Œã¨ã‚Šã‚ãˆãšã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨åŒã˜JavaScriptã§æ‰‹ã£å–ã‚Šæ—©ãGraphQLã‚µãƒ¼ãƒãƒ¼ç«‹ã¦ãŸã„ï¼ã€ã“ã®ã‚ˆã†ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«Graphpackã¯ãƒ”ãƒƒã‚¿ãƒªã§ã™ã€‚è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã§ ã€ŒGraphQLã®ã‚¹ã‚­ãƒ¼ãƒ...","tags":["GraphQL","Graphpack"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/graphpack-graphql-zero-config-server.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"relations":[{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/mdx-deck-and-code-surfer","title":"WEBã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‹‰å¼·ä¼š åˆLTæ„Ÿæƒ³ã¨å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆ / ã€ŒMDX-Deckã¨Code Surferã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚ã†ï¼ã€è£œè¶³æƒ…å ±","date":"2019-02-03T17:15:00.000+09:00","excerpt":"ãªã«ã“ã‚Œ2019/2/1(é‡‘)ã€WEBã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‹‰å¼·ä¼š #11ã§LTã—ã¦ãã¾ã—ãŸã€‚æœ¬è¨˜äº‹ã§ã¯è‡ªåˆ†ã®LTã‚¹ãƒ©ã‚¤ãƒ‰ã¨ã€10åˆ†ã®æ ã§ã¯ä¼ãˆãã‚Œãªã‹ã£ãŸè£œè¶³æƒ…å ±ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã¾ãŸä»–ã®æ–¹ã®LTã®æ§˜å­ã‚„ã€å‹‰å¼·ä¼šã®é›°å›²æ°—ãªã©ã‚‚å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦æ›¸ã„ã¦ã„ã¾...","tags":["å‹‰å¼·ä¼š","LT","mdx-deck","mdx","code-surfer","markdown","ãƒ—ãƒ¬ã‚¼ãƒ³","ã‚¹ãƒ©ã‚¤ãƒ‰"],"keywords":["mdx-deck"],"thumbnail":"/thumbnail/2019/02/mdx-deck-and-code-surfer.png"}},"relations":[{"node":{"fields":{"slug":"/2018/12/23/","title":"mdx-deckã¨code-surferã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚ã†ï¼","date":"2018-12-23T23:50:00.000+09:00","excerpt":"ãªã«ã“ã‚Œmdx-deckã¨code-surferã‚’ä½¿ã£ã¦ã€mdxãƒ•ã‚¡ã‚¤ãƒ«ã§ç°¡å˜ã«ãƒªãƒƒãƒãªã‚¹ãƒ©ã‚¤ãƒ‰ãŒä½œã‚Œã‚‹ã®ã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ä½œã£ãŸã‚¹ãƒ©ã‚¤ãƒ‰ã¯ä¸‹è¨˜ã€ã¾ãŸã¯GitHub Pagesã‚’ã”è¦§ãã ã•ã„ã€‚ã‚¹ãƒãƒ›ã ã¨å°ã£ã¡ã‚ƒã„ã®ã§PCã§è¦‹ã¦ãã ã•ã„:di...","tags":["mdx-deck","mdx","code-surfer","markdown","ãƒ—ãƒ¬ã‚¼ãƒ³","ã‚¹ãƒ©ã‚¤ãƒ‰"],"keywords":["mdx-deck"],"thumbnail":"/thumbnail/2018/mdx-and-codesufer.png"}},"matches":7,"weight":400,"details":[{"weight":100,"keyword":"mdx-deck"},{"weight":50,"keyword":"mdx-deck"},{"weight":50,"keyword":"mdx"},{"weight":50,"keyword":"code-surfer"},{"weight":50,"keyword":"markdown"},{"weight":50,"keyword":"ãƒ—ãƒ¬ã‚¼ãƒ³"},{"weight":50,"keyword":"ã‚¹ãƒ©ã‚¤ãƒ‰"}],"avgWeight":57.142857142857146,"totalWeight":52,"threshold":7.142857142857143,"isRelated":true},{"node":{"fields":{"slug":"/impression-of-cherrypick-js-20190119","title":"æ‡‡è¦ªä¼šã§é£›ã³è¾¼ã¿LTã«å‚åŠ ã—ãŸ / ã€ŒJavaScriptã¤ã¾ã¿é£Ÿã„ LT ä¼š ï½ ã¤ã¾ã¿é£Ÿã„ LT å¤§ä¼šï¼ã€ã®æ„Ÿæƒ³","date":"2019-01-21T03:30:00.000+09:00","excerpt":"ãªã«ã“ã‚Œ2019/1/19(åœŸ)ã€JavaScriptã¤ã¾ã¿é£Ÿã„ LT ä¼š #4 ï½ ã¤ã¾ã¿é£Ÿã„ LT å¤§ä¼šï¼ã§æ‡‡è¦ªä¼šã«ã¦é£›ã³è¾¼ã¿LTã«å‚åŠ ã—ã¾ã—ãŸã€‚å‹‰å¼·ä¼šã®æ§˜å­ã‚‚å«ã‚LTã®æ„Ÿæƒ³ã‚’æ›¸ãã¾ã™ã€‚ã©ã‚“ãªå‹‰å¼·ä¼šã ã£ãŸã‹ä»Šå›ã§é–‹å‚¬5å›ç›®ã¨ãªã‚Šã€4å›ç›®...","tags":["JavaScript","mdx-deck","å‹‰å¼·ä¼š","LT"],"keywords":["å‹‰å¼·ä¼š"],"thumbnail":"/thumbnail/2019/01/impression-of-cherrypick-js-20190119.png"}},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"å‹‰å¼·ä¼š"},{"weight":50,"keyword":"LT"},{"weight":50,"keyword":"mdx-deck"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/graphpack-graphql-zero-config-server","title":"è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ / Query, Mutation, Subscriptionã‚’è©¦ã™","date":"2019-01-23T19:50:00.000+09:00","excerpt":"ãªã«ã“ã‚Œã€Œã¨ã‚Šã‚ãˆãšã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨åŒã˜JavaScriptã§æ‰‹ã£å–ã‚Šæ—©ãGraphQLã‚µãƒ¼ãƒãƒ¼ç«‹ã¦ãŸã„ï¼ã€ã“ã®ã‚ˆã†ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«Graphpackã¯ãƒ”ãƒƒã‚¿ãƒªã§ã™ã€‚è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã§ ã€ŒGraphQLã®ã‚¹ã‚­ãƒ¼ãƒ...","tags":["GraphQL","Graphpack"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/graphpack-graphql-zero-config-server.png"}},"relations":[{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/nuxt-apollo-with-graphpack","title":"Nuxt.jsï¼‹Apollo Clientã§CRUDæ“ä½œ / ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã§Query, Mutation, Subscriptionã‚’å®Ÿè£…","date":"2019-02-12T07:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä»¥å‰ã®è¨˜äº‹è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ã§GraphQLã®ã‚µãƒ¼ãƒãƒ¼å´ã‚’å®Ÿè£…ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚Graphpackã¯å‚™ãˆä»˜ã‘ã®GraphQL Playground IDEã§å‹•ä½œç¢ºèªã§ãã¾ã™ãŒã€ã›...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/nuxt-apollo-with-graphpack.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/hello-nuxt-graphql-with-apollo-client","title":"Nuxt.jsï¼‹Apolloï¼‹GraphQLã‚’ã‚µã‚¯ãƒƒã¨å­¦ã¹ãŸ /ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ","date":"2019-01-07T19:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒNuxt.jsï¼‹GraphQLã®çŸ¥è­˜ãŒã“ã‚Œã‹ã‚‰å¿…è¦ã«ãªã‚‹ã®ã§ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ã¨ã“ã‚ã€éå¸¸ã«ã‚µã‚¯ã£ã¨å­¦ã¶ã“ã¨ãŒã§ããŸã®ã§æ„Ÿæƒ³ã‚’æ›¸ãã¾ã™ã€‚GraphQLã§ã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ã™ã‚‹ã«ã¯ã€Œ...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js","èª­æ›¸æ„Ÿæƒ³"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/hello-nuxt-graphql-with-apollo-client.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/impression-of-cherrypick-js-20190119","title":"æ‡‡è¦ªä¼šã§é£›ã³è¾¼ã¿LTã«å‚åŠ ã—ãŸ / ã€ŒJavaScriptã¤ã¾ã¿é£Ÿã„ LT ä¼š ï½ ã¤ã¾ã¿é£Ÿã„ LT å¤§ä¼šï¼ã€ã®æ„Ÿæƒ³","date":"2019-01-21T03:30:00.000+09:00","excerpt":"ãªã«ã“ã‚Œ2019/1/19(åœŸ)ã€JavaScriptã¤ã¾ã¿é£Ÿã„ LT ä¼š #4 ï½ ã¤ã¾ã¿é£Ÿã„ LT å¤§ä¼šï¼ã§æ‡‡è¦ªä¼šã«ã¦é£›ã³è¾¼ã¿LTã«å‚åŠ ã—ã¾ã—ãŸã€‚å‹‰å¼·ä¼šã®æ§˜å­ã‚‚å«ã‚LTã®æ„Ÿæƒ³ã‚’æ›¸ãã¾ã™ã€‚ã©ã‚“ãªå‹‰å¼·ä¼šã ã£ãŸã‹ä»Šå›ã§é–‹å‚¬5å›ç›®ã¨ãªã‚Šã€4å›ç›®...","tags":["JavaScript","mdx-deck","å‹‰å¼·ä¼š","LT"],"keywords":["å‹‰å¼·ä¼š"],"thumbnail":"/thumbnail/2019/01/impression-of-cherrypick-js-20190119.png"}},"relations":[{"node":{"fields":{"slug":"/mdx-deck-and-code-surfer","title":"WEBã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‹‰å¼·ä¼š åˆLTæ„Ÿæƒ³ã¨å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆ / ã€ŒMDX-Deckã¨Code Surferã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚ã†ï¼ã€è£œè¶³æƒ…å ±","date":"2019-02-03T17:15:00.000+09:00","excerpt":"ãªã«ã“ã‚Œ2019/2/1(é‡‘)ã€WEBã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‹‰å¼·ä¼š #11ã§LTã—ã¦ãã¾ã—ãŸã€‚æœ¬è¨˜äº‹ã§ã¯è‡ªåˆ†ã®LTã‚¹ãƒ©ã‚¤ãƒ‰ã¨ã€10åˆ†ã®æ ã§ã¯ä¼ãˆãã‚Œãªã‹ã£ãŸè£œè¶³æƒ…å ±ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã¾ãŸä»–ã®æ–¹ã®LTã®æ§˜å­ã‚„ã€å‹‰å¼·ä¼šã®é›°å›²æ°—ãªã©ã‚‚å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦æ›¸ã„ã¦ã„ã¾...","tags":["å‹‰å¼·ä¼š","LT","mdx-deck","mdx","code-surfer","markdown","ãƒ—ãƒ¬ã‚¼ãƒ³","ã‚¹ãƒ©ã‚¤ãƒ‰"],"keywords":["mdx-deck"],"thumbnail":"/thumbnail/2019/02/mdx-deck-and-code-surfer.png"}},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"mdx-deck"},{"weight":50,"keyword":"å‹‰å¼·ä¼š"},{"weight":50,"keyword":"LT"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"relations":[{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/iframely","title":"ãƒ–ãƒ­ã‚°ã«ã‚ã‚‰ã‚†ã‚‹å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åŸ‹ã‚è¾¼ã‚ã‚‹Webã‚µãƒ¼ãƒ“ã‚¹ã€ŒIframelyã€ã®ä½¿ã„æ–¹","date":"2019-01-11T23:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒSNSã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€å‹•ç”»ã¨ã„ã£ãŸå¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã«è¼‰ã›ã‚‹å ´åˆã€å˜ç´”ã«ãƒªãƒ³ã‚¯ã‚’å¼µã‚Šä»˜ã‘ã‚‹ã‚ˆã‚Šã‚‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«HTMLã®åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã‚’å¼µã‚Šä»˜ã‘ãŸã»ã†ãŒãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«é¢ã§åŠ¹æœçš„ã§ã™ã€‚ãŸã Twitterã‚„YouTubeãªã©ã®åŸ‹ã‚è¾¼...","tags":["Iframely","oEmbed","åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰","React","Gatsby"],"keywords":["Iframely"],"thumbnail":"/thumbnail/2019/01/iframely.png"}},"relations":[{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"React"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/16/","title":"Reactã§SNSå¯¾å¿œï¼ˆGatsbyè£½ãƒ–ãƒ­ã‚°ã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€OGPã‚¿ã‚°è¿½åŠ ï¼‰","date":"2018-09-16T22:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyè£½ãƒ–ãƒ­ã‚°(Reactã‚¢ãƒ—ãƒª)ã§SNSå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚(1) SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã¨(2) è‡ªåˆ†ã®SNSã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¦ã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’SNSã§ã‚·ã‚§ã‚¢ã§ãã‚‹ã‚ˆã†ã«ã€ã€ã€ã¾ãŸã€(3) OGPã‚¿ã‚°ã‚’è¨­å®šã—ã€SNSã§ã‚·ã‚§...","tags":["Gatsby","React","OGP","SNS","SRE"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-sns.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"React"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/hello-nuxt-graphql-with-apollo-client","title":"Nuxt.jsï¼‹Apolloï¼‹GraphQLã‚’ã‚µã‚¯ãƒƒã¨å­¦ã¹ãŸ /ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ","date":"2019-01-07T19:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒNuxt.jsï¼‹GraphQLã®çŸ¥è­˜ãŒã“ã‚Œã‹ã‚‰å¿…è¦ã«ãªã‚‹ã®ã§ã€ŒHello, GraphQL for client-side!ã€ã‚’èª­ã‚“ã ã¨ã“ã‚ã€éå¸¸ã«ã‚µã‚¯ã£ã¨å­¦ã¶ã“ã¨ãŒã§ããŸã®ã§æ„Ÿæƒ³ã‚’æ›¸ãã¾ã™ã€‚GraphQLã§ã‚µãƒ¼ãƒãƒ¼ã¨é€šä¿¡ã™ã‚‹ã«ã¯ã€Œ...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js","èª­æ›¸æ„Ÿæƒ³"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/hello-nuxt-graphql-with-apollo-client.png"}},"relations":[{"node":{"fields":{"slug":"/nuxt-apollo-with-graphpack","title":"Nuxt.jsï¼‹Apollo Clientã§CRUDæ“ä½œ / ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ç”»é¢ã§Query, Mutation, Subscriptionã‚’å®Ÿè£…","date":"2019-02-12T07:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä»¥å‰ã®è¨˜äº‹è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ã§GraphQLã®ã‚µãƒ¼ãƒãƒ¼å´ã‚’å®Ÿè£…ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚Graphpackã¯å‚™ãˆä»˜ã‘ã®GraphQL Playground IDEã§å‹•ä½œç¢ºèªã§ãã¾ã™ãŒã€ã›...","tags":["GraphQL","Nuxt.js","Apollo Client","Vue.js"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/nuxt-apollo-with-graphpack.png"}},"matches":5,"weight":300,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"},{"weight":50,"keyword":"Nuxt.js"},{"weight":50,"keyword":"Apollo Client"},{"weight":50,"keyword":"Vue.js"}],"avgWeight":60,"totalWeight":56,"threshold":10,"isRelated":true},{"node":{"fields":{"slug":"/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables","title":"AWS AppSyncã®Pipeline Resolverã§è¤‡æ•°ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã®VTLã®æ›¸ãæ–¹","date":"2019-02-19T07:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒAWSã®GraphQLãƒ•ãƒ«ãƒãƒãƒ¼ã‚¸ãƒ‰ã‚µãƒ¼ãƒ“ã‚¹ã€ŒAppSyncã€ã§è¤‡æ•°ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†å ´åˆã¯ã€ŒPipeline Resolverã€ã¨ã„ã†æ©Ÿèƒ½ã‚’ä½¿ã„ã¾ã™ã€‚ã“ã‚Œã¯ã€1ã¤ã®ãƒ‡ãƒ¼ã‚¿ãƒªã‚½ãƒ¼ã‚¹ã‚’æ‰±ã†ãƒ•ã‚¡ãƒ³ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®šç¾©ã—ã€ãã‚Œã‚‰ã‚’çµ„ã¿åˆã‚ã›...","tags":["AppSync","AWS","GraphQL","DynamoDB"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/02/aws-appsync-pipeline-resolver-with-multiple-dynamodb-tables.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/graphpack-graphql-zero-config-server","title":"è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã€ŒGraphpackã€ã®ä½¿ã„æ–¹ / Query, Mutation, Subscriptionã‚’è©¦ã™","date":"2019-01-23T19:50:00.000+09:00","excerpt":"ãªã«ã“ã‚Œã€Œã¨ã‚Šã‚ãˆãšã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨åŒã˜JavaScriptã§æ‰‹ã£å–ã‚Šæ—©ãGraphQLã‚µãƒ¼ãƒãƒ¼ç«‹ã¦ãŸã„ï¼ã€ã“ã®ã‚ˆã†ãªãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã«Graphpackã¯ãƒ”ãƒƒã‚¿ãƒªã§ã™ã€‚è¨­å®šã„ã‚‰ãšã®Nodeè£½GraphQLã‚µãƒ¼ãƒãƒ¼ã§ ã€ŒGraphQLã®ã‚¹ã‚­ãƒ¼ãƒ...","tags":["GraphQL","Graphpack"],"keywords":["GraphQL"],"thumbnail":"/thumbnail/2019/01/graphpack-graphql-zero-config-server.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"GraphQL"},{"weight":50,"keyword":"GraphQL"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2019/01/01/","title":"ã€Œã„ã¡ã°ã‚“ã‚„ã•ã—ã„Git&GitHubã®æ•™æœ¬ã€ã‚’èª­ã‚“ã ","date":"2019-01-01T09:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œã„ã¾ã¾ã§é›°å›²æ°—ã§Gitã‚’ä½¿ã£ã¦ãŸã®ã§ã€ã¡ã‚ƒã‚“ã¨å‹‰å¼·ã™ã‚‹ãŸã‚ã«èª­ã¿ã¾ã—ãŸã€‚æ„Ÿæƒ³ã‚¿ã‚¤ãƒˆãƒ«ã®é€šã‚Šã€ã‹ãªã‚Šã€Œã‚„ã•ã—ã„ã€ã§ã™ã€‚æ–°äººã•ã‚“ã§Officeã¯è§¦ã£ãŸã“ã¨ã‚ã‚‹ã‘ã©ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¯è§¦ã£ãŸã“ã¨ãªã„ã£ã¦äººã§ã‚‚ã€2ï½3æ—¥ã§èª­ç ´ã§ãã€GitHub...","tags":["Git","GitHub","èª­æ›¸æ„Ÿæƒ³"],"keywords":["Git"],"thumbnail":"/thumbnail/2018/ichiyasa-git.png"}},"relations":[]},{"node":{"fields":{"slug":"/2018/12/29/","title":"ãƒ‘ã‚½ã‚³ãƒ³ã§è‚©ã“ã‚Šã«æ‚©ã‚“ã§ã„ã‚‹äººã¯ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’è©¦ã—ã¦ã¿ã‚ˆã†","date":"2018-12-29T15:50:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ‘ã‚½ã‚³ãƒ³ã§è‚©ã“ã‚Šã«æ‚©ã¾ã•ã‚Œã¦ã„ã‚‹æ–¹ã¯æ¯”è¼ƒçš„å¤šã„ã¨æ€ã„ã¾ã™ã€‚ãã®è¦å› ã®1ã¤ãŒã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã§ã™ã€‚è‡ªåˆ†ã«åˆã‚ãªã„ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰ã‚’ä½¿ã„ç¶šã‘ã¦ã„ã‚‹ã¨ã€æ‰‹é¦–ã€è‚©ã€è…°ãªã©ä½“ã«è² æ‹…ãŒã‹ã‹ã‚Šã€è‚©ã“ã‚Šã®åŸå› ã«ãªã‚‹ã¨ã„ã‚ã‚Œã¦ã„ã¾ã™ã€‚å¸‚å ´ã«ã¯æ¥½ã«ã‚¿ã‚¤ãƒ”ãƒ³ã‚°ãŒã§ã...","tags":["ãƒ‘ã‚½ã‚³ãƒ³","è‚©ã“ã‚Š","ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰","ãƒ‡ãƒ¥ã‚¢ãƒ«ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰"],"keywords":["ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰"],"thumbnail":"/thumbnail/2018/dual-keybord.png"}},"relations":[]},{"node":{"fields":{"slug":"/2018/12/23/","title":"mdx-deckã¨code-surferã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚ã†ï¼","date":"2018-12-23T23:50:00.000+09:00","excerpt":"ãªã«ã“ã‚Œmdx-deckã¨code-surferã‚’ä½¿ã£ã¦ã€mdxãƒ•ã‚¡ã‚¤ãƒ«ã§ç°¡å˜ã«ãƒªãƒƒãƒãªã‚¹ãƒ©ã‚¤ãƒ‰ãŒä½œã‚Œã‚‹ã®ã§è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ä½œã£ãŸã‚¹ãƒ©ã‚¤ãƒ‰ã¯ä¸‹è¨˜ã€ã¾ãŸã¯GitHub Pagesã‚’ã”è¦§ãã ã•ã„ã€‚ã‚¹ãƒãƒ›ã ã¨å°ã£ã¡ã‚ƒã„ã®ã§PCã§è¦‹ã¦ãã ã•ã„:di...","tags":["mdx-deck","mdx","code-surfer","markdown","ãƒ—ãƒ¬ã‚¼ãƒ³","ã‚¹ãƒ©ã‚¤ãƒ‰"],"keywords":["mdx-deck"],"thumbnail":"/thumbnail/2018/mdx-and-codesufer.png"}},"relations":[{"node":{"fields":{"slug":"/mdx-deck-and-code-surfer","title":"WEBã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‹‰å¼·ä¼š åˆLTæ„Ÿæƒ³ã¨å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆ / ã€ŒMDX-Deckã¨Code Surferã§ã‚¹ãƒ©ã‚¤ãƒ‰ã‚’ä½œã‚ã†ï¼ã€è£œè¶³æƒ…å ±","date":"2019-02-03T17:15:00.000+09:00","excerpt":"ãªã«ã“ã‚Œ2019/2/1(é‡‘)ã€WEBã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‹‰å¼·ä¼š #11ã§LTã—ã¦ãã¾ã—ãŸã€‚æœ¬è¨˜äº‹ã§ã¯è‡ªåˆ†ã®LTã‚¹ãƒ©ã‚¤ãƒ‰ã¨ã€10åˆ†ã®æ ã§ã¯ä¼ãˆãã‚Œãªã‹ã£ãŸè£œè¶³æƒ…å ±ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚ã¾ãŸä»–ã®æ–¹ã®LTã®æ§˜å­ã‚„ã€å‹‰å¼·ä¼šã®é›°å›²æ°—ãªã©ã‚‚å‚åŠ ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦æ›¸ã„ã¦ã„ã¾...","tags":["å‹‰å¼·ä¼š","LT","mdx-deck","mdx","code-surfer","markdown","ãƒ—ãƒ¬ã‚¼ãƒ³","ã‚¹ãƒ©ã‚¤ãƒ‰"],"keywords":["mdx-deck"],"thumbnail":"/thumbnail/2019/02/mdx-deck-and-code-surfer.png"}},"matches":7,"weight":400,"details":[{"weight":100,"keyword":"mdx-deck"},{"weight":50,"keyword":"mdx-deck"},{"weight":50,"keyword":"mdx"},{"weight":50,"keyword":"code-surfer"},{"weight":50,"keyword":"markdown"},{"weight":50,"keyword":"ãƒ—ãƒ¬ã‚¼ãƒ³"},{"weight":50,"keyword":"ã‚¹ãƒ©ã‚¤ãƒ‰"}],"avgWeight":57.142857142857146,"totalWeight":52,"threshold":7.142857142857143,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/12/16/","title":"JJUG CCC 2018 Fallã«è¡Œã£ã¦ãã¾ã—ãŸ","date":"2018-12-16T21:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒJava CCC 2018 Fallã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚è¦‹ã¦ããŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ã€JJUGåŸºèª¿è¬›æ¼”ã€‘Javaã®æœªæ¥ã‚’è€ƒãˆã‚ˆã† ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¦‚è¦#ccc_e1ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ã‚°ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¾çŠ¶ã¨èª²é¡Œç‚¹ã«ã¤ã„ã¦...","tags":["Java","Kotlin","JJUG CCC","ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆ"],"keywords":["Java"],"thumbnail":"/thumbnail/2018/jjug-ccc-2018-fall.png"}},"relations":[{"node":{"fields":{"slug":"/4bf6ffd5-8640-508e-ab47-1a55df05d72e/","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","date":"2017-04-07T02:38:55+09:00","excerpt":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚Githubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™...","tags":["Java","Jenkins","CI","gradle","Pipeline","Qiita"],"keywords":["Java"],"thumbnail":""},"id":"4bf6ffd5-8640-508e-ab47-1a55df05d72e","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","rendered_body":"<p>Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚<br>\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚</p>\n\n<h1>\n<span id=\"declarative-pipeline\" class=\"fragment\"></span><a href=\"#declarative-pipeline\"><i class=\"fa fa-link\"></i></a>Declarative Pipeline</h1>\n\n<p>ã„ã¾ã¾ã§ã¯Jenkinsfileã‚’</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>node {\n  ....\n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€<a href=\"https://jenkins.io/doc/book/pipeline/syntax/\" rel=\"nofollow noopener\" target=\"_blank\">Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã‚‹ã¨<br>\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€<br>\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>pipeline {\n  ....  \n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€<br>\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€<br>\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\" class=\"fragment\"></span><a href=\"#%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3\"><i class=\"fa fa-link\"></i></a>è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³</h1>\n\n<p>JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®</p>\n\n<ul>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F\" rel=\"nofollow noopener\" target=\"_blank\">Checkstyle Plugin</a>ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">FindBugs Plugin</a>ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ </li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">PMD Plugin</a>ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">DRY Plugin</a>ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Step Counter Plugin</a>ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Task Scanner Plugin</a>ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Javadoc Plugin</a>ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Warnings Plugin</a>ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">JaCoCo Plugin</a>ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n</ul>\n\n<h1>\n<span id=\"jenkinsfile\" class=\"fragment\"></span><a href=\"#jenkinsfile\"><i class=\"fa fa-link\"></i></a>Jenkinsfile</h1>\n\n<p>Githubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚<br>\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚<br>\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsfile</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">pipeline</span> <span class=\"o\">{</span>\n    <span class=\"n\">agent</span> <span class=\"n\">any</span>\n    <span class=\"c1\">// å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">environment</span> <span class=\"o\">{</span>\n        <span class=\"n\">reportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/reports'</span>\n        <span class=\"n\">javaDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/java'</span>\n        <span class=\"n\">resourcesDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/resources'</span>\n        <span class=\"n\">testReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/test-results/test'</span>\n        <span class=\"n\">jacocoReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/jacoco'</span> \n        <span class=\"n\">javadocDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/docs/javadoc'</span>\n        <span class=\"n\">libsDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/libs'</span>\n        <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n        <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">stages</span> <span class=\"o\">{</span>\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'äº‹å‰æº–å‚™'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n\n                <span class=\"c1\">// ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ</span>\n                <span class=\"n\">checkout</span> <span class=\"n\">scm</span>\n\n                <span class=\"c1\">// ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"Jenkinsfile\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"build.gradle\"</span>\n\n                <span class=\"c1\">// scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹</span>\n                <span class=\"n\">script</span> <span class=\"o\">{</span>\n                    <span class=\"c1\">// Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹</span>\n                    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n                        <span class=\"n\">sh</span> <span class=\"s1\">'chmod +x gradlew'</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">}</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'clean'</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'classes testClasses'</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"c1\">// postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹</span>\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n\n                    <span class=\"c1\">// JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§</span>\n                    <span class=\"c1\">// Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n\n                        <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n\n                        <span class=\"c1\">// Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€</span>\n                        <span class=\"c1\">// pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚</span>\n                        <span class=\"c1\">// ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦</span>\n                        <span class=\"c1\">// ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†</span>\n                        <span class=\"c1\">// https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'Java Compiler (javac)'</span><span class=\"o\">],</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</span>\n                <span class=\"n\">parallel</span><span class=\"o\">(</span>\n                    <span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span> <span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'check -x test'</span>\n\n                        <span class=\"c1\">// dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹</span>\n                        <span class=\"n\">dir</span><span class=\"o\">(</span><span class=\"n\">reportDir</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'CheckStylePublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'FindBugsPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'PmdPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'DryPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                        <span class=\"o\">}</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"c1\">// ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</span>\n                        <span class=\"c1\">// outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹</span>\n                        <span class=\"n\">stepcounter</span> <span class=\"nl\">outputFile:</span> <span class=\"s1\">'stepcount.xls'</span><span class=\"o\">,</span> <span class=\"nl\">outputFormat:</span> <span class=\"s1\">'excel'</span><span class=\"o\">,</span> <span class=\"nl\">settings:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'Java'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${javaDir}/**/*.java\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'SQL'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.sql\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'HTML'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.html\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'JS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.js\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'CSS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.css\"</span><span class=\"o\">]</span>\n                        <span class=\"o\">]</span>\n                        <span class=\"c1\">// ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹</span>\n                        <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"stepcount.xls\"</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'TasksPublisher'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">pattern:</span> <span class=\"s1\">'./**'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹</span>\n                            <span class=\"nl\">ignoreCase:</span> <span class=\"kc\">true</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹</span>\n                            <span class=\"c1\">// è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">high:</span> <span class=\"s1\">'System.out.System.err'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">normal:</span> <span class=\"s1\">'TODO,FIXME,XXX'</span><span class=\"o\">,</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'JavaDoc'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'javadoc -x classes'</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JavadocArchiver'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">javadocDir:</span> <span class=\"s2\">\"${javadocDir}\"</span><span class=\"o\">,</span>\n                            <span class=\"nl\">keepAll:</span> <span class=\"kc\">true</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">)</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n                   <span class=\"c1\">// JavaDocã®è­¦å‘Šã‚’åé›†</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'JavaDoc Tool'</span><span class=\"o\">]</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'test jacocoTestReport -x classes -x testClasses'</span>\n\n                <span class=\"n\">junit</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n\n                <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰</span>\n                <span class=\"n\">step</span><span class=\"o\">([</span>\n                    <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JacocoPublisher'</span><span class=\"o\">,</span>\n                    <span class=\"nl\">execPattern:</span> <span class=\"s2\">\"${jacocoReportDir}/*.exec\"</span><span class=\"o\">,</span>\n                    <span class=\"nl\">exclusionPattern:</span> <span class=\"s1\">'**/*Test.class'</span>\n                <span class=\"o\">])</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ‡ãƒ—ãƒ­ã‚¤'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹</span>\n            <span class=\"n\">when</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„</span>\n                <span class=\"n\">expression</span> <span class=\"o\">{</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span> <span class=\"o\">==</span> <span class=\"s1\">'SUCCESS'</span><span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'jar'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.jar\"</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'war'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.war\"</span>\n                <span class=\"n\">deploy</span> <span class=\"nl\">warDir:</span> <span class=\"n\">libsDir</span><span class=\"o\">,</span> <span class=\"nl\">appName:</span> <span class=\"n\">appName</span><span class=\"o\">,</span> <span class=\"nl\">appVersion:</span> <span class=\"n\">appVersion</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨</span>\n    <span class=\"c1\">// å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    </span>\n    <span class=\"n\">post</span> <span class=\"o\">{</span>\n        <span class=\"n\">always</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤</span>\n            <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡</span>\n\n        <span class=\"c1\">// çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚</span>\n        <span class=\"n\">changed</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"s2\">\"${currentBuild.previousBuild.result} =&gt; ${currentBuild.currentResult}\"</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// å¤±æ•—ã—ãŸæ™‚</span>\n        <span class=\"n\">failure</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰</span>\n        <span class=\"n\">unstable</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n\n<span class=\"c1\">// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">gradlew</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n        <span class=\"n\">sh</span> <span class=\"s2\">\"./gradlew ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span> <span class=\"k\">else</span> <span class=\"o\">{</span>\n        <span class=\"n\">bat</span> <span class=\"s2\">\"./gradlew.bat ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</span>\n<span class=\"c1\">// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª </span>\n<span class=\"c1\">// args.appName ã‚¢ãƒ—ãƒªå</span>\n<span class=\"c1\">// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³</span>\n<span class=\"kt\">def</span> <span class=\"nf\">deploy</span><span class=\"o\">(</span><span class=\"n\">Map</span> <span class=\"n\">args</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹</span>\n    <span class=\"kt\">def</span> <span class=\"n\">keyDir</span> <span class=\"o\">=</span> <span class=\"s1\">'/var/lib/jenkins/.ssh/xxx'</span>\n    <span class=\"c1\">// Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerAddress</span> <span class=\"o\">=</span> <span class=\"s1\">'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerUser</span> <span class=\"o\">=</span> <span class=\"s1\">'hoge-user'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServer</span> <span class=\"o\">=</span> <span class=\"s2\">\"${webServerUser}@${webServerAddress}\"</span>\n\n    <span class=\"kt\">def</span> <span class=\"n\">srcWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}-${args.appVersion}.war\"</span>\n    <span class=\"kt\">def</span> <span class=\"n\">destWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}.war\"</span>\n\n    <span class=\"c1\">// ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">sendMail</span><span class=\"o\">(</span><span class=\"n\">result</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">mail</span> <span class=\"nl\">to:</span> <span class=\"s2\">\"xxxxxxxx@gmail.com\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">subject:</span> <span class=\"s2\">\"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">body:</span> <span class=\"s2\">\"Build URL: ${env.BUILD_URL}.\\n\\n\"</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<h1>\n<span id=\"èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>èº“ã„ãŸã“ã¨</h1>\n\n<ul>\n<li>å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚</li>\n<li>currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– &gt; è¨­å®š &gt; Pipeline Syntax &gt; Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n<a href=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png\"></a>\n</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png\"></a></p>\n\n<ul>\n<li>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚</li>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins &gt; Jenkinsã®ç®¡ç† &gt; ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š &gt; E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png\"></a></p>\n\n<ul>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€<a href=\"https://support.google.com/accounts/answer/6010255?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹</a>ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png\"></a></p>\n\n<h1>\n<span id=\"buildgradle\" class=\"fragment\"></span><a href=\"#buildgradle\"><i class=\"fa fa-link\"></i></a>build.gradle</h1>\n\n<p>Jenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€<br>\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br>\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li>checkstyle</li>\n<li>findbugs</li>\n<li>pmd</li>\n<li>cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)</li>\n<li>test</li>\n<li>jacocoReport</li>\n<li>jar</li>\n<li>war</li>\n</ul>\n\n<p>ä¾‹ãˆã°ã“ã‚“ãª</p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">build.gradle</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'java'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'war'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'checkstyle'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'findbugs'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'pmd'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'jacoco'</span>\n\n<span class=\"n\">ext</span> <span class=\"o\">{</span>\n    <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n    <span class=\"n\">javaVersion</span> <span class=\"o\">=</span> <span class=\"mf\">1.8</span>\n    <span class=\"n\">defaultEncoding</span> <span class=\"o\">=</span> <span class=\"s1\">'UTF-8'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">sourceCompatibility</span> <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">targetCompatibility</span>  <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">AbstractCompile</span><span class=\"o\">)*.</span><span class=\"na\">options</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">GroovyCompile</span><span class=\"o\">)*.</span><span class=\"na\">groovyOptions</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">mainClassName</span> <span class=\"o\">=</span> <span class=\"s1\">'jp.takumon.sapmleapp.App'</span>\n\n<span class=\"n\">repositories</span> <span class=\"o\">{</span>\n    <span class=\"n\">mavenCentral</span><span class=\"o\">()</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">dependencies</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ </span>\n\n    <span class=\"n\">compile</span> <span class=\"nl\">group:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">name:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">version:</span> <span class=\"s1\">'4.12'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jar</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">war</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">checkstyle</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'7.6.1'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">findbugs</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s2\">\"3.0.1\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">pmd</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">Pmd</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ </span>\n<span class=\"n\">check</span><span class=\"o\">.</span><span class=\"na\">doLast</span> <span class=\"o\">{</span>\n    <span class=\"n\">File</span> <span class=\"n\">outputDir</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"s2\">\"$reportsDir/cpd/\"</span><span class=\"o\">)</span>\n    <span class=\"n\">outputDir</span><span class=\"o\">.</span><span class=\"na\">mkdirs</span><span class=\"o\">()</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">taskdef</span><span class=\"o\">(</span>\n        <span class=\"nl\">name:</span> <span class=\"s1\">'cpd'</span><span class=\"o\">,</span> \n        <span class=\"nl\">classname:</span> <span class=\"s1\">'net.sourceforge.pmd.cpd.CPDTask'</span><span class=\"o\">,</span>\n        <span class=\"nl\">classpath:</span> <span class=\"n\">configurations</span><span class=\"o\">.</span><span class=\"na\">pmd</span><span class=\"o\">.</span><span class=\"na\">asPath</span><span class=\"o\">)</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">cpd</span><span class=\"o\">(</span>\n        <span class=\"nl\">minimumTokenCount:</span> <span class=\"s1\">'100'</span><span class=\"o\">,</span>\n        <span class=\"nl\">format:</span> <span class=\"s1\">'xml'</span><span class=\"o\">,</span>\n        <span class=\"nl\">encoding:</span> <span class=\"n\">defaultEncoding</span><span class=\"o\">,</span>\n        <span class=\"nl\">outputFile:</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"n\">outputDir</span><span class=\"o\">,</span> <span class=\"s1\">'cpd.xml'</span><span class=\"o\">)</span>\n    <span class=\"o\">)</span> <span class=\"o\">{</span>\n        <span class=\"n\">fileset</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"s2\">\"src/main/java\"</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">include</span><span class=\"o\">(</span><span class=\"nl\">name:</span> <span class=\"s1\">'**/*.java'</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">javadoc</span> <span class=\"o\">{</span>\n    <span class=\"n\">failOnError</span> <span class=\"o\">=</span> <span class=\"kc\">false</span>\n    <span class=\"c1\">// å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§</span>\n    <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"na\">memberLevel</span> <span class=\"o\">=</span> <span class=\"n\">JavadocMemberLevel</span><span class=\"o\">.</span><span class=\"na\">PRIVATE</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">test</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n        <span class=\"n\">junitXml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacoco</span> <span class=\"o\">{</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'0.7.5.201505241946'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacocoTestReport</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–</span>\n    <span class=\"n\">afterEvaluate</span> <span class=\"o\">{</span> \n        <span class=\"n\">classDirectories</span> <span class=\"o\">=</span> <span class=\"n\">files</span><span class=\"o\">(</span><span class=\"n\">classDirectories</span><span class=\"o\">.</span><span class=\"na\">files</span><span class=\"o\">.</span><span class=\"na\">collect</span> <span class=\"o\">{</span>\n            <span class=\"n\">fileTree</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"n\">it</span><span class=\"o\">,</span> <span class=\"nl\">exclude:</span> <span class=\"o\">[</span><span class=\"s1\">'**/*Test.class'</span><span class=\"o\">])</span> \n        <span class=\"o\">})</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">task</span> <span class=\"nf\">wrapper</span> <span class=\"o\">(</span><span class=\"nl\">type:</span> <span class=\"n\">Wrapper</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">gradleVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'3.4.1'</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<p>ä»¥ä¸Šã€‚</p>\n","body":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚\n\n# Declarative Pipeline\nã„ã¾ã¾ã§ã¯Jenkinsfileã‚’\n\n```\nnode {\n  ....\n}\n```\n\nã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€[Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ](https://jenkins.io/doc/book/pipeline/syntax/)ã‚’è¦‹ã‚‹ã¨\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯\n\n```\npipeline {\n  ....  \n}\n```\nã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚\n\n# è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\nJenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®\n\n* [Checkstyle Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F)ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨\n* [FindBugs Plugin](https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin)ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ \n* [PMD Plugin](https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin)ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [DRY Plugin](https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin)ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [Step Counter Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin)ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹\n* [Task Scanner Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin)ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹\n* [Javadoc Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin)ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨\n* [Warnings Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin)ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹\n* [JaCoCo Plugin](https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin)ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n\n\n\n# Jenkinsfile\nGithubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png)\n\n\n```groovy:Jenkinsfile\npipeline {\n    agent any\n    // å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹\n    environment {\n        reportDir = 'build/reports'\n        javaDir = 'src/main/java'\n        resourcesDir = 'src/main/resources'\n        testReportDir = 'build/test-results/test'\n        jacocoReportDir = 'build/jacoco' \n        javadocDir = 'build/docs/javadoc'\n        libsDir = 'build/libs'\n        appName = 'SampleApp'\n        appVersion = '1.0.0'\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹\n    stages {\n        stage('äº‹å‰æº–å‚™') {\n            // å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹\n            steps {\n                deleteDir()\n\n                // ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n                checkout scm\n\n                // ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹\n                archiveArtifacts \"Jenkinsfile\"\n                archiveArtifacts \"build.gradle\"\n\n                // scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹\n                script {\n                    // Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹\n                    if(isUnix()) {\n                        sh 'chmod +x gradlew'\n                    }\n                }\n                gradlew 'clean'\n            }\n        }\n        \n        stage('ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«') {\n            steps {\n                gradlew 'classes testClasses'\n            }\n            \n            // postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹\n            post {\n                // alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹\n                always {\n\n                    // JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§\n                    // Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹\n                    step([\n\n                        // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK\n                        $class: 'WarningsPublisher',\n\n                        // Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€\n                        // pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚\n                        // ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦\n                        // ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†\n                        // https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties\n                        consoleParsers: [\n                            [parserName: 'Java Compiler (javac)'],\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n        stage('é™çš„ã‚³ãƒ¼ãƒ‰è§£æ') {\n            steps {\n                // ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\n                parallel(\n                    'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ' : {\n                        gradlew 'check -x test'\n\n                        // dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹\n                        dir(reportDir) {\n                            step([\n                                $class: 'CheckStylePublisher',\n                                pattern: \"checkstyle/*.xml\"\n                            ])\n                            step([\n                                $class: 'FindBugsPublisher',\n                                pattern: \"findbugs/*.xml\"\n                            ])\n                            step([\n                                $class: 'PmdPublisher',\n                                pattern: \"pmd/*.xml\"\n                            ])\n                            step([\n                                $class: 'DryPublisher',\n                                pattern: \"cpd/*.xml\"\n                            ])\n                \n                            archiveArtifacts \"checkstyle/*.xml\"\n                            archiveArtifacts \"findbugs/*.xml\"\n                            archiveArtifacts \"pmd/*.xml\"\n                            archiveArtifacts \"cpd/*.xml\"\n                        }\n                    },\n                    'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ': {\n                        // ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ\n                        // outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹\n                        stepcounter outputFile: 'stepcount.xls', outputFormat: 'excel', settings: [\n                            [key:'Java', filePattern: \"${javaDir}/**/*.java\"],\n                            [key:'SQL', filePattern: \"${resourcesDir}/**/*.sql\"],\n                            [key:'HTML', filePattern: \"${resourcesDir}/**/*.html\"],\n                            [key:'JS', filePattern: \"${resourcesDir}/**/*.js\"],\n                            [key:'CSS', filePattern: \"${resourcesDir}/**/*.css\"]\n                        ]\n                        // ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹\n                        archiveArtifacts \"stepcount.xls\"\n                    },\n                    'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³': {\n                        step([\n                            $class: 'TasksPublisher',\n                            pattern: './**',\n                            // é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹\n                            ignoreCase: true,\n                            // å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹\n                            // è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹\n                            high: 'System.out.System.err',\n                            normal: 'TODO,FIXME,XXX',\n                        ])\n                    },\n                    'JavaDoc': {\n                        gradlew 'javadoc -x classes'\n                        step([\n                            $class: 'JavadocArchiver',\n                            // Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹\n                            javadocDir: \"${javadocDir}\",\n                            keepAll: true\n                        ])\n                    }\n                )\n            }\n            \n            post {\n                always {\n                   // JavaDocã®è­¦å‘Šã‚’åé›†\n                    step([\n                        $class: 'WarningsPublisher',\n                        consoleParsers: [\n                            [parserName: 'JavaDoc Tool']\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n\n        stage('ãƒ†ã‚¹ãƒˆ') {\n            steps {\n                gradlew 'test jacocoTestReport -x classes -x testClasses'\n                \n                junit \"${testReportDir}/*.xml\"\n                archiveArtifacts \"${testReportDir}/*.xml\"\n\n                // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰\n                step([\n                    $class: 'JacocoPublisher',\n                    execPattern: \"${jacocoReportDir}/*.exec\",\n                    exclusionPattern: '**/*Test.class'\n                ])\n            }\n        }\n        \n        stage('ãƒ‡ãƒ—ãƒ­ã‚¤') {\n            // whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹\n            when {\n                // é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„\n                expression {currentBuild.currentResult == 'SUCCESS'}\n            }\n            \n            steps {\n                gradlew 'jar'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.jar\"\n                gradlew 'war'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.war\"\n                deploy warDir: libsDir, appName: appName, appVersion: appVersion\n            }\n        }\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨\n    // å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    \n    post {\n        always {\n            // æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤\n            deleteDir()\n        }\n        // é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡\n\n        // çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚\n        changed {\n            sendMail(\"${currentBuild.previousBuild.result} => ${currentBuild.currentResult}\")\n        }\n        // å¤±æ•—ã—ãŸæ™‚\n        failure {\n            sendMail(currentBuild.currentResult)\n        }\n        // ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰\n        unstable {\n            sendMail(currentBuild.currentResult)\n        }\n    }\n}\n\n\n// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹\ndef gradlew(command) {\n    if(isUnix()) {\n        sh \"./gradlew ${command} --stacktrace\"\n    } else {\n        bat \"./gradlew.bat ${command} --stacktrace\"\n    }\n}\n\n// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹\n// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª \n// args.appName ã‚¢ãƒ—ãƒªå\n// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³\ndef deploy(Map args) {\n    // ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹\n    def keyDir = '/var/lib/jenkins/.ssh/xxx'\n    // Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å\n    def webServerAddress = 'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'\n    def webServerUser = 'hoge-user'\n    def webServer = \"${webServerUser}@${webServerAddress}\"\n    \n    def srcWar = \"${args.appName}-${args.appVersion}.war\"\n    def destWar = \"${args.appName}.war\"\n    \n    // ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹\n    sh \"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"\n    sh \"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"\n}\n\n// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹\ndef sendMail(result) {\n    mail to: \"xxxxxxxx@gmail.com\",\n        subject: \"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\",\n        body: \"Build URL: ${env.BUILD_URL}.\\n\\n\"\n}\n```\n\n# èº“ã„ãŸã“ã¨\n* å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚\n* currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– > è¨­å®š > Pipeline Syntax > Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png)\n \n* ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins > Jenkinsã®ç®¡ç† > ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š > E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png)\n\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€[å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹](https://support.google.com/accounts/answer/6010255?hl=ja)ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png)\n\n# build.gradle\nJenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n\n * checkstyle\n * findbugs\n * pmd\n * cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)\n * test\n * jacocoReport\n * jar\n * war\n\nä¾‹ãˆã°ã“ã‚“ãª\n\n```groovy:build.gradle\napply plugin: 'java'\napply plugin: 'war'\napply plugin: 'checkstyle'\napply plugin: 'findbugs'\napply plugin: 'pmd'\napply plugin: 'jacoco'\n\next {\n    appVersion = '1.0.0'\n    appName = 'SampleApp'\n    javaVersion = 1.8\n    defaultEncoding = 'UTF-8'\n}\n\nsourceCompatibility = javaVersion\ntargetCompatibility  = javaVersion\ntasks.withType(AbstractCompile)*.options*.encoding = defaultEncoding\ntasks.withType(GroovyCompile)*.groovyOptions*.encoding = defaultEncoding\nmainClassName = 'jp.takumon.sapmleapp.App'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ \n\n    compile group: 'junit', name: 'junit', version: '4.12'\n}\n\njar {\n    baseName = appName\n    version =  appVersion\n}\n\nwar {\n    baseName = appName\n    version =  appVersion\n}\n\ncheckstyle {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = '7.6.1'\n}\n\nfindbugs {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = \"3.0.1\"\n}\n\npmd {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n}\n\ntasks.withType(Pmd) {\n    reports {\n      xml.enabled = true\n    }\n}\n\n// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ \ncheck.doLast {\n    File outputDir = new File(\"$reportsDir/cpd/\")\n    outputDir.mkdirs()\n  \n    ant.taskdef(\n        name: 'cpd', \n        classname: 'net.sourceforge.pmd.cpd.CPDTask',\n        classpath: configurations.pmd.asPath)\n  \n    ant.cpd(\n        minimumTokenCount: '100',\n        format: 'xml',\n        encoding: defaultEncoding,\n        outputFile: new File(outputDir, 'cpd.xml')\n    ) {\n        fileset(dir: \"src/main/java\") {\n            include(name: '**/*.java')\n        }\n    }\n}\n\njavadoc {\n    failOnError = false\n    // å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§\n    options.memberLevel = JavadocMemberLevel.PRIVATE\n}\n\ntest {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    reports {\n        junitXml.enabled = true\n    }\n}\n\njacoco {\n    toolVersion = '0.7.5.201505241946'\n}\n\njacocoTestReport {\n    reports {\n      xml.enabled = true\n    }\n    \n    // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–\n    afterEvaluate { \n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: ['**/*Test.class']) \n        })\n    }\n}\n\ntask wrapper (type: Wrapper) {\n    gradleVersion = '3.4.1'\n}\n```\n\n\nä»¥ä¸Šã€‚\n","comments_count":0,"created_at":"2017-04-07T02:38:55+09:00","likes_count":58,"reactions_count":0},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Java"},{"weight":50,"keyword":"Java"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/e6e81f10-e1df-58fa-ad49-6da5d018abc4/","title":"Java SE8 Goldå–ã‚Šã¾ã—ãŸã€‚","date":"2017-03-12T17:52:21+09:00","excerpt":"å…ˆæ—¥Java SE 8 Programmer II(Java SE8 Gold)ã«åˆæ ¼ã—ã¾ã—ãŸã€‚ãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚â–¼è©¦é¨“çµæœå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(&gt;...","tags":["Java","java8","è³‡æ ¼","Qiita"],"keywords":["Java"],"thumbnail":""},"id":"e6e81f10-e1df-58fa-ad49-6da5d018abc4","title":"Java SE8 Goldå–ã‚Šã¾ã—ãŸã€‚","rendered_body":"<p>å…ˆæ—¥<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-809&amp;p_org_id=70\" rel=\"nofollow noopener\" target=\"_blank\">Java SE 8 Programmer II(Java SE8 Gold)</a>ã«åˆæ ¼ã—ã¾ã—ãŸã€‚<br>\nãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚</p>\n\n<p>â–¼è©¦é¨“çµæœ<br>\nå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆ<br>\nå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(&gt;o&lt;)!</p>\n\n<h2>\n<span id=\"è‡ªåˆ†ã¨javaã®é–¢ä¿‚\" class=\"fragment\"></span><a href=\"#%E8%87%AA%E5%88%86%E3%81%A8java%E3%81%AE%E9%96%A2%E4%BF%82\"><i class=\"fa fa-link\"></i></a>è‡ªåˆ†ã¨Javaã®é–¢ä¿‚</h2>\n\n<ul>\n<li>ä»•äº‹ã§Javaé–‹ç™ºã¯5å¹´</li>\n<li>ä¿æœ‰è³‡æ ¼ã¯<a href=\"https://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-808&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Java SE 8 Silver</a>ã¨ <a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=458&amp;p_org_id=70&amp;lang=JA&amp;get_params=p_track_id:JEE5WCD\" rel=\"nofollow noopener\" target=\"_blank\">Webã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘EE 5</a>ã¨ <a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-851&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Javaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"ãã£ã‹ã‘\" class=\"fragment\"></span><a href=\"#%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\"><i class=\"fa fa-link\"></i></a>ãã£ã‹ã‘</h2>\n\n<p>Java8ã§æ–°æ©Ÿèƒ½ãŒå¤šãè¿½åŠ ã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚‰ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã«å—é¨“ã—ã¾ã—ãŸã€‚ã€€<br>\næœ€åˆã¯<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-813&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Upgrade to Java SE 8 OCP</a>ã®å—é¨“ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸãŒã€<br>\nå‚è€ƒæ›¸ãŒãªã„ã®ã¨æƒ…å ±é‡ãŒå°‘ãªã‹ã£ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’å—ã‘ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³\" class=\"fragment\"></span><a href=\"#%E8%B2%B7%E3%81%A3%E3%81%9F%E5%8F%82%E8%80%83%E6%9B%B8%E3%81%A8%E6%84%9F%E6%83%B3\"><i class=\"fa fa-link\"></i></a>è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³</h2>\n\n<p></p><dl>\n<dt>\n<a href=\"https://www.amazon.co.jp/%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5Java-SE-8-Gold%E5%95%8F%E9%A1%8C%E9%9B%86%EF%BC%BB1Z0-809%EF%BC%BD%E5%AF%BE%E5%BF%9C-%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-ebook/dp/B01LXSG1G9/ref=pd_sim_351_1?_encoding=UTF8&amp;psc=1&amp;refRID=PC6MK9AHZB6JSXW5VM6F\" rel=\"nofollow noopener\" target=\"_blank\">å¾¹åº•æ”»ç•¥Java SE 8 Goldå•é¡Œé›†ï¼»1Z0-809ï¼½å¯¾å¿œ å¾¹åº•æ”»ç•¥ã‚·ãƒªãƒ¼ã‚º</a>ï¼ˆä»¥å¾Œã€é»’æœ¬ã¨è¨˜è¿°ï¼‰</dt>\n<br>\n<dd>å®šç•ªã®å•é¡Œé›†ãªã®ã§è³¼å…¥ã—ã¾ã—ãŸãŒã€å…¨ä½“çš„ã«é›£æ˜“åº¦ãŒä½ã‚ã®é–€é¡ŒãŒå¤šã„ã§ã™ã€‚ãŸã æœ¬ã®æœ€å¾Œã®ç·ä»•ä¸Šã’å•é¡Œã¯æœ¬ç•ªè©¦é¨“ã¨é›£æ˜“åº¦ãŒè¿‘ãã€æœ¬ç•ªã§ã‚‚åŒã˜å•é¡ŒãŒå¤šæ•°å‡ºé¡Œã•ã‚Œã¾ã—ãŸã€‚</dd>\n<br>\n<dt>\n<a href=\"https://www.amazon.co.jp/dp/B0191U2H8C/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"nofollow noopener\" target=\"_blank\">OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide: Exam 1Z0-809</a>ï¼ˆä»¥å¾Œã€ Study Guideã¨è¨˜è¿°ï¼‰</dt>\n<br>\n<dd>ä¸Šè¨˜ã®é»’æœ¬ã ã‘ã§ã¯ä¸å®‰ã«ãªã‚Šè³¼å…¥ã—ã¾ã—ãŸã€‚<a href=\"https://www.amazon.co.jp/dp/B01J1LPKJY/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"nofollow noopener\" target=\"_blank\">ç´«æœ¬</a>ã¨åŒã˜ã‚ˆã†ãªæ§‹æˆã§ã€å‚è€ƒæ›¸ã¨å•é¡Œé›†ãŒï¼‘ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ç´«æœ¬ã§ã¯ãªãStudy Guideã«ã—ãŸã®ã¯è‹±èªåŠ›ã‚’èº«ã«ã¤ã‘ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚æœ¬ã®èª¬æ˜ã«ã€ŒComplete, trusted preparation for the Java Programmer II examã€ã¨ã‚ã‚‹é€šã‚Šå•é¡Œæ•°ã‚‚å¤šãã‹ãªã‚Šå……å®Ÿã—ãŸå†…å®¹ã§ã—ãŸã€‚é›£æ˜“åº¦ã¯æœ¬ç•ªã‚ˆã‚Šã‚‚é«˜ã‚ã§ã™ã€‚ã“ã®æœ¬ã‚’ï¼’å‘¨ã—ã¦å•é¡Œã®æ­£ç­”ç‡ãŒ90%ã«é”ã—ã¦ã„ã‚Œã°çµ¶å¯¾åˆæ ¼ã§ãã¾ã™ã€‚ãŸã é‡ãŒå¤šã„ã®ã§ï¼’å‘¨ã™ã‚‹ã®ã¯ã‹ãªã‚Šæ ¹æ°—ãŒå¿…è¦ã§ã™ï¼ˆè‡ªåˆ†ã¯1å‘¨ã§æ–­å¿µã—ã¾ã—ãŸï¼‰ã€‚<br>ã‚ã¨æœ¬ãŒã§ã‹ãã¦ã€é›»è»Šã®ä¸­ã§ã¯çµ¶å¯¾èª­ã‚ã¾ã›ã‚“ã€‚Kindleã§è³¼å…¥ã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚</dd>\n\n<h2>\n<span id=\"è©¦é¨“æœ¬ç•ª\" class=\"fragment\"></span><a href=\"#%E8%A9%A6%E9%A8%93%E6%9C%AC%E7%95%AA\"><i class=\"fa fa-link\"></i></a>è©¦é¨“æœ¬ç•ª</h2>\n\n<p>å•é¡Œæ•°ã¯85å•ã€è©¦é¨“æ™‚é–“ã¯150åˆ†ã§ã—ãŸãŒã€æ™‚é–“ãŒè¶³ã‚Šãªã„ã¨ã„ã†ã“ã¨ã¯ãªãã€120åˆ†ã»ã©ã§è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸã€‚<br>\né›£æ˜“åº¦ã¯é»’æœ¬ã®ç·ä»•ä¸Šã’å•é¡Œã‚ˆã‚Šã‚‚å°‘ã—é«˜ã‚ã§ã™ã€‚<br>\nJavaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6ã®æ™‚ã®ã‚ˆã†ãªé‡ç®±ã®éš…ã‚’ã¤ã¤ãã‚ˆã†ãªå•é¡Œã¯å°‘ãªãã€<br>\nJava8ã®æ–°è¦æ©Ÿèƒ½ãŒãƒ¡ã‚¤ãƒ³ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ AIPã€ãƒ©ãƒ ãƒ€å¼ã€ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã«é–¢ã—ã¦ã¯å˜ä½“ã§ã®å‡ºé¡Œ or ä»–ã¨çµ¡ã‚ã¦ã®å‡ºé¡Œã§ï¼‘ï¼ï¼”ã‚’å ã‚ã¦ã„ã¾ã—ãŸã€‚Study Guideã§ã¯ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®é›£ã—ã‚ã®å•é¡ŒãŒå¤šã‹ã£ãŸã®ã§ã™ãŒã€æœ¬ç•ªã¯ç°¡å˜ãªå•é¡ŒãŒï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚Optionalã¨DateTimeAPIã«ã¤ã„ã¦ã¯æ„å¤–ã¨å°‘ãªãã€ï¼‘ã€ï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚<br>\nJDBCã¯ä¾‹å¤–å‡¦ç†ã¨çµ¡ã‚ãŸå•é¡Œã‚‚ã‚ã‚Šï¼•ï½ï¼—å•ã¨æ„å¤–ã¨å¤šã‚ã§ã—ãŸã€‚<br>\nNew IOã«ã¤ã„ã¦ã¯çµ¶å¯¾ãƒ‘ã‚¹ã¨ç›¸å¯¾ãƒ‘ã‚¹ã§ã®æŒ™å‹•ã®é•ã„ã‚’ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ„Ÿæƒ³\" class=\"fragment\"></span><a href=\"#%E6%84%9F%E6%83%B3\"><i class=\"fa fa-link\"></i></a>æ„Ÿæƒ³</h2>\n\n<p>ç‚¹æ•°çš„ã«ã¯ã‚®ãƒªã‚®ãƒªåˆæ ¼ã§ã—ãŸã€‚ã€‚ã€‚<br>\nå•é¡Œé›†ã«å–ã‚Šçµ„ã‚€ã¨ãã«ã€æ­£è§£ã‚’å°ãå‡ºã›ã‚‹ã ã‘ã§ãªãã€ä¸€ã¤ä¸€ã¤ã®é¸æŠè‚¢ã«å¯¾ã—ã¦èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãªãŒã‚‰Java8ã®ä¸»è¦æ–°ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ä¸€é€šã‚Šæ•´ç†ã§ãã¾ã—ãŸã€æ¥­å‹™ã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªç†è§£ã ã¨æ€ã„ã¾ã™ã€‚<br>\nè©¦é¨“å¯¾ç­–ã¯å•é¡Œé›†ã®ã¿ã§ã—ãŸãŒã€è©¦é¨“å¾Œã«<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-809&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">ã‚ªãƒ©ã‚¯ãƒ«ã®å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€è©¦é¨“å†…å®¹ï¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ã€ãƒˆãƒ”ãƒƒã‚¯ã€‘ã®ï¼‘ã¤ï¼‘ã¤ã«å¯¾ã—ã¦æ¼ã‚Œãªãå•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¦ãŸã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§ã€è©¦é¨“å‰ã«è¦‹ã¨ã‘ã°ã‚ˆã‹ã£ãŸãªãã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã‚ã¨è‹±èªã®å‹‰å¼·ã‚‚ã‹ã­ã¦é»’æœ¬ã¨Study Guideã‚’é¸ã³ã¾ã—ãŸãŒã€ä»–ã®æ–¹ã®ãƒ–ãƒ­ã‚°ã‚’è¦‹ãŸæ„Ÿã˜ã ã¨ã€é»’æœ¬ã¨ç´«æœ¬ã‚’è²·ã£ã¦ãã‚Œãã‚Œï¼’å‘¨ã™ã‚Œã°åˆæ ¼ã§ãã‚‹ã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸã€‚</p>\n</dl>","body":"å…ˆæ—¥[Java SE 8 Programmer II(Java SE8 Gold)](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-809&p_org_id=70)ã«åˆæ ¼ã—ã¾ã—ãŸã€‚\nãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚\n\nâ–¼è©¦é¨“çµæœ\nå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆ\nå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(>o<)!\n\n## è‡ªåˆ†ã¨Javaã®é–¢ä¿‚\n* ä»•äº‹ã§Javaé–‹ç™ºã¯5å¹´\n* ä¿æœ‰è³‡æ ¼ã¯[Java SE 8 Silver](https://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-808&p_org_id=70&lang=JA)ã¨ [Webã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘EE 5](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=458&p_org_id=70&lang=JA&get_params=p_track_id:JEE5WCD)ã¨ [Javaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-851&p_org_id=70&lang=JA)\n\n## ãã£ã‹ã‘\nJava8ã§æ–°æ©Ÿèƒ½ãŒå¤šãè¿½åŠ ã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚‰ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã«å—é¨“ã—ã¾ã—ãŸã€‚ã€€\næœ€åˆã¯[Upgrade to Java SE 8 OCP](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-813&p_org_id=70&lang=JA)ã®å—é¨“ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸãŒã€\nå‚è€ƒæ›¸ãŒãªã„ã®ã¨æƒ…å ±é‡ãŒå°‘ãªã‹ã£ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’å—ã‘ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\n\n## è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³\n<dl><dt>[å¾¹åº•æ”»ç•¥Java SE 8 Goldå•é¡Œé›†ï¼»1Z0-809ï¼½å¯¾å¿œ å¾¹åº•æ”»ç•¥ã‚·ãƒªãƒ¼ã‚º](https://www.amazon.co.jp/%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5Java-SE-8-Gold%E5%95%8F%E9%A1%8C%E9%9B%86%EF%BC%BB1Z0-809%EF%BC%BD%E5%AF%BE%E5%BF%9C-%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-ebook/dp/B01LXSG1G9/ref=pd_sim_351_1?_encoding=UTF8&psc=1&refRID=PC6MK9AHZB6JSXW5VM6F)ï¼ˆä»¥å¾Œã€é»’æœ¬ã¨è¨˜è¿°ï¼‰</dt>\n<dd>å®šç•ªã®å•é¡Œé›†ãªã®ã§è³¼å…¥ã—ã¾ã—ãŸãŒã€å…¨ä½“çš„ã«é›£æ˜“åº¦ãŒä½ã‚ã®é–€é¡ŒãŒå¤šã„ã§ã™ã€‚ãŸã æœ¬ã®æœ€å¾Œã®ç·ä»•ä¸Šã’å•é¡Œã¯æœ¬ç•ªè©¦é¨“ã¨é›£æ˜“åº¦ãŒè¿‘ãã€æœ¬ç•ªã§ã‚‚åŒã˜å•é¡ŒãŒå¤šæ•°å‡ºé¡Œã•ã‚Œã¾ã—ãŸã€‚</dd>\n<dt>[OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide: Exam 1Z0-809](https://www.amazon.co.jp/dp/B0191U2H8C/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)ï¼ˆä»¥å¾Œã€ Study Guideã¨è¨˜è¿°ï¼‰</dt>\n<dd>ä¸Šè¨˜ã®é»’æœ¬ã ã‘ã§ã¯ä¸å®‰ã«ãªã‚Šè³¼å…¥ã—ã¾ã—ãŸã€‚[ç´«æœ¬](https://www.amazon.co.jp/dp/B01J1LPKJY/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)ã¨åŒã˜ã‚ˆã†ãªæ§‹æˆã§ã€å‚è€ƒæ›¸ã¨å•é¡Œé›†ãŒï¼‘ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ç´«æœ¬ã§ã¯ãªãStudy Guideã«ã—ãŸã®ã¯è‹±èªåŠ›ã‚’èº«ã«ã¤ã‘ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚æœ¬ã®èª¬æ˜ã«ã€ŒComplete, trusted preparation for the Java Programmer II examã€ã¨ã‚ã‚‹é€šã‚Šå•é¡Œæ•°ã‚‚å¤šãã‹ãªã‚Šå……å®Ÿã—ãŸå†…å®¹ã§ã—ãŸã€‚é›£æ˜“åº¦ã¯æœ¬ç•ªã‚ˆã‚Šã‚‚é«˜ã‚ã§ã™ã€‚ã“ã®æœ¬ã‚’ï¼’å‘¨ã—ã¦å•é¡Œã®æ­£ç­”ç‡ãŒ90%ã«é”ã—ã¦ã„ã‚Œã°çµ¶å¯¾åˆæ ¼ã§ãã¾ã™ã€‚ãŸã é‡ãŒå¤šã„ã®ã§ï¼’å‘¨ã™ã‚‹ã®ã¯ã‹ãªã‚Šæ ¹æ°—ãŒå¿…è¦ã§ã™ï¼ˆè‡ªåˆ†ã¯1å‘¨ã§æ–­å¿µã—ã¾ã—ãŸï¼‰ã€‚<br>ã‚ã¨æœ¬ãŒã§ã‹ãã¦ã€é›»è»Šã®ä¸­ã§ã¯çµ¶å¯¾èª­ã‚ã¾ã›ã‚“ã€‚Kindleã§è³¼å…¥ã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚</dd>\n\n## è©¦é¨“æœ¬ç•ª\nå•é¡Œæ•°ã¯85å•ã€è©¦é¨“æ™‚é–“ã¯150åˆ†ã§ã—ãŸãŒã€æ™‚é–“ãŒè¶³ã‚Šãªã„ã¨ã„ã†ã“ã¨ã¯ãªãã€120åˆ†ã»ã©ã§è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸã€‚\né›£æ˜“åº¦ã¯é»’æœ¬ã®ç·ä»•ä¸Šã’å•é¡Œã‚ˆã‚Šã‚‚å°‘ã—é«˜ã‚ã§ã™ã€‚\nJavaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6ã®æ™‚ã®ã‚ˆã†ãªé‡ç®±ã®éš…ã‚’ã¤ã¤ãã‚ˆã†ãªå•é¡Œã¯å°‘ãªãã€\nJava8ã®æ–°è¦æ©Ÿèƒ½ãŒãƒ¡ã‚¤ãƒ³ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ AIPã€ãƒ©ãƒ ãƒ€å¼ã€ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã«é–¢ã—ã¦ã¯å˜ä½“ã§ã®å‡ºé¡Œ or ä»–ã¨çµ¡ã‚ã¦ã®å‡ºé¡Œã§ï¼‘ï¼ï¼”ã‚’å ã‚ã¦ã„ã¾ã—ãŸã€‚Study Guideã§ã¯ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®é›£ã—ã‚ã®å•é¡ŒãŒå¤šã‹ã£ãŸã®ã§ã™ãŒã€æœ¬ç•ªã¯ç°¡å˜ãªå•é¡ŒãŒï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚Optionalã¨DateTimeAPIã«ã¤ã„ã¦ã¯æ„å¤–ã¨å°‘ãªãã€ï¼‘ã€ï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚\nJDBCã¯ä¾‹å¤–å‡¦ç†ã¨çµ¡ã‚ãŸå•é¡Œã‚‚ã‚ã‚Šï¼•ï½ï¼—å•ã¨æ„å¤–ã¨å¤šã‚ã§ã—ãŸã€‚\nNew IOã«ã¤ã„ã¦ã¯çµ¶å¯¾ãƒ‘ã‚¹ã¨ç›¸å¯¾ãƒ‘ã‚¹ã§ã®æŒ™å‹•ã®é•ã„ã‚’ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n## æ„Ÿæƒ³\nç‚¹æ•°çš„ã«ã¯ã‚®ãƒªã‚®ãƒªåˆæ ¼ã§ã—ãŸã€‚ã€‚ã€‚\nå•é¡Œé›†ã«å–ã‚Šçµ„ã‚€ã¨ãã«ã€æ­£è§£ã‚’å°ãå‡ºã›ã‚‹ã ã‘ã§ãªãã€ä¸€ã¤ä¸€ã¤ã®é¸æŠè‚¢ã«å¯¾ã—ã¦èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãªãŒã‚‰Java8ã®ä¸»è¦æ–°ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ä¸€é€šã‚Šæ•´ç†ã§ãã¾ã—ãŸã€æ¥­å‹™ã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªç†è§£ã ã¨æ€ã„ã¾ã™ã€‚\nè©¦é¨“å¯¾ç­–ã¯å•é¡Œé›†ã®ã¿ã§ã—ãŸãŒã€è©¦é¨“å¾Œã«[ã‚ªãƒ©ã‚¯ãƒ«ã®å…¬å¼ã‚µã‚¤ãƒˆ](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-809&p_org_id=70&lang=JA)ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€è©¦é¨“å†…å®¹ï¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ã€ãƒˆãƒ”ãƒƒã‚¯ã€‘ã®ï¼‘ã¤ï¼‘ã¤ã«å¯¾ã—ã¦æ¼ã‚Œãªãå•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¦ãŸã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§ã€è©¦é¨“å‰ã«è¦‹ã¨ã‘ã°ã‚ˆã‹ã£ãŸãªãã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã‚ã¨è‹±èªã®å‹‰å¼·ã‚‚ã‹ã­ã¦é»’æœ¬ã¨Study Guideã‚’é¸ã³ã¾ã—ãŸãŒã€ä»–ã®æ–¹ã®ãƒ–ãƒ­ã‚°ã‚’è¦‹ãŸæ„Ÿã˜ã ã¨ã€é»’æœ¬ã¨ç´«æœ¬ã‚’è²·ã£ã¦ãã‚Œãã‚Œï¼’å‘¨ã™ã‚Œã°åˆæ ¼ã§ãã‚‹ã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸã€‚\n","comments_count":0,"created_at":"2017-03-12T17:52:21+09:00","likes_count":17,"reactions_count":0},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Java"},{"weight":50,"keyword":"Java"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/38a98fba-b86d-5919-9db1-9defd84588e1/","title":"Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã§å…¬é–‹ã™ã‚‹ï¼ˆGitHub Pagesä»˜ãã€Babel7ã€webpack4ï¼‰","date":"2018-12-12T00:56:33+09:00","excerpt":"ãªã«ã“ã‚ŒTIS Advent Calendar 2018ã®13æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼æœ€è¿‘Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmå…¬é–‹ã—ã¦ã¿ã¾ã—ãŸï¼ˆå‚è€ƒè¨˜äº‹ï¼šCSSã®clip-pathã§Slit Animationã‚’å®Ÿç¾ã™ã‚‹ï¼‰ã€‚ãã“ã§...","tags":["npm","github-pages","webpack","React","babel","Qiita"],"keywords":["npm"],"thumbnail":""},"id":"38a98fba-b86d-5919-9db1-9defd84588e1","title":"Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã§å…¬é–‹ã™ã‚‹ï¼ˆGitHub Pagesä»˜ãã€Babel7ã€webpack4ï¼‰","rendered_body":"\n<h2>\n<span id=\"ãªã«ã“ã‚Œ\" class=\"fragment\"></span><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\"><i class=\"fa fa-link\"></i></a>ãªã«ã“ã‚Œ</h2>\n\n<p><a href=\"https://qiita.com/advent-calendar/2018/tis\">TIS Advent Calendar 2018</a>ã®13æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼</p>\n\n<p>æœ€è¿‘Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmå…¬é–‹ã—ã¦ã¿ã¾ã—ãŸï¼ˆå‚è€ƒè¨˜äº‹ï¼š<a href=\"https://takumon.com/2018/12/02/\" rel=\"nofollow noopener\" target=\"_blank\">CSSã®clip-pathã§Slit Animationã‚’å®Ÿç¾ã™ã‚‹</a>ï¼‰ã€‚ãã“ã§ä»Šå›ã¯<strong>ç°¡å˜ãªReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ã¦ã€npmå…¬é–‹ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚</strong><br>\nã€ŒReactå§‹ã‚ãŸã‚“ã ã‘ã©...npmã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œã£ãŸã‚“ã ã‘ã©...ã€ã¨ã„ã†æ–¹ã§ã‚‚30åˆ†ãã‚‰ã„ã§å…¬é–‹ã§ãã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ãŸã„äººå‘ã‘ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚<br>\nä¸‹è¨˜ã®ã‚ˆã†ãªæ‰‹é †ã§npmå…¬é–‹ã™ã‚‹ã¾ã§ã®æ–¹æ³•ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚</p>\n\n<ol>\n<li><a href=\"#1-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\">ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹</a></li>\n<li><a href=\"#2-%E3%83%87%E3%83%A2%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\">ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹</a></li>\n<li><a href=\"#3-%E3%83%87%E3%83%A2%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92github-pages%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\">ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’GitHub Pagesã§å…¬é–‹ã™ã‚‹</a></li>\n<li><a href=\"#4-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92npm%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\">ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã™ã‚‹</a></li>\n</ol>\n\n<p>â€» å®Œæˆå“ã¯GitHubã«å…¬é–‹ã—ã¦ã„ã¾ã™ =&gt; <a href=\"https://github.com/Takumon/react-component-sample/tree/step4\" rel=\"nofollow noopener\" target=\"_blank\">Takumon/react-component-sample</a><br>\nâ€» å®Œæˆå“ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã«ãªã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€dist              ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\nâ”œâ”€src               ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\nâ”‚   â”œâ”€index.js\nâ”‚   â””â”€styles.css\nâ”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\nâ”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\nâ”‚  â””â”€src\nâ”‚     â”œâ”€index.html\nâ”‚     â””â”€index.js\nâ”œâ”€node_modules\nâ”œâ”€.babelrc          ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€.npmignore        ãƒ»ãƒ»ãƒ»npmç™»éŒ²é™¤å¤–å¯¾å‡¦å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\nâ””â”€.gitignore\n</pre></div></div>\n\n<h2>\n<span id=\"1-ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#1-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹</h2>\n\n<p>ã¾ãšã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ã¦ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã¨ã“ã‚ã¾ã§å®Œæˆã•ã›ã¾ã—ã‚‡ã†ã€‚</p>\n\n<p>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯<strong><a href=\"https://github.com/Takumon/react-component-sample/tree/step1\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a></strong><br>\nâ€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</p>\n\n<div class=\"code-frame\" data-lang=\"diff\"><div class=\"highlight\"><pre>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n<span class=\"gi\">+ â”œâ”€dist          ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n+ â”œâ”€src           ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\n+ â”‚   â”œâ”€index.js\n+ â”‚   â””â”€styles.css\n+ â”œâ”€node_modules\n+ â”œâ”€.babelrc      ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n+ â””â”€package.json  ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè¿½è¨˜ï¼‰\n</span></pre></div></div>\n\n<ul>\n<li>æœ€åˆã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ä½œã‚Šã¾ã™ã€‚<code>npm init</code>ã§è‰²ã€…èã‹ã‚Œã¾ã™ãŒå…¨ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ§‹ã„ã¾ã›ã‚“ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nb\">mkdir </span>react-component-sample\n<span class=\"nb\">cd </span>react-component-sample\nnpm init\n</pre></div></div>\n\n<ul>\n<li>æœ€ä½é™ã®Reactç³»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚é–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ã§<code>-D</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre>npm i <span class=\"nt\">-D</span> react react-dom\n</pre></div></div>\n\n<ul>\n<li>Babelã§Reactã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚é–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã®ã§<code>-D</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>npm i -D @babel/cli @babel/cli @babel/core @babel/preset-env @babel/preset-react babel-loader\n</pre></div></div>\n\n<ul>\n<li>\n<code>.babelrc</code>ã‚’ä½œæˆã—ã€Reactã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã®å®šç¾©ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">.babelrc</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span>\n    <span class=\"s2\">\"presets\"</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"s2\">\"@babel/preset-env\"</span><span class=\"p\">,</span>\n        <span class=\"s2\">\"@babel/react\"</span>\n    <span class=\"p\">]</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"jsx\">\n<div class=\"code-lang\"><span class=\"bold\">src/index.js</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">React</span> <span class=\"k\">from</span> <span class=\"s1\">'react'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'./styles.css'</span><span class=\"p\">;</span>\n<span class=\"kd\">const</span> <span class=\"nx\">MyComponent</span> <span class=\"o\">=</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">(</span>\n    <span class=\"p\">&lt;</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>Hello from My Component<span class=\"p\">&lt;/</span><span class=\"nt\">h1</span><span class=\"p\">&gt;</span>\n<span class=\"p\">);</span>\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"nx\">MyComponent</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§èª­ã¿è¾¼ã‚€CSSã‚’ä½œã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">src/styles.css</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">h1</span> <span class=\"p\">{</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">red</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’package.jsonã«è¿½åŠ ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯JSãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã—distãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã€ãã‚Œä»¥å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«(CSS)ã‚’distãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre>    \"scripts\": {\n<span class=\"gi\">+     \"transpile\": \"babel src -d dist --copy-files\"\n</span>    },\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ç¢ºèª</h3>\n\n<ul>\n<li>æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre>npm run transpile\n</pre></div></div>\n\n<ul>\n<li>ä¸‹è¨˜ã®ã‚ˆã†ã«distãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«index.jsã¨styles.cssãŒç”Ÿæˆã•ã‚Œã‚Œã°ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«æˆåŠŸã§ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å¾Œã®è³‡ç”£</span></div>\n<div class=\"highlight\"><pre>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€dist           ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\nâ”‚   â”œâ”€index.js\nâ”‚   â””â”€styles.css\n</pre></div>\n</div>\n\n<h2>\n<span id=\"2-ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#2-%E3%83%87%E3%83%A2%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>2. ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹</h2>\n\n<p>å®Ÿéš›ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚‚ã‚ã‚ã›ã¦ç”¨æ„ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ã„æ–¹ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ã‹ã‚Šã‚„ã™ãç¤ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚<br>\nã“ã“ã§ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãŒè¦‹ã‚Œã‚‹ã¨ã“ã‚ã¾ã§ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<p>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯<strong><a href=\"https://github.com/Takumon/react-component-sample/tree/step2\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a></strong><br>\nâ€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</p>\n\n<div class=\"code-frame\" data-lang=\"diff\"><div class=\"highlight\"><pre>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n  â”œâ”€dist\n  â”œâ”€src\n  â”‚   â”œâ”€index.js\n  â”‚   â””â”€styles.css\n  â”œâ”€node_modules\n  â”œâ”€.babelrc\n<span class=\"gi\">+ â”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\n+ â”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n+ â”‚  â””â”€src\n+ â”‚     â”œâ”€index.html\n+ â”‚     â””â”€index.js\n+ â”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n+ â””â”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\n</span></pre></div></div>\n\n<ul>\n<li>ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã¯webpackã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã®ã§å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>npm i -D html-webpack-plugin webpack webpack-cli webpack-dev-server css-loader style-loader\n</pre></div></div>\n\n<ul>\n<li>ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã®HTMLã‚’ä½œæˆã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">examples/src/index.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;html&gt;</span>\n<span class=\"nt\">&lt;head&gt;</span>\n    <span class=\"nt\">&lt;title&gt;</span>My Component Demo<span class=\"nt\">&lt;/title&gt;</span>\n    <span class=\"nt\">&lt;meta</span> <span class=\"na\">charset=</span><span class=\"s\">\"utf-8\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;meta</span> <span class=\"na\">name=</span><span class=\"s\">\"viewport\"</span> <span class=\"na\">content=</span><span class=\"s\">\"width=device-width, initial-scale=1, shrink-to-fit=no\"</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;/head&gt;</span>\n<span class=\"nt\">&lt;body&gt;</span>\n    <span class=\"nt\">&lt;noscript&gt;</span>\n        You need to enable JavaScript to run this app.\n    <span class=\"nt\">&lt;/noscript&gt;</span>\n    <span class=\"nt\">&lt;div</span> <span class=\"na\">id=</span><span class=\"s\">\"root\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/body&gt;</span>\n<span class=\"nt\">&lt;/html&gt;</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã®èµ·ç‚¹ã¨ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®æ™‚ã€<a href=\"#1-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90%E3%81%99%E3%82%8B\">1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹</a>ã§ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"jsx\">\n<div class=\"code-lang\"><span class=\"bold\">examples/src/index.js</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">React</span> <span class=\"k\">from</span> <span class=\"s1\">'react'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">render</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'react-dom'</span>\n<span class=\"k\">import</span> <span class=\"nx\">MyComponent</span> <span class=\"k\">from</span> <span class=\"s1\">'../../src'</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">App</span> <span class=\"o\">=</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">&lt;</span><span class=\"nc\">MyComponent</span><span class=\"p\">/&gt;;</span>\n<span class=\"nx\">render</span><span class=\"p\">(&lt;</span><span class=\"nc\">App</span> <span class=\"p\">/&gt;,</span> <span class=\"nb\">document</span><span class=\"p\">.</span><span class=\"nx\">getElementById</span><span class=\"p\">(</span><span class=\"s1\">'root'</span><span class=\"p\">));</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆwebpack.config.jsï¼‰ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">webpack.config.js</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">path</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'path'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">HtmlWebpackPlugin</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'html-webpack-plugin'</span><span class=\"p\">);</span>\n<span class=\"c1\">// HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ“ãƒ«ãƒ‰è¨­å®š</span>\n<span class=\"kd\">const</span> <span class=\"nx\">htmlWebpackPlugin</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">HtmlWebpackPlugin</span><span class=\"p\">({</span>\n    <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'examples/src/index.html'</span><span class=\"p\">),</span>\n    <span class=\"na\">filename</span><span class=\"p\">:</span> <span class=\"s1\">'./index.html'</span>\n<span class=\"p\">});</span>\n<span class=\"nx\">module</span><span class=\"p\">.</span><span class=\"nx\">exports</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// ä¾å­˜é–¢ä¿‚è§£æ±ºã®èµ·ç‚¹ã¨ãªã‚‹è³‡ç”£ã‚’æŒ‡å®šã—ã¾ã™ã€‚</span>\n    <span class=\"na\">entry</span><span class=\"p\">:</span> <span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'examples/src/index.js'</span><span class=\"p\">),</span>\n    <span class=\"c1\">// Babelã®ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å¯¾è±¡è³‡ç”£ã‚’æŒ‡å®šã—ã¾ã™ã€‚</span>\n    <span class=\"na\">module</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">rules</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n            <span class=\"p\">{</span>\n                <span class=\"na\">test</span><span class=\"p\">:</span> <span class=\"sr\">/</span><span class=\"se\">\\.(</span><span class=\"sr\">js|jsx</span><span class=\"se\">)</span><span class=\"sr\">/</span><span class=\"p\">,</span>\n                <span class=\"na\">use</span><span class=\"p\">:</span> <span class=\"s1\">'babel-loader'</span><span class=\"p\">,</span>\n                <span class=\"na\">exclude</span><span class=\"p\">:</span> <span class=\"sr\">/node_modules/</span>\n            <span class=\"p\">},</span>\n            <span class=\"p\">{</span>\n                <span class=\"na\">test</span><span class=\"p\">:</span> <span class=\"sr\">/</span><span class=\"se\">\\.</span><span class=\"sr\">css$/</span><span class=\"p\">,</span>\n                <span class=\"na\">use</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s2\">\"style-loader\"</span><span class=\"p\">,</span> <span class=\"s2\">\"css-loader\"</span><span class=\"p\">]</span>\n            <span class=\"p\">}</span>\n        <span class=\"p\">]</span>\n    <span class=\"p\">},</span>\n    <span class=\"na\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">htmlWebpackPlugin</span><span class=\"p\">],</span>\n    <span class=\"na\">resolve</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">extensions</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'.js'</span><span class=\"p\">,</span> <span class=\"s1\">'.jsx'</span><span class=\"p\">]</span>\n    <span class=\"p\">},</span>\n    <span class=\"c1\">// é–‹ç™ºç”¨Webã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚</span>\n    <span class=\"na\">devServer</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">port</span><span class=\"p\">:</span> <span class=\"mi\">3001</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸èµ·å‹•ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’package.jsonã«è¿½è¨˜ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã®ä¸€éƒ¨</span></div>\n<div class=\"highlight\"><pre>    \"scripts\": {\n<span class=\"gi\">+     \"start\": \"webpack-dev-server --mode development\"\n</span>    },\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ç¢ºèª-1\" class=\"fragment\"></span><a href=\"#%E7%A2%BA%E8%AA%8D-1\"><i class=\"fa fa-link\"></i></a>ç¢ºèª</h3>\n\n<ul>\n<li>æº–å‚™ãŒæ•´ã£ãŸã®ã§ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’èµ·å‹•ã—ã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre>npm start\n</pre></div></div>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ã§<code>http://localhost:3001</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/a12b4f44783c0003093566184a9ea5badc8efc4d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64363538373137352d323164372d613135622d343865392d3363366563333165643130352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a12b4f44783c0003093566184a9ea5badc8efc4d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64363538373137352d323164372d613135622d343865392d3363366563333165643130352e706e67\" alt=\"å›³1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d6587175-21d7-a15b-48e9-3c6ec31ed105.png\"></a></p>\n\n<h2>\n<span id=\"3-ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’github-pagesã§å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#3-%E3%83%87%E3%83%A2%E3%83%9A%E3%83%BC%E3%82%B8%E3%82%92github-pages%E3%81%A7%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>3. ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’GitHub Pagesã§å…¬é–‹ã™ã‚‹</h2>\n\n<p>ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§è¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰ã€æ¬¡ã¯GitHubã«è³‡ç”£ã‚’ç™»éŒ²ã—ã€GitHub Pagesã§å…¬é–‹ã—ã¾ã—ã‚‡ã†ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ç°¡å˜ã«å…¬é–‹ã§ãã¾ã™ã€‚</p>\n\n<p>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯<strong><a href=\"https://github.com/Takumon/react-component-sample/tree/step3\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a></strong><br>\nâ€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</p>\n\n<div class=\"code-frame\" data-lang=\"diff\"><div class=\"highlight\"><pre>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n  â”œâ”€dist              ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”œâ”€src               ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\n  â”‚   â”œâ”€index.js\n  â”‚   â””â”€styles.css\n  â”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\n  â”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”‚  â””â”€src\n  â”‚     â”œâ”€index.html\n  â”‚     â””â”€index.js\n  â”œâ”€node_modules\n  â”œâ”€.babelrc          ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n<span class=\"gi\">+ â”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè¿½è¨˜ï¼‰\n+ â”œâ”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè¿½è¨˜ï¼‰\n+ â””â”€.gitignore\n</span></pre></div></div>\n\n<ul>\n<li>github-pagesã¨ã„ã†GitHubå…¬é–‹ç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre>npm i <span class=\"nt\">-D</span> gh-pages\n</pre></div></div>\n\n<ul>\n<li>package.jsonã«GitHubPageså…¬é–‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ï¼“å€‹è¿½åŠ ã—ã¾ã™ã€‚\n\n<ul>\n<li>\n<code>publish-demo</code>ã¯ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã„ã£ãºã‚“ã«ã‚„ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«å¤§æŠµã®å ´åˆãƒ“ãƒ«ãƒ‰ã™ã‚‹ã®ã§ã€1ã¤ã«ã¾ã¨ã‚ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre>    \"scripts\": {\n<span class=\"gi\">+     \"build\": \"webpack --mode production\",\n+     \"deploy\": \"gh-pages -d examples/dist\",\n+     \"publish-demo\": \"npm run build &amp;&amp; npm run deploy\"\n</span>    },\n</pre></div>\n</div>\n\n<ul>\n<li>webpack.config.jsã«å‡ºåŠ›å…ˆã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">webpack.config.jsã®ä¸€éƒ¨</span></div>\n<div class=\"highlight\"><pre>  module.exports = {\n<span class=\"gi\">+     output: {\n+        path: path.join(__dirname, \"examples/dist\"),\n+        filename: \"bundle.js\"\n+    },\n</span>  }\n</pre></div>\n</div>\n\n<ul>\n<li>ã§ã¯ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre>npm run build\n</pre></div></div>\n\n<ul>\n<li><p>ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¦æœ€å°åŒ–ã•ã‚ŒãŸè³‡ç”£ãŒ<code>examples/dist</code>é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸã®ãŒç¢ºèªã§ãã‚Œã°OKã§ã™ã€‚</p></li>\n<li><p>Gitã«ã‚ã’ã‚‹æº–å‚™ã¨ã—ã¦<code>.gitignore</code>ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚</p></li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"txt\">\n<div class=\"code-lang\"><span class=\"bold\">.gitignore</span></div>\n<div class=\"highlight\"><pre>node_modules\ndist\n</pre></div>\n</div>\n\n<ul>\n<li>GitHubã§ãƒªãƒã‚¸ãƒˆãƒªã‚’æ–°è¦ä½œæˆã—ã¦è³‡ç”£ã‚’ç™»éŒ²ã—ã¾ã—ã‚‡ã†ã€‚æ–°è¦ä½œæˆå¾Œã®ã€Œ...or create a new respository on the command lineã€ã®èª¬æ˜ã«å¾“ã£ã¦ãã ã•ã„ã€‚</li>\n</ul>\n\n<h3>\n<span id=\"ç¢ºèª-2\" class=\"fragment\"></span><a href=\"#%E7%A2%BA%E8%AA%8D-2\"><i class=\"fa fa-link\"></i></a>ç¢ºèª</h3>\n\n<ul>\n<li>ä¸‹è¨˜ã‚’å®Ÿè¡Œã—ã¦GitHub Pagesã«ç™»éŒ²ã—ã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre>npm run publish-demo\n</pre></div></div>\n\n<ul>\n<li>2ï½3åˆ†å¾Œã«GitHub Pagesã§Webå…¬é–‹ã•ã‚Œã¦ã„ã‚Œã°æˆåŠŸã§ã™ã€‚\n\n<ul>\n<li>ä¾‹ =&gt; ã€€<a href=\"https://takumon.github.io/react-component-sample/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://takumon.github.io/react-component-sample/</a>\n</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"è£œè¶³ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†å ´åˆ\" class=\"fragment\"></span><a href=\"#%E8%A3%9C%E8%B6%B3%E7%94%BB%E5%83%8F%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%82%92%E6%89%B1%E3%81%86%E5%A0%B4%E5%90%88\"><i class=\"fa fa-link\"></i></a>(è£œè¶³)ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†å ´åˆ</h3>\n\n<p>ã‚‚ã—ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã§ç”»åƒã‚’èª­ã¿è¾¼ã‚€å ´åˆã¯<code>file-loader</code>ã¨<code>url-loader</code>ã‚’é–‹ç™ºç”¨ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚ãƒ“ãƒ«ãƒ‰è¨­å®šã‚‚ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ãŒå¿…è¦ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>npm i -D file-loader url-loader\n</pre></div></div>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">webpack.config.jsã®ä¸€éƒ¨</span></div>\n<div class=\"highlight\"><pre>  module.exports = {\n    module: {\n<span class=\"gi\">+     {\n+       test: /\\.(jpg|png|ico)$/,\n+       use: 'url-loader'\n+     },\n</span>    },\n  }\n</pre></div>\n</div>\n\n<p><br><br>\nã“ã‚Œã§ã‚ã¨ã¯æœ€çµ‚æ‰‹é †ã®npmå…¬é–‹ã‚’æ®‹ã™ã®ã¿ã§ã™ï¼<br>\n<br></p>\n\n<h2>\n<span id=\"4-ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#4-%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92npm%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>4. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã™ã‚‹</h2>\n\n<p>ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚‚æº–å‚™ã§ããŸã®ã§ã€ã„ã‚ˆã„ã‚ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<p>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯<strong><a href=\"https://github.com/Takumon/react-component-sample/tree/step4\" rel=\"nofollow noopener\" target=\"_blank\">ã“ã¡ã‚‰</a></strong><br>\nâ€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</p>\n\n<div class=\"code-frame\" data-lang=\"diff\"><div class=\"highlight\"><pre>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n  â”œâ”€dist              ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”œâ”€src               ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\n  â”‚   â”œâ”€index.js\n  â”‚   â””â”€styles.css\n  â”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\n  â”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”‚  â””â”€src\n  â”‚     â”œâ”€index.html\n  â”‚     â””â”€index.js\n  â”œâ”€node_modules\n  â”œâ”€.babelrc          ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n  â”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n<span class=\"gi\">+ â”œâ”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«(è¿½è¨˜)\n+ â”œâ”€.npmignore        ãƒ»ãƒ»ãƒ»npmç™»éŒ²é™¤å¤–å¯¾å‡¦å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\n</span>  â””â”€.gitignore\n</pre></div></div>\n\n<ul>\n<li>ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å¾Œã«ç”Ÿæˆã•ã‚Œã‚‹dist/index.jsã‚’ã€npmå…¬é–‹è³‡ç”£ã®ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã«æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"gi\">+   \"main\": \"dist/index.js\",\n</span></pre></div>\n</div>\n\n<ul>\n<li>æ¬¡ã«npmå…¬é–‹æ™‚ã«è‡ªå‹•ã§èµ°ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ<code>prepublishOnly</code>ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šnpmå…¬é–‹æ™‚ã«ãƒ“ãƒ«ãƒ‰ã—å¿˜ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã‚’é˜²ãã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã®ä¸€éƒ¨</span></div>\n<div class=\"highlight\"><pre>    \"scripts\": {\n<span class=\"gi\">+     \"prepublishOnly\": \"npm run transpile\"\n</span>    }\n</pre></div>\n</div>\n\n<ul>\n<li>ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã†å´ã«ã¯ã€ReactãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¨ã„ã†æƒ³å®šã§ã™ã®ã§peerDependenciesã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã®ä¸€éƒ¨</span></div>\n<div class=\"highlight\"><pre><span class=\"gi\">+   \"peerDependencies\": {\n+     \"react\": \"^16.3.0\",\n+     \"react-dom\": \"^16.3.0\"\n+   },\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<code>.npmignore</code>ã‚’ä½œæˆã—ã¦ã€npmå…¬é–‹è³‡ç”£ã¨ã—ã¦ä¸ç”¨ãªè³‡ç”£ï¼ˆãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å‰ã®jsãƒ•ã‚¡ã‚¤ãƒ«ãªã©ï¼‰ã¯å…¬é–‹å¯¾è±¡å¤–ã¨ã—ã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"txt\">\n<div class=\"code-lang\"><span class=\"bold\">.npmignore</span></div>\n<div class=\"highlight\"><pre>src\nexamples\n.babelrc\n.gitignore\nwebpack.config.js\n</pre></div>\n</div>\n\n<ul>\n<li>æœ€å¾Œã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å(package.jsonã®name)ã‚’æ±ºã‚ã¾ã™ã€‚ç¾æ®µéšã§ã¯<code>react-component-sample</code>ã¨ãªã£ã¦ã„ã¦ã€ãŠè©¦ã—ã§ä½œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ã¯å°‘ã—æ±ç”¨çš„ã™ãã‚‹åå‰ãªã®ã§ã€<code>@è‡ªåˆ†ã®npmã‚¢ã‚«ã‚¦ãƒ³ãƒˆå/raect-component-sample</code>ã®ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonä¿®æ­£ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"gd\">-   \"name\": \"react-component-sample\",\n</span><span class=\"gi\">+   \"name\": \"@takumon/react-component-sample\",\n</span></pre></div>\n</div>\n\n<h3>\n<span id=\"ç¢ºèª-3\" class=\"fragment\"></span><a href=\"#%E7%A2%BA%E8%AA%8D-3\"><i class=\"fa fa-link\"></i></a>ç¢ºèª</h3>\n\n<ul>\n<li>ã§ã¯npmå…¬é–‹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\n<ul>\n<li>\n<code>@takumon/react-component-sample</code>ã®ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯ã€<a href=\"https://docs.npmjs.com/about-scopes\" rel=\"nofollow noopener\" target=\"_blank\">Scoped Packag</a>(npmã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å‘½åè¦ç´„)ã«æ²¿ã£ã¦ã„ã‚‹ã®ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆå…¬é–‹ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚npmã§æœ‰æ–™å¥‘ç´„ã‚’ã›ãšã«ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆå…¬é–‹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨402ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã“ã§ã¯<code>--access=public</code>ã‚’ã¤ã‘ã¦ä¸€èˆ¬å…¬é–‹ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ï¼ˆå‚è€ƒï¼š<a href=\"https://stackoverflow.com/questions/45820881/npm-publish-failed-put-402\" rel=\"nofollow noopener\" target=\"_blank\">stachoverflow</a>)</li>\n<li>\n<code>Failed PUT 403</code>ã«ãªã‚‹å ´åˆã¯ã€npmã®èªè¨¼ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚<code>npm login</code>ã—ã¾ã—ã‚‡ã†ã€‚\nãã‚Œã‹<code>package.json</code>ã®<code>version</code>ãŒå¤ã„ã®ãŒåŸå› ã§ã™ã€‚ã„ã£ãŸã‚“å…¬é–‹ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å†å…¬é–‹ã¯ã§ãã¾ã›ã‚“ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¾ã—ã‚‡ã†ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre>npm publish <span class=\"nt\">--access</span><span class=\"o\">=</span>public\n</pre></div></div>\n\n<ul>\n<li>ã“ã‚Œã§ã€npmå…¬å¼ã‚µã‚¤ãƒˆã‚’ç¢ºèªã—ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚Œã°ã€å…¬é–‹å®Œäº†ã§ã™ï¼</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/1c02995625c7b4d57870910d6302e8e5b7d1fdfa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32393534363963312d623664302d626563382d303036642d6437306230393564393830362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/1c02995625c7b4d57870910d6302e8e5b7d1fdfa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32393534363963312d623664302d626563382d303036642d6437306230393564393830362e706e67\" alt=\"å›³4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/295469c1-b6d0-bec8-006d-d70b095d9806.png\"></a></p>\n\n<h2>\n<span id=\"ãŠã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E3%81%8A%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ãŠã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ç´¹ä»‹ã—ãŸã‚ˆã†ã«ã€ã‚ã‚Šã¨ç°¡å˜ã«npmå…¬é–‹ã§ãã‚‹ã®ã§ã€æ™®æ®µä½¿ã„ã¾ã‚ã—ã¦ã„ã‚‹ã‚ˆã†ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚Œã°å…¬é–‹ã—ã¦ã¿ã‚‹ã®ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"https://medium.com/dailyjs/building-a-react-component-with-webpack-publish-to-npm-deploy-to-github-guide-6927f60b3220\" rel=\"nofollow noopener\" target=\"_blank\">A guide to building a React component with webpack 4, publishing to npm, and deploying the demo to GitHub Pages | Medium</a></li>\n<li><a href=\"https://hackernoon.com/creating-a-library-of-react-components-using-create-react-app-without-ejecting-d182df690c6b\" rel=\"nofollow noopener\" target=\"_blank\">Creating a library of React components using Create React App | Medium</a></li>\n</ul>\n","body":"## ãªã«ã“ã‚Œ\n\n[TIS Advent Calendar 2018](https://qiita.com/advent-calendar/2018/tis)ã®13æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼\n\næœ€è¿‘Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmå…¬é–‹ã—ã¦ã¿ã¾ã—ãŸï¼ˆå‚è€ƒè¨˜äº‹ï¼š[CSSã®clip-pathã§Slit Animationã‚’å®Ÿç¾ã™ã‚‹](https://takumon.com/2018/12/02/)ï¼‰ã€‚ãã“ã§ä»Šå›ã¯**ç°¡å˜ãªReactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ã¦ã€npmå…¬é–‹ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã™ã€‚**\nã€ŒReactå§‹ã‚ãŸã‚“ã ã‘ã©...npmã‚¢ã‚«ã‚¦ãƒ³ãƒˆä½œã£ãŸã‚“ã ã‘ã©...ã€ã¨ã„ã†æ–¹ã§ã‚‚30åˆ†ãã‚‰ã„ã§å…¬é–‹ã§ãã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ãŸã„äººå‘ã‘ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚\nä¸‹è¨˜ã®ã‚ˆã†ãªæ‰‹é †ã§npmå…¬é–‹ã™ã‚‹ã¾ã§ã®æ–¹æ³•ã‚’è¦‹ã¦ã„ãã¾ã—ã‚‡ã†ã€‚\n\n1. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹](#1-ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹)\n2. [ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹](#2-ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹)\n3. [ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’GitHub Pagesã§å…¬é–‹ã™ã‚‹](#3-ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’github-pagesã§å…¬é–‹ã™ã‚‹)\n4. [ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã™ã‚‹](#4-ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã™ã‚‹)\n\n\nâ€» å®Œæˆå“ã¯GitHubã«å…¬é–‹ã—ã¦ã„ã¾ã™ => [Takumon/react-component-sample](https://github.com/Takumon/react-component-sample/tree/step4)\nâ€» å®Œæˆå“ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n\n```\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€dist              ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\nâ”œâ”€src               ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\nâ”‚   â”œâ”€index.js\nâ”‚   â””â”€styles.css\nâ”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\nâ”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\nâ”‚  â””â”€src\nâ”‚     â”œâ”€index.html\nâ”‚     â””â”€index.js\nâ”œâ”€node_modules\nâ”œâ”€.babelrc          ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€.npmignore        ãƒ»ãƒ»ãƒ»npmç™»éŒ²é™¤å¤–å¯¾å‡¦å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\nâ””â”€.gitignore\n```\n\n\n## 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹\n\nã¾ãšã¯ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã£ã¦ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã¨ã“ã‚ã¾ã§å®Œæˆã•ã›ã¾ã—ã‚‡ã†ã€‚\n\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯**[ã“ã¡ã‚‰](https://github.com/Takumon/react-component-sample/tree/step1)**</small>\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</small>\n\n```diff\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n+ â”œâ”€dist          ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n+ â”œâ”€src           ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\n+ â”‚   â”œâ”€index.js\n+ â”‚   â””â”€styles.css\n+ â”œâ”€node_modules\n+ â”œâ”€.babelrc      ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n+ â””â”€package.json  ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè¿½è¨˜ï¼‰\n```\n\n\n\n* æœ€åˆã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ä½œã‚Šã¾ã™ã€‚`npm init`ã§è‰²ã€…èã‹ã‚Œã¾ã™ãŒå…¨ã¦ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ§‹ã„ã¾ã›ã‚“ã€‚\n\n```bash\nmkdir react-component-sample\ncd react-component-sample\nnpm init\n```\n\n\n* æœ€ä½é™ã®Reactç³»ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚é–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ã§`-D`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n\n```bash\nnpm i -D react react-dom\n```\n\n\n* Babelã§Reactã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚ã“ã¡ã‚‰ã‚‚é–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã®ã§`-D`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã¾ã—ã‚‡ã†ã€‚\n\n```\nnpm i -D @babel/cli @babel/cli @babel/core @babel/preset-env @babel/preset-react babel-loader\n```\n\n\n* `.babelrc`ã‚’ä½œæˆã—ã€Reactã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ãŸã‚ã®å®šç¾©ã‚’è¨˜è¼‰ã—ã¾ã™ã€‚\n\n```javascript:.babelrc\n{\n    \"presets\": [\n        \"@babel/preset-env\",\n        \"@babel/react\"\n    ]\n}\n```\n\n\n* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œã‚Šã¾ã™ã€‚\n\n```jsx:src/index.js\nimport React from 'react';\nimport './styles.css';\nconst MyComponent = () => (\n    <h1>Hello from My Component</h1>\n);\nexport default MyComponent;\n```\n\n\n* ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§èª­ã¿è¾¼ã‚€CSSã‚’ä½œã‚Šã¾ã™ã€‚\n\n```css:src/styles.css\nh1 {\n    color: red;\n}\n```\n\n\n* ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’package.jsonã«è¿½åŠ ã—ã¾ã™ã€‚å…·ä½“çš„ã«ã¯JSãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã—distãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã€ãã‚Œä»¥å¤–ã®ãƒ•ã‚¡ã‚¤ãƒ«(CSS)ã‚’distãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚\n\n```diff:package.json\n    \"scripts\": {\n+     \"transpile\": \"babel src -d dist --copy-files\"\n    },\n```\n\n### ç¢ºèª\n\n* æº–å‚™ãŒæ•´ã£ãŸã®ã§ã€ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\n```bash\nnpm run transpile\n```\n\n\n* ä¸‹è¨˜ã®ã‚ˆã†ã«distãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«index.jsã¨styles.cssãŒç”Ÿæˆã•ã‚Œã‚Œã°ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«æˆåŠŸã§ã™ã€‚\n\n```:ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å¾Œã®è³‡ç”£\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€dist           ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\nâ”‚   â”œâ”€index.js\nâ”‚   â””â”€styles.css\n```\n\n\n\n## 2. ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ä½œæˆã™ã‚‹\n\nå®Ÿéš›ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ç”¨ã—ãŸãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚‚ã‚ã‚ã›ã¦ç”¨æ„ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ä½¿ã„æ–¹ã‚’ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚ã‹ã‚Šã‚„ã™ãç¤ºã™ã“ã¨ãŒã§ãã¾ã™ã€‚\nã“ã“ã§ã¯ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãŒè¦‹ã‚Œã‚‹ã¨ã“ã‚ã¾ã§ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯**[ã“ã¡ã‚‰](https://github.com/Takumon/react-component-sample/tree/step2)**</small>\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</small>\n\n```diff\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n  â”œâ”€dist\n  â”œâ”€src\n  â”‚   â”œâ”€index.js\n  â”‚   â””â”€styles.css\n  â”œâ”€node_modules\n  â”œâ”€.babelrc\n+ â”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\n+ â”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n+ â”‚  â””â”€src\n+ â”‚     â”œâ”€index.html\n+ â”‚     â””â”€index.js\n+ â”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n+ â””â”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\n```\n\n\n\n* ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã¯webpackã§ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã®ã§å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n\n```\nnpm i -D html-webpack-plugin webpack webpack-cli webpack-dev-server css-loader style-loader\n```\n\n\n* ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã®HTMLã‚’ä½œæˆã—ã¾ã™ã€‚\n\n```html:examples/src/index.html\n<html>\n<head>\n    <title>My Component Demo</title>\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n</head>\n<body>\n    <noscript>\n        You need to enable JavaScript to run this app.\n    </noscript>\n    <div id=\"root\"></div>\n</body>\n</html>\n```\n\n\n* ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã®èµ·ç‚¹ã¨ãªã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚ã“ã®æ™‚ã€[1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹](#1-ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹)ã§ä½œæˆã—ãŸã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã„ã¾ã™ã€‚\n\n```jsx:examples/src/index.js\nimport React from 'react';\nimport { render } from 'react-dom'\nimport MyComponent from '../../src'\n\nconst App = () => <MyComponent/>;\nrender(<App />, document.getElementById('root'));\n```\n\n\n* ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã®ãƒ“ãƒ«ãƒ‰è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆwebpack.config.jsï¼‰ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\n\n```javascript:webpack.config.js\nconst path = require('path');\nconst HtmlWebpackPlugin = require('html-webpack-plugin');\n// HTMLãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ“ãƒ«ãƒ‰è¨­å®š\nconst htmlWebpackPlugin = new HtmlWebpackPlugin({\n    template: path.join(__dirname, 'examples/src/index.html'),\n    filename: './index.html'\n});\nmodule.exports = {\n    // ä¾å­˜é–¢ä¿‚è§£æ±ºã®èµ·ç‚¹ã¨ãªã‚‹è³‡ç”£ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    entry: path.join(__dirname, 'examples/src/index.js'),\n    // Babelã®ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å¯¾è±¡è³‡ç”£ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    module: {\n        rules: [\n            {\n                test: /\\.(js|jsx)/,\n                use: 'babel-loader',\n                exclude: /node_modules/\n            },\n            {\n                test: /\\.css$/,\n                use: [\"style-loader\", \"css-loader\"]\n            }\n        ]\n    },\n    plugins: [htmlWebpackPlugin],\n    resolve: {\n        extensions: ['.js', '.jsx']\n    },\n    // é–‹ç™ºç”¨Webã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    devServer: {\n        port: 3001\n    }\n}\n```\n\n\n* ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸èµ·å‹•ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’package.jsonã«è¿½è¨˜ã—ã¾ã™ã€‚\n\n```diff:package.jsonã®ä¸€éƒ¨\n    \"scripts\": {\n+     \"start\": \"webpack-dev-server --mode development\"\n    },\n```\n\n### ç¢ºèª\n\n* æº–å‚™ãŒæ•´ã£ãŸã®ã§ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’èµ·å‹•ã—ã¾ã—ã‚‡ã†ã€‚\n\n```bash\nnpm start\n```\n\n\n* ãƒ–ãƒ©ã‚¦ã‚¶ã§`http://localhost:3001`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒè¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n\n\n![å›³1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d6587175-21d7-a15b-48e9-3c6ec31ed105.png)\n\n\n\n## 3. ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’GitHub Pagesã§å…¬é–‹ã™ã‚‹\n\nãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§è¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã£ãŸã‚‰ã€æ¬¡ã¯GitHubã«è³‡ç”£ã‚’ç™»éŒ²ã—ã€GitHub Pagesã§å…¬é–‹ã—ã¾ã—ã‚‡ã†ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ç°¡å˜ã«å…¬é–‹ã§ãã¾ã™ã€‚\n\n\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯**[ã“ã¡ã‚‰](https://github.com/Takumon/react-component-sample/tree/step3)**</small>\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</small>\n\n```diff\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n  â”œâ”€dist              ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”œâ”€src               ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\n  â”‚   â”œâ”€index.js\n  â”‚   â””â”€styles.css\n  â”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\n  â”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”‚  â””â”€src\n  â”‚     â”œâ”€index.html\n  â”‚     â””â”€index.js\n  â”œâ”€node_modules\n  â”œâ”€.babelrc          ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n+ â”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè¿½è¨˜ï¼‰\n+ â”œâ”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆè¿½è¨˜ï¼‰\n+ â””â”€.gitignore\n```\n\n\n\n* github-pagesã¨ã„ã†GitHubå…¬é–‹ç”¨ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n\n```bash\nnpm i -D gh-pages\n```\n\n\n* package.jsonã«GitHubPageså…¬é–‹ç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ï¼“å€‹è¿½åŠ ã—ã¾ã™ã€‚\n  * `publish-demo`ã¯ãƒ“ãƒ«ãƒ‰ã¨ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã„ã£ãºã‚“ã«ã‚„ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã™ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«å¤§æŠµã®å ´åˆãƒ“ãƒ«ãƒ‰ã™ã‚‹ã®ã§ã€1ã¤ã«ã¾ã¨ã‚ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\n\n```diff:package.json\n    \"scripts\": {\n+     \"build\": \"webpack --mode production\",\n+     \"deploy\": \"gh-pages -d examples/dist\",\n+     \"publish-demo\": \"npm run build && npm run deploy\"\n    },\n```\n\n* webpack.config.jsã«å‡ºåŠ›å…ˆã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```diff:webpack.config.jsã®ä¸€éƒ¨\n  module.exports = {\n+     output: {\n+        path: path.join(__dirname, \"examples/dist\"),\n+        filename: \"bundle.js\"\n+    },\n  }\n```\n\n* ã§ã¯ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n\n```bash\nnpm run build\n```\n\n* ãƒ“ãƒ«ãƒ‰ã•ã‚Œã¦æœ€å°åŒ–ã•ã‚ŒãŸè³‡ç”£ãŒ`examples/dist`é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸã®ãŒç¢ºèªã§ãã‚Œã°OKã§ã™ã€‚\n\n\n* Gitã«ã‚ã’ã‚‹æº–å‚™ã¨ã—ã¦`.gitignore`ã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\n\n```txt:.gitignore\nnode_modules\ndist\n```\n\n\n* GitHubã§ãƒªãƒã‚¸ãƒˆãƒªã‚’æ–°è¦ä½œæˆã—ã¦è³‡ç”£ã‚’ç™»éŒ²ã—ã¾ã—ã‚‡ã†ã€‚æ–°è¦ä½œæˆå¾Œã®ã€Œ...or create a new respository on the command lineã€ã®èª¬æ˜ã«å¾“ã£ã¦ãã ã•ã„ã€‚\n\n### ç¢ºèª\n* ä¸‹è¨˜ã‚’å®Ÿè¡Œã—ã¦GitHub Pagesã«ç™»éŒ²ã—ã¾ã—ã‚‡ã†ã€‚\n\n```bash\nnpm run publish-demo\n```\n\n* 2ï½3åˆ†å¾Œã«GitHub Pagesã§Webå…¬é–‹ã•ã‚Œã¦ã„ã‚Œã°æˆåŠŸã§ã™ã€‚\n    * ä¾‹ => ã€€https://takumon.github.io/react-component-sample/\n\n\n\n### (è£œè¶³)ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ‰±ã†å ´åˆ\n\nã‚‚ã—ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã§ç”»åƒã‚’èª­ã¿è¾¼ã‚€å ´åˆã¯`file-loader`ã¨`url-loader`ã‚’é–‹ç™ºç”¨ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«è¿½åŠ ã—ã¦ãã ã•ã„ã€‚ãƒ“ãƒ«ãƒ‰è¨­å®šã‚‚ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ãŒå¿…è¦ã§ã™ã€‚\n\n```\nnpm i -D file-loader url-loader\n```\n\n```diff:webpack.config.jsã®ä¸€éƒ¨\n  module.exports = {\n    module: {\n+     {\n+       test: /\\.(jpg|png|ico)$/,\n+       use: 'url-loader'\n+     },\n    },\n  }\n```\n\n\n\n<br />\nã“ã‚Œã§ã‚ã¨ã¯æœ€çµ‚æ‰‹é †ã®npmå…¬é–‹ã‚’æ®‹ã™ã®ã¿ã§ã™ï¼\n<br />\n\n\n\n\n## 4. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã™ã‚‹\n\nãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã‚‚æº–å‚™ã§ããŸã®ã§ã€ã„ã‚ˆã„ã‚ˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’npmã«å…¬é–‹ã—ã¾ã—ã‚‡ã†ã€‚\n\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯**[ã“ã¡ã‚‰](https://github.com/Takumon/react-component-sample/tree/step4)**</small>\n<small>â€» æœ¬æ‰‹é †å®Œäº†æ™‚ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ â†“</small>\n\n```diff\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ\n  â”œâ”€dist              ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”œâ”€src               ãƒ»ãƒ»ãƒ» ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè³‡ç”£\n  â”‚   â”œâ”€index.js\n  â”‚   â””â”€styles.css\n  â”œâ”€examples          ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ç”¨è³‡ç”£\n  â”‚  â”œâ”€dist           ãƒ»ãƒ»ãƒ» ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ãƒ“ãƒ«ãƒ‰è³‡ç”£å‡ºåŠ›å ´æ‰€\n  â”‚  â””â”€src\n  â”‚     â”œâ”€index.html\n  â”‚     â””â”€index.js\n  â”œâ”€node_modules\n  â”œâ”€.babelrc          ãƒ»ãƒ»ãƒ»ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n  â”œâ”€webpack.config.js ãƒ»ãƒ»ãƒ»ãƒ“ãƒ«ãƒ‰ç”¨è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\n+ â”œâ”€package.json      ãƒ»ãƒ»ãƒ»ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ»ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«(è¿½è¨˜)\n+ â”œâ”€.npmignore        ãƒ»ãƒ»ãƒ»npmç™»éŒ²é™¤å¤–å¯¾å‡¦å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«\n  â””â”€.gitignore\n```\n\n\n\n* ãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å¾Œã«ç”Ÿæˆã•ã‚Œã‚‹dist/index.jsã‚’ã€npmå…¬é–‹è³‡ç”£ã®ãƒ¡ã‚¤ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```diff:package.json\n+   \"main\": \"dist/index.js\",\n```\n\n\n* æ¬¡ã«npmå…¬é–‹æ™‚ã«è‡ªå‹•ã§èµ°ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆ`prepublishOnly`ã‚’è¿½åŠ ã—ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šnpmå…¬é–‹æ™‚ã«ãƒ“ãƒ«ãƒ‰ã—å¿˜ã‚Œã‚‹ã¨ã„ã†ã“ã¨ã‚’é˜²ãã¾ã™ã€‚\n\n\n```diff:package.jsonã®ä¸€éƒ¨\n    \"scripts\": {\n+     \"prepublishOnly\": \"npm run transpile\"\n    }\n```\n\n\n* ã“ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½¿ã†å´ã«ã¯ã€ReactãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¨ã„ã†æƒ³å®šã§ã™ã®ã§peerDependenciesã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```diff:package.jsonã®ä¸€éƒ¨\n+   \"peerDependencies\": {\n+     \"react\": \"^16.3.0\",\n+     \"react-dom\": \"^16.3.0\"\n+   },\n```\n\n\n* `.npmignore`ã‚’ä½œæˆã—ã¦ã€npmå…¬é–‹è³‡ç”£ã¨ã—ã¦ä¸ç”¨ãªè³‡ç”£ï¼ˆãƒˆãƒ©ãƒ³ã‚¹ãƒ‘ã‚¤ãƒ«å‰ã®jsãƒ•ã‚¡ã‚¤ãƒ«ãªã©ï¼‰ã¯å…¬é–‹å¯¾è±¡å¤–ã¨ã—ã¾ã—ã‚‡ã†ã€‚\n\n```txt:.npmignore\nsrc\nexamples\n.babelrc\n.gitignore\nwebpack.config.js\n```\n\n* æœ€å¾Œã«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å(package.jsonã®name)ã‚’æ±ºã‚ã¾ã™ã€‚ç¾æ®µéšã§ã¯`react-component-sample`ã¨ãªã£ã¦ã„ã¦ã€ãŠè©¦ã—ã§ä½œã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨ã—ã¦ã¯å°‘ã—æ±ç”¨çš„ã™ãã‚‹åå‰ãªã®ã§ã€`@è‡ªåˆ†ã®npmã‚¢ã‚«ã‚¦ãƒ³ãƒˆå/raect-component-sample`ã®ã‚ˆã†ã«ã—ã¾ã—ã‚‡ã†ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n\n```diff:package.jsonä¿®æ­£ä¾‹\n-   \"name\": \"react-component-sample\",\n+   \"name\": \"@takumon/react-component-sample\",\n```\n\n\n### ç¢ºèª\n\n* ã§ã¯npmå…¬é–‹ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚\n  * `@takumon/react-component-sample`ã®ã‚ˆã†ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åã¯ã€[Scoped Packag](https://docs.npmjs.com/about-scopes)(npmã®ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å‘½åè¦ç´„)ã«æ²¿ã£ã¦ã„ã‚‹ã®ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆå…¬é–‹ã«ãªã£ã¦ã—ã¾ã„ã¾ã™ã€‚npmã§æœ‰æ–™å¥‘ç´„ã‚’ã›ãšã«ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆå…¬é–‹ã—ã‚ˆã†ã¨ã™ã‚‹ã¨402ã‚¨ãƒ©ãƒ¼ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚ã€ã“ã“ã§ã¯`--access=public`ã‚’ã¤ã‘ã¦ä¸€èˆ¬å…¬é–‹ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚ï¼ˆå‚è€ƒï¼š[stachoverflow](https://stackoverflow.com/questions/45820881/npm-publish-failed-put-402))\n  * `Failed PUT 403`ã«ãªã‚‹å ´åˆã¯ã€npmã®èªè¨¼ã‚¨ãƒ©ãƒ¼ã§ã™ã€‚`npm login`ã—ã¾ã—ã‚‡ã†ã€‚\nãã‚Œã‹`package.json`ã®`version`ãŒå¤ã„ã®ãŒåŸå› ã§ã™ã€‚ã„ã£ãŸã‚“å…¬é–‹ã—ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å†å…¬é–‹ã¯ã§ãã¾ã›ã‚“ã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã—ã¾ã—ã‚‡ã†ã€‚\n\n```bash\nnpm publish --access=public\n```\n\n\n* ã“ã‚Œã§ã€npmå…¬å¼ã‚µã‚¤ãƒˆã‚’ç¢ºèªã—ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒè¿½åŠ ã•ã‚Œã¦ã„ã‚Œã°ã€å…¬é–‹å®Œäº†ã§ã™ï¼\n\n![å›³4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/295469c1-b6d0-bec8-006d-d70b095d9806.png)\n\n\n\n\n\n## ãŠã‚ã‚Šã«\n\nä»Šå›ç´¹ä»‹ã—ãŸã‚ˆã†ã«ã€ã‚ã‚Šã¨ç°¡å˜ã«npmå…¬é–‹ã§ãã‚‹ã®ã§ã€æ™®æ®µä½¿ã„ã¾ã‚ã—ã¦ã„ã‚‹ã‚ˆã†ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚Œã°å…¬é–‹ã—ã¦ã¿ã‚‹ã®ã‚‚ã„ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n\n\n\n## å‚è€ƒ\n* [A guide to building a React component with webpack 4, publishing to npm, and deploying the demo to GitHub Pages | Medium](https://medium.com/dailyjs/building-a-react-component-with-webpack-publish-to-npm-deploy-to-github-guide-6927f60b3220)\n* [Creating a library of React components using Create React App | Medium](https://hackernoon.com/creating-a-library-of-react-components-using-create-react-app-without-ejecting-d182df690c6b)\n\n","comments_count":0,"created_at":"2018-12-12T00:56:33+09:00","likes_count":22,"reactions_count":0},"relations":[]},{"node":{"fields":{"slug":"/2018/12/09/","title":"Vimã‚’å§‹ã‚ã‚‹æ™‚ã«å–ã‚Šçµ„ã‚“ã ï¼”ã¤ã®ã“ã¨","date":"2018-12-09T21:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œæœ€è¿‘Dockerã¾ã‚ã‚Šã‚’ã‚„ã£ã¦ã„ã¦Linuxä¸Šã§Dockerfileãªã©ã‚’ç·¨é›†ã™ã‚‹ã®ãŒã¤ã‚‰ã„ã®ã§ã€ã¡ã‚ƒã‚“ã¨Vimã‚’è¦šãˆã‚ˆã†ã¨æ€ã„ç«‹ã¡ã€ã¨ã£ã‹ã‹ã‚Šã¨ã—ã¦ä¸‹è¨˜ï¼”ç‚¹å–ã‚Šçµ„ã¿ã¾ã—ãŸã€‚æ•´ç†ã‚‚ã‹ã­ã¦æœ¬è¨˜äº‹ã«ã¾ã¨ã‚ã¾ã™ã€‚vimtutorå®Ÿæ–½Vim...","tags":["Vim","Vimium"],"keywords":["Vim"],"thumbnail":"/thumbnail/2018/vim-beginners.png"}},"relations":[]},{"node":{"fields":{"slug":"/2018/12/02/","title":"CSSã®clip-pathã§Slit Animationã‚’å®Ÿç¾ã™ã‚‹","date":"2018-12-02T16:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒSlit Animationã‚’å®Ÿç¾ã™ã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’CSSã®clip-pathã‚’ä½¿ã£ã¦ä½œã‚Šã¾ã—ãŸã€‚Slit Animation(ã‚¹ãƒªãƒƒãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ã‚³ãƒç”»åƒã‚’ç¸ã€…ã«ã—ã¦åˆæˆã—ãŸç”»åƒã«ã€ã‚¹ãƒªãƒƒãƒˆ...","tags":["CSS","clip-path","React"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-slit-animation.png"}},"relations":[{"node":{"fields":{"slug":"/2018/10/28/","title":"unifiedã§Markdownã‚’HTMLã«å¤‰æ› & Reactã§Qiitaã£ã½ã„ç›®æ¬¡ã‚’ä½œã‚‹","date":"2018-10-28T21:00:00.000Z","excerpt":"ãªã«ã“ã‚Œè‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã®ç›®æ¬¡ã‚’Qiitaã£ã½ãã—ãŸã„...ç¾åœ¨è¡¨ç¤ºä¸­ã®ç« ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ç›®æ¬¡ã‚’ä½œã‚ŠãŸã„...ã¨ã„ã†ã“ã¨ã§ä½œã‚Šã¾ã—ãŸã€‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’HTMLã«å¤‰æ›ã™ã‚‹ã®ã«unifiedã¨ã„ã†æ§‹æ–‡è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ãƒ¡ãƒ¢ç”¨ã«Reactã‚µ...","tags":["React","unified","remark","rehype"],"keywords":["React"],"thumbnail":"/thumbnail/2018/qiita-like-top-of-content-with-unified.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"React"},{"weight":50,"keyword":"React"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/16/","title":"Reactã§SNSå¯¾å¿œï¼ˆGatsbyè£½ãƒ–ãƒ­ã‚°ã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€OGPã‚¿ã‚°è¿½åŠ ï¼‰","date":"2018-09-16T22:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyè£½ãƒ–ãƒ­ã‚°(Reactã‚¢ãƒ—ãƒª)ã§SNSå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚(1) SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã¨(2) è‡ªåˆ†ã®SNSã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¦ã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’SNSã§ã‚·ã‚§ã‚¢ã§ãã‚‹ã‚ˆã†ã«ã€ã€ã€ã¾ãŸã€(3) OGPã‚¿ã‚°ã‚’è¨­å®šã—ã€SNSã§ã‚·ã‚§...","tags":["Gatsby","React","OGP","SNS","SRE"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-sns.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"React"},{"weight":50,"keyword":"React"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"relations":[{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/11/18/","title":"ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œï¼ˆwindows + rï¼‰ã‚’ãƒ©ãƒ³ãƒãƒ£ãƒ¼ã¨ã—ã¦ä½¿ã†","date":"2018-11-18T12:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¾¿åˆ©ãªãƒ©ãƒ³ãƒãƒ£ãƒ¼ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€Windows PCã ã¨åƒ•ã¯ãƒ•ã‚¡ã‚¤ãƒ«åã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œï¼ˆwindows + rï¼‰ã‚’ãƒ©ãƒ³ãƒãƒ£ãƒ¼ä»£ã‚ã‚Šã«ã—ã¦ã„ã¾ã™ã€‚ã“ã®æ–¹æ³•ã¯ã€ã©ã‚“ãªWindows PCã§ã‚‚ã™ãã«ä½¿ãˆã‚‹ã¨ã„ã†ã®ãŒæœ€å¤§ã®åˆ©ç‚¹ã§ã™ã€‚PCãƒªãƒ—...","tags":["Windows","ãƒ©ãƒ³ãƒãƒ£ãƒ¼"],"keywords":["ãƒ©ãƒ³ãƒãƒ£ãƒ¼"],"thumbnail":"/thumbnail/2018/windows-r-rancher.png"}},"relations":[]},{"node":{"fields":{"slug":"/2018/11/11/","title":"Gatsbyã§Qiitaã‹ã‚‰è¨˜äº‹ã‚’å–å¾—ã™ã‚‹(gatsby-source-qiita)","date":"2018-11-11T21:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã«Qiitaã®è¨˜äº‹ã‚’å–ã‚Šè¾¼ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³(gatsby-source-qiita)ã‚’ä½œã‚Šã¾ã—ãŸQiitaã‹ã‚‰Gatsbyã«ä¹—ã‚Šæ›ãˆã‚ˆã†ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã§ã€Qiitaã®è¨˜äº‹ã‚’å¼•ãç¶™ããŸã„å ´åˆã«ä¾¿åˆ©ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«(...","tags":["Gatsby","GatsbyPlugin","Qiita"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-qiita.png"}},"relations":[{"node":{"fields":{"slug":"/2018/11/03/","title":"Gatsby Pluginã§GraphQLãƒ‡ãƒ¼ã‚¿è¿½åŠ ","date":"2018-11-03T09:00:00.000Z","excerpt":"ãªã«ã“ã‚Œå‰å›ã®unifiedã§Markdownã‚’HTMLã«å¤‰æ› &#x26; Reactã§Qiitaã£ã½ã„ç›®æ¬¡ã‚’ä½œã‚‹ã§ã€GraphQLã§å–å¾—ã—ãŸãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åŠ å·¥ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚ã‚‰ã‹ã˜ã‚GraphQLã®ãƒ‡ãƒ¼ã‚¿ã¨ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-graphql.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/21/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³45é¸","date":"2018-10-21T15:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€å…¬å¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æä¾›ã®ã‚‚ã®ã‚’ã‚ã‚ã›ã‚‹ã¨ã€ãªã‚“ã¨502å€‹ã‚‚ã‚ã‚Šã¾ã™ã€‚ï¼ˆ2018/10/21ç¾åœ¨ï¼‰ä»Šå›ã¯ãã®ä¸­ã§ã‚‚ãŠã™ã™ã‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³45å€‹ã‚’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ã«ã”ç´¹ä»‹ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ç›®æ¬¡â€»ã‚¯ãƒªãƒƒ...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/getsby-plugin-best-45.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/20/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½¿ã„æ–¹ï½¥ä½œã‚Šæ–¹ï½¥å…¬é–‹æ–¹æ³•","date":"2018-10-20T21:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyå…¬å¼ã‚µã‚¤ãƒˆã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç« ã®ã¾ã¨ã‚ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¦‚è¦Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€Gatsbyã®å…¨å‡¦ç†ã‚’æ‹¡å¼µãŠã‚ˆã³ä¿®æ­£å¯èƒ½ã§ã™ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªã“ã¨ãŒã§ãã¾ã™ã€‚å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆCMSã€ãƒ•ã‚¡ã‚¤ãƒ«ã€REST APIãªã©ï¼‰ã‚’è¿½åŠ ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/11/03/","title":"Gatsby Pluginã§GraphQLãƒ‡ãƒ¼ã‚¿è¿½åŠ ","date":"2018-11-03T09:00:00.000Z","excerpt":"ãªã«ã“ã‚Œå‰å›ã®unifiedã§Markdownã‚’HTMLã«å¤‰æ› &#x26; Reactã§Qiitaã£ã½ã„ç›®æ¬¡ã‚’ä½œã‚‹ã§ã€GraphQLã§å–å¾—ã—ãŸãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åŠ å·¥ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚ã‚‰ã‹ã˜ã‚GraphQLã®ãƒ‡ãƒ¼ã‚¿ã¨ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-graphql.png"}},"relations":[{"node":{"fields":{"slug":"/2018/11/11/","title":"Gatsbyã§Qiitaã‹ã‚‰è¨˜äº‹ã‚’å–å¾—ã™ã‚‹(gatsby-source-qiita)","date":"2018-11-11T21:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã«Qiitaã®è¨˜äº‹ã‚’å–ã‚Šè¾¼ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³(gatsby-source-qiita)ã‚’ä½œã‚Šã¾ã—ãŸQiitaã‹ã‚‰Gatsbyã«ä¹—ã‚Šæ›ãˆã‚ˆã†ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã§ã€Qiitaã®è¨˜äº‹ã‚’å¼•ãç¶™ããŸã„å ´åˆã«ä¾¿åˆ©ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«(...","tags":["Gatsby","GatsbyPlugin","Qiita"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-qiita.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/21/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³45é¸","date":"2018-10-21T15:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€å…¬å¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æä¾›ã®ã‚‚ã®ã‚’ã‚ã‚ã›ã‚‹ã¨ã€ãªã‚“ã¨502å€‹ã‚‚ã‚ã‚Šã¾ã™ã€‚ï¼ˆ2018/10/21ç¾åœ¨ï¼‰ä»Šå›ã¯ãã®ä¸­ã§ã‚‚ãŠã™ã™ã‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³45å€‹ã‚’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ã«ã”ç´¹ä»‹ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ç›®æ¬¡â€»ã‚¯ãƒªãƒƒ...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/getsby-plugin-best-45.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/20/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½¿ã„æ–¹ï½¥ä½œã‚Šæ–¹ï½¥å…¬é–‹æ–¹æ³•","date":"2018-10-20T21:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyå…¬å¼ã‚µã‚¤ãƒˆã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç« ã®ã¾ã¨ã‚ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¦‚è¦Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€Gatsbyã®å…¨å‡¦ç†ã‚’æ‹¡å¼µãŠã‚ˆã³ä¿®æ­£å¯èƒ½ã§ã™ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªã“ã¨ãŒã§ãã¾ã™ã€‚å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆCMSã€ãƒ•ã‚¡ã‚¤ãƒ«ã€REST APIãªã©ï¼‰ã‚’è¿½åŠ ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/10/28/","title":"unifiedã§Markdownã‚’HTMLã«å¤‰æ› & Reactã§Qiitaã£ã½ã„ç›®æ¬¡ã‚’ä½œã‚‹","date":"2018-10-28T21:00:00.000Z","excerpt":"ãªã«ã“ã‚Œè‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã®ç›®æ¬¡ã‚’Qiitaã£ã½ãã—ãŸã„...ç¾åœ¨è¡¨ç¤ºä¸­ã®ç« ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ç›®æ¬¡ã‚’ä½œã‚ŠãŸã„...ã¨ã„ã†ã“ã¨ã§ä½œã‚Šã¾ã—ãŸã€‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’HTMLã«å¤‰æ›ã™ã‚‹ã®ã«unifiedã¨ã„ã†æ§‹æ–‡è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ãƒ¡ãƒ¢ç”¨ã«Reactã‚µ...","tags":["React","unified","remark","rehype"],"keywords":["React"],"thumbnail":"/thumbnail/2018/qiita-like-top-of-content-with-unified.png"}},"relations":[{"node":{"fields":{"slug":"/2018/12/02/","title":"CSSã®clip-pathã§Slit Animationã‚’å®Ÿç¾ã™ã‚‹","date":"2018-12-02T16:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒSlit Animationã‚’å®Ÿç¾ã™ã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’CSSã®clip-pathã‚’ä½¿ã£ã¦ä½œã‚Šã¾ã—ãŸã€‚Slit Animation(ã‚¹ãƒªãƒƒãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ã‚³ãƒç”»åƒã‚’ç¸ã€…ã«ã—ã¦åˆæˆã—ãŸç”»åƒã«ã€ã‚¹ãƒªãƒƒãƒˆ...","tags":["CSS","clip-path","React"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-slit-animation.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"React"},{"weight":50,"keyword":"React"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/16/","title":"Reactã§SNSå¯¾å¿œï¼ˆGatsbyè£½ãƒ–ãƒ­ã‚°ã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€OGPã‚¿ã‚°è¿½åŠ ï¼‰","date":"2018-09-16T22:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyè£½ãƒ–ãƒ­ã‚°(Reactã‚¢ãƒ—ãƒª)ã§SNSå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚(1) SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã¨(2) è‡ªåˆ†ã®SNSã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¦ã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’SNSã§ã‚·ã‚§ã‚¢ã§ãã‚‹ã‚ˆã†ã«ã€ã€ã€ã¾ãŸã€(3) OGPã‚¿ã‚°ã‚’è¨­å®šã—ã€SNSã§ã‚·ã‚§...","tags":["Gatsby","React","OGP","SNS","SRE"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-sns.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"React"},{"weight":50,"keyword":"React"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/10/21/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³45é¸","date":"2018-10-21T15:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€å…¬å¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æä¾›ã®ã‚‚ã®ã‚’ã‚ã‚ã›ã‚‹ã¨ã€ãªã‚“ã¨502å€‹ã‚‚ã‚ã‚Šã¾ã™ã€‚ï¼ˆ2018/10/21ç¾åœ¨ï¼‰ä»Šå›ã¯ãã®ä¸­ã§ã‚‚ãŠã™ã™ã‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³45å€‹ã‚’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ã«ã”ç´¹ä»‹ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ç›®æ¬¡â€»ã‚¯ãƒªãƒƒ...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/getsby-plugin-best-45.png"}},"relations":[{"node":{"fields":{"slug":"/2018/11/11/","title":"Gatsbyã§Qiitaã‹ã‚‰è¨˜äº‹ã‚’å–å¾—ã™ã‚‹(gatsby-source-qiita)","date":"2018-11-11T21:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã«Qiitaã®è¨˜äº‹ã‚’å–ã‚Šè¾¼ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³(gatsby-source-qiita)ã‚’ä½œã‚Šã¾ã—ãŸQiitaã‹ã‚‰Gatsbyã«ä¹—ã‚Šæ›ãˆã‚ˆã†ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã§ã€Qiitaã®è¨˜äº‹ã‚’å¼•ãç¶™ããŸã„å ´åˆã«ä¾¿åˆ©ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«(...","tags":["Gatsby","GatsbyPlugin","Qiita"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-qiita.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/03/","title":"Gatsby Pluginã§GraphQLãƒ‡ãƒ¼ã‚¿è¿½åŠ ","date":"2018-11-03T09:00:00.000Z","excerpt":"ãªã«ã“ã‚Œå‰å›ã®unifiedã§Markdownã‚’HTMLã«å¤‰æ› &#x26; Reactã§Qiitaã£ã½ã„ç›®æ¬¡ã‚’ä½œã‚‹ã§ã€GraphQLã§å–å¾—ã—ãŸãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åŠ å·¥ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚ã‚‰ã‹ã˜ã‚GraphQLã®ãƒ‡ãƒ¼ã‚¿ã¨ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-graphql.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/20/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½¿ã„æ–¹ï½¥ä½œã‚Šæ–¹ï½¥å…¬é–‹æ–¹æ³•","date":"2018-10-20T21:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyå…¬å¼ã‚µã‚¤ãƒˆã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç« ã®ã¾ã¨ã‚ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¦‚è¦Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€Gatsbyã®å…¨å‡¦ç†ã‚’æ‹¡å¼µãŠã‚ˆã³ä¿®æ­£å¯èƒ½ã§ã™ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªã“ã¨ãŒã§ãã¾ã™ã€‚å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆCMSã€ãƒ•ã‚¡ã‚¤ãƒ«ã€REST APIãªã©ï¼‰ã‚’è¿½åŠ ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/10/20/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½¿ã„æ–¹ï½¥ä½œã‚Šæ–¹ï½¥å…¬é–‹æ–¹æ³•","date":"2018-10-20T21:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyå…¬å¼ã‚µã‚¤ãƒˆã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ç« ã®ã¾ã¨ã‚ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ¦‚è¦Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€Gatsbyã®å…¨å‡¦ç†ã‚’æ‹¡å¼µãŠã‚ˆã³ä¿®æ­£å¯èƒ½ã§ã™ã€‚ä¾‹ãˆã°ä¸‹è¨˜ã®ã‚ˆã†ãªã“ã¨ãŒã§ãã¾ã™ã€‚å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ï¼ˆCMSã€ãƒ•ã‚¡ã‚¤ãƒ«ã€REST APIãªã©ï¼‰ã‚’è¿½åŠ ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin.png"}},"relations":[{"node":{"fields":{"slug":"/2018/11/11/","title":"Gatsbyã§Qiitaã‹ã‚‰è¨˜äº‹ã‚’å–å¾—ã™ã‚‹(gatsby-source-qiita)","date":"2018-11-11T21:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã«Qiitaã®è¨˜äº‹ã‚’å–ã‚Šè¾¼ã‚ã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³(gatsby-source-qiita)ã‚’ä½œã‚Šã¾ã—ãŸQiitaã‹ã‚‰Gatsbyã«ä¹—ã‚Šæ›ãˆã‚ˆã†ã¨è€ƒãˆã¦ã„ã‚‹æ–¹ã§ã€Qiitaã®è¨˜äº‹ã‚’å¼•ãç¶™ããŸã„å ´åˆã«ä¾¿åˆ©ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚ã‚µãƒ³ãƒ—ãƒ«(...","tags":["Gatsby","GatsbyPlugin","Qiita"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-qiita.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/03/","title":"Gatsby Pluginã§GraphQLãƒ‡ãƒ¼ã‚¿è¿½åŠ ","date":"2018-11-03T09:00:00.000Z","excerpt":"ãªã«ã“ã‚Œå‰å›ã®unifiedã§Markdownã‚’HTMLã«å¤‰æ› &#x26; Reactã§Qiitaã£ã½ã„ç›®æ¬¡ã‚’ä½œã‚‹ã§ã€GraphQLã§å–å¾—ã—ãŸãƒ˜ãƒƒãƒ€ãƒ¼æƒ…å ±ã‚’Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§åŠ å·¥ã—ã¦ã„ã¾ã—ãŸãŒã€ã‚ã‚‰ã‹ã˜ã‚GraphQLã®ãƒ‡ãƒ¼ã‚¿ã¨ã—...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/gatsby-plugin-graphql.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/21/","title":"Gatsbyãƒ—ãƒ©ã‚°ã‚¤ãƒ³45é¸","date":"2018-10-21T15:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯ã€å…¬å¼ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£æä¾›ã®ã‚‚ã®ã‚’ã‚ã‚ã›ã‚‹ã¨ã€ãªã‚“ã¨502å€‹ã‚‚ã‚ã‚Šã¾ã™ã€‚ï¼ˆ2018/10/21ç¾åœ¨ï¼‰ä»Šå›ã¯ãã®ä¸­ã§ã‚‚ãŠã™ã™ã‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³45å€‹ã‚’ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ã«ã”ç´¹ä»‹ã—ã¾ã™ã€‚ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹åˆ¥ç›®æ¬¡â€»ã‚¯ãƒªãƒƒ...","tags":["Gatsby","GatsbyPlugin"],"keywords":["GatsbyPlugin"],"thumbnail":"/thumbnail/2018/getsby-plugin-best-45.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"GatsbyPlugin"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"GatsbyPlugin"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"relations":[{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/iframely","title":"ãƒ–ãƒ­ã‚°ã«ã‚ã‚‰ã‚†ã‚‹å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åŸ‹ã‚è¾¼ã‚ã‚‹Webã‚µãƒ¼ãƒ“ã‚¹ã€ŒIframelyã€ã®ä½¿ã„æ–¹","date":"2019-01-11T23:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒSNSã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€å‹•ç”»ã¨ã„ã£ãŸå¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã«è¼‰ã›ã‚‹å ´åˆã€å˜ç´”ã«ãƒªãƒ³ã‚¯ã‚’å¼µã‚Šä»˜ã‘ã‚‹ã‚ˆã‚Šã‚‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«HTMLã®åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã‚’å¼µã‚Šä»˜ã‘ãŸã»ã†ãŒãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«é¢ã§åŠ¹æœçš„ã§ã™ã€‚ãŸã Twitterã‚„YouTubeãªã©ã®åŸ‹ã‚è¾¼...","tags":["Iframely","oEmbed","åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰","React","Gatsby"],"keywords":["Iframely"],"thumbnail":"/thumbnail/2019/01/iframely.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"React"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/16/","title":"Reactã§SNSå¯¾å¿œï¼ˆGatsbyè£½ãƒ–ãƒ­ã‚°ã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€OGPã‚¿ã‚°è¿½åŠ ï¼‰","date":"2018-09-16T22:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyè£½ãƒ–ãƒ­ã‚°(Reactã‚¢ãƒ—ãƒª)ã§SNSå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚(1) SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã¨(2) è‡ªåˆ†ã®SNSã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¦ã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’SNSã§ã‚·ã‚§ã‚¢ã§ãã‚‹ã‚ˆã†ã«ã€ã€ã€ã¾ãŸã€(3) OGPã‚¿ã‚°ã‚’è¨­å®šã—ã€SNSã§ã‚·ã‚§...","tags":["Gatsby","React","OGP","SNS","SRE"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-sns.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"React"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"relations":[{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"relations":[{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"relations":[{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/16/","title":"Reactã§SNSå¯¾å¿œï¼ˆGatsbyè£½ãƒ–ãƒ­ã‚°ã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€OGPã‚¿ã‚°è¿½åŠ ï¼‰","date":"2018-09-16T22:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyè£½ãƒ–ãƒ­ã‚°(Reactã‚¢ãƒ—ãƒª)ã§SNSå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚(1) SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã¨(2) è‡ªåˆ†ã®SNSã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¦ã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’SNSã§ã‚·ã‚§ã‚¢ã§ãã‚‹ã‚ˆã†ã«ã€ã€ã€ã¾ãŸã€(3) OGPã‚¿ã‚°ã‚’è¨­å®šã—ã€SNSã§ã‚·ã‚§...","tags":["Gatsby","React","OGP","SNS","SRE"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-sns.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"SNS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/09/29/","title":"Reactã§æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ï¼ˆJSON-LDå¯¾å¿œï¼‰","date":"2018-09-29T23:50:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚°ã‚°ã£ãŸæ™‚ã«è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°(Reactè£½)ã§ãƒ‘ãƒ³ããšã‚’è¡¨ç¤ºã•ã›ãŸã„ã¨ã„ã†ã“ã¨ã§JSON-LDå¯¾å¿œã—ã¾ã—ãŸã€‚JSON+LDã«ã¤ã„ã¦ã‚°ã‚°ã‚‹ã¨è‰²ã€…è‰¯ã„è¨˜äº‹ãŒã§ã¦ãã¦ä¸€é€šã‚Šå­¦ã¶ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã“ã“ã§ã¯ã€ãã‚Œã‚‰è¨˜äº‹ã®ç´¹ä»‹ã‚’å…¼ã­ã¦ã€æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿...","tags":["React","Schema-org","JSON-LD","SRE"],"keywords":["JSON-LD"],"thumbnail":"/thumbnail/2018/react-json-ld.png"}},"relations":[{"node":{"fields":{"slug":"/2018/09/16/","title":"Reactã§SNSå¯¾å¿œï¼ˆGatsbyè£½ãƒ–ãƒ­ã‚°ã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€OGPã‚¿ã‚°è¿½åŠ ï¼‰","date":"2018-09-16T22:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyè£½ãƒ–ãƒ­ã‚°(Reactã‚¢ãƒ—ãƒª)ã§SNSå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚(1) SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã¨(2) è‡ªåˆ†ã®SNSã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¦ã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’SNSã§ã‚·ã‚§ã‚¢ã§ãã‚‹ã‚ˆã†ã«ã€ã€ã€ã¾ãŸã€(3) OGPã‚¿ã‚°ã‚’è¨­å®šã—ã€SNSã§ã‚·ã‚§...","tags":["Gatsby","React","OGP","SNS","SRE"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-sns.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"React"},{"weight":50,"keyword":"SRE"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/09/16/","title":"Reactã§SNSå¯¾å¿œï¼ˆGatsbyè£½ãƒ–ãƒ­ã‚°ã§SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã€OGPã‚¿ã‚°è¿½åŠ ï¼‰","date":"2018-09-16T22:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyè£½ãƒ–ãƒ­ã‚°(Reactã‚¢ãƒ—ãƒª)ã§SNSå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚(1) SNSã‚·ã‚§ã‚¢ãƒœã‚¿ãƒ³ã¨(2) è‡ªåˆ†ã®SNSã¸ã®ãƒªãƒ³ã‚¯ã‚’è¨­ç½®ã—ã¦ã€ãƒ–ãƒ­ã‚°ã®è¨˜äº‹ã‚’SNSã§ã‚·ã‚§ã‚¢ã§ãã‚‹ã‚ˆã†ã«ã€ã€ã€ã¾ãŸã€(3) OGPã‚¿ã‚°ã‚’è¨­å®šã—ã€SNSã§ã‚·ã‚§...","tags":["Gatsby","React","OGP","SNS","SRE"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-sns.png"}},"relations":[{"node":{"fields":{"slug":"/2018/12/02/","title":"CSSã®clip-pathã§Slit Animationã‚’å®Ÿç¾ã™ã‚‹","date":"2018-12-02T16:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒSlit Animationã‚’å®Ÿç¾ã™ã‚‹Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’CSSã®clip-pathã‚’ä½¿ã£ã¦ä½œã‚Šã¾ã—ãŸã€‚Slit Animation(ã‚¹ãƒªãƒƒãƒˆã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³)ã¯ä¸‹è¨˜ã®ã‚ˆã†ãªã‚‚ã®ã§ã™ã€‚ã‚³ãƒç”»åƒã‚’ç¸ã€…ã«ã—ã¦åˆæˆã—ãŸç”»åƒã«ã€ã‚¹ãƒªãƒƒãƒˆ...","tags":["CSS","clip-path","React"],"keywords":["React"],"thumbnail":"/thumbnail/2018/react-slit-animation.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"React"},{"weight":50,"keyword":"React"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/28/","title":"unifiedã§Markdownã‚’HTMLã«å¤‰æ› & Reactã§Qiitaã£ã½ã„ç›®æ¬¡ã‚’ä½œã‚‹","date":"2018-10-28T21:00:00.000Z","excerpt":"ãªã«ã“ã‚Œè‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã®ç›®æ¬¡ã‚’Qiitaã£ã½ãã—ãŸã„...ç¾åœ¨è¡¨ç¤ºä¸­ã®ç« ã‚’ãƒã‚¤ãƒ©ã‚¤ãƒˆã™ã‚‹ç›®æ¬¡ã‚’ä½œã‚ŠãŸã„...ã¨ã„ã†ã“ã¨ã§ä½œã‚Šã¾ã—ãŸã€‚ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã‚’HTMLã«å¤‰æ›ã™ã‚‹ã®ã«unifiedã¨ã„ã†æ§‹æ–‡è§£æãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚ãƒ¡ãƒ¢ç”¨ã«Reactã‚µ...","tags":["React","unified","remark","rehype"],"keywords":["React"],"thumbnail":"/thumbnail/2018/qiita-like-top-of-content-with-unified.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"React"},{"weight":50,"keyword":"React"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/iframely","title":"ãƒ–ãƒ­ã‚°ã«ã‚ã‚‰ã‚†ã‚‹å¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åŸ‹ã‚è¾¼ã‚ã‚‹Webã‚µãƒ¼ãƒ“ã‚¹ã€ŒIframelyã€ã®ä½¿ã„æ–¹","date":"2019-01-11T23:30:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒSNSã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã€å‹•ç”»ã¨ã„ã£ãŸå¤–éƒ¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°ã«è¼‰ã›ã‚‹å ´åˆã€å˜ç´”ã«ãƒªãƒ³ã‚¯ã‚’å¼µã‚Šä»˜ã‘ã‚‹ã‚ˆã‚Šã‚‚ã€ä»¥ä¸‹ã®ã‚ˆã†ã«HTMLã®åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã‚’å¼µã‚Šä»˜ã‘ãŸã»ã†ãŒãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«é¢ã§åŠ¹æœçš„ã§ã™ã€‚ãŸã Twitterã‚„YouTubeãªã©ã®åŸ‹ã‚è¾¼...","tags":["Iframely","oEmbed","åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰","React","Gatsby"],"keywords":["Iframely"],"thumbnail":"/thumbnail/2019/01/iframely.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"React"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"React"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"SNS"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/09/29/","title":"Reactã§æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—ï¼ˆJSON-LDå¯¾å¿œï¼‰","date":"2018-09-29T23:50:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚°ã‚°ã£ãŸæ™‚ã«è‡ªåˆ†ã®ãƒ–ãƒ­ã‚°(Reactè£½)ã§ãƒ‘ãƒ³ããšã‚’è¡¨ç¤ºã•ã›ãŸã„ã¨ã„ã†ã“ã¨ã§JSON-LDå¯¾å¿œã—ã¾ã—ãŸã€‚JSON+LDã«ã¤ã„ã¦ã‚°ã‚°ã‚‹ã¨è‰²ã€…è‰¯ã„è¨˜äº‹ãŒã§ã¦ãã¦ä¸€é€šã‚Šå­¦ã¶ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ã“ã“ã§ã¯ã€ãã‚Œã‚‰è¨˜äº‹ã®ç´¹ä»‹ã‚’å…¼ã­ã¦ã€æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿...","tags":["React","Schema-org","JSON-LD","SRE"],"keywords":["JSON-LD"],"thumbnail":"/thumbnail/2018/react-json-ld.png"}},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"React"},{"weight":50,"keyword":"SRE"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/09/12/","title":"GitHub Pagesã‚’ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³åŒ– + HttpsåŒ–","date":"2018-09-12T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGitHub Pagesã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã—ãŸå¾Œã€ã©ã†ã›ãªã‚‰URLã‚‚çŸ­ãè¦šãˆã¦ã‚‚ã‚‰ã„ã‚„ã™ã„ã‚‚ã®ã«ã—ã‚ˆã†ã¨æ€ã„ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã«åˆ‡ã‚Šæ›¿ãˆã¾ã—ãŸã€‚ãã®æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã€€â€»ï¼ˆæ³¨æ„ï¼‰ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³å–å¾—ã¯ãŠé‡‘ãŒã‹ã‹ã‚Šã¾ã™ï¼ï¼ï¼æ‰‹é †1. ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’å–...","tags":["Github-Pages","ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³","HttpsåŒ–","Gatsby"],"keywords":["ã‚«ã‚¹ã‚¿ãƒ ãƒ‰ãƒ¡ã‚¤ãƒ³"],"thumbnail":"/thumbnail/2018/github-pages-https.png"}},"relations":[]},{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"relations":[{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"ãƒ–ãƒ­ã‚°"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/2018/09/09/","title":"Gatsbyã§ãƒ–ãƒ­ã‚°å§‹ã‚ã¾ã—ãŸã€‚","date":"2018-09-09T22:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°ã‚’ã‚„ã‚ã†ã¨æ€ã£ãŸç†ç”±Qiitaã¯ã€èª°å¾—ãªä½œæ¥­ãƒ¡ãƒ¢ã¯è¼‰ã›ã‚‰ã‚Œãªã„ã—ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ã€è¦‹ãŸç›®ãŒå¥½ãã˜ã‚ƒãªã„...ä¸€æ™‚æœŸã€WikiHubæ—¥å ±ã¨ã‹ã‚‚ã‚„ã£ã¦ã„ãŸã‚“ã§ã™ãŒã€ãªã‹ãªã‹ç¶šã‹ãš...ãã®ã›ã„ã‹ã€ã‚„ã£ãŸã“ã¨ã‚’3ãƒ¶æœˆå¾Œã«ã¯å¿˜ã‚Œã¦ã—ã¾ã†çŠ¶æ³ãŒã‚³...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/beginning-of-blog.png"}},"relations":[{"node":{"fields":{"slug":"/2018/09/10/","title":"Gatsbyè£½ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †","date":"2018-09-10T19:00:00.000Z","excerpt":"ãƒ–ãƒ­ã‚°é–‹è¨­æ‰‹é †Gatsbyã£ã¦ãªã«ã£ã¦çŠ¶æ…‹ã‹ã‚‰30åˆ†ç¨‹åº¦ã§ãƒ–ãƒ­ã‚°ã‚’é–‹è¨­ã§ãã¾ã—ãŸã€‚ä¸‹è¨˜ã«ãã®ã¨ãã®æ‰‹é †ã‚’ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚0. å‰ææ¡ä»¶Gitã€Nodeã€npmã¯äº‹å‰ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚1. ãƒ–ãƒ­ã‚°ã®ã‚¹ã‚¿ãƒ¼ã‚¿ãƒ¼ã‚­ãƒƒãƒˆã‚’èµ·å‹•Ga...","tags":["Gatsby","ãƒ–ãƒ­ã‚°"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/how-to-start-a-blog-with-gatsby.png"}},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"},{"weight":50,"keyword":"ãƒ–ãƒ­ã‚°"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/gatsby-related-posts-like-hugo","title":"Gatsbyã§Related Content(é–¢é€£è¨˜äº‹)ã‚’è¡¨ç¤ºã™ã‚‹ / Hugoã®é–¢é€£è¨˜äº‹æ©Ÿèƒ½ã‚’Gatsbyã«ç§»æ¤ã—ãŸ","date":"2019-02-09T17:00:00.000+09:00","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã§ã‚ˆãè¦‹ã‹ã‘ã‚‹UIã®ã²ã¨ã¤ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚ã‚Šã¾ã™ã€‚è¨˜äº‹ä¸‹éƒ¨ã«é–¢é€£è¨˜äº‹ãƒªãƒ³ã‚¯ã‚’è¨­ã‘ã¦ãŠãã¨ã€è¨˜äº‹ã‚’èª­ã¿çµ‚ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã€ã¾ãŸåˆ¥ã®è¨˜äº‹ã‚’è¦‹ã¦ãã‚Œã‚‹å¯èƒ½æ€§ãŒä¸ŠãŒã‚‹ã®ã§ã€å›éŠç‡å‘ä¸Šã¨ã„ã†è¦³ç‚¹ã§éå¸¸ã«åŠ¹æœçš„ãªUIã§ã™ã€‚ãã‚“ãªé–¢é€£è¨˜äº‹ãƒª...","tags":["Gatsby","Hugo","golang"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/02/gatsby-related-posts-like-hugo.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/how-to-register-your-blog-in-gatsby-showcase","title":"Gatsbyã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã™ã‚‹æ–¹æ³•","date":"2019-01-15T22:00:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒGatsbyã®å…¬å¼ã‚µã‚¤ãƒˆã«ã¯ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ãªã‚‹ã‚‚ã®ãŒã‚ã£ã¦ã€ä¸–ã®ä¸­ã«å…¬é–‹ã•ã‚Œã¦ã„ã‚‹Gatsbyè£½ã®Webã‚µã‚¤ãƒˆã‚’ä¸€è¦§ã§è¦‹ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚å®Ÿã¯ã“ã®ã‚·ãƒ§ãƒ¼ã‚±ãƒ¼ã‚¹ã€ã‘ã£ã“ã†ç°¡å˜ã«è‡ªåˆ†ã®Webã‚µã‚¤ãƒˆã‚’ç™»éŒ²ã§ãã‚‹ã¨ã„ã†ã“ã¨ã«æœ€è¿‘æ°—ã¥ãã¾ã—ãŸã€‚...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2019/01/how-to-register-your-blog-in-gatsby-showcase.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/11/24/","title":"Gatsby themeã‚’ä½¿ã£ã¦ã¿ã‚‹","date":"2018-11-24T23:40:00.000+09:00","excerpt":"ãªã«ã“ã‚Œä¸‹è¨˜ã®è¨˜äº‹ã‚’èª­ã‚“ã§ã€å®Ÿé¨“çš„ã«è¿½åŠ ã•ã‚ŒãŸGatsby themeã§ä½•ãŒã§ãã‚‹ã®ã‹ã‚µãƒ³ãƒ—ãƒ«ä½œã£ã¦è©¦ã—ã¦ã¿ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚Gatsby themeã¯ã©ã‚“ãªå•é¡Œã‚’è§£æ±ºã—ã¦ãã‚Œã‚‹ã‹Gatsbyã¯ã‚¹ã‚­ãƒ£ãƒ•ã‚©ãƒ¼ãƒ«ãƒ‰æ©Ÿèƒ½ãŒã‚ã£ã¦åˆæœŸå°å…¥...","tags":["Gatsby","Gatsby theme"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-theme.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/14/","title":"Gatsbyã«ãŠã‘ã‚‹ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã¨CSS Module","date":"2018-10-14T07:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã„ã¦ã€æ©Ÿèƒ½æ‹¡å¼µã¨ã¨ã‚‚ã«ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆãŒè‚¥å¤§åŒ–ã—ã¦ããŸã®ã§ã€ä¸‹è¨˜å›³ã®é’æ å˜ä½ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆåˆ†å‰²ã—ã¾ã—ãŸã€‚ã‚ã‚ã›ã¦CSS Moduleã‚‚æ¡ç”¨ã—ã¾ã—ãŸã€‚ãã®ã¨ãã®ãƒ¡ãƒ¢ã§ã™ã€‚CSSã‚’ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚¹ã‚³ãƒ¼ãƒ—ã«ã™ã‚‹æ–¹...","tags":["Gatsby","React","CSSModules"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-css-modules.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/12/","title":"Gatsby2ç³»ã®æ–°æ©Ÿèƒ½","date":"2018-10-12T12:00:00.000Z","excerpt":"ãªã«ã“ã‚ŒGatsbyï¼ˆReactè£½ã®é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼‰ãŒ2018å¹´9æœˆã«2ç³»ã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã—ãŸãã†ã§ã™ã€‚2ç³»ã®æ–°æ©Ÿèƒ½ã«ã¤ã„ã¦ã€å…¬å¼ãƒ–ãƒ­ã‚°(Announcing Gatsby 2.0.0)ã‚’å‚è€ƒã«ã€ä¸»è¦ãªéƒ¨åˆ†ã‚’ãƒ”ãƒƒã‚¯ã‚¢ãƒƒãƒ—ã—ã¦ç´¹ä»‹ã—ã¾...","tags":["Gatsby"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-v2.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/08/","title":"Gatsbyã§PWAå¯¾å¿œ","date":"2018-10-08T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œã‚¹ãƒãƒ›ã§ãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã£ã½ã„UXã‚’å®Ÿç¾ã™ã‚‹ãŸã‚ã€Gatsbyã§PWAå¯¾å¿œã—ãŸæ™‚ã®ãƒ¡ãƒ¢ã§ã™ã€‚ä»¥ä¸‹ã®4ã¤ãŒå¯èƒ½ã«ãªã‚Šã¾ã—ãŸã€‚å‰æServiceWorkerã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã€SSLåŒ–ãŒå¿…é ˆã§ã™ã€‚ãã®ãŸã‚ãƒ–ãƒ­ã‚°ã¯httpsã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆ...","tags":["Gatsby","PWA"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/gatsby-pwa.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true},{"node":{"fields":{"slug":"/2018/10/07/","title":"Gatsbyã§YouTubeã¨TwitteråŸ‹ã‚è¾¼ã¿","date":"2018-10-07T12:00:00.000Z","excerpt":"ãªã«ã“ã‚Œãƒ–ãƒ­ã‚°ã«è‰¯ãã‚ã‚‹YouTubeã‚„Twitterã®åŸ‹ã‚è¾¼ã¿ã‚’Gatsbyã§ã‚„ã‚‹æ–¹æ³•ã®ãƒ¡ãƒ¢ã§ã™ã€‚ã“ã‚“ãªæ„Ÿã˜ã§åŸ‹ã‚è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚YouTubeyoutube:https://www.youtube.com/embed/z8Kt1g...","tags":["Gatsby","SNS","SER"],"keywords":["Gatsby"],"thumbnail":"/thumbnail/2018/youtube-in-gatsby.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Gatsby"},{"weight":50,"keyword":"Gatsby"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/41febdc6-bf5d-50b8-a695-3c017b8f766a/","title":"10åˆ†ã§ã§ãã‚‹ï¼ @ngrx/storeãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« with @ngrx/schematics","date":"2018-07-30T18:01:02+09:00","excerpt":"ãªã«ã“ã‚ŒAngularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ã–ã£ãã‚ŠæŠŠæ¡ã™ã‚‹ãŸã‚ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚@ngrx/storeãƒ™ãƒ¼ã‚¹ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªï¼ˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¢ãƒ—ãƒªï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œã‚‹ã ã‘ãªã‚‰10åˆ†ç¨‹åº¦ã§å‡ºæ¥ä¸ŠãŒã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ã¦ngrxã‚’æœ€...","tags":["Angular","angular-cli","ngrx","Angular6","Qiita"],"keywords":["Angular"],"thumbnail":""},"id":"41febdc6-bf5d-50b8-a695-3c017b8f766a","title":"10åˆ†ã§ã§ãã‚‹ï¼ @ngrx/storeãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« with @ngrx/schematics","rendered_body":"\n<h2>\n<span id=\"ãªã«ã“ã‚Œ\" class=\"fragment\"></span><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\"><i class=\"fa fa-link\"></i></a>ãªã«ã“ã‚Œ</h2>\n\n<p>Angularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ã–ã£ãã‚ŠæŠŠæ¡ã™ã‚‹ãŸã‚ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚<a href=\"http://ngrx.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/store</a>ãƒ™ãƒ¼ã‚¹ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªï¼ˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¢ãƒ—ãƒªï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œã‚‹ã ã‘ãªã‚‰10åˆ†ç¨‹åº¦ã§å‡ºæ¥ä¸ŠãŒã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ã¦ngrxã‚’æœ€ä½é™ã‚’æŠŠæ¡ã—ãŸã„äººå‘ã‘ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx\" rel=\"nofollow noopener\" target=\"_blank\">GitHub</a>ã«ç½®ã„ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚<br>\nngrxã‚’ä½¿ã†ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒéå¸¸ã«å¤šããªã‚Šã¾ã™ãŒã€ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯<a href=\"https://github.com/ngrx/platform/tree/master/docs/schematics\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a> ã‚’ä½¿ã„ã€ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã“ã¨ã§æ¥µåŠ›æ‰‹é–“ã‚’çœã„ã¦ã„ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸</h2>\n\n<ul>\n<li>\n<code>+</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ+1ã•ã‚Œã‚‹</li>\n<li>\n<code>-</code> ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ- 1ã•ã‚Œã‚‹\n<a href=\"https://camo.qiitausercontent.com/b480b8a4f23b0ad498a61f36f69be9fae9cef250/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38653666363435652d613733342d646238642d656336622d3134346330666465653162302e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b480b8a4f23b0ad498a61f36f69be9fae9cef250/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38653666363435652d613733342d646238642d656336622d3134346330666465653162302e676966\" alt=\"counterapp.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/8e6f645e-a734-db8d-ec6b-144c0fdee1b0.gif\"></a>\n</li>\n</ul>\n\n<h2>\n<span id=\"ã‚„ã‚‹ã“ã¨ã‚„ã‚‰ãªã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8%E3%82%84%E3%82%89%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚‹ã“ã¨/ã‚„ã‚‰ãªã„ã“ã¨</h2>\n\n<ul>\n<li>ã‚„ã‚‹\n\n<ul>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/store/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/store</a>ã®ä½¿ã„æ–¹\n\n<ul>\n<li>Storeã®ä½œã‚Šæ–¹</li>\n<li>Stateã®ä½œã‚Šæ–¹</li>\n<li>Reducerã®ä½œã‚Šæ–¹</li>\n<li>Actionsã®ä½œã‚Šæ–¹</li>\n</ul>\n</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/schematics/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a>ã®ä½¿ã„æ–¹\n\n<ul>\n<li>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©ã‚’ä½¿ã„æ¥µåŠ›æ‰‹é–“ã‚’æ¸›ã‚‰ã™æ–¹æ³•</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ã‚„ã‚‰ãªã„ ï¼ˆä¸‹è¨˜ã‚’ç†è§£ã™ã‚‹ã«ã¯<a href=\"#%E5%8F%82%E8%80%83\">å‚è€ƒ</a>ã®Qiitaã®è¨˜äº‹ã‚’è¦‹ã¦ãã ã•ã„ã€‚ï¼‰\n\n<ul>\n<li>çŠ¶æ…‹ç®¡ç†ã®èª¬æ˜</li>\n<li>Reduxã®èª¬æ˜</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/router-store/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/router-store</a>ã®ä½¿ã„æ–¹</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/entity/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/entity</a>ã®ä½¿ã„æ–¹</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/effects/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/effect</a>ã®ä½¿ã„æ–¹<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ¦‚è¦\" class=\"fragment\"></span><a href=\"#%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%E6%A6%82%E8%A6%81\"><i class=\"fa fa-link\"></i></a>ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ¦‚è¦</h2>\n\n<p>æ®µéšã‚’è¸ã‚“ã§ã€ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«å‹•ä½œç¢ºèªã—ãªãŒã‚‰ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nå„ã‚¹ãƒ†ãƒƒãƒ—çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯GitHubã«ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚<br>\nå¤§éƒ¨åˆ†ã¯Schematicsã‚’ä½¿ã£ã¦ngã‚³ãƒãƒ³ãƒ‰ã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ã¿å®Ÿè£…ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚</p>\n\n<ol>\n<li>Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰  â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/generated-with-angualr-cli\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n<li>ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/no-ngrx\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n<li>ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰ â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/after-ngrx-setting\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n<li>ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰ â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n</ol>\n\n<h2>\n<span id=\"å‰ææ¡ä»¶\" class=\"fragment\"></span><a href=\"#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\"><i class=\"fa fa-link\"></i></a>å‰ææ¡ä»¶</h2>\n\n<ul>\n<li>\n<a href=\"https://nodejs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Node.js</a>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿</li>\n<li>\n<a href=\"https://cli.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular CLI</a>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> npm i <span class=\"nt\">-g</span> @angular/cli\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://cli.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> npm i <span class=\"nt\">-g</span> @ngrx/schematics\n</pre></div></div>\n\n<h2>\n<span id=\"1-angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆ1åˆ†\" class=\"fragment\"></span><a href=\"#1-angular%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E7%94%9F%E6%88%901%E5%88%86\"><i class=\"fa fa-link\"></i></a>1. Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰</h2>\n\n<ul>\n<li>ng newã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng new ngrx-tutorial\n</pre></div></div>\n\n<ul>\n<li>ç”Ÿæˆã•ã‚ŒãŸã‚¢ãƒ—ãƒªé…ä¸‹ã«ç§»å‹•ã—ã€ä¸€æ—¦Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> <span class=\"nb\">cd </span>ngrx-tutorial\n<span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/f46653279a0efbe1432919aa808f440fc6eb1ede/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35633139633366302d313034612d336566322d613333642d3331356330663061336639662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f46653279a0efbe1432919aa808f440fc6eb1ede/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35633139633366302d313034612d336566322d613333642d3331356330663061336639662e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.03.59.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5c19c3f0-104a-3ef2-a33d-315c0f0a3f9f.png\"></a>\n</li>\n</ul>\n\n<h2>\n<span id=\"2-ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…2åˆ†\" class=\"fragment\"></span><a href=\"#2-ngrx%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%9A%E3%81%AB%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%852%E5%88%86\"><i class=\"fa fa-link\"></i></a>2. ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰</h2>\n\n<p>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®è³‡ç”£ã¯å…¨ã¦<code>src/app/counter</code>ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚<br>\nã¾ãšã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã€ãã®å¾Œã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>\n\n<h3>\n<span id=\"ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%83%9C%E3%82%A4%E3%83%A9%E3%83%BC%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£è³‡ç”£ã‚’ã¾ã¨ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n<ul>\n<li>ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ãŸã‚<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g module counter <span class=\"nt\">--module</span><span class=\"o\">=</span>app.module.ts\n</pre></div></div>\n\n<ul>\n<li>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n\n<ul>\n<li>ä¸Šè¨˜ã§ä½œæˆã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n<li>æœ€çµ‚çš„ã«ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚<code>--export</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g component counter <span class=\"nt\">--module</span><span class=\"o\">=</span>counter/counter.module.ts <span class=\"nt\">--export</span>\n</pre></div></div>\n\n<ul>\n<li>\n<code>app.component.html</code>ä¿®æ­£ã—ã€ä½œæˆã—ãŸã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;app-counter&gt;&lt;/app-counter&gt;</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ä¸€æ—¦ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ã€ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/6ed3cc13498f56621ca94113a6eacdc34949e17f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37373261373530312d333461372d336566312d363636362d6431336537393338326365362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6ed3cc13498f56621ca94113a6eacdc34949e17f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37373261373530312d333461372d336566312d363636362d6431336537393338326365362e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.06.30.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/772a7501-34a7-3ef1-6666-d13e79382ce6.png\"></a></p>\n\n<h3>\n<span id=\"å‡¦ç†å®Ÿè£…\" class=\"fragment\"></span><a href=\"#%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%85\"><i class=\"fa fa-link\"></i></a>å‡¦ç†å®Ÿè£…</h3>\n\n<ul>\n<li>ã‚«ã‚¦ãƒ³ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Ÿéš›ã®å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-counter'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./counter.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./counter.component.css'</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">CounterComponent</span> <span class=\"kr\">implements</span> <span class=\"nx\">OnInit</span> <span class=\"p\">{</span>\n  <span class=\"nx\">count</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">increment</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">decrement</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;button</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">increment</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>+<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">decrement</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>-<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;div&gt;</span>Count: {{count}}<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<code>+</code>,<code>-</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ•°å­—ãŒå¢—ãˆãŸã‚Šæ¸›ã£ãŸã‚Šã—ãŸã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png\"></a></p>\n\n<h2>\n<span id=\"3-ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«åˆæœŸè¨­å®š2åˆ†\" class=\"fragment\"></span><a href=\"#3-ngrx%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A2%E5%88%86\"><i class=\"fa fa-link\"></i></a>3. ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰</h2>\n\n<p>@ngrx/storeã‚’ã‚¢ãƒ—ãƒªã«å°å…¥ã—ã€åˆæœŸè¨­å®šã‚’ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ä¸‹è¨˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n\n<ul>\n<li>\n<code>@ngrx/schematics</code>\n\n<ul>\n<li>Angualr CLIã§ngrxã®é››å½¢ã‚’ä½œã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>\n</ul>\n</li>\n<li>\n<code>@ngrx/store</code>\n\n<ul>\n<li>ngrxã§Store,Reducer,Actionã‚’ä½¿ã†ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>\n</ul>\n</li>\n<li>\n<code>@ngrx/store-devtools</code>\n\n<ul>\n<li>å¼·åŠ›ãªãƒ‡ãƒãƒƒã‚«ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> npm i <span class=\"nt\">-D</span> @ngrx/schematics\n<span class=\"gp\">$</span> npm i <span class=\"nt\">-s</span> @ngrx/store\n<span class=\"gp\">$</span> npm i <span class=\"nt\">-s</span> @ngrx/store-devtools\n</pre></div></div>\n\n<p>*<code>@ngrx/schematics</code>ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Schematicsã«è¿½åŠ ã—ã¾ã™ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ngrxã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã«<code>@ngrx/schematics</code>ã®æŒ‡å®šã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚ï¼‰</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng config cli.defaultCollection @ngrx/schematics\n</pre></div></div>\n\n<ul>\n<li>ä¸Šè¨˜ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€<code>angular.json</code>ã«ã“ã®ã‚ˆã†ãªè¨­å®šãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">angular.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">  </span><span class=\"s2\">\"defaultProject\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ngrx-tutorial\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"cli\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"defaultCollection\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"@ngrx/schematics\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ãƒ«ãƒ¼ãƒˆã®Storeã‚’ä½œæˆã—ã¾ã™ã€‚\n\n<ul>\n<li>\n<code>src/app/state</code>é…ä¸‹ã«ç”Ÿæˆã—ãŸã„ã®ã§<code>--statePath</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n<li>ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g store state <span class=\"nt\">--statePath</span> state <span class=\"nt\">--root</span> <span class=\"nt\">--module</span> app.module.ts\n</pre></div></div>\n\n<ul>\n<li>ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§æ›´æ–°ã—ãŸ<code>src/app/app.module.ts</code>ã§<code>environment</code>ã®importæ–‡ã®ãƒ‘ã‚¹ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹å ´åˆã¯ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">app/src/app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"gd\">- import { environment } from '../../environments/environment';\n</span><span class=\"gi\">+ import { environment } from '../environments/environment';\n</span></pre></div>\n</div>\n\n<ul>\n<li>ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>æ‰‹é †2ã®å‹•ä½œç¢ºèªæ™‚ã¨åŒæ§˜ã®æŒ™å‹•ã«ãªã‚Šã¾ã™ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png\"></a></p>\n\n<h2>\n<span id=\"4-ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…5åˆ†\" class=\"fragment\"></span><a href=\"#4-ngrx%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%855%E5%88%86\"><i class=\"fa fa-link\"></i></a>4. ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰</h2>\n\n<p>ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«Storeã€Reducerã€Actionã‚’ä½œæˆã—ã€ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®å€¤ã‚’Storeã«ç§»è¡Œã—ã¾ã™ã€‚<br>\nã“ã“ã§ä½œæˆã™ã‚‹è³‡ç”£ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–‰ã˜ãŸã‚‚ã®ãªã®ã§ã€<code>src/app/counter/state</code>é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚<br>\nã¾ãŸ<code>@ngrx/schemetics</code>ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯Reducerã€Actionãªã©ã®è³‡ç”£ãŒã€å½¹å‰²ã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ãŒã€ï¼‘ãƒ•ã‚©ãƒ«ãƒ€ã«é›†ç´„ã—ãŸã»ã†ãŒã‚½ãƒ¼ã‚¹ãŒä¿®æ­£ã—ã‚„ã™ã„ã®ã§ã€ä»Šå›ã¯å…¨ã¦<code>src/app/counter/state</code>ã®ç›´ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h3>\n<span id=\"ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ\" class=\"fragment\"></span><a href=\"#%E3%83%9C%E3%82%A4%E3%83%A9%E3%83%BC%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E7%94%9F%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ</h3>\n\n<ul>\n<li>Store\n\n<ul>\n<li>\n<code>src/app/counter/state</code>ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚<code>--statePath</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n<li>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g store counter/counter <span class=\"nt\">--statePath</span> state <span class=\"nt\">--module</span> counter.module.ts\n</pre></div></div>\n\n<ul>\n<li>Reducer\n\n<ul>\n<li>ä¸Šè¨˜ã§ä½œæˆã—ãŸStoreã«æœ¬Reducerã‚’ç™»éŒ²ã—ãŸã„ãŸã‚<code>--reducers</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g reducer counter/state/counter <span class=\"nt\">--reducers</span> index.ts\n</pre></div></div>\n\n<ul>\n<li>Action\n\n<ul>\n<li>\n<code>src/app/counter/state</code>ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚<code>--flat</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç™»éŒ²ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g action counter/state/counter <span class=\"nt\">--flat</span>\n</pre></div></div>\n\n<p>â€»ã“ã®æ™‚ç‚¹ã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒã§ã¾ã™ã®ã§ã€å‹•ä½œç¢ºèªã¯ã§ãã¾ã›ã‚“ã€‚ãã®ã¾ã¾æ¬¡ã«é€²ã¿ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"å‡¦ç†å®Ÿè£…-1\" class=\"fragment\"></span><a href=\"#%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%85-1\"><i class=\"fa fa-link\"></i></a>å‡¦ç†å®Ÿè£…</h2>\n\n<p>ä¾å­˜é–¢ä¿‚ã®éƒ½åˆã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã¯é€†é †ã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚</p>\n\n<h3>\n<span id=\"action\" class=\"fragment\"></span><a href=\"#action\"><i class=\"fa fa-link\"></i></a>Action</h3>\n\n<p>ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã‹ã‚‰ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\nâ€»ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ãªã®ã§ç„¡è¦–ã—ã¦å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/counter.actions.ts</span></div>\n<div class=\"highlight\"><pre>import { Action } from '@ngrx/store';\n\nexport enum CounterActionTypes {\n// Actionã”ã¨ã«å‹ã‚’å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gd\">-  LoadCounters = '[Counter] Load Counters'\n</span><span class=\"gi\">+  CountIncrement = '[Counter] Increment Count',\n+  CountDecrement = '[Counter] Decrement Count'\n</span>}\n\n// Actionã”ã¨ã«@ngrx.storeã®Actionã‚’ã‚¤ãƒ³ãƒ—ãƒªã—ãŸã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\n// è¤‡é›‘ãªå‡¦ç†ã‚’ã™ã‚‹å ´åˆã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã‚’ã¨ã‚Šã¾ã™ãŒã€\n// æœ¬ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ç°¡å˜ã®ãŸã‚å¼•æ•°ãªã—ã«ã—ã¦ã„ã¾ã™ã€‚\n<span class=\"gd\">- export class Counter implements Action {\n-   readonly type = CounterActionTypes.LoadCounters;\n- }\n</span><span class=\"gi\">+ export class CountIncrement implements Action {\n+   readonly type = CounterActionTypes.CountIncrement;\n+   public constructor() {}\n+ }\n+ \n+ export class CountDecrement implements Action {\n+   readonly type = CounterActionTypes.CountDecrement;\n+   public constructor() {}\n+ }\n</span>\n\n// ä¸Šè¨˜ã§å®šç¾©ã—ãŸActionã‚¯ãƒ©ã‚¹ã‚’é›†ç´„ã—ãŸå‹ã‚’å®šç¾©ã—ã¾ã™ã€‚Reducerã§ä½¿ã†ãŸã‚ã§ã™ã€‚\n<span class=\"gd\">- export type CounterActions = LoadCounters;\n</span><span class=\"gi\">+ export type CounterActions = CountIncrement | CountDecrement;\n</span></pre></div>\n</div>\n\n<h2>\n<span id=\"reducerä½œæˆ\" class=\"fragment\"></span><a href=\"#reducer%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>Reducerä½œæˆ</h2>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/counter.reducer.ts</span></div>\n<div class=\"highlight\"><pre>import { Action } from '@ngrx/store';\n<span class=\"gi\">+ import { CounterActionTypes } from './counter.actions';\n</span>\n\nexport interface State {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã‚’å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+   count: number;\n</span>}\n\nexport const initialState: State = {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã®åˆæœŸå€¤ã‚’å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+   count: 0\n</span>};\n\n\nexport function reducer(state = initialState, action: Action): State {\n  switch (action.type) {\n// å¼•æ•°ã¨ã—ã¦å—ã‘å–ã£ãŸActionã®å‹ã«å¿œã˜ã¦å‡¦ç†ã‚’æŒ¯ã‚Šåˆ†ã‘ã¾ã™\n// ã“ã“ã§ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–¢é€£ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã¿æ‹¾ã£ã¦ã€ä»–ã¯Stateã‚’ãã®ã¾ã¾è¿”ã—ã¾ã™ã€‚\n<span class=\"gi\">+     case CounterActionTypes.CountIncrement:\n</span>// Stateã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€StateãŒã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã«ãªã‚‹ã‚ˆã†ã«å…ƒã®Stateã«ã¯å¤‰æ›´ã‚’åŠ ãˆãš\n// Object.assingã§æ–°è¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n<span class=\"gi\">+       return Object.assign({}, { ...state, count : state.count + 1 });\n+     case CounterActionTypes.CountDecrement:\n+       return Object.assign({}, { ...state, count : state.count - 1 });\n</span>    default:\n      return state;\n  }\n}\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®Countã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// Storeã®æ–¹ã«ã‚‚å®šç¾©ã—ã¾ã™ãŒã€ã“ã“ã§ã¯æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã¦ã„ã‚‹\n// Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«é–¢é€£ã™ã‚‹å‡¦ç†ã®ã¿å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+ export const getCount = (state: State) =&gt; state.count;\n</span></pre></div>\n</div>\n\n<ul>\n<li>Store</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/index.ts</span></div>\n<div class=\"highlight\"><pre>import {\n  ActionReducerMap,\n  createFeatureSelector,\n  createSelector,\n  MetaReducer\n} from '@ngrx/store';\n// ng gã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆæ™‚ã¯ç›¸å¯¾ãƒ‘ã‚¹ãŒãšã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚\n// ãã®å ´åˆã¯ä¿®æ­£ã™ã‚‹\n<span class=\"gd\">- import { environment } from '../../environments/environment';\n</span><span class=\"gi\">+ import { environment } from '../../../environments/environment';\n</span>import * as fromCounter from './counter.reducer';\n\nexport interface State {\n\n  counter: fromCounter.State;\n}\n\nexport const reducers: ActionReducerMap&lt;State&gt; = {\n\n  counter: fromCounter.reducer,\n};\n\n\nexport const metaReducers: MetaReducer&lt;State&gt;[] = !environment.production ? [] : [];\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†åº¦ã«å®šç¾©ã™ã‚‹ã®ã¯å†—é•·ãªã®ã§ã‚³ã‚³ã§å…±é€šçš„ã«å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+ export const getCounterFeatureState = createFeatureSelector&lt;State&gt;('counter');\n+ export const getCounter = createSelector(getCounterFeatureState, s =&gt; s.counter);\n+ export const getCount = createSelector(getCounter, fromCounter.getCount);\n</span></pre></div>\n</div>\n\n<ul>\n<li>Component</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.ts</span></div>\n<div class=\"highlight\"><pre>import { Component, OnInit } from '@angular/core';\n<span class=\"gi\">+ import { Observable } from 'rxjs';\n+ import { Store } from '@ngrx/store';\n</span>\n<span class=\"gi\">+ import * as CounterReducer from './state/counter.reducer';\n+ import * as CounterActions from './state/counter.actions';\n+ import { getCount } from './state';\n</span>\n<span class=\"gu\">@Component({\n</span>  selector: 'app-counter',\n  templateUrl: './counter.component.html',\n  styleUrls: ['./counter.component.css']\n})\nexport class CounterComponent implements OnInit {\n// Storeã§ã®å€¤å¤‰æ›´ã‚’é †æ¬¡å—ã‘ä»˜ã‘ã‚Œã‚‹ã‚ˆã†ã«å‹ã‚’Observableã«å¤‰æ›´ã—ã¾ã™\n<span class=\"gd\">-   count = 0;\n</span><span class=\"gi\">+   count$: Observable&lt;number&gt;;\n</span>\n// Storeã‚’ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ã¾ã™\n<span class=\"gd\">-   constructor() { }\n</span><span class=\"gi\">+   constructor(private store: Store&lt;CounterReducer.State&gt;) {\n</span>// Storeã‹ã‚‰ã‚«ã‚¦ãƒ³ã‚¿ã‚’å–å¾—ã—ã¾ã™\n<span class=\"gi\">+     this.count$ = store.select(getCount);\n+  }\n</span>\n  ngOnInit() {\n  }\n\n  increment() {\n// ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã®å®Ÿå‡¦ç†ã¯ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã«ä»»ã›ã‚‹ã®ã§\n// ã“ã“ã§ã¯Actionã‚’dispatchã™ã‚‹ã ã‘ã§ã™ã€‚\n<span class=\"gd\">-     this.count = this.count + 1;\n</span><span class=\"gi\">+     this.store.dispatch(new CounterActions.CountIncrement());\n</span>  }\n\n  decrement() {\n<span class=\"gd\">-     this.count = this.count - 1;\n</span><span class=\"gi\">+     this.store.dispatch(new CounterActions.CountDecrement());\n</span>  }\n\n}\n</pre></div>\n</div>\n\n<ul>\n<li>Conponentã®HTML</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.html</span></div>\n<div class=\"highlight\"><pre>&lt;button (click)=\"increment()\"&gt;+&lt;/button&gt;\n&lt;button (click)=\"decrement()\"&gt;-&lt;/button&gt;\n&lt;!-- å¤‰æ•°åã¨å‹ãŒå¤‰ã‚ã£ãŸã®ã§HTMLã‚‚è‹¥å¹²ä¿®æ­£ã—ã¾ã™ --&gt;\n<span class=\"gd\">- &lt;div&gt;Count: {{count }}&lt;/div&gt;\n</span><span class=\"gi\">+ &lt;div&gt;Count: {{count$ | async }}&lt;/div&gt;\n</span></pre></div>\n</div>\n\n<ul>\n<li>Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ãªã©ã§å…¨ãã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚è¦‹ãŸç›®ã¯å¤‰ã‚ã£ã¦ã„ã¾ã›ã‚“ãŒã€Countã¯<code>@ngrx/store</code>ã§ç®¡ç†ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png\"></a></p>\n\n<h2>\n<span id=\"è£œè¶³ã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²æ–¹æ³•\" class=\"fragment\"></span><a href=\"#%E8%A3%9C%E8%B6%B3%E3%82%B9%E3%83%88%E3%82%A2%E3%81%A8%E3%82%B9%E3%83%88%E3%82%A2%E7%99%BB%E9%8C%B2%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>è£œè¶³ï¼šã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²æ–¹æ³•</h2>\n\n<p>ã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²å‡¦ç†ã¯ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”Ÿæˆã™ã‚‹ã®ã§ã‚³ã‚³ã§æ”¹ã‚ã¦èª¬æ˜ã—ã¾ã™ã€‚</p>\n\n<p><strong>ã¾ãšã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã§ã™ã€‚</strong><br>\nã‚¹ãƒˆã‚¢ã¯<code>src/app/state/index.ts</code>ã«ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nä¸­èº«ã‚’è¦‹ã‚‹ã¨ã‚ã‹ã‚Šã¾ã™ãŒã€å®Ÿæ…‹ã¯Reducerã‚’é›†ç´„ã—ãŸActionReducerMapã§ã™ã€‚<br>\nReducerã‚’æ–°ã—ãä½œæˆã—ãŸæ™‚ã¯ã€ã“ã®ãƒãƒƒãƒ—ã«ã©ã‚“ã©ã‚“è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/state/index.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span>\n  <span class=\"nx\">ActionReducer</span><span class=\"p\">,</span>\n  <span class=\"nx\">ActionReducerMap</span><span class=\"p\">,</span>\n  <span class=\"nx\">createFeatureSelector</span><span class=\"p\">,</span>\n  <span class=\"nx\">createSelector</span><span class=\"p\">,</span>\n  <span class=\"nx\">MetaReducer</span>\n<span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@ngrx/store'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">environment</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../../environments/environment'</span><span class=\"p\">;</span>\n\n<span class=\"k\">export</span> <span class=\"kr\">interface</span> <span class=\"nx\">State</span> <span class=\"p\">{</span>\n\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">reducers</span><span class=\"p\">:</span> <span class=\"nx\">ActionReducerMap</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ã‚³ã‚³ã«ReducerãŒè¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</span>\n  <span class=\"c1\">// ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«ï¼‘ã¤ã‚‚Reducerã‚’å®šç¾©ã—ã¦ã„ãªã„ã®ã§ç©ºã£ã½ã§ã™ã€‚</span>\n<span class=\"p\">};</span>\n\n\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">metaReducers</span><span class=\"p\">:</span> <span class=\"nx\">MetaReducer</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"o\">!</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">production</span> <span class=\"p\">?</span> <span class=\"p\">[]</span> <span class=\"p\">:</span> <span class=\"p\">[];</span>\n\n</pre></div>\n</div>\n\n<p>ã‚¹ãƒˆã‚¢ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>StoreModule.forRoot</code>ã‚’ä½¿ã„ã¾ã™(ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚„ã£ã¦ãã‚Œã¾ã™)</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n    <span class=\"nx\">StoreModule</span><span class=\"p\">.</span><span class=\"nx\">forRoot</span><span class=\"p\">(</span><span class=\"nx\">reducers</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"nx\">metaReducers</span> <span class=\"p\">}),</span>\n    <span class=\"o\">!</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">production</span> <span class=\"p\">?</span> <span class=\"nx\">StoreDevtoolsModule</span><span class=\"p\">.</span><span class=\"nx\">instrument</span><span class=\"p\">()</span> <span class=\"p\">:</span> <span class=\"p\">[]</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"p\">],</span>\n  <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>æ¬¡ã«ã‚«ã‚¦ãƒ³ã‚¿ã®ã‚¹ãƒˆã‚¢ã«é–¢ã—ã¦ã§ã™ã€‚</strong><br>\nã“ã¡ã‚‰ã‚‚ãƒ«ãƒ¼ãƒˆã®å ´åˆã¨ã»ã¼åŒã˜ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/index.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">reducers</span><span class=\"p\">:</span> <span class=\"nx\">ActionReducerMap</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã‚’ãƒãƒƒãƒ—ã«ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚</span>\n  <span class=\"na\">counter</span><span class=\"p\">:</span> <span class=\"nx\">fromCounter</span><span class=\"p\">.</span><span class=\"nx\">reducer</span><span class=\"p\">,</span>\n<span class=\"p\">};</span>\n\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">metaReducers</span><span class=\"p\">:</span> <span class=\"nx\">MetaReducer</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"o\">!</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">production</span> <span class=\"p\">?</span> <span class=\"p\">[]</span> <span class=\"p\">:</span> <span class=\"p\">[];</span>\n<span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n</pre></div>\n</div>\n\n<p>ãŸã ç™»éŒ²ã¯<code>StoreModule.forFeature</code>ã‚’ä½¿ã„ã¾ã™ã€‚<br>\nã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æ©Ÿèƒ½æ¯ã«çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã«ä½¿ã†ã‚‚ã®ã§ã€ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«æŒ‡å®šã—ãŸåå‰ã§ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ä½¿ã†æ™‚ã«ãªã£ãŸã‚‰é…å»¶ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">fromCounter</span> <span class=\"k\">from</span> <span class=\"s1\">'./state'</span><span class=\"p\">;</span>\n<span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n    <span class=\"c1\">// ã‚¢ãƒ—ãƒªå…¨ä½“ã®ã‚¹ãƒˆã‚¢ã«counterã¨ã„ã†åå‰ã§ç™»éŒ²ã—ã¾ã™</span>\n    <span class=\"nx\">StoreModule</span><span class=\"p\">.</span><span class=\"nx\">forFeature</span><span class=\"p\">(</span><span class=\"s1\">'counter'</span><span class=\"p\">,</span> <span class=\"nx\">fromCounter</span><span class=\"p\">.</span><span class=\"nx\">reducers</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"na\">metaReducers</span><span class=\"p\">:</span> <span class=\"nx\">fromCounter</span><span class=\"p\">.</span><span class=\"nx\">metaReducers</span> <span class=\"p\">})</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"p\">],</span>\n  <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">CounterModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>ä»¥ä¸Šã§<code>@ngrx/schematics</code>ã‚’ä½¿ã£ãŸ<code>@ngrx/store</code>ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¯çµ‚äº†ã§ã™ã€‚<br>\n<code>ngrx</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä»–ã«ã‚‚<code>@ngrx/router-store</code>ã€<code>@ngrx/entity</code>ã€<code>@ngrx/effect</code>ãŒã‚ã‚‹ã®ã§ã€<br>\nä»Šå›ã®ã‚¢ãƒ—ãƒªã‚’ãƒ™ãƒ¼ã‚¹ã«æ‹¡å¼µã—ã€ç†è§£ã‚’æ·±ã‚ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>\n\n<p>Angularã¯Vue.jsãªã©ã¨æ¯”è¼ƒã™ã‚‹ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã—ã‹ã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ã„ã‚‹ã®ã§ã€ã‘ã£ã“ã†ä¾¿åˆ©ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ï¼<br>\nã‚ã¾ã‚Šå‘¨ã‚Šã§Angularä½¿ã£ã¦ã‚‹äººãŒã„ãªãã¦å¯‚ã—ã„ã®ã§ã™ãŒã€ã€ã€ã€çš†ã•ã‚“æ˜¯éAngularä½¿ã„ã¾ã—ã‚‡ã†ï¼</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li>GitHub\n\n<ul>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/store/README.md#ngrxstore\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/store</a>\n\n<ul>\n<li>å…¬å¼ãƒšãƒ¼ã‚¸ã€‚ã‚µãƒ³ãƒ—ãƒ«ã¯å°‘ã—å¤ã„ã§ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å……å®Ÿã—ã¦ã„ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/schematics/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a>\n\n<ul>\n<li>å„ãƒªãƒ³ã‚¯ã«è¡Œãã¨ã€ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¬æ˜ãªã©ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Medium\n\n<ul>\n<li>\n<a href=\"https://blog.nrwl.io/managing-state-in-angular-applications-22b75ef5625f\" rel=\"nofollow noopener\" target=\"_blank\">Managing State in Angular Applications</a>\n\n<ul>\n<li>Angularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ¤œè¨ã—ã€æœ€çµ‚çš„ã«@ngrx/storeã‚’ç´¹ä»‹ã—ã¦ã„ã‚‹è¨˜äº‹ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚GitHubã«ã‚ã‚Šã€å¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Qiita\n\n<ul>\n<li>\n<a href=\"https://qiita.com/puku0x/items/0a8e7224761dc549bd06\" id=\"reference-55d4d1f3588dbe22005a\">@ngrx/storeã¨@ngrx/effectsã®ä½¿ã„æ–¹</a>\n\n<ul>\n<li>GitHubã«<a href=\"https://github.com/puku0x/ngrx-todo\" rel=\"nofollow noopener\" target=\"_blank\">ã‚µãƒ³ãƒ—ãƒ«</a>ã‚‚ã‚ã‚Šã‚³ãƒ¼ãƒ‰ä¾‹ãŒå¤šãå¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://qiita.com/musou1500/items/8003c4a3f2b2e80d919f\" id=\"reference-0b88f55e95af744439cc\">@ngrx/schematicsã‚’è§¦ã£ã¦ã¿ã‚‹</a>\n\n<ul>\n<li>\n<code>@ngrx/schematics</code>ã®ä½¿ã„æ–¹ãŒç¶²ç¾…ã•ã‚Œã¦ãŠã‚Šå‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://qiita.com/gen2-gk/items/5e5c5b81243def8edc2c#ngrx-%E9%96%A2%E9%80%A3%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AF1%E3%81%A4%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B\" id=\"reference-00af0c3c5f2c814f6e6e\">ngrxã§ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ</a>\n\n<ul>\n<li>ngrxé–¢é€£è³‡ç”£ã‚’storeãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«é›†ç´„ã™ã‚‹ã¨ã„ã†çŸ¥è¦‹ã¯ã‚³ã‚³ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://qiita.com/kouMatsumoto/items/c8297466c1824953632f\" id=\"reference-2bdc06375583d7c16351\">ngrxç´¹ä»‹</a>\n\n<ul>\n<li>ngrxã‚’çŸ¥ã‚‹ãã£ã‹ã‘ã«ãªã£ãŸè¨˜äº‹ã§ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","body":"## ãªã«ã“ã‚Œ\nAngularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ã–ã£ãã‚ŠæŠŠæ¡ã™ã‚‹ãŸã‚ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚[@ngrx/store](http://ngrx.github.io/)ãƒ™ãƒ¼ã‚¹ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªï¼ˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¢ãƒ—ãƒªï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œã‚‹ã ã‘ãªã‚‰10åˆ†ç¨‹åº¦ã§å‡ºæ¥ä¸ŠãŒã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ã¦ngrxã‚’æœ€ä½é™ã‚’æŠŠæ¡ã—ãŸã„äººå‘ã‘ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚[GitHub](https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx)ã«ç½®ã„ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nngrxã‚’ä½¿ã†ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒéå¸¸ã«å¤šããªã‚Šã¾ã™ãŒã€ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯[@ngrx/schematics](https://github.com/ngrx/platform/tree/master/docs/schematics) ã‚’ä½¿ã„ã€ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã“ã¨ã§æ¥µåŠ›æ‰‹é–“ã‚’çœã„ã¦ã„ã¾ã™ã€‚\n\n\n## ã‚¢ãƒ—ãƒªã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸\n* `+`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ+1ã•ã‚Œã‚‹\n* `-` ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ- 1ã•ã‚Œã‚‹\n![counterapp.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/8e6f645e-a734-db8d-ec6b-144c0fdee1b0.gif)\n\n## ã‚„ã‚‹ã“ã¨/ã‚„ã‚‰ãªã„ã“ã¨\n* ã‚„ã‚‹\n    * [@ngrx/store](https://github.com/ngrx/platform/blob/master/docs/store/README.md)ã®ä½¿ã„æ–¹\n        * Storeã®ä½œã‚Šæ–¹\n        * Stateã®ä½œã‚Šæ–¹\n        * Reducerã®ä½œã‚Šæ–¹\n        * Actionsã®ä½œã‚Šæ–¹\n    * [@ngrx/schematics](https://github.com/ngrx/platform/blob/master/docs/schematics/README.md)ã®ä½¿ã„æ–¹\n        * ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©ã‚’ä½¿ã„æ¥µåŠ›æ‰‹é–“ã‚’æ¸›ã‚‰ã™æ–¹æ³•\n* ã‚„ã‚‰ãªã„ ï¼ˆä¸‹è¨˜ã‚’ç†è§£ã™ã‚‹ã«ã¯[å‚è€ƒ](#å‚è€ƒ)ã®Qiitaã®è¨˜äº‹ã‚’è¦‹ã¦ãã ã•ã„ã€‚ï¼‰\n    * çŠ¶æ…‹ç®¡ç†ã®èª¬æ˜\n    * Reduxã®èª¬æ˜\n    * [@ngrx/router-store](https://github.com/ngrx/platform/blob/master/docs/router-store/README.md)ã®ä½¿ã„æ–¹\n    * [@ngrx/entity](https://github.com/ngrx/platform/blob/master/docs/entity/README.md)ã®ä½¿ã„æ–¹\n    * [@ngrx/effect](https://github.com/ngrx/platform/blob/master/docs/effects/README.md)ã®ä½¿ã„æ–¹  \n    \n\n\n## ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ¦‚è¦\næ®µéšã‚’è¸ã‚“ã§ã€ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«å‹•ä½œç¢ºèªã—ãªãŒã‚‰ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nå„ã‚¹ãƒ†ãƒƒãƒ—çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯GitHubã«ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nå¤§éƒ¨åˆ†ã¯Schematicsã‚’ä½¿ã£ã¦ngã‚³ãƒãƒ³ãƒ‰ã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ã¿å®Ÿè£…ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\n\n1. Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰  â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/generated-with-angualr-cli)\n1. ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/no-ngrx)\n1. ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰ â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/after-ngrx-setting)\n1. ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰ â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx)\n\n\n\n\n## å‰ææ¡ä»¶\n* [Node.js](https://nodejs.org/ja/)ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n* [Angular CLI](https://cli.angular.io/)ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n\n```terminal\n$ npm i -g @angular/cli\n```\n\n* [@ngrx/schematics](https://cli.angular.io/)ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n\n```terminal\n$ npm i -g @ngrx/schematics\n```\n\n\n## 1. Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰\n\n* ng newã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n\n```terminal\n$ ng new ngrx-tutorial\n```\n\n* ç”Ÿæˆã•ã‚ŒãŸã‚¢ãƒ—ãƒªé…ä¸‹ã«ç§»å‹•ã—ã€ä¸€æ—¦Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ cd ngrx-tutorial\n$ ng serve -o\n```\n\n* ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ã€‚\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.03.59.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5c19c3f0-104a-3ef2-a33d-315c0f0a3f9f.png)\n\n\n\n## 2. ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰\nã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®è³‡ç”£ã¯å…¨ã¦`src/app/counter`ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚\nã¾ãšã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã€ãã®å¾Œã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\n### ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ\n\n\n* ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£è³‡ç”£ã‚’ã¾ã¨ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n    * ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ãŸã‚`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g module counter --module=app.module.ts\n```\n\n\n* ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n    * ä¸Šè¨˜ã§ä½œæˆã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    * æœ€çµ‚çš„ã«ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚`--export`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g component counter --module=counter/counter.module.ts --export\n```\n\n\n* `app.component.html`ä¿®æ­£ã—ã€ä½œæˆã—ãŸã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```html:app.component.html\n<app-counter></app-counter>\n```\n\n* ä¸€æ—¦ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ã€ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.06.30.png](https://qiita-image-store.s3.amazonaws.com/0/49915/772a7501-34a7-3ef1-6666-d13e79382ce6.png)\n\n\n### å‡¦ç†å®Ÿè£…\n\n* ã‚«ã‚¦ãƒ³ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Ÿéš›ã®å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\n\n```ts:src/app/counter/counter.component.ts\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-counter',\n  templateUrl: './counter.component.html',\n  styleUrls: ['./counter.component.css']\n})\nexport class CounterComponent implements OnInit {\n  count = 0;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  increment() {\n    this.count = this.count + 1;\n  }\n\n  decrement() {\n    this.count = this.count - 1;\n  }\n\n}\n\n```\n\n\n```html:src/app/counter/counter.component.html\n<button (click)=\"increment()\">+</button>\n<button (click)=\"decrement()\">-</button>\n<div>Count: {{count}}</div>\n```\n\n\n* ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚`+`,`-`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ•°å­—ãŒå¢—ãˆãŸã‚Šæ¸›ã£ãŸã‚Šã—ãŸã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png)\n\n\n## 3. ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰\n@ngrx/storeã‚’ã‚¢ãƒ—ãƒªã«å°å…¥ã—ã€åˆæœŸè¨­å®šã‚’ã—ã¾ã™ã€‚\n\n\n* ä¸‹è¨˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n    * `@ngrx/schematics`\n        * Angualr CLIã§ngrxã®é››å½¢ã‚’ä½œã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n    * `@ngrx/store`\n        * ngrxã§Store,Reducer,Actionã‚’ä½¿ã†ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n    * `@ngrx/store-devtools`\n        * å¼·åŠ›ãªãƒ‡ãƒãƒƒã‚«ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\n```terminal\n$ npm i -D @ngrx/schematics\n$ npm i -s @ngrx/store\n$ npm i -s @ngrx/store-devtools\n```\n\n\n*`@ngrx/schematics`ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Schematicsã«è¿½åŠ ã—ã¾ã™ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ngrxã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã«`@ngrx/schematics`ã®æŒ‡å®šã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚ï¼‰\n\n```terminal\n$ ng config cli.defaultCollection @ngrx/schematics\n```\n\n* ä¸Šè¨˜ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`angular.json`ã«ã“ã®ã‚ˆã†ãªè¨­å®šãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚\n\n```json:angular.json\n  \"defaultProject\": \"ngrx-tutorial\",\n  \"cli\": {\n    \"defaultCollection\": \"@ngrx/schematics\"\n  }\n```\n\n* ãƒ«ãƒ¼ãƒˆã®Storeã‚’ä½œæˆã—ã¾ã™ã€‚\n    * `src/app/state`é…ä¸‹ã«ç”Ÿæˆã—ãŸã„ã®ã§`--statePath`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    * ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g store state --statePath state --root --module app.module.ts\n```\n\n* ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§æ›´æ–°ã—ãŸ`src/app/app.module.ts`ã§`environment`ã®importæ–‡ã®ãƒ‘ã‚¹ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹å ´åˆã¯ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚\n\n```diff:app/src/app.module.ts\n- import { environment } from '../../environments/environment';\n+ import { environment } from '../environments/environment';\n```\n\n* ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* æ‰‹é †2ã®å‹•ä½œç¢ºèªæ™‚ã¨åŒæ§˜ã®æŒ™å‹•ã«ãªã‚Šã¾ã™ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png)\n\n\n## 4. ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰\nã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«Storeã€Reducerã€Actionã‚’ä½œæˆã—ã€ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®å€¤ã‚’Storeã«ç§»è¡Œã—ã¾ã™ã€‚\nã“ã“ã§ä½œæˆã™ã‚‹è³‡ç”£ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–‰ã˜ãŸã‚‚ã®ãªã®ã§ã€`src/app/counter/state`é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚\nã¾ãŸ`@ngrx/schemetics`ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯Reducerã€Actionãªã©ã®è³‡ç”£ãŒã€å½¹å‰²ã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ãŒã€ï¼‘ãƒ•ã‚©ãƒ«ãƒ€ã«é›†ç´„ã—ãŸã»ã†ãŒã‚½ãƒ¼ã‚¹ãŒä¿®æ­£ã—ã‚„ã™ã„ã®ã§ã€ä»Šå›ã¯å…¨ã¦`src/app/counter/state`ã®ç›´ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚\n\n\n### ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ\n\n\n* Store\n    * `src/app/counter/state`ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚`--statePath`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    * ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g store counter/counter --statePath state --module counter.module.ts\n```\n\n* Reducer\n    * ä¸Šè¨˜ã§ä½œæˆã—ãŸStoreã«æœ¬Reducerã‚’ç™»éŒ²ã—ãŸã„ãŸã‚`--reducers`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g reducer counter/state/counter --reducers index.ts\n```\n\n* Action\n    * `src/app/counter/state`ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚`--flat`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç™»éŒ²ã—ã¾ã™ã€‚\n\n```terminal\n$ ng g action counter/state/counter --flat\n``` \n\nâ€»ã“ã®æ™‚ç‚¹ã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒã§ã¾ã™ã®ã§ã€å‹•ä½œç¢ºèªã¯ã§ãã¾ã›ã‚“ã€‚ãã®ã¾ã¾æ¬¡ã«é€²ã¿ã¾ã™ã€‚\n\n\n## å‡¦ç†å®Ÿè£…\nä¾å­˜é–¢ä¿‚ã®éƒ½åˆã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã¯é€†é †ã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n\n### Action\nãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã‹ã‚‰ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\nâ€»ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ãªã®ã§ç„¡è¦–ã—ã¦å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\n```diff:src/app/counter/state/counter.actions.ts\nimport { Action } from '@ngrx/store';\n\nexport enum CounterActionTypes {\n// Actionã”ã¨ã«å‹ã‚’å®šç¾©ã—ã¾ã™ã€‚\n-  LoadCounters = '[Counter] Load Counters'\n+  CountIncrement = '[Counter] Increment Count',\n+  CountDecrement = '[Counter] Decrement Count'\n}\n\n// Actionã”ã¨ã«@ngrx.storeã®Actionã‚’ã‚¤ãƒ³ãƒ—ãƒªã—ãŸã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\n// è¤‡é›‘ãªå‡¦ç†ã‚’ã™ã‚‹å ´åˆã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã‚’ã¨ã‚Šã¾ã™ãŒã€\n// æœ¬ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ç°¡å˜ã®ãŸã‚å¼•æ•°ãªã—ã«ã—ã¦ã„ã¾ã™ã€‚\n- export class Counter implements Action {\n-   readonly type = CounterActionTypes.LoadCounters;\n- }\n+ export class CountIncrement implements Action {\n+   readonly type = CounterActionTypes.CountIncrement;\n+   public constructor() {}\n+ }\n+ \n+ export class CountDecrement implements Action {\n+   readonly type = CounterActionTypes.CountDecrement;\n+   public constructor() {}\n+ }\n\n\n// ä¸Šè¨˜ã§å®šç¾©ã—ãŸActionã‚¯ãƒ©ã‚¹ã‚’é›†ç´„ã—ãŸå‹ã‚’å®šç¾©ã—ã¾ã™ã€‚Reducerã§ä½¿ã†ãŸã‚ã§ã™ã€‚\n- export type CounterActions = LoadCounters;\n+ export type CounterActions = CountIncrement | CountDecrement;\n```\n\n\n## Reducerä½œæˆ\n\n```diff:src/app/counter/state/counter.reducer.ts\nimport { Action } from '@ngrx/store';\n+ import { CounterActionTypes } from './counter.actions';\n\n\nexport interface State {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã‚’å®šç¾©ã—ã¾ã™ã€‚\n+   count: number;\n}\n\nexport const initialState: State = {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã®åˆæœŸå€¤ã‚’å®šç¾©ã—ã¾ã™ã€‚\n+   count: 0\n};\n\n\nexport function reducer(state = initialState, action: Action): State {\n  switch (action.type) {\n// å¼•æ•°ã¨ã—ã¦å—ã‘å–ã£ãŸActionã®å‹ã«å¿œã˜ã¦å‡¦ç†ã‚’æŒ¯ã‚Šåˆ†ã‘ã¾ã™\n// ã“ã“ã§ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–¢é€£ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã¿æ‹¾ã£ã¦ã€ä»–ã¯Stateã‚’ãã®ã¾ã¾è¿”ã—ã¾ã™ã€‚\n+     case CounterActionTypes.CountIncrement:\n// Stateã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€StateãŒã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã«ãªã‚‹ã‚ˆã†ã«å…ƒã®Stateã«ã¯å¤‰æ›´ã‚’åŠ ãˆãš\n// Object.assingã§æ–°è¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n+       return Object.assign({}, { ...state, count : state.count + 1 });\n+     case CounterActionTypes.CountDecrement:\n+       return Object.assign({}, { ...state, count : state.count - 1 });\n    default:\n      return state;\n  }\n}\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®Countã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// Storeã®æ–¹ã«ã‚‚å®šç¾©ã—ã¾ã™ãŒã€ã“ã“ã§ã¯æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã¦ã„ã‚‹\n// Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«é–¢é€£ã™ã‚‹å‡¦ç†ã®ã¿å®šç¾©ã—ã¾ã™ã€‚\n+ export const getCount = (state: State) => state.count;\n```\n\n* Store\n\n```diff:src/app/counter/state/index.ts\nimport {\n  ActionReducerMap,\n  createFeatureSelector,\n  createSelector,\n  MetaReducer\n} from '@ngrx/store';\n// ng gã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆæ™‚ã¯ç›¸å¯¾ãƒ‘ã‚¹ãŒãšã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚\n// ãã®å ´åˆã¯ä¿®æ­£ã™ã‚‹\n- import { environment } from '../../environments/environment';\n+ import { environment } from '../../../environments/environment';\nimport * as fromCounter from './counter.reducer';\n\nexport interface State {\n\n  counter: fromCounter.State;\n}\n\nexport const reducers: ActionReducerMap<State> = {\n\n  counter: fromCounter.reducer,\n};\n\n\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [] : [];\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†åº¦ã«å®šç¾©ã™ã‚‹ã®ã¯å†—é•·ãªã®ã§ã‚³ã‚³ã§å…±é€šçš„ã«å®šç¾©ã—ã¾ã™ã€‚\n+ export const getCounterFeatureState = createFeatureSelector<State>('counter');\n+ export const getCounter = createSelector(getCounterFeatureState, s => s.counter);\n+ export const getCount = createSelector(getCounter, fromCounter.getCount);\n```\n\n\n\n* Component\n\n```diff:src/app/counter/counter.component.ts\nimport { Component, OnInit } from '@angular/core';\n+ import { Observable } from 'rxjs';\n+ import { Store } from '@ngrx/store';\n\n+ import * as CounterReducer from './state/counter.reducer';\n+ import * as CounterActions from './state/counter.actions';\n+ import { getCount } from './state';\n\n@Component({\n  selector: 'app-counter',\n  templateUrl: './counter.component.html',\n  styleUrls: ['./counter.component.css']\n})\nexport class CounterComponent implements OnInit {\n// Storeã§ã®å€¤å¤‰æ›´ã‚’é †æ¬¡å—ã‘ä»˜ã‘ã‚Œã‚‹ã‚ˆã†ã«å‹ã‚’Observableã«å¤‰æ›´ã—ã¾ã™\n-   count = 0;\n+   count$: Observable<number>;\n\n// Storeã‚’ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ã¾ã™\n-   constructor() { }\n+   constructor(private store: Store<CounterReducer.State>) {\n// Storeã‹ã‚‰ã‚«ã‚¦ãƒ³ã‚¿ã‚’å–å¾—ã—ã¾ã™\n+     this.count$ = store.select(getCount);\n+  }\n\n  ngOnInit() {\n  }\n\n  increment() {\n// ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã®å®Ÿå‡¦ç†ã¯ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã«ä»»ã›ã‚‹ã®ã§\n// ã“ã“ã§ã¯Actionã‚’dispatchã™ã‚‹ã ã‘ã§ã™ã€‚\n-     this.count = this.count + 1;\n+     this.store.dispatch(new CounterActions.CountIncrement());\n  }\n\n  decrement() {\n-     this.count = this.count - 1;\n+     this.store.dispatch(new CounterActions.CountDecrement());\n  }\n\n}\n```\n\n* Conponentã®HTML\n\n```diff:src/app/counter/counter.component.html\n<button (click)=\"increment()\">+</button>\n<button (click)=\"decrement()\">-</button>\n<!-- å¤‰æ•°åã¨å‹ãŒå¤‰ã‚ã£ãŸã®ã§HTMLã‚‚è‹¥å¹²ä¿®æ­£ã—ã¾ã™ -->\n- <div>Count: {{count }}</div>\n+ <div>Count: {{count$ | async }}</div>\n```\n\n* Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ãªã©ã§å…¨ãã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚è¦‹ãŸç›®ã¯å¤‰ã‚ã£ã¦ã„ã¾ã›ã‚“ãŒã€Countã¯`@ngrx/store`ã§ç®¡ç†ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png)\n\n## è£œè¶³ï¼šã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²æ–¹æ³•\nã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²å‡¦ç†ã¯ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”Ÿæˆã™ã‚‹ã®ã§ã‚³ã‚³ã§æ”¹ã‚ã¦èª¬æ˜ã—ã¾ã™ã€‚\n\n**ã¾ãšã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã§ã™ã€‚**\nã‚¹ãƒˆã‚¢ã¯`src/app/state/index.ts`ã«ä½œæˆã•ã‚Œã¾ã™ã€‚\nä¸­èº«ã‚’è¦‹ã‚‹ã¨ã‚ã‹ã‚Šã¾ã™ãŒã€å®Ÿæ…‹ã¯Reducerã‚’é›†ç´„ã—ãŸActionReducerMapã§ã™ã€‚\nReducerã‚’æ–°ã—ãä½œæˆã—ãŸæ™‚ã¯ã€ã“ã®ãƒãƒƒãƒ—ã«ã©ã‚“ã©ã‚“è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n\n```ts:src/app/state/index.ts\nimport {\n  ActionReducer,\n  ActionReducerMap,\n  createFeatureSelector,\n  createSelector,\n  MetaReducer\n} from '@ngrx/store';\nimport { environment } from '../../environments/environment';\n\nexport interface State {\n\n}\n\nexport const reducers: ActionReducerMap<State> = {\n  // ã‚³ã‚³ã«ReducerãŒè¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n  // ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«ï¼‘ã¤ã‚‚Reducerã‚’å®šç¾©ã—ã¦ã„ãªã„ã®ã§ç©ºã£ã½ã§ã™ã€‚\n};\n\n\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [] : [];\n\n```\n\nã‚¹ãƒˆã‚¢ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`StoreModule.forRoot`ã‚’ä½¿ã„ã¾ã™(ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚„ã£ã¦ãã‚Œã¾ã™)\n\n```ts:src/app/app.module.ts\n@NgModule({\n  // ãƒ»ãƒ»ãƒ»\n  imports: [\n    // ãƒ»ãƒ»ãƒ»\n    StoreModule.forRoot(reducers, { metaReducers }),\n    !environment.production ? StoreDevtoolsModule.instrument() : []\n    // ãƒ»ãƒ»ãƒ»\n  ],\n  // ãƒ»ãƒ»ãƒ»\n})\nexport class AppModule { }\n\n```\n\n**æ¬¡ã«ã‚«ã‚¦ãƒ³ã‚¿ã®ã‚¹ãƒˆã‚¢ã«é–¢ã—ã¦ã§ã™ã€‚**\nã“ã¡ã‚‰ã‚‚ãƒ«ãƒ¼ãƒˆã®å ´åˆã¨ã»ã¼åŒã˜ã§ã™ã€‚\n\n```ts:src/app/counter/state/index.ts\n// ãƒ»ãƒ»ãƒ»\nexport const reducers: ActionReducerMap<State> = {\n  // ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã‚’ãƒãƒƒãƒ—ã«ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚\n  counter: fromCounter.reducer,\n};\n\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [] : [];\n// ãƒ»ãƒ»ãƒ»\n```\n\nãŸã ç™»éŒ²ã¯`StoreModule.forFeature`ã‚’ä½¿ã„ã¾ã™ã€‚\nã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æ©Ÿèƒ½æ¯ã«çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã«ä½¿ã†ã‚‚ã®ã§ã€ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«æŒ‡å®šã—ãŸåå‰ã§ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ä½¿ã†æ™‚ã«ãªã£ãŸã‚‰é…å»¶ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚\n\n```ts:src/app/counter/counter.module.ts\n// ãƒ»ãƒ»ãƒ»\nimport * as fromCounter from './state';\n// ãƒ»ãƒ»ãƒ»\n@NgModule({\n  imports: [\n    // ãƒ»ãƒ»ãƒ»\n    // ã‚¢ãƒ—ãƒªå…¨ä½“ã®ã‚¹ãƒˆã‚¢ã«counterã¨ã„ã†åå‰ã§ç™»éŒ²ã—ã¾ã™\n    StoreModule.forFeature('counter', fromCounter.reducers, { metaReducers: fromCounter.metaReducers })\n    // ãƒ»ãƒ»ãƒ»\n  ],\n  // ãƒ»ãƒ»ãƒ»\n})\nexport class CounterModule { }\n\n```\n\n\n## ã¾ã¨ã‚\nä»¥ä¸Šã§`@ngrx/schematics`ã‚’ä½¿ã£ãŸ`@ngrx/store`ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¯çµ‚äº†ã§ã™ã€‚\n`ngrx`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä»–ã«ã‚‚`@ngrx/router-store`ã€`@ngrx/entity`ã€`@ngrx/effect`ãŒã‚ã‚‹ã®ã§ã€\nä»Šå›ã®ã‚¢ãƒ—ãƒªã‚’ãƒ™ãƒ¼ã‚¹ã«æ‹¡å¼µã—ã€ç†è§£ã‚’æ·±ã‚ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n\nAngularã¯Vue.jsãªã©ã¨æ¯”è¼ƒã™ã‚‹ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nã—ã‹ã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ã„ã‚‹ã®ã§ã€ã‘ã£ã“ã†ä¾¿åˆ©ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ï¼\nã‚ã¾ã‚Šå‘¨ã‚Šã§Angularä½¿ã£ã¦ã‚‹äººãŒã„ãªãã¦å¯‚ã—ã„ã®ã§ã™ãŒã€ã€ã€ã€çš†ã•ã‚“æ˜¯éAngularä½¿ã„ã¾ã—ã‚‡ã†ï¼\n\n## å‚è€ƒ\n* GitHub\n    * [@ngrx/store](https://github.com/ngrx/platform/blob/master/docs/store/README.md#ngrxstore)\n        * å…¬å¼ãƒšãƒ¼ã‚¸ã€‚ã‚µãƒ³ãƒ—ãƒ«ã¯å°‘ã—å¤ã„ã§ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å……å®Ÿã—ã¦ã„ã¾ã™ã€‚\n    * [@ngrx/schematics](https://github.com/ngrx/platform/blob/master/docs/schematics/README.md)\n        * å„ãƒªãƒ³ã‚¯ã«è¡Œãã¨ã€ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¬æ˜ãªã©ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\n* Medium\n    * [Managing State in Angular Applications](https://blog.nrwl.io/managing-state-in-angular-applications-22b75ef5625f)\n        * Angularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ¤œè¨ã—ã€æœ€çµ‚çš„ã«@ngrx/storeã‚’ç´¹ä»‹ã—ã¦ã„ã‚‹è¨˜äº‹ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚GitHubã«ã‚ã‚Šã€å¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã™ã€‚\n* Qiita\n    * [@ngrx/storeã¨@ngrx/effectsã®ä½¿ã„æ–¹](https://qiita.com/puku0x/items/0a8e7224761dc549bd06)\n        * GitHubã«[ã‚µãƒ³ãƒ—ãƒ«](https://github.com/puku0x/ngrx-todo)ã‚‚ã‚ã‚Šã‚³ãƒ¼ãƒ‰ä¾‹ãŒå¤šãå¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚\n    * [@ngrx/schematicsã‚’è§¦ã£ã¦ã¿ã‚‹](https://qiita.com/musou1500/items/8003c4a3f2b2e80d919f)\n        * `@ngrx/schematics`ã®ä½¿ã„æ–¹ãŒç¶²ç¾…ã•ã‚Œã¦ãŠã‚Šå‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚\n    * [ngrxã§ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ](https://qiita.com/gen2-gk/items/5e5c5b81243def8edc2c#ngrx-%E9%96%A2%E9%80%A3%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AF1%E3%81%A4%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B)\n        * ngrxé–¢é€£è³‡ç”£ã‚’storeãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«é›†ç´„ã™ã‚‹ã¨ã„ã†çŸ¥è¦‹ã¯ã‚³ã‚³ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n    * [ngrxç´¹ä»‹](https://qiita.com/kouMatsumoto/items/c8297466c1824953632f)\n        * ngrxã‚’çŸ¥ã‚‹ãã£ã‹ã‘ã«ãªã£ãŸè¨˜äº‹ã§ã™ã€‚\n\n\n\n","comments_count":0,"created_at":"2018-07-30T18:01:02+09:00","likes_count":22,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/e0ec0869-f368-5083-bdc2-cdba9d59427a/","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","date":"2017-12-12T03:19:11+09:00","excerpt":"FUJITSU Advent Calendar 2017 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€ã“ã“ï¼”ãƒ¶æœˆã»ã©MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œ...","tags":["JavaScript","Node.js","Express","mongoose","Angular","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"e0ec0869-f368-5083-bdc2-cdba9d59427a","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","rendered_body":"<p><a href=\"https://qiita.com/advent-calendar/2017/fujitsu\">FUJITSU Advent Calendar 2017</a> 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>\n\n<p>ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€<br>\nã“ã“ï¼”ãƒ¶æœˆã»ã©<strong>MEAN</strong>ã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB+<strong>E</strong>xpress+<strong>A</strong>ngular+<strong>N</strong>ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚<br>\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\n\n<p>ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%B4%B9%E4%BB%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®ç´¹ä»‹</h2>\n\n<p>æœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)</p>\n\n<ul>\n<li><a href=\"https://github.com/Takumon/mean-blog\" rel=\"nofollow noopener\" target=\"_blank\">Github</a></li>\n<li><a href=\"https://hub.docker.com/r/takumon/mean-blog_auto/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerhub</a></li>\n<li>\n<a href=\"https://material-blog-demo.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‡ãƒ¢ç’°å¢ƒ</a> (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)</li>\n</ul>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)<br>\n<a href=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" alt=\"appdemo_detail.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)<br>\n<a href=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)<br>\n<a href=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png\"></a></p>\n\n<h1>\n<span id=\"1-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã¾ã‚ã‚Š\" class=\"fragment\"></span><a href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%BE%E3%82%8F%E3%82%8A\"><i class=\"fa fa-link\"></i></a>1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š</h1>\n\n<h2>\n<span id=\"angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#angular%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%82%8B%E6%99%82%E3%81%AB%E5%8F%A4%E3%81%84%E6%83%85%E5%A0%B1%E3%82%92%E9%99%A4%E5%A4%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„</h2>\n\n<p>1ç³»ã¯<code>AngularJS</code>ã€2ç³»ä»¥é™ã¯<code>Angular</code>ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚<br>\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯<code>Angualr2</code>ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚<code>--AngularJS</code>ã‚’ã¤ã‘ãŸã‚Šã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"htmlã®domè¦ç´ ã‚’åˆ¥ã®domè¦ç´ ã¾ãŸã¯componentã‹ã‚‰æ‰±ã„ãŸã„\" class=\"fragment\"></span><a href=\"#html%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%82%92%E5%88%A5%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%81%BE%E3%81%9F%E3%81%AFcomponent%E3%81%8B%E3%82%89%E6%89%B1%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>HTMLã®DOMè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„</h2>\n\n<p>è¦ç´ ã«<code>#xxxxx</code>ã®ã‚ˆã†ã«<code>#</code>å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®DOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"err\">#</span><span class=\"na\">phone</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"é›»è©±ç•ªå·\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"c\">&lt;!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"nt\">&gt;</span>(click)=\"callPhone(phone.value)\"&gt;\n</pre></div>\n</div>\n\n<p>Componentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯<code>@ViewChild</code>ã‚’ä½¿ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"c1\">// ViewChildã®å¼•æ•°ã«åå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™</span>\n  <span class=\"p\">@</span><span class=\"nd\">ViewChild</span><span class=\"p\">(</span><span class=\"s1\">'phone'</span><span class=\"p\">)</span> <span class=\"nx\">phoneElement</span><span class=\"p\">:</span> <span class=\"nx\">phoneElement</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">showPhoneValue</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">phoneElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n    <span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/template-syntax#ref-vars\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\" class=\"fragment\"></span><a href=\"#routing%E6%99%82%E3%81%AE%E8%AA%8D%E8%A8%BC%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„</h2>\n\n<p>URLã”ã¨ã®èªè¨¼ã¯<code>CanActivate</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€<br>\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚<br>\nãã®ã‚ˆã†ãªæ™‚ã¯ã€<strong><code>CanActivate#canActivate</code>ã§</strong>booleanã®ä»£ã‚ã‚Šã«<strong>Observableã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹</strong>ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleAuthGuard</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">CanActivate</span><span class=\"p\">,</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">RouterStateSnapshot</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/router'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AuthenticationService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./authentication.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleAuthGuard</span> <span class=\"kr\">implements</span> <span class=\"nx\">CanActivate</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span>\n    <span class=\"kr\">private</span> <span class=\"nx\">auth</span><span class=\"p\">:</span> <span class=\"nx\">AuthenticationService</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\">// booleanã§ã¯ãªãObservable&lt;boolean&gt;ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™</span>\n  <span class=\"nx\">canActivate</span><span class=\"p\">(</span><span class=\"nx\">route</span><span class=\"p\">:</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">state</span><span class=\"p\">:</span> <span class=\"nx\">RouterStateSnapshot</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"kr\">boolean</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">auth</span><span class=\"p\">.</span><span class=\"nx\">checkState</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">true</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">err</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">of</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">))</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"formarrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#formarray%E3%81%AE%E5%80%A4%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„</h2>\n\n<p>FormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€<br>\nFormArrayã®å ´åˆpatchValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚<br>\nã“ã†ã„ã†å ´åˆã¯ã€<strong>é…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ€ãƒ¡ãªä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span> <span class=\"c1\">// FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">];</span> <span class=\"c1\">// FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">è‰¯ã„ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formã‚’ç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹</span>\n  <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">student</span> <span class=\"o\">-&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">controls</span><span class=\"p\">[</span><span class=\"s1\">'students'</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">FormControll</span><span class=\"p\">(</span><span class=\"nx\">student</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array\" rel=\"nofollow noopener\" target=\"_blank\">StackOvereFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"error-error-no-provider-for-templaterefã¨ã„ã†ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#error-error-no-provider-for-templateref%E3%81%A8%E3%81%84%E3%81%86%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>æœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚<br>\nå¤§æŠµã®å ´åˆã¯ã€<strong><code>*ngIf</code>ã‚„<code>*ngForm</code>ã®<code>*</code>ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› </strong>ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)<br>\n<code>*</code>ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯<code>ngIf</code>ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€<br>\nãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§<code>No provider for TemplateRef!</code>ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"textareaã«ãŠã„ã¦tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\" class=\"fragment\"></span><a href=\"#textarea%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6tab%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%A4%E3%83%B3%E3%83%87%E3%83%B3%E3%83%88%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„</h2>\n\n<p>æ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€Tabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€<br>\nkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;textarea</span> <span class=\"err\">#</span><span class=\"na\">sampletextarea</span>\n  <span class=\"err\">(</span><span class=\"na\">keydown</span><span class=\"err\">)=\"</span><span class=\"na\">indent</span><span class=\"err\">($</span><span class=\"na\">event</span><span class=\"err\">,</span> <span class=\"na\">sampletextarea</span><span class=\"err\">)\"</span> <span class=\"nt\">&gt;&lt;/textarea&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"nx\">indent</span><span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">,</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">===</span> <span class=\"mi\">9</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¬¡ã®è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹</span>\n      <span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n\n      <span class=\"c1\">// ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretStart</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionStart</span><span class=\"p\">;</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionEnd</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">TAB</span> <span class=\"o\">=</span> <span class=\"s1\">'Â¥t'</span><span class=\"p\">;</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span> <span class=\"o\">=</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">caretStart</span><span class=\"p\">)</span>\n                     <span class=\"o\">+</span> <span class=\"nx\">TAB</span> <span class=\"o\">+</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">focus</span><span class=\"p\">();</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">setSelectionRange</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\" class=\"fragment\"></span><a href=\"#markdown%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%9F%E3%81%84%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„</h2>\n\n<p><a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã¨<a href=\"https://github.com/isagalaev/highlight.js\" rel=\"nofollow noopener\" target=\"_blank\">highlight.js</a>ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚<br>\n<a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown-parse.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">hljs</span> <span class=\"k\">from</span> <span class=\"s1\">'highlight.js'</span><span class=\"p\">;</span>\n\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">marked</span><span class=\"p\">.</span><span class=\"nx\">setOptions</span><span class=\"p\">({</span>\n      <span class=\"na\">highlight</span><span class=\"p\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">hljs</span><span class=\"p\">.</span><span class=\"nx\">highlightAuto</span><span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"na\">rawText</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">marked</span><span class=\"p\">(</span><span class=\"nx\">rawText</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./markdown-parse.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span> <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'toMarkdown'</span> <span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParsePipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">markdownParseService</span><span class=\"p\">:</span> <span class=\"nx\">MarkdownParseService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">markdownParseService</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p>HTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚<code>{{}}</code>ã ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§<code>innerHTML</code>å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"err\">[</span><span class=\"na\">innerHTML</span><span class=\"err\">]=\"</span><span class=\"na\">md</span> <span class=\"err\">|</span> <span class=\"na\">toMarkdown</span><span class=\"err\">\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b\" id=\"reference-9001a931765f8f52acaf\">Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹</a></li>\n<li>Github <a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">chjj/marked</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´è¿½åŠ å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8C%E5%A4%89%E6%9B%B4%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AB%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E7%B5%90%E6%9E%9C%E3%82%92%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„</h2>\n\n<p>ãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦<strong>pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã¾ã—ã‚‡ã†ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"err\">#</span><span class=\"na\">searchUserName</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let user of (userList | searchUserFilter: searchUserName.value);\"</span> <span class=\"nt\">&gt;</span>{{user.name}}<span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">search-user.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">User</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./user'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span>\n  <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'searchUserFilter'</span><span class=\"p\">,</span>\n  <span class=\"na\">pure</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SearchFilterPipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">items</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">User</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"nx\">searchUserName</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span><span class=\"p\">[]</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">searchUserName</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">searchUserName</span> <span class=\"o\">=</span> <span class=\"nx\">searchUserName</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span> <span class=\"nx\">item</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">userId</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">().</span><span class=\"nx\">includes</span><span class=\"p\">(</span><span class=\"nx\">searchUserName</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/pipes#pure-and-impure-pipes\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n</ul>\n\n<h2>\n<span id=\"ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’å…±é€šåŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«<strong>ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">app-settings.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppSettings</span> <span class=\"p\">{</span>\n   <span class=\"kr\">public</span> <span class=\"kr\">static</span> <span class=\"nx\">API_ENDPOINT</span><span class=\"o\">=</span><span class=\"s1\">'http://127.0.0.1:6666/api/'</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleService</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">Injectable</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'angular2/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">AppSettings</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app-settings'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleService</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sampleMethod</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">AppSettings</span><span class=\"p\">.</span><span class=\"nx\">API_ENDPOINT</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%94%BB%E5%83%8F%E3%81%8C%E5%A4%9A%E3%81%84%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A1%A8%E7%A4%BA%E3%82%92%E6%97%A9%E3%81%8F%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„</h2>\n\n<p><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a>ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚<br>\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre> <span class=\"nt\">&lt;img</span>\n  <span class=\"err\">[</span><span class=\"na\">defaultImage</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">defaultimage</span><span class=\"err\">\"</span> \n  <span class=\"err\">[</span><span class=\"na\">lazyLoad</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">sampleimage</span><span class=\"err\">\"</span>\n  <span class=\"err\">[</span><span class=\"na\">offset</span><span class=\"err\">]=\"</span><span class=\"na\">30</span><span class=\"err\">\"</span>\n <span class=\"nt\">&gt;</span>\n</pre></div>\n</div>\n\n<p><em>defaultImage</em><br>\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹<br>\n<em>lazyLoad</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL<br>\n<em>offset</em><br>\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹<br>\n<em>errorImage</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a></li>\n</ul>\n\n<h2>\n<span id=\"angular-cliã®ng-serveã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\" class=\"fragment\"></span><a href=\"#angular-cli%E3%81%AEng-serve%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7dist%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%B8%80%E6%97%A6%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%8F%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angular Cliã®<code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„</h2>\n\n<p><code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã¯<code>dist</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚<br>\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€<strong>delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false</strong>ã«æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span></div>\n<div class=\"highlight\"><pre><span class=\"s2\">\"script\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"cp ./resource/* dist &amp;&amp; ng serve --delete-output-path=false\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/issues/4366\" rel=\"nofollow noopener\" target=\"_blank\">angular-cli github issue #4366</a></li>\n</ul>\n\n<h2>\n<span id=\"aotã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\" class=\"fragment\"></span><a href=\"#aot%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%A7%E3%81%AA%E3%82%93%E3%81%A8%E3%81%8B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„</h2>\n\n<p>ãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)<br>\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚<br>\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"2-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%A7%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š</h1>\n\n<h2>\n<span id=\"ciç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\" class=\"fragment\"></span><a href=\"#ci%E7%92%B0%E5%A2%83%E3%81%AA%E3%81%A9%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%89%E3%81%9A%E3%81%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\"><i class=\"fa fa-link\"></i></a>CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†</h2>\n\n<p>CirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯<strong>watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ng test --wtach=false\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong><br>\n<a href=\"https://github.com/angular/angular-cli/issues/362\" rel=\"nofollow noopener\" target=\"_blank\">Github isssue</a></p>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆæ™‚ã«error-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_intervalã‚„failed-to-execute-send-on-xmlhttprequestã®ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E6%99%82%E3%81%ABerror-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_interval%E3%82%84failed-to-execute-send-on-xmlhttprequest%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«<strong><code>-sm=false</code>ã‚’è¿½åŠ </strong>ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%94%A8%E3%81%AB%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E3%83%A2%E3%83%83%E3%82%AF%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„</h2>\n\n<p>æ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§<br>\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚<br>\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\"><div class=\"highlight\"><pre><span class=\"c1\">// â€»importæ–‡ã¯çœç•¥</span>\n\n<span class=\"c1\">// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©</span>\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-child'</span><span class=\"p\">,</span> <span class=\"c1\">// å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©</span>\n  <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"s1\">'&lt;p&gt;Mock Child Component&lt;/p&gt;'</span>\n<span class=\"p\">})</span>\n<span class=\"kd\">class</span> <span class=\"nx\">MockClildComponent</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">Input</span><span class=\"p\">()</span> <span class=\"nx\">childInput</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n  <span class=\"p\">@</span><span class=\"nd\">Output</span><span class=\"p\">()</span> <span class=\"nx\">childOutput</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">EventEmitter</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ...</span>\n\n<span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n    <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"c1\">// ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ </span>\n      <span class=\"nx\">MockProductSettingsComponent</span><span class=\"p\">,</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">});</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«angular-materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABangular-materila%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€<br>\n<code>karma.config.js</code>ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n      <span class=\"c1\">// Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã</span>\n      <span class=\"p\">{</span><span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span><span class=\"p\">,</span> <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">},</span>\n<span class=\"p\">],</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/material2/issues/4056\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«stylesscssã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABstylesscss%E3%82%A2%E3%83%97%E3%83%AA%E5%85%B1%E9%80%9A%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ<br>\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«<code>karma-scss-preprocessor</code>ã¨<code>node-sass</code>ã‚’è¿½åŠ ã—ã¦<code>karma.conf.js</code>ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n<span class=\"err\">ã€€</span> <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ </span>\n  <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'karma-scss-preprocessor'</span><span class=\"p\">)</span>\n<span class=\"p\">],</span>\n\n\n<span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"c1\">// filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ </span>\n  <span class=\"p\">{</span> <span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">served</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span>\n<span class=\"p\">],</span>\n\n<span class=\"c1\">// preprocessorsã‚’è¿½åŠ </span>\n<span class=\"nx\">preprocessors</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'./src/test.ts'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'@angular/cli'</span><span class=\"p\">],</span>\n <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'scss'</span><span class=\"p\">]</span>\n<span class=\"p\">},</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n<li><a href=\"https://github.com/karma-runner/karma/issues/2700\" rel=\"nofollow noopener\" target=\"_blank\">Github karma/issue/2700</a></li>\n</ul>\n\n<h1>\n<span id=\"3-ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´-expressmongodbå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#3-%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89%E5%81%B4-expressmongodb%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š</h1>\n\n<p>â€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯<a href=\"https://github.com/Automattic/mongoose\" rel=\"nofollow noopener\" target=\"_blank\">mongoose</a>ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\" class=\"fragment\"></span><a href=\"#mongoose%E3%81%AEvirtual%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</h2>\n\n<p>ä¾‹ãˆã°<code>è¨˜äº‹</code>,<code>ã‚³ãƒ¡ãƒ³ãƒˆ</code>,<code>ãƒªãƒ—ãƒ©ã‚¤</code>ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€<br>\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  =&gt; è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  =&gt; ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" alt=\"dbæ§‹é€ _è‰¯.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png\"></a></p>\n\n<p>ãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€<strong>mongooseã®virtualã‚’ä½¿ã„ã¾ã™</strong>ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€<br>\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" alt=\"mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png\"></a></p>\n\n<p>å…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">article.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ArticleSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">content</span><span class=\"p\">:</span> <span class=\"nb\">String</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n\n<span class=\"c1\">// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">ArticleSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'articleId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Article</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Article'</span><span class=\"p\">,</span> <span class=\"nx\">ArticleSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Article</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">comment.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">CommentSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">articleId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Article'</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">comment</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n<span class=\"c1\">// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">CommentSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Reply'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'commentId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Comment</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Comment'</span><span class=\"p\">,</span> <span class=\"nx\">CommentSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Comment</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">reply.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ReplySchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">commentId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">reply</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Reply</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Reply'</span><span class=\"p\">,</span> <span class=\"nx\">ReplySchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Reply</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¤œç´¢å‡¦ç†</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">Article</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">()</span>\n<span class=\"p\">.</span><span class=\"nx\">populate</span><span class=\"p\">({</span>\n  <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"c1\">// Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹</span>\n  <span class=\"na\">populate</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"c1\">// Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹</span>\n  <span class=\"p\">}],</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>Expressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚<br>\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n<span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">accessLogHandler</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n  <span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">([</span>\n    <span class=\"s1\">'start'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n    <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'--ms--'</span>\n  <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n\n  <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'finish'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€</span> <span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°</span>\n    <span class=\"nx\">accessLogger</span><span class=\"p\">.</span><span class=\"nx\">info</span><span class=\"p\">([</span>\n      <span class=\"s1\">'end'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"s1\">'--'</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"nx\">start</span><span class=\"p\">.</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"s1\">'ms--'</span>\n    <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">next</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<p>å®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"py3\"><div class=\"highlight\"><pre><span class=\"n\">start</span><span class=\"p\">,</span>  <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">api</span><span class=\"o\">/</span><span class=\"n\">authenticate</span><span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>   <span class=\"o\">-</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span> <span class=\"o\">--</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n<span class=\"n\">end</span><span class=\"p\">,</span>    <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>                  <span class=\"mi\">403</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span>  <span class=\"o\">--</span><span class=\"mi\">47</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n</pre></div></div>\n\n<h2>\n<span id=\"ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%85%A8%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®<code>util.inspect()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">util</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'util'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">myObject</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"s2\">\"a\"</span><span class=\"p\">:</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span>\n   <span class=\"s2\">\"b\"</span><span class=\"p\">:{</span>\n      <span class=\"s2\">\"c\"</span><span class=\"p\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">,</span>\n      <span class=\"s2\">\"d\"</span><span class=\"p\">:{</span>\n         <span class=\"s2\">\"e\"</span><span class=\"p\">:</span><span class=\"s2\">\"e\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"f\"</span><span class=\"p\">:{</span>\n            <span class=\"s2\">\"g\"</span><span class=\"p\">:</span><span class=\"s2\">\"g\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"h\"</span><span class=\"p\">:{</span>\n               <span class=\"s2\">\"i\"</span><span class=\"p\">:</span><span class=\"s2\">\"i\"</span>\n            <span class=\"p\">}</span>\n         <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">};</span> \n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">util</span><span class=\"p\">.</span><span class=\"nx\">inspect</span><span class=\"p\">(</span><span class=\"nx\">myObject</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"kc\">null</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%A7%E3%81%8D%E3%82%8B%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯<br>\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚<br>\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å®šæ•°å®šç¾©</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_PORT</span> <span class=\"o\">||</span> <span class=\"s1\">'3000'</span><span class=\"p\">;</span><span class=\"err\">ã€€</span><span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_HOST</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_HOST</span> <span class=\"o\">||</span> <span class=\"s1\">'localhost'</span><span class=\"p\">;</span> <span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"dbåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#db%E5%88%9D%E5%9B%9E%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„</h2>\n\n<p>mongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br>\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">createConnection</span> <span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">createConnection</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/failed to connect to server .* on first connect/</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Retrying first connect...\"</span><span class=\"p\">);</span>\n                <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">openUri</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">).</span><span class=\"k\">catch</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n            <span class=\"c1\">// 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹</span>\n            <span class=\"p\">},</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'open'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Connection to db established.\"</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">db</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Automattic/mongoose/issues/5169\" rel=\"nofollow noopener\" target=\"_blank\">Github mongooseã®issue5169</a></li>\n</ul>\n","body":"[FUJITSU Advent Calendar 2017](https://qiita.com/advent-calendar/2017/fujitsu) 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\nãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€\nã“ã“ï¼”ãƒ¶æœˆã»ã©**MEAN**ã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB+**E**xpress+**A**ngular+**N**ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚\n\n## ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\næœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)\n\n* [Github](https://github.com/Takumon/mean-blog)\n* [Dockerhub](https://hub.docker.com/r/takumon/mean-blog_auto/)\n* [ãƒ‡ãƒ¢ç’°å¢ƒ](https://material-blog-demo.herokuapp.com/) (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)\n![appdemo_detail.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png](https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png)\n\n# 1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š\n## Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\n1ç³»ã¯`AngularJS`ã€2ç³»ä»¥é™ã¯`Angular`ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯`Angualr2`ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚\u001e`--AngularJS`ã‚’ã¤ã‘ãŸã‚Š\u001dã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚\n\n## HTMLã®DOM\bè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„\nè¦ç´ ã«`#xxxxx`\bã®ã‚ˆã†ã«`#`å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®\bDOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™\n\n```html:HTML\n<input #phone placeholder=\"é›»è©±ç•ªå·\"/>\n<!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ -->\n<button >(click)=\"callPhone\b(phone.value)\">\n```\n\n\bComponentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯`@ViewChild`ã‚’ä½¿ã„ã¾ã™\n\n```typescript:Component\n  // \bViewChildã®å¼•æ•°ã«\b\båå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™\n  @ViewChild('phone') phoneElement: phoneElement;\n\n  showPhoneValue() {\n    console.log(this.phoneElement.value);\n    )\n  }\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/template-syntax#ref-vars)\n* [StackOverFlow](https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template)\n\n\n\n## Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\nURLã”ã¨ã®èªè¨¼ã¯`CanActivate`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªæ™‚ã¯ã€**`CanActivate#canActivate`ã§**booleanã®ä»£ã‚ã‚Šã«**Observable<boolean>ã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹**ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\n\n\n```typescript:SampleAuthGuard\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SampleAuthGuard implements CanActivate {\n\n  constructor(\n    private auth: AuthenticationService,\n  ) { }\n\n  // booleanã§ã¯ãªãObservable<boolean>ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.checkState()\n      .map(res => true)\n      .catch(err => Observable.of(false))\n  }\n}\n\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function)\n\n## FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\nFormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€\nFormArrayã®å ´åˆpatch\bValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨\bã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚\n\bã“ã†ã„ã†å ´åˆã¯ã€**\b\bé…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push**ã—ã¾ã™ã€‚\n\n```typescript:ãƒ€ãƒ¡ãªä¾‹\nngOnInit() {\n  // Formç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName' // FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½\n    students: ['taro', 'jiro', 'saburo']; // FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½\n  });\n}\n```\n\n```typescript:\bè‰¯ã„ä¾‹\nngOnInit() {\n  // Formã‚’ç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName'\n  });\n\n  // ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹\n  ['taro', 'jiro', 'saburo'].forEach(student -> {\n    this.form.controls['students'].push(new FormControll(student));\n  });\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOvereFlow](https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array)\n\n## ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼\næœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚\nå¤§æŠµã®å ´åˆã¯ã€**`*ngIf`ã‚„`*ngForm`ã®`*`ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› **ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)\n`*`ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯`ngIf`ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€\n\bãã‚“ãª\b\bãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§`No provider for TemplateRef!`ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref)\n\n\n## textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\næ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€\u001dTabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€\n\bkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«\bãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n```html:HTML\n<textarea #sampletextarea\n  (keydown)=\"indent($event, sampletextarea)\" ></textarea>\n```\n\n```typescript:Component\n  indent($event, sampleTextAreaElement) {\n    // Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚\n    if ($event.keyCode === 9) {\n      \b// æ¬¡ã®è¦ç´ ã«\bãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹\n      $event.preventDefault();\n\n      // ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—\n      \bconst caretStart = textareaElement.selectionStart;\n      const caretEnd = textareaElement.selectionEnd;\n\n      // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’\bå–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥\n      const TAB = 'Â¥t';\n      sampleTextAreaElement.value = sampleTextAreaElement.value.substring(0, caretStart)\n                     + TAB + sampleTextAreaElement.value.substring(caretStart, value.length);\n\n      // ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™\n      sampleTextAreaElement.focus();\n      sampleTextAreaElement.setSelectionRange(caretStart + TAB.length, caretEnd + TAB.length);\n\n      return;\n    }\n  }\n\n```\n\n\n\n## \bMarkdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’\bè¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\n[marked](https://github.com/chjj/marked)ã¨[highlight.js](https://github.com/isagalaev/highlight.js)ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚\n[marked](https://github.com/chjj/marked)ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```typescript:markdown-parse.service.ts\nimport { Injectable } from '@angular/core';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\n\n@Injectable()\nexport class MarkdownParseService {\n\n  constructor() {\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n  }\n\n  parse(rawText: string) {\n    return marked(rawText);\n  }\n}\n```\n\n\n```typescript:markdown.pipe.ts\nimport marked from 'marked';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MarkdownParseService } from './markdown-parse.service';\n\n@Pipe({ name: 'toMarkdown' })\nexport class MarkdownParsePipe implements PipeTransform {\n  constructor(markdownParseService: MarkdownParseService) {}\n\n  transform(value: string): any {\n    return this.markdownParseService.parse(value);\n  }\n}\n```\n\nHTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚`{{}}`ã ã¨\bã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§\b`innerHTML`å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```html\n<div [innerHTML]=\"md | toMarkdown\"></div>\n```\n\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹](https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b)\n* Github [chjj/marked](https://github.com/chjj/marked)\n\n\n\n\n## çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒ\bå¤‰æ›´ã€è¿½åŠ \bã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\nãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦**pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã¾ã—ã‚‡ã†ã€‚\n\n```html:HTML\n<input type=\"text\" #searchUserName>\n<ul>\n  <li *ngFor=\"let user of (userList | searchUserFilter: searchUserName.value);\" >{{user.name}}</li>\n<ul>\n```\n\n```typescript:search-user.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { User } from './user';\n\n@Pipe({\n  name: 'searchUserFilter',\n  pure: false // pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹\n})\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Array<User>, searchUserName: string): any[] {\n    if (!searchUserName) return items;\n\n    searchUserName = searchUserName.toLowerCase();\n    return items.filter( item => item.user.userId.toLowerCase().includes(searchUserName));\n  }\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/pipes#pure-and-impure-pipes)\n\n\n\n\n## ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’\bå…±é€š\båŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«**ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©**ã—ã¾ã™ã€‚\n\n```typescript:app-settings.ts\nexport class AppSettings {\n   public static API_ENDPOINT='http://127.0.0.1:6666/api/';\n}\n```\n\n```typescript:SampleService\nimport {Injectable} from 'angular2/core';\nimport {AppSettings} from './app-settings';\n\n@Injectable()\nexport class SampleService {\n    \bsampleMethod() {\n      console.log(AppSettings.API_ENDPOINT);\n    }\n}\n```\n\n**å‚è€ƒ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2)\n\n\n## ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\n[ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```html:HTML\n <img\n  [defaultImage]=\"https://images.sample.com/photo/defaultimage\" \n  [lazyLoad]=\"https://images.sample.com/photo/sampleimage\"\n  [offset]=\"30\"\n >\n```\n\n*defaultImage*\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹\n*lazyLoad*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL\n*offset*\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹\n*errorImage*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)\n\n\n## Angular Cliã®`ng serve`ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\n`ng serve`ã‚³ãƒãƒ³ãƒ‰ã¯`dist`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€**delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false**ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```json:package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\n\"script\": {\n  \"build\": \"cp ./resource/* dist && ng serve --delete-output-path=false\"\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [angular-cli github issue #4366](https://github.com/angular/angular-cli/issues/4366)\n\n\n## AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\nãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«[Angular Material](https://material.angular.io/)ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚\n\n\n# 2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\n## CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\nCirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ`ng test`ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯**watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã—ã¾ã™ã€‚\n\n```\nng test --wtach=false\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n[Github isssue](https://github.com/angular/angular-cli/issues/362)\n\n## ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«`ng test`ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«**`-sm=false`ã‚’è¿½åŠ **ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest)\n\n\n## ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\næ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚\n\n\n```typescript\n// â€»importæ–‡ã¯çœç•¥\n\n// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n@Component({\n  selector: 'app-child', // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©\n  template: '<p>Mock Child Component</p>'\n})\nclass MockClildComponent {\n  @Input() childInput: string;\n  @Output() childOutput = new EventEmitter();\n}\n\n// ...\n\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    declarations: [\n      // ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ \n      MockProductSettingsComponent,\n      // ...\n    ],\n    // ...\n  });\n  // ...\n});\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§[Angular Material](https://material.angular.io/)ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€\n`karma.config.js`ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚\n\n```javascript:karma.conf.js\nfiles: [\n      ãƒ»ãƒ»ãƒ»\n      // Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã\n      {pattern: './node_modules/@angular/material/prebuilt-themes/indigo-pink.css', included: true, watched: false},\n],\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackoverflow](https://github.com/angular/material2/issues/4056)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«`karma-scss-preprocessor`ã¨`node-sass`ã‚’è¿½åŠ ã—ã¦`karma.conf.js`ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```javascript:karma.conf.js\nplugins: [\n  ãƒ»ãƒ»ãƒ»\nã€€ // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ \n  require('karma-scss-preprocessor')\n],\n\n\nfiles: [\n  ãƒ»ãƒ»ãƒ»\n  // filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n  { pattern: './src/styles.scss', watched: false,  included: true, served: true }\n],\n\n// preprocessorsã‚’è¿½åŠ \npreprocessors: {\n './src/test.ts': ['@angular/cli'],\n './src/styles.scss': ['scss']\n},\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**:\n\n* [stackOverFlow](https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689)\n* [Github karma/issue/2700](https://github.com/karma-runner/karma/issues/2700)\n\n\n\n\n# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š\nâ€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯[mongoose](https://github.com/Automattic/mongoose)ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚\n\n## mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\nä¾‹ãˆã°`è¨˜äº‹`,`ã‚³ãƒ¡ãƒ³ãƒˆ`,`ãƒªãƒ—ãƒ©ã‚¤`ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  => è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  => ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚\n![dbæ§‹é€ _è‰¯.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png)\n\nãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€**mongooseã®virtualã‚’ä½¿ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png)\n\nå…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n\n```typescript:article.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ArticleSchema = new mongoose.Schema({\n  content: String\n}, { toJSON: { virtuals: true } });\n\n\n// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nArticleSchema.virtual('comments', {\n  ref: 'Comment',\n  localField: '_id',\n  foreignField: 'articleId',\n  justOne: false,\n});\n\nconst Article = mongoose.model('Article', ArticleSchema);\n\nexport { Article };\n```\n\n\n```typescript:comment.model.ts\nimport * as mongoose from 'mongoose';\n\nconst CommentSchema = new mongoose.Schema({\n  articleId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  comment: String;\n}, { toJSON: { virtuals: true } });\n\n// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nCommentSchema.virtual('replies', {\n  ref: 'Reply',\n  localField: '_id',\n  foreignField: 'commentId',\n  justOne: false,\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nexport { Comment };\n```\n\n```typescript:reply.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ReplySchema = new mongoose.Schema({\n  commentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Comment'\n  },\n  reply: String;\n});\n\nconst Reply = mongoose.model('Reply', ReplySchema);\n\nexport { Reply };\n```\n\n```typescript:æ¤œç´¢å‡¦ç†\nArticle.find()\n.populate({\n  path: 'comments', // Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹\n  populate: [{\n    path: 'replies', // Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹\n  }],\n});\n```\n\n\n## ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\nExpressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n\n\n```javascript:ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™\nconst express = express();\nexpress.use(function accessLogHandler (req, res, next) {\n  const start = new Date();\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€\n  console.log([\n    'start',\n    req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n    req.method,\n    req.url,\n    '-',\n    req.headers.referer || '-',\n    req.headers['user-agent'] || '-',\n    '--ms--'\n  ].join(',\\t'));\n\n  res.once('finish', function() {\nã€€ã€€ // ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°\n    accessLogger.info([\n      'end',\n      req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n      req.method,\n      req.url,\n      res.statusCode,\n      req.headers.referer || '-',\n      req.headers['user-agent'] || '-',\n      '--' + (new Date().getMilliseconds() - start.getMilliseconds()) + 'ms--'\n    ].join(',\\t'));\n  });\n\n  next();\n});\n```\n\nå®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```py3\nstart,  ::ffff:127.0.0.1, GET, /api/authenticate/check-state,   -, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36, --ms--\nend,    ::ffff:127.0.0.1, GET, /check-state,                  403, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36,  --47ms--\n```\n\n\n\n## ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®`util.inspect()`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n\n```javascript\nconst util = require('util');\nconst myObject = {\n   \"a\":\"a\",\n   \"b\":{\n      \"c\":\"c\",\n      \"d\":{\n         \"e\":\"e\",\n         \"f\":{\n            \"g\":\"g\",\n            \"h\":{\n               \"i\":\"i\"\n            }\n         }\n      }\n   }\n}; \n\nconsole.log(util.inspect(myObject, false, null));\n```\n\nã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™\n\n```\n{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object)\n\n\n## ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```typescript:å®šæ•°å®šç¾©\nexport const SERVER_PORT: string = process.env.SERVER_PORT || '3000';ã€€// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹\nexport const SERVER_HOST: string = process.env.SERVER_HOST || 'localhost'; // ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹\n```\n\n\n## DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\nmongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n```javascript\nfunction createConnection (dbURL, options) {\n    var db = mongoose.createConnection(dbURL, options);\n\n    db.on('error', function (err) {\n        if (err.message && err.message.match(/failed to connect to server .* on first connect/)) {\n            console.log(new Date(), String(err));\n\n            setTimeout(function () {\n                console.log(\"Retrying first connect...\");\n                db.openUri(dbURL).catch(() => {});\n            // 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹\n            }, 20 * 1000);\n        } else {\n            console.error(new Date(), String(err));\n        }\n    });\n\n    db.once('open', function () {\n        console.log(\"Connection to db established.\");\n    });\n\n    return db;\n}\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Github mongooseã®issue5169](https://github.com/Automattic/mongoose/issues/5169)\n\n","comments_count":0,"created_at":"2017-12-12T03:19:11+09:00","likes_count":46,"reactions_count":0},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Angular"},{"weight":50,"keyword":"Qiita"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/7780e313-8bda-5534-99aa-37bf47e9deb3/","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","date":"2017-12-31T23:49:04+09:00","excerpt":"== 2018/4/7 è¿½è¨˜ ==========================================æœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€ãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚gitb...","tags":["JavaScript","chrome-extension","Docker","GitBucket","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"7780e313-8bda-5534-99aa-37bf47e9deb3","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","rendered_body":"<p>== 2018/4/7 è¿½è¨˜ ==========================================<br>\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€<br>\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚</p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-plugin</a></p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦<code>&lt;GITBUCKET_HOME&gt;/plugins/</code>ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚<br>\n== =======================================================</p>\n\n<p>Git Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€<br>\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>\n\n<p>Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>\n\n<ul>\n<li>\n<em>Chromeæ‹¡å¼µ</em>\n\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a></li>\n</ul>\n</li>\n<li>\n<em>Dockerã‚¤ãƒ¡ãƒ¼ã‚¸</em>\n\n<ul>\n<li><a href=\"https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-server</a></li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å°å…¥ã™ã‚‹ã¨\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B%E3%81%A8\"><i class=\"fa fa-link\"></i></a>å°å…¥ã™ã‚‹ã¨</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€<br>\n<a href=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png\"></a></p>\n\n<p>ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" alt=\"å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png\"></a></p>\n\n<p>ã¾ãŸissueä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-dockerå´\" class=\"fragment\"></span><a href=\"#1-docker%E5%81%B4\"><i class=\"fa fa-link\"></i></a>1. Dockerå´</h3>\n\n<p>GitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡ä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚</p>\n\n<ul>\n<li>docker-compose.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"docker\">\n<div class=\"code-lang\"><span class=\"bold\">docker-compose.yml</span></div>\n<div class=\"highlight\"><pre>version: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n</pre></div>\n</div>\n\n<ul>\n<li>docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span>docker-compose up <span class=\"nt\">-d</span>\n</pre></div></div>\n\n<h3>\n<span id=\"2-gitbucketå´\" class=\"fragment\"></span><a href=\"#2-gitbucket%E5%81%B4\"><i class=\"fa fa-link\"></i></a>2. GitBucketå´</h3>\n\n<p>Chromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li><p>GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ &gt; Account Setting ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png\"></a><br>\n<br></p></li>\n<li><p>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ<code>Generate token</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png\"></a><br>\n<br></p></li>\n<li><p>ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰<br>\n<a href=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png\"></a></p></li>\n</ul>\n\n<h3>\n<span id=\"3-chrome-extensionå´\" class=\"fragment\"></span><a href=\"#3-chrome-extension%E5%81%B4\"><i class=\"fa fa-link\"></i></a>3. Chrome Extensionå´</h3>\n\n<ul>\n<li><p>Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§<a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n<a href=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png\"></a><br>\n<br></p></li>\n<li>\n<p>å³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—<code>Save</code>ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯</p>\n\n<ul>\n<li>\n<strong>gitbucket-issue-estimation-server URL</strong>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š <code>http://127.0.0.1:3000</code> </li>\n</ul>\n</li>\n<li>\n<strong>GitBucket Token</strong>\n\n<ul>\n<li>GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n<a href=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png\"></a>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å…·ä½“çš„ãªä»•çµ„ã¿\" class=\"fragment\"></span><a href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BB%95%E7%B5%84%E3%81%BF\"><i class=\"fa fa-link\"></i></a>å…·ä½“çš„ãªä»•çµ„ã¿</h2>\n\n<p>Dockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚<br>\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<p><strong>(1)</strong> ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥<br>\n<strong>(2)</strong> ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—<br>\n<strong>(3)</strong> ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" alt=\"å…¨ä½“åƒ.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png\"></a></p>\n\n<h2>\n<span id=\"chromeæ‹¡å¼µä½œæˆæ™‚ã«gitbucket-apiã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#chrome%E6%8B%A1%E5%BC%B5%E4%BD%9C%E6%88%90%E6%99%82%E3%81%ABgitbucket-api%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%A7%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨</h2>\n\n<p><a href=\"https://github.com/gitbucket/gitbucket/wiki/API-WebHook\" rel=\"nofollow noopener\" target=\"_blank\">GitBucketã®API</a>ã¯<a href=\"https://developer.github.com/v3/\" rel=\"nofollow noopener\" target=\"_blank\">Githubã®REST API v3</a>ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚</p>\n\n<h3>\n<span id=\"stateallãŒåŠ¹ã‹ãªã„\" class=\"fragment\"></span><a href=\"#stateall%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>state=all</code>ãŒåŠ¹ã‹ãªã„</h3>\n\n<p>æœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯<code>state=all</code>ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚<code>state=open</code>ã¨<code>state=closed</code>ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"per_pageãŒåŠ¹ã‹ãªã„1åº¦ã«25ä»¶ãŒæœ€å¤§\" class=\"fragment\"></span><a href=\"#per_page%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%841%E5%BA%A6%E3%81%AB25%E4%BB%B6%E3%81%8C%E6%9C%80%E5%A4%A7\"><i class=\"fa fa-link\"></i></a><code>per_page</code>ãŒåŠ¹ã‹ãªã„ï¼ˆ1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰</h4>\n\n<p>GitBucketã®APIã§ã¯<code>per_page</code>ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br>\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"closed_atã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—ã§ããªã„\" class=\"fragment\"></span><a href=\"#closed_at%E3%82%AF%E3%83%AD%E3%83%BC%E3%82%BA%E6%97%A5%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>closed_at</code>ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„</h4>\n\n<p>Chromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"-å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\" class=\"fragment\"></span><a href=\"#-%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"><i class=\"fa fa-link\"></i></a>â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ</h4>\n\n<ul>\n<li><a href=\"https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\" id=\"reference-1c197ca99a2ee070efac\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰</a></li>\n<li><a href=\"https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\" id=\"reference-7d56ea50a58cb24addc5\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰</a></li>\n</ul>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>æœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚</p>\n","body":"== 2018/4/7 è¿½è¨˜ ==========================================\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚\n\n[gitbucket-issue-estimation-plugin](https://github.com/Takumon/gitbucket-issue-estimation-plugin)\n\n[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1)ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦`<GITBUCKET_HOME>/plugins/`ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚\n== =======================================================\n\n\nGit Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n\n## ã¯ã˜ã‚ã«\n[GitBucket](https://gitbucket.github.io/)ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯\bChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\nChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n\n* *Chromeæ‹¡å¼µ*\n    * [gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)\n* *Dockerã‚¤ãƒ¡ãƒ¼ã‚¸*\n    * [gitbucket-issue-estimation-server](https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/)\n\n## å°å…¥ã™ã‚‹ã¨\n[GitBucket](https://gitbucket.github.io/)ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png)\n\n\bãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png)\n\nã¾ãŸ\bissue\bä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png)\n\n\n\n\n## å°å…¥æ‰‹é †\n### 1. Dockerå´\nGitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡\bä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚\n\n* \u001edocker-compose\b.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰\n\n```docker:docker-compose.yml\nversion: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n```\n\n* docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ\n\n```bash:\n$ docker-compose up -d\n```\n\n\n### 2. GitBucketå´\nChromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®\bãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\n\n* GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ > Account Setting\b ã‚’é¸æŠ\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png)\n<br>\n\n* å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ`Generate token`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png)\n<br>\n\n* ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png)\n\n\n### 3. Chrome Extensionå´\n* Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§[gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png)\n<br>\n\n* \bå³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—`Save`ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n    * **gitbucket-issue-estimation-server URL**\n        * ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š `http://127.0.0.1:3000` \n    * **GitBucket Token**\n        * GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png)\n<br>\n\n## å…·ä½“çš„ãªä»•çµ„ã¿\nDockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\n\n**(1)** ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥\n**(2)** ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—\n**(3)** ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤\n\n![å…¨ä½“åƒ.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png)\n\n\n\n## Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\n[GitBucketã®API](https://github.com/gitbucket/gitbucket/wiki/API-WebHook)ã¯[Githubã®REST API v3](https://developer.github.com/v3/)ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚\n\n### `state=all`ãŒåŠ¹ã‹ãªã„\næœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯`state=all`ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚`state=open`ã¨`state=closed`ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `per_page`ãŒåŠ¹ã‹ãªã„ï¼ˆ\b1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰\nGitBucketã®APIã§ã¯`per_page`ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `closed_at`ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„\nChromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚\n\n#### â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰](https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84)\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰](https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0)\n\n\n## ã¾ã¨ã‚\næœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚\n\n","comments_count":0,"created_at":"2017-12-31T23:49:04+09:00","likes_count":6,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/b4c7d1b9-428f-569a-af40-527d89794a77/","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","date":"2017-12-20T02:36:27+09:00","excerpt":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!å¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚ã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€è‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?...","tags":["JavaScript","GitHub","TypeScript","chrome-extension","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"b4c7d1b9-428f-569a-af40-527d89794a77","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","rendered_body":"<p>Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!<br>\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚<br>\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€<br>\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„<br>\n<a href=\"https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension</a>ã‚’ä½œã‚Šã¾ã—ãŸã€‚<br>\n<strong>ãã®æ™‚ã«<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚</strong></p>\n\n<h2>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E9%9B%9B%E5%BD%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹</h2>\n\n<p>yomanã¨<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚</p>\n\n<ul>\n<li>\n<code>yoman</code>ã¨<code>generator-chrome-extension-kickstart-typescript</code>ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g yo generator-chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦<code>yo</code>ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n\n<ul>\n<li>\n<strong>What would you like to call this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å</li>\n</ul>\n</li>\n<li>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>How would you like to describe this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use UI Action?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€<code>No</code>,<code>Browser</code>,<code>Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>No</code> ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ</li>\n<li>\n<code>Browser</code> ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n<li>\n<code>Page</code> ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to override a chrome page?</strong>\n\n<ul>\n<li>Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€<code>No</code>,<code>Bookmarks Page</code>,<code>History Page</code>,<code>Newtab Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like more UI Features?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>Options Page</code> ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ</li>\n<li>\n<code>Devtools Page</code> ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ</li>\n<li>\n<code>Content Scripts</code> ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ</li>\n<li>\n<code>Omnibox</code> ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use permissions?</strong>\n\n<ul>\n<li>ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong>\n\n<ul>\n<li>Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>â€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ<br>\n<strong>What would you like to call this extension?</strong> =&gt; github-contributions-paint<br>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong> =&gt;  github-paint<br>\n<strong>How would you like to describe this extension?</strong> =&gt;  You can paint github contributions!<br>\n<strong>Would you like to use UI Action?</strong> =&gt; Browser<br>\n<strong>Would you like to override a chrome page?</strong> =&gt;  No<br>\n<strong>Would you like more UI Features?</strong> =&gt;  Content Scripts<br>\n<strong>Would you like to use permissions?</strong> =&gt;  Tabs<br>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong> =&gt;  Yes</p>\n\n<ul>\n<li>ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ</span></div>\n<div class=\"highlight\"><pre>github-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n</pre></div>\n</div>\n\n<ul>\n<li>æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install typescript --save-dev\n</pre></div></div>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==</p>\n\n<ul>\n<li>ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install gulp@3.9.0 --save-dev\n</pre></div></div>\n\n<p>â€»é–¢é€£ã™ã‚‹<a href=\"https://github.com/gulpjs/gulp/issues/1631\" rel=\"nofollow noopener\" target=\"_blank\">issue</a>ã€<a href=\"https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></p>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==</p>\n\n<h2>\n<span id=\"2-ä½œã£ãŸchrome-extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#2-%E4%BD%9C%E3%81%A3%E3%81%9Fchrome-extension%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹</h2>\n\n<p>é››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™</p>\n\n<ul>\n<li>ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run dev:chrome\n</pre></div></div>\n\n<ul>\n<li><p>Chromeã§<code>chrome://extensions</code>ã‚’é–‹ã„ã¦<code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" alt=\"æ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png\"></a></p></li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®<code>chrome</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" alt=\"æ“ä½œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png\"></a></p></li>\n<li><p>ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" alt=\"å‹•ä½œç¢ºèª1_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png\"></a></p></li>\n<li><p>ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" alt=\"å‹•ä½œç¢ºèª_11.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png\"></a></p></li>\n</ul>\n\n<h2>\n<span id=\"3-é–‹ç™ºä¸­ã«chrome-extensionã®å‹•ä½œç¢ºèªã™ã‚‹\" class=\"fragment\"></span><a href=\"#3-%E9%96%8B%E7%99%BA%E4%B8%AD%E3%81%ABchrome-extension%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹</h2>\n\n<p>é››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚<br>\n<code>npm run dev:chrome</code>ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚</p>\n\n<ul>\n<li>è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰</li>\n<li>æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n<a href=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" alt=\"é–‹ç™ºæ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png\"></a>\n</li>\n<li>Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹</li>\n</ul>\n\n<h2>\n<span id=\"4-ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\" class=\"fragment\"></span><a href=\"#4-%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F%E3%82%92%E4%BD%9C%E3%82%8B\"><i class=\"fa fa-link\"></i></a>4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹</h2>\n\n<p>ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚<br>\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚<br>\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"ã‚¢ã‚¤ã‚³ãƒ³\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\"><i class=\"fa fa-link\"></i></a>ã‚¢ã‚¤ã‚³ãƒ³</h3>\n\n<ul>\n<li>128x128\n\n<ul>\n<li>å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>48x48\n\n<ul>\n<li>æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>16x16\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"å®£ä¼ç”¨ç”»åƒ\" class=\"fragment\"></span><a href=\"#%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å®£ä¼ç”¨ç”»åƒ</h3>\n\n<ul>\n<li>440x280\n\n<ul>\n<li>å¿…é ˆ</li>\n</ul>\n</li>\n<li>920x680\n\n<ul>\n<li>å¤§ãã‚ã®ç”»åƒ</li>\n</ul>\n</li>\n<li>1400x560\n\n<ul>\n<li>ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"5-chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#5-chrome%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B9%E3%83%88%E3%82%A2%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹</h2>\n\n<ul>\n<li>é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€<code>manifest.json</code>ã¨<code>package.json</code>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">manifest.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build:chrome\n</pre></div></div>\n\n<ul>\n<li><p><a href=\"https://chrome.google.com/webstore/category/extensions\" rel=\"nofollow noopener\" target=\"_blank\">Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢</a>ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png\"></a></p></li>\n<li><p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§<code>æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png\"></a></p></li>\n<li><p><code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ </code>ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€<code>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png\"></a></p></li>\n<li><p>èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦<code>å¤‰æ›´ã‚’å…¬é–‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" alt=\"ç™»éŒ²_5.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png\"></a></p></li>\n<li><p>ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™</p></li>\n</ul>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚<br>\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€<br>\n<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚<br>\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„\n[è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension](https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja)ã‚’ä½œã‚Šã¾ã—ãŸã€‚\n**ãã®æ™‚ã«[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚**\n\n## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\nyomanã¨[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚\n\n* `yoman`ã¨`generator-chrome-extension-kickstart-typescript`ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install -g yo generator-chrome-extension-kickstart-typescript \n```\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦`yo`ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™\n\n```\n$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n```\n\n* ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n    * **What would you like to call this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å\n    * **And how would you call it if you only had 12 characters (short_name)?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™\n    * **How would you like to describe this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™\n    * **Would you like to use UI Action?**\n        * ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€`No`,`Browser`,`Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n            * `No` ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ\n            * `Browser` ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n            * `Page` ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n    * **Would you like to override a chrome page?**\n        * Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€`No`,`Bookmarks Page`,`History Page`,`Newtab Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n    * **Would you like more UI Features?**\n        * ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n            * `Options Page` ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ\n            * `Devtools Page` ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ\n            * `Content Scripts` ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ\n            * `Omnibox` ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ\n    * **Would you like to use permissions?**\n        * ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n    * **Would you like to install promo images for the Chrome Web Store?**\n        * Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™\n\n\nâ€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ\n**What would you like to call this extension?** => github-contributions-paint\n**And how would you call it if you only had 12 characters (short_name)?** =>  github-paint\n**How would you like to describe this extension?** =>  You can paint github contributions!\n**Would you like to use UI Action?** => Browser\n**Would you like to override a chrome page?** =>  No\n**Would you like more UI Features?** =>  Content Scripts\n**Would you like to use permissions?** =>  Tabs\n**Would you like to install promo images for the Chrome Web Store?** =>  Yes\n\n* ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™\n\n```:ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ\ngithub-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n```\n\n* æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install typescript --save-dev\n```\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==\n\n* ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚\n\n```\n$ npm install gulp@3.9.0 --save-dev\n```\n\n<small>â€»é–¢é€£ã™ã‚‹[issue](https://github.com/gulpjs/gulp/issues/1631)ã€[stackoverflow](https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp)</small>\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==\n## 2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\né››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™\n\n* ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™\n\n```\n$ npm run dev:chrome\n```\n\n* Chromeã§`chrome://extensions`ã‚’é–‹ã„ã¦`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![æ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png)\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®`chrome`ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ\n![æ“ä½œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png)\n\n* ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\n![å‹•ä½œç¢ºèª1_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png)\n\n\n* ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™\n![å‹•ä½œç¢ºèª_11.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png)\n\n\n## 3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹\né››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n`npm run dev:chrome`ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚\n\n* è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰\n* æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![é–‹ç™ºæ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png)\n* Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹\n\n## 4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\nã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚\n\n### ã‚¢ã‚¤ã‚³ãƒ³\n* 128x128\n    * å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 48x48\n    * æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 16x16\n    * ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨\n  \n### å®£ä¼ç”¨ç”»åƒ\n* 440x280\n    * å¿…é ˆ\n* 920x680\n    * å¤§ãã‚ã®ç”»åƒ\n* 1400x560\n    * ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ\n\n## 5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\n* é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€`manifest.json`ã¨`package.json`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™\n\n```json:manifest.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n```json:package.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n* ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™\n\n```\n$ npm run build:chrome\n```\n\n* [Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chrome.google.com/webstore/category/extensions)ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png)\n\n* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§`æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png)\n\n* `ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ `ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png)\n\n* èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦`å¤‰æ›´ã‚’å…¬é–‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![ç™»éŒ²_5.png](https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png)\n\n* ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€\n[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n","comments_count":5,"created_at":"2017-12-20T02:36:27+09:00","likes_count":48,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"chrome-extension"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/e0ec0869-f368-5083-bdc2-cdba9d59427a/","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","date":"2017-12-12T03:19:11+09:00","excerpt":"FUJITSU Advent Calendar 2017 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€ã“ã“ï¼”ãƒ¶æœˆã»ã©MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œ...","tags":["JavaScript","Node.js","Express","mongoose","Angular","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"e0ec0869-f368-5083-bdc2-cdba9d59427a","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","rendered_body":"<p><a href=\"https://qiita.com/advent-calendar/2017/fujitsu\">FUJITSU Advent Calendar 2017</a> 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>\n\n<p>ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€<br>\nã“ã“ï¼”ãƒ¶æœˆã»ã©<strong>MEAN</strong>ã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB+<strong>E</strong>xpress+<strong>A</strong>ngular+<strong>N</strong>ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚<br>\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\n\n<p>ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%B4%B9%E4%BB%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®ç´¹ä»‹</h2>\n\n<p>æœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)</p>\n\n<ul>\n<li><a href=\"https://github.com/Takumon/mean-blog\" rel=\"nofollow noopener\" target=\"_blank\">Github</a></li>\n<li><a href=\"https://hub.docker.com/r/takumon/mean-blog_auto/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerhub</a></li>\n<li>\n<a href=\"https://material-blog-demo.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‡ãƒ¢ç’°å¢ƒ</a> (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)</li>\n</ul>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)<br>\n<a href=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" alt=\"appdemo_detail.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)<br>\n<a href=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)<br>\n<a href=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png\"></a></p>\n\n<h1>\n<span id=\"1-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã¾ã‚ã‚Š\" class=\"fragment\"></span><a href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%BE%E3%82%8F%E3%82%8A\"><i class=\"fa fa-link\"></i></a>1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š</h1>\n\n<h2>\n<span id=\"angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#angular%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%82%8B%E6%99%82%E3%81%AB%E5%8F%A4%E3%81%84%E6%83%85%E5%A0%B1%E3%82%92%E9%99%A4%E5%A4%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„</h2>\n\n<p>1ç³»ã¯<code>AngularJS</code>ã€2ç³»ä»¥é™ã¯<code>Angular</code>ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚<br>\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯<code>Angualr2</code>ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚<code>--AngularJS</code>ã‚’ã¤ã‘ãŸã‚Šã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"htmlã®domè¦ç´ ã‚’åˆ¥ã®domè¦ç´ ã¾ãŸã¯componentã‹ã‚‰æ‰±ã„ãŸã„\" class=\"fragment\"></span><a href=\"#html%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%82%92%E5%88%A5%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%81%BE%E3%81%9F%E3%81%AFcomponent%E3%81%8B%E3%82%89%E6%89%B1%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>HTMLã®DOMè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„</h2>\n\n<p>è¦ç´ ã«<code>#xxxxx</code>ã®ã‚ˆã†ã«<code>#</code>å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®DOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"err\">#</span><span class=\"na\">phone</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"é›»è©±ç•ªå·\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"c\">&lt;!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"nt\">&gt;</span>(click)=\"callPhone(phone.value)\"&gt;\n</pre></div>\n</div>\n\n<p>Componentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯<code>@ViewChild</code>ã‚’ä½¿ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"c1\">// ViewChildã®å¼•æ•°ã«åå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™</span>\n  <span class=\"p\">@</span><span class=\"nd\">ViewChild</span><span class=\"p\">(</span><span class=\"s1\">'phone'</span><span class=\"p\">)</span> <span class=\"nx\">phoneElement</span><span class=\"p\">:</span> <span class=\"nx\">phoneElement</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">showPhoneValue</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">phoneElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n    <span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/template-syntax#ref-vars\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\" class=\"fragment\"></span><a href=\"#routing%E6%99%82%E3%81%AE%E8%AA%8D%E8%A8%BC%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„</h2>\n\n<p>URLã”ã¨ã®èªè¨¼ã¯<code>CanActivate</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€<br>\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚<br>\nãã®ã‚ˆã†ãªæ™‚ã¯ã€<strong><code>CanActivate#canActivate</code>ã§</strong>booleanã®ä»£ã‚ã‚Šã«<strong>Observableã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹</strong>ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleAuthGuard</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">CanActivate</span><span class=\"p\">,</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">RouterStateSnapshot</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/router'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AuthenticationService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./authentication.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleAuthGuard</span> <span class=\"kr\">implements</span> <span class=\"nx\">CanActivate</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span>\n    <span class=\"kr\">private</span> <span class=\"nx\">auth</span><span class=\"p\">:</span> <span class=\"nx\">AuthenticationService</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\">// booleanã§ã¯ãªãObservable&lt;boolean&gt;ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™</span>\n  <span class=\"nx\">canActivate</span><span class=\"p\">(</span><span class=\"nx\">route</span><span class=\"p\">:</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">state</span><span class=\"p\">:</span> <span class=\"nx\">RouterStateSnapshot</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"kr\">boolean</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">auth</span><span class=\"p\">.</span><span class=\"nx\">checkState</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">true</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">err</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">of</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">))</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"formarrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#formarray%E3%81%AE%E5%80%A4%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„</h2>\n\n<p>FormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€<br>\nFormArrayã®å ´åˆpatchValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚<br>\nã“ã†ã„ã†å ´åˆã¯ã€<strong>é…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ€ãƒ¡ãªä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span> <span class=\"c1\">// FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">];</span> <span class=\"c1\">// FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">è‰¯ã„ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formã‚’ç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹</span>\n  <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">student</span> <span class=\"o\">-&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">controls</span><span class=\"p\">[</span><span class=\"s1\">'students'</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">FormControll</span><span class=\"p\">(</span><span class=\"nx\">student</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array\" rel=\"nofollow noopener\" target=\"_blank\">StackOvereFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"error-error-no-provider-for-templaterefã¨ã„ã†ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#error-error-no-provider-for-templateref%E3%81%A8%E3%81%84%E3%81%86%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>æœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚<br>\nå¤§æŠµã®å ´åˆã¯ã€<strong><code>*ngIf</code>ã‚„<code>*ngForm</code>ã®<code>*</code>ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› </strong>ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)<br>\n<code>*</code>ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯<code>ngIf</code>ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€<br>\nãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§<code>No provider for TemplateRef!</code>ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"textareaã«ãŠã„ã¦tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\" class=\"fragment\"></span><a href=\"#textarea%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6tab%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%A4%E3%83%B3%E3%83%87%E3%83%B3%E3%83%88%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„</h2>\n\n<p>æ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€Tabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€<br>\nkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;textarea</span> <span class=\"err\">#</span><span class=\"na\">sampletextarea</span>\n  <span class=\"err\">(</span><span class=\"na\">keydown</span><span class=\"err\">)=\"</span><span class=\"na\">indent</span><span class=\"err\">($</span><span class=\"na\">event</span><span class=\"err\">,</span> <span class=\"na\">sampletextarea</span><span class=\"err\">)\"</span> <span class=\"nt\">&gt;&lt;/textarea&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"nx\">indent</span><span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">,</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">===</span> <span class=\"mi\">9</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¬¡ã®è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹</span>\n      <span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n\n      <span class=\"c1\">// ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretStart</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionStart</span><span class=\"p\">;</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionEnd</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">TAB</span> <span class=\"o\">=</span> <span class=\"s1\">'Â¥t'</span><span class=\"p\">;</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span> <span class=\"o\">=</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">caretStart</span><span class=\"p\">)</span>\n                     <span class=\"o\">+</span> <span class=\"nx\">TAB</span> <span class=\"o\">+</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">focus</span><span class=\"p\">();</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">setSelectionRange</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\" class=\"fragment\"></span><a href=\"#markdown%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%9F%E3%81%84%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„</h2>\n\n<p><a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã¨<a href=\"https://github.com/isagalaev/highlight.js\" rel=\"nofollow noopener\" target=\"_blank\">highlight.js</a>ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚<br>\n<a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown-parse.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">hljs</span> <span class=\"k\">from</span> <span class=\"s1\">'highlight.js'</span><span class=\"p\">;</span>\n\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">marked</span><span class=\"p\">.</span><span class=\"nx\">setOptions</span><span class=\"p\">({</span>\n      <span class=\"na\">highlight</span><span class=\"p\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">hljs</span><span class=\"p\">.</span><span class=\"nx\">highlightAuto</span><span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"na\">rawText</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">marked</span><span class=\"p\">(</span><span class=\"nx\">rawText</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./markdown-parse.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span> <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'toMarkdown'</span> <span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParsePipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">markdownParseService</span><span class=\"p\">:</span> <span class=\"nx\">MarkdownParseService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">markdownParseService</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p>HTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚<code>{{}}</code>ã ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§<code>innerHTML</code>å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"err\">[</span><span class=\"na\">innerHTML</span><span class=\"err\">]=\"</span><span class=\"na\">md</span> <span class=\"err\">|</span> <span class=\"na\">toMarkdown</span><span class=\"err\">\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b\" id=\"reference-9001a931765f8f52acaf\">Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹</a></li>\n<li>Github <a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">chjj/marked</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´è¿½åŠ å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8C%E5%A4%89%E6%9B%B4%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AB%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E7%B5%90%E6%9E%9C%E3%82%92%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„</h2>\n\n<p>ãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦<strong>pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã¾ã—ã‚‡ã†ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"err\">#</span><span class=\"na\">searchUserName</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let user of (userList | searchUserFilter: searchUserName.value);\"</span> <span class=\"nt\">&gt;</span>{{user.name}}<span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">search-user.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">User</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./user'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span>\n  <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'searchUserFilter'</span><span class=\"p\">,</span>\n  <span class=\"na\">pure</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SearchFilterPipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">items</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">User</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"nx\">searchUserName</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span><span class=\"p\">[]</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">searchUserName</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">searchUserName</span> <span class=\"o\">=</span> <span class=\"nx\">searchUserName</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span> <span class=\"nx\">item</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">userId</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">().</span><span class=\"nx\">includes</span><span class=\"p\">(</span><span class=\"nx\">searchUserName</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/pipes#pure-and-impure-pipes\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n</ul>\n\n<h2>\n<span id=\"ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’å…±é€šåŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«<strong>ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">app-settings.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppSettings</span> <span class=\"p\">{</span>\n   <span class=\"kr\">public</span> <span class=\"kr\">static</span> <span class=\"nx\">API_ENDPOINT</span><span class=\"o\">=</span><span class=\"s1\">'http://127.0.0.1:6666/api/'</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleService</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">Injectable</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'angular2/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">AppSettings</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app-settings'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleService</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sampleMethod</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">AppSettings</span><span class=\"p\">.</span><span class=\"nx\">API_ENDPOINT</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%94%BB%E5%83%8F%E3%81%8C%E5%A4%9A%E3%81%84%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A1%A8%E7%A4%BA%E3%82%92%E6%97%A9%E3%81%8F%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„</h2>\n\n<p><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a>ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚<br>\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre> <span class=\"nt\">&lt;img</span>\n  <span class=\"err\">[</span><span class=\"na\">defaultImage</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">defaultimage</span><span class=\"err\">\"</span> \n  <span class=\"err\">[</span><span class=\"na\">lazyLoad</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">sampleimage</span><span class=\"err\">\"</span>\n  <span class=\"err\">[</span><span class=\"na\">offset</span><span class=\"err\">]=\"</span><span class=\"na\">30</span><span class=\"err\">\"</span>\n <span class=\"nt\">&gt;</span>\n</pre></div>\n</div>\n\n<p><em>defaultImage</em><br>\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹<br>\n<em>lazyLoad</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL<br>\n<em>offset</em><br>\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹<br>\n<em>errorImage</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a></li>\n</ul>\n\n<h2>\n<span id=\"angular-cliã®ng-serveã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\" class=\"fragment\"></span><a href=\"#angular-cli%E3%81%AEng-serve%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7dist%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%B8%80%E6%97%A6%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%8F%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angular Cliã®<code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„</h2>\n\n<p><code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã¯<code>dist</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚<br>\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€<strong>delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false</strong>ã«æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span></div>\n<div class=\"highlight\"><pre><span class=\"s2\">\"script\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"cp ./resource/* dist &amp;&amp; ng serve --delete-output-path=false\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/issues/4366\" rel=\"nofollow noopener\" target=\"_blank\">angular-cli github issue #4366</a></li>\n</ul>\n\n<h2>\n<span id=\"aotã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\" class=\"fragment\"></span><a href=\"#aot%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%A7%E3%81%AA%E3%82%93%E3%81%A8%E3%81%8B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„</h2>\n\n<p>ãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)<br>\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚<br>\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"2-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%A7%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š</h1>\n\n<h2>\n<span id=\"ciç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\" class=\"fragment\"></span><a href=\"#ci%E7%92%B0%E5%A2%83%E3%81%AA%E3%81%A9%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%89%E3%81%9A%E3%81%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\"><i class=\"fa fa-link\"></i></a>CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†</h2>\n\n<p>CirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯<strong>watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ng test --wtach=false\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong><br>\n<a href=\"https://github.com/angular/angular-cli/issues/362\" rel=\"nofollow noopener\" target=\"_blank\">Github isssue</a></p>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆæ™‚ã«error-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_intervalã‚„failed-to-execute-send-on-xmlhttprequestã®ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E6%99%82%E3%81%ABerror-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_interval%E3%82%84failed-to-execute-send-on-xmlhttprequest%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«<strong><code>-sm=false</code>ã‚’è¿½åŠ </strong>ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%94%A8%E3%81%AB%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E3%83%A2%E3%83%83%E3%82%AF%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„</h2>\n\n<p>æ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§<br>\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚<br>\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\"><div class=\"highlight\"><pre><span class=\"c1\">// â€»importæ–‡ã¯çœç•¥</span>\n\n<span class=\"c1\">// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©</span>\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-child'</span><span class=\"p\">,</span> <span class=\"c1\">// å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©</span>\n  <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"s1\">'&lt;p&gt;Mock Child Component&lt;/p&gt;'</span>\n<span class=\"p\">})</span>\n<span class=\"kd\">class</span> <span class=\"nx\">MockClildComponent</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">Input</span><span class=\"p\">()</span> <span class=\"nx\">childInput</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n  <span class=\"p\">@</span><span class=\"nd\">Output</span><span class=\"p\">()</span> <span class=\"nx\">childOutput</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">EventEmitter</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ...</span>\n\n<span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n    <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"c1\">// ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ </span>\n      <span class=\"nx\">MockProductSettingsComponent</span><span class=\"p\">,</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">});</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«angular-materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABangular-materila%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€<br>\n<code>karma.config.js</code>ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n      <span class=\"c1\">// Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã</span>\n      <span class=\"p\">{</span><span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span><span class=\"p\">,</span> <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">},</span>\n<span class=\"p\">],</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/material2/issues/4056\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«stylesscssã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABstylesscss%E3%82%A2%E3%83%97%E3%83%AA%E5%85%B1%E9%80%9A%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ<br>\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«<code>karma-scss-preprocessor</code>ã¨<code>node-sass</code>ã‚’è¿½åŠ ã—ã¦<code>karma.conf.js</code>ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n<span class=\"err\">ã€€</span> <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ </span>\n  <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'karma-scss-preprocessor'</span><span class=\"p\">)</span>\n<span class=\"p\">],</span>\n\n\n<span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"c1\">// filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ </span>\n  <span class=\"p\">{</span> <span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">served</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span>\n<span class=\"p\">],</span>\n\n<span class=\"c1\">// preprocessorsã‚’è¿½åŠ </span>\n<span class=\"nx\">preprocessors</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'./src/test.ts'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'@angular/cli'</span><span class=\"p\">],</span>\n <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'scss'</span><span class=\"p\">]</span>\n<span class=\"p\">},</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n<li><a href=\"https://github.com/karma-runner/karma/issues/2700\" rel=\"nofollow noopener\" target=\"_blank\">Github karma/issue/2700</a></li>\n</ul>\n\n<h1>\n<span id=\"3-ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´-expressmongodbå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#3-%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89%E5%81%B4-expressmongodb%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š</h1>\n\n<p>â€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯<a href=\"https://github.com/Automattic/mongoose\" rel=\"nofollow noopener\" target=\"_blank\">mongoose</a>ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\" class=\"fragment\"></span><a href=\"#mongoose%E3%81%AEvirtual%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</h2>\n\n<p>ä¾‹ãˆã°<code>è¨˜äº‹</code>,<code>ã‚³ãƒ¡ãƒ³ãƒˆ</code>,<code>ãƒªãƒ—ãƒ©ã‚¤</code>ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€<br>\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  =&gt; è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  =&gt; ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" alt=\"dbæ§‹é€ _è‰¯.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png\"></a></p>\n\n<p>ãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€<strong>mongooseã®virtualã‚’ä½¿ã„ã¾ã™</strong>ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€<br>\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" alt=\"mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png\"></a></p>\n\n<p>å…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">article.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ArticleSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">content</span><span class=\"p\">:</span> <span class=\"nb\">String</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n\n<span class=\"c1\">// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">ArticleSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'articleId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Article</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Article'</span><span class=\"p\">,</span> <span class=\"nx\">ArticleSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Article</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">comment.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">CommentSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">articleId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Article'</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">comment</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n<span class=\"c1\">// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">CommentSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Reply'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'commentId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Comment</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Comment'</span><span class=\"p\">,</span> <span class=\"nx\">CommentSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Comment</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">reply.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ReplySchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">commentId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">reply</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Reply</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Reply'</span><span class=\"p\">,</span> <span class=\"nx\">ReplySchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Reply</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¤œç´¢å‡¦ç†</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">Article</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">()</span>\n<span class=\"p\">.</span><span class=\"nx\">populate</span><span class=\"p\">({</span>\n  <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"c1\">// Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹</span>\n  <span class=\"na\">populate</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"c1\">// Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹</span>\n  <span class=\"p\">}],</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>Expressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚<br>\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n<span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">accessLogHandler</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n  <span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">([</span>\n    <span class=\"s1\">'start'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n    <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'--ms--'</span>\n  <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n\n  <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'finish'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€</span> <span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°</span>\n    <span class=\"nx\">accessLogger</span><span class=\"p\">.</span><span class=\"nx\">info</span><span class=\"p\">([</span>\n      <span class=\"s1\">'end'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"s1\">'--'</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"nx\">start</span><span class=\"p\">.</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"s1\">'ms--'</span>\n    <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">next</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<p>å®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"py3\"><div class=\"highlight\"><pre><span class=\"n\">start</span><span class=\"p\">,</span>  <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">api</span><span class=\"o\">/</span><span class=\"n\">authenticate</span><span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>   <span class=\"o\">-</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span> <span class=\"o\">--</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n<span class=\"n\">end</span><span class=\"p\">,</span>    <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>                  <span class=\"mi\">403</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span>  <span class=\"o\">--</span><span class=\"mi\">47</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n</pre></div></div>\n\n<h2>\n<span id=\"ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%85%A8%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®<code>util.inspect()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">util</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'util'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">myObject</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"s2\">\"a\"</span><span class=\"p\">:</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span>\n   <span class=\"s2\">\"b\"</span><span class=\"p\">:{</span>\n      <span class=\"s2\">\"c\"</span><span class=\"p\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">,</span>\n      <span class=\"s2\">\"d\"</span><span class=\"p\">:{</span>\n         <span class=\"s2\">\"e\"</span><span class=\"p\">:</span><span class=\"s2\">\"e\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"f\"</span><span class=\"p\">:{</span>\n            <span class=\"s2\">\"g\"</span><span class=\"p\">:</span><span class=\"s2\">\"g\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"h\"</span><span class=\"p\">:{</span>\n               <span class=\"s2\">\"i\"</span><span class=\"p\">:</span><span class=\"s2\">\"i\"</span>\n            <span class=\"p\">}</span>\n         <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">};</span> \n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">util</span><span class=\"p\">.</span><span class=\"nx\">inspect</span><span class=\"p\">(</span><span class=\"nx\">myObject</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"kc\">null</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%A7%E3%81%8D%E3%82%8B%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯<br>\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚<br>\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å®šæ•°å®šç¾©</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_PORT</span> <span class=\"o\">||</span> <span class=\"s1\">'3000'</span><span class=\"p\">;</span><span class=\"err\">ã€€</span><span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_HOST</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_HOST</span> <span class=\"o\">||</span> <span class=\"s1\">'localhost'</span><span class=\"p\">;</span> <span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"dbåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#db%E5%88%9D%E5%9B%9E%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„</h2>\n\n<p>mongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br>\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">createConnection</span> <span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">createConnection</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/failed to connect to server .* on first connect/</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Retrying first connect...\"</span><span class=\"p\">);</span>\n                <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">openUri</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">).</span><span class=\"k\">catch</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n            <span class=\"c1\">// 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹</span>\n            <span class=\"p\">},</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'open'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Connection to db established.\"</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">db</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Automattic/mongoose/issues/5169\" rel=\"nofollow noopener\" target=\"_blank\">Github mongooseã®issue5169</a></li>\n</ul>\n","body":"[FUJITSU Advent Calendar 2017](https://qiita.com/advent-calendar/2017/fujitsu) 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\nãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€\nã“ã“ï¼”ãƒ¶æœˆã»ã©**MEAN**ã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB+**E**xpress+**A**ngular+**N**ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚\n\n## ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\næœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)\n\n* [Github](https://github.com/Takumon/mean-blog)\n* [Dockerhub](https://hub.docker.com/r/takumon/mean-blog_auto/)\n* [ãƒ‡ãƒ¢ç’°å¢ƒ](https://material-blog-demo.herokuapp.com/) (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)\n![appdemo_detail.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png](https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png)\n\n# 1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š\n## Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\n1ç³»ã¯`AngularJS`ã€2ç³»ä»¥é™ã¯`Angular`ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯`Angualr2`ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚\u001e`--AngularJS`ã‚’ã¤ã‘ãŸã‚Š\u001dã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚\n\n## HTMLã®DOM\bè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„\nè¦ç´ ã«`#xxxxx`\bã®ã‚ˆã†ã«`#`å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®\bDOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™\n\n```html:HTML\n<input #phone placeholder=\"é›»è©±ç•ªå·\"/>\n<!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ -->\n<button >(click)=\"callPhone\b(phone.value)\">\n```\n\n\bComponentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯`@ViewChild`ã‚’ä½¿ã„ã¾ã™\n\n```typescript:Component\n  // \bViewChildã®å¼•æ•°ã«\b\båå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™\n  @ViewChild('phone') phoneElement: phoneElement;\n\n  showPhoneValue() {\n    console.log(this.phoneElement.value);\n    )\n  }\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/template-syntax#ref-vars)\n* [StackOverFlow](https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template)\n\n\n\n## Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\nURLã”ã¨ã®èªè¨¼ã¯`CanActivate`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªæ™‚ã¯ã€**`CanActivate#canActivate`ã§**booleanã®ä»£ã‚ã‚Šã«**Observable<boolean>ã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹**ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\n\n\n```typescript:SampleAuthGuard\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SampleAuthGuard implements CanActivate {\n\n  constructor(\n    private auth: AuthenticationService,\n  ) { }\n\n  // booleanã§ã¯ãªãObservable<boolean>ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.checkState()\n      .map(res => true)\n      .catch(err => Observable.of(false))\n  }\n}\n\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function)\n\n## FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\nFormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€\nFormArrayã®å ´åˆpatch\bValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨\bã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚\n\bã“ã†ã„ã†å ´åˆã¯ã€**\b\bé…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push**ã—ã¾ã™ã€‚\n\n```typescript:ãƒ€ãƒ¡ãªä¾‹\nngOnInit() {\n  // Formç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName' // FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½\n    students: ['taro', 'jiro', 'saburo']; // FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½\n  });\n}\n```\n\n```typescript:\bè‰¯ã„ä¾‹\nngOnInit() {\n  // Formã‚’ç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName'\n  });\n\n  // ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹\n  ['taro', 'jiro', 'saburo'].forEach(student -> {\n    this.form.controls['students'].push(new FormControll(student));\n  });\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOvereFlow](https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array)\n\n## ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼\næœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚\nå¤§æŠµã®å ´åˆã¯ã€**`*ngIf`ã‚„`*ngForm`ã®`*`ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› **ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)\n`*`ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯`ngIf`ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€\n\bãã‚“ãª\b\bãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§`No provider for TemplateRef!`ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref)\n\n\n## textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\næ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€\u001dTabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€\n\bkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«\bãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n```html:HTML\n<textarea #sampletextarea\n  (keydown)=\"indent($event, sampletextarea)\" ></textarea>\n```\n\n```typescript:Component\n  indent($event, sampleTextAreaElement) {\n    // Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚\n    if ($event.keyCode === 9) {\n      \b// æ¬¡ã®è¦ç´ ã«\bãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹\n      $event.preventDefault();\n\n      // ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—\n      \bconst caretStart = textareaElement.selectionStart;\n      const caretEnd = textareaElement.selectionEnd;\n\n      // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’\bå–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥\n      const TAB = 'Â¥t';\n      sampleTextAreaElement.value = sampleTextAreaElement.value.substring(0, caretStart)\n                     + TAB + sampleTextAreaElement.value.substring(caretStart, value.length);\n\n      // ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™\n      sampleTextAreaElement.focus();\n      sampleTextAreaElement.setSelectionRange(caretStart + TAB.length, caretEnd + TAB.length);\n\n      return;\n    }\n  }\n\n```\n\n\n\n## \bMarkdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’\bè¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\n[marked](https://github.com/chjj/marked)ã¨[highlight.js](https://github.com/isagalaev/highlight.js)ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚\n[marked](https://github.com/chjj/marked)ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```typescript:markdown-parse.service.ts\nimport { Injectable } from '@angular/core';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\n\n@Injectable()\nexport class MarkdownParseService {\n\n  constructor() {\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n  }\n\n  parse(rawText: string) {\n    return marked(rawText);\n  }\n}\n```\n\n\n```typescript:markdown.pipe.ts\nimport marked from 'marked';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MarkdownParseService } from './markdown-parse.service';\n\n@Pipe({ name: 'toMarkdown' })\nexport class MarkdownParsePipe implements PipeTransform {\n  constructor(markdownParseService: MarkdownParseService) {}\n\n  transform(value: string): any {\n    return this.markdownParseService.parse(value);\n  }\n}\n```\n\nHTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚`{{}}`ã ã¨\bã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§\b`innerHTML`å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```html\n<div [innerHTML]=\"md | toMarkdown\"></div>\n```\n\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹](https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b)\n* Github [chjj/marked](https://github.com/chjj/marked)\n\n\n\n\n## çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒ\bå¤‰æ›´ã€è¿½åŠ \bã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\nãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦**pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã¾ã—ã‚‡ã†ã€‚\n\n```html:HTML\n<input type=\"text\" #searchUserName>\n<ul>\n  <li *ngFor=\"let user of (userList | searchUserFilter: searchUserName.value);\" >{{user.name}}</li>\n<ul>\n```\n\n```typescript:search-user.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { User } from './user';\n\n@Pipe({\n  name: 'searchUserFilter',\n  pure: false // pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹\n})\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Array<User>, searchUserName: string): any[] {\n    if (!searchUserName) return items;\n\n    searchUserName = searchUserName.toLowerCase();\n    return items.filter( item => item.user.userId.toLowerCase().includes(searchUserName));\n  }\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/pipes#pure-and-impure-pipes)\n\n\n\n\n## ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’\bå…±é€š\båŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«**ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©**ã—ã¾ã™ã€‚\n\n```typescript:app-settings.ts\nexport class AppSettings {\n   public static API_ENDPOINT='http://127.0.0.1:6666/api/';\n}\n```\n\n```typescript:SampleService\nimport {Injectable} from 'angular2/core';\nimport {AppSettings} from './app-settings';\n\n@Injectable()\nexport class SampleService {\n    \bsampleMethod() {\n      console.log(AppSettings.API_ENDPOINT);\n    }\n}\n```\n\n**å‚è€ƒ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2)\n\n\n## ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\n[ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```html:HTML\n <img\n  [defaultImage]=\"https://images.sample.com/photo/defaultimage\" \n  [lazyLoad]=\"https://images.sample.com/photo/sampleimage\"\n  [offset]=\"30\"\n >\n```\n\n*defaultImage*\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹\n*lazyLoad*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL\n*offset*\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹\n*errorImage*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)\n\n\n## Angular Cliã®`ng serve`ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\n`ng serve`ã‚³ãƒãƒ³ãƒ‰ã¯`dist`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€**delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false**ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```json:package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\n\"script\": {\n  \"build\": \"cp ./resource/* dist && ng serve --delete-output-path=false\"\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [angular-cli github issue #4366](https://github.com/angular/angular-cli/issues/4366)\n\n\n## AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\nãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«[Angular Material](https://material.angular.io/)ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚\n\n\n# 2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\n## CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\nCirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ`ng test`ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯**watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã—ã¾ã™ã€‚\n\n```\nng test --wtach=false\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n[Github isssue](https://github.com/angular/angular-cli/issues/362)\n\n## ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«`ng test`ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«**`-sm=false`ã‚’è¿½åŠ **ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest)\n\n\n## ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\næ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚\n\n\n```typescript\n// â€»importæ–‡ã¯çœç•¥\n\n// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n@Component({\n  selector: 'app-child', // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©\n  template: '<p>Mock Child Component</p>'\n})\nclass MockClildComponent {\n  @Input() childInput: string;\n  @Output() childOutput = new EventEmitter();\n}\n\n// ...\n\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    declarations: [\n      // ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ \n      MockProductSettingsComponent,\n      // ...\n    ],\n    // ...\n  });\n  // ...\n});\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§[Angular Material](https://material.angular.io/)ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€\n`karma.config.js`ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚\n\n```javascript:karma.conf.js\nfiles: [\n      ãƒ»ãƒ»ãƒ»\n      // Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã\n      {pattern: './node_modules/@angular/material/prebuilt-themes/indigo-pink.css', included: true, watched: false},\n],\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackoverflow](https://github.com/angular/material2/issues/4056)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«`karma-scss-preprocessor`ã¨`node-sass`ã‚’è¿½åŠ ã—ã¦`karma.conf.js`ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```javascript:karma.conf.js\nplugins: [\n  ãƒ»ãƒ»ãƒ»\nã€€ // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ \n  require('karma-scss-preprocessor')\n],\n\n\nfiles: [\n  ãƒ»ãƒ»ãƒ»\n  // filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n  { pattern: './src/styles.scss', watched: false,  included: true, served: true }\n],\n\n// preprocessorsã‚’è¿½åŠ \npreprocessors: {\n './src/test.ts': ['@angular/cli'],\n './src/styles.scss': ['scss']\n},\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**:\n\n* [stackOverFlow](https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689)\n* [Github karma/issue/2700](https://github.com/karma-runner/karma/issues/2700)\n\n\n\n\n# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š\nâ€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯[mongoose](https://github.com/Automattic/mongoose)ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚\n\n## mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\nä¾‹ãˆã°`è¨˜äº‹`,`ã‚³ãƒ¡ãƒ³ãƒˆ`,`ãƒªãƒ—ãƒ©ã‚¤`ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  => è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  => ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚\n![dbæ§‹é€ _è‰¯.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png)\n\nãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€**mongooseã®virtualã‚’ä½¿ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png)\n\nå…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n\n```typescript:article.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ArticleSchema = new mongoose.Schema({\n  content: String\n}, { toJSON: { virtuals: true } });\n\n\n// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nArticleSchema.virtual('comments', {\n  ref: 'Comment',\n  localField: '_id',\n  foreignField: 'articleId',\n  justOne: false,\n});\n\nconst Article = mongoose.model('Article', ArticleSchema);\n\nexport { Article };\n```\n\n\n```typescript:comment.model.ts\nimport * as mongoose from 'mongoose';\n\nconst CommentSchema = new mongoose.Schema({\n  articleId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  comment: String;\n}, { toJSON: { virtuals: true } });\n\n// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nCommentSchema.virtual('replies', {\n  ref: 'Reply',\n  localField: '_id',\n  foreignField: 'commentId',\n  justOne: false,\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nexport { Comment };\n```\n\n```typescript:reply.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ReplySchema = new mongoose.Schema({\n  commentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Comment'\n  },\n  reply: String;\n});\n\nconst Reply = mongoose.model('Reply', ReplySchema);\n\nexport { Reply };\n```\n\n```typescript:æ¤œç´¢å‡¦ç†\nArticle.find()\n.populate({\n  path: 'comments', // Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹\n  populate: [{\n    path: 'replies', // Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹\n  }],\n});\n```\n\n\n## ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\nExpressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n\n\n```javascript:ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™\nconst express = express();\nexpress.use(function accessLogHandler (req, res, next) {\n  const start = new Date();\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€\n  console.log([\n    'start',\n    req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n    req.method,\n    req.url,\n    '-',\n    req.headers.referer || '-',\n    req.headers['user-agent'] || '-',\n    '--ms--'\n  ].join(',\\t'));\n\n  res.once('finish', function() {\nã€€ã€€ // ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°\n    accessLogger.info([\n      'end',\n      req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n      req.method,\n      req.url,\n      res.statusCode,\n      req.headers.referer || '-',\n      req.headers['user-agent'] || '-',\n      '--' + (new Date().getMilliseconds() - start.getMilliseconds()) + 'ms--'\n    ].join(',\\t'));\n  });\n\n  next();\n});\n```\n\nå®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```py3\nstart,  ::ffff:127.0.0.1, GET, /api/authenticate/check-state,   -, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36, --ms--\nend,    ::ffff:127.0.0.1, GET, /check-state,                  403, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36,  --47ms--\n```\n\n\n\n## ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®`util.inspect()`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n\n```javascript\nconst util = require('util');\nconst myObject = {\n   \"a\":\"a\",\n   \"b\":{\n      \"c\":\"c\",\n      \"d\":{\n         \"e\":\"e\",\n         \"f\":{\n            \"g\":\"g\",\n            \"h\":{\n               \"i\":\"i\"\n            }\n         }\n      }\n   }\n}; \n\nconsole.log(util.inspect(myObject, false, null));\n```\n\nã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™\n\n```\n{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object)\n\n\n## ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```typescript:å®šæ•°å®šç¾©\nexport const SERVER_PORT: string = process.env.SERVER_PORT || '3000';ã€€// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹\nexport const SERVER_HOST: string = process.env.SERVER_HOST || 'localhost'; // ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹\n```\n\n\n## DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\nmongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n```javascript\nfunction createConnection (dbURL, options) {\n    var db = mongoose.createConnection(dbURL, options);\n\n    db.on('error', function (err) {\n        if (err.message && err.message.match(/failed to connect to server .* on first connect/)) {\n            console.log(new Date(), String(err));\n\n            setTimeout(function () {\n                console.log(\"Retrying first connect...\");\n                db.openUri(dbURL).catch(() => {});\n            // 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹\n            }, 20 * 1000);\n        } else {\n            console.error(new Date(), String(err));\n        }\n    });\n\n    db.once('open', function () {\n        console.log(\"Connection to db established.\");\n    });\n\n    return db;\n}\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Github mongooseã®issue5169](https://github.com/Automattic/mongoose/issues/5169)\n\n","comments_count":0,"created_at":"2017-12-12T03:19:11+09:00","likes_count":46,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/5644c24e-eade-50ca-aa11-83a4eaeba122/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","date":"2017-07-24T07:12:10+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","jasmine","TypeScript","AngularJS","Protractor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"5644c24e-eade-50ca-aa11-83a4eaeba122","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\" id=\"reference-fc6741a6eda3b7ffd9f1\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a></li>\n<li>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼’-ãƒ†ã‚¹ãƒˆç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%92-%E3%83%86%E3%82%B9%E3%83%88%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</h2>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚<br>\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<p>ã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/test\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚</p>\n\n<h5>\n<span id=\"1-1-distserver_test\" class=\"fragment\"></span><a href=\"#1-1-distserver_test\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server_test</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚<br>\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"2-server_test\" class=\"fragment\"></span><a href=\"#2-server_test\"><i class=\"fa fa-link\"></i></a>(2) server_test</h5>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"3-e2e\" class=\"fragment\"></span><a href=\"#3-e2e\"><i class=\"fa fa-link\"></i></a>(3) e2e</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚</p>\n\n<h5>\n<span id=\"4-srcappé…ä¸‹ã®spectsãƒ•ã‚¡ã‚¤ãƒ«\" class=\"fragment\"></span><a href=\"#4-srcapp%E9%85%8D%E4%B8%8B%E3%81%AEspects%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"><i class=\"fa fa-link\"></i></a>(4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"5-protractorconfjs\" class=\"fragment\"></span><a href=\"#5-protractorconfjs\"><i class=\"fa fa-link\"></i></a>(5) protractor.conf.js</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚<br>\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://www.npmjs.com/package/zone.js\" rel=\"nofollow noopener\" target=\"_blank\"><code>zone.js@0.8.12</code></a>\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«<code>Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'</code>ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚<a href=\"https://github.com/angular/zone.js/issues/832\" rel=\"nofollow noopener\" target=\"_blank\">GitHubã®issues</a>ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.npmjs.com/package/supertest\" rel=\"nofollow noopener\" target=\"_blank\"><code>supertest</code></a>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappappcomponentspects\" class=\"fragment\"></span><a href=\"#srcappappcomponentspects\"><i class=\"fa fa-link\"></i></a>src/app/app.component.spec.ts</h4>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚<br>\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€<code>TestBed</code>ã®<code>overrideComponent</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">ComponentFixture</span><span class=\"p\">,</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'AppComponent'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component</span>\n  <span class=\"kd\">let</span> <span class=\"na\">component</span><span class=\"p\">:</span> <span class=\"nx\">AppComponent</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture</span>\n  <span class=\"kd\">let</span> <span class=\"na\">fixture</span><span class=\"p\">:</span> <span class=\"nx\">ComponentFixture</span><span class=\"o\">&lt;</span><span class=\"nx\">AppComponent</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">{</span>\n    <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">response</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n      <span class=\"p\">]};</span>\n\n      <span class=\"k\">return</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">([</span><span class=\"nx\">response</span><span class=\"p\">]);</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(</span><span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">],</span>\n      <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"nx\">AppComponent</span>\n      <span class=\"p\">],</span>\n    <span class=\"p\">})</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š</span>\n    <span class=\"p\">.</span><span class=\"nx\">overrideComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">set</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"na\">useClass</span><span class=\"p\">:</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">},</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">compileComponents</span><span class=\"p\">();</span>\n\n    <span class=\"nx\">fixture</span> <span class=\"o\">=</span> <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">createComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">);</span>\n    <span class=\"nx\">component</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">detectChanges</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">component</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n    <span class=\"p\">]);</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">const</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">nativeElement</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span><span class=\"p\">);</span>\n  <span class=\"p\">}));</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappmessagemessageservicespectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicespects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚<br>\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯<code>MockBackend</code>ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚<br>\nãªãŠ<code>Error</code>ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§<code>register</code>ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">HttpModule</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">,</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span><span class=\"p\">,</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MockConnection</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">RequestMethod</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message.service'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'MessageService'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MockError</span> <span class=\"kd\">extends</span> <span class=\"nx\">Response</span> <span class=\"kr\">implements</span> <span class=\"nb\">Error</span> <span class=\"p\">{</span>\n    <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n    <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">HttpModule</span><span class=\"p\">],</span>\n      <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n        <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">,</span>\n        <span class=\"na\">useFactory</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"k\">new</span> <span class=\"nx\">Http</span><span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">),</span>\n        <span class=\"na\">deps</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n      <span class=\"p\">},</span> <span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">service</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">})));</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'getAll'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">200</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockRespond</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">Response</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockError</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">MockError</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚'</span><span class=\"p\">);</span>\n      <span class=\"p\">},</span> <span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">});</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n  <span class=\"p\">});</span>\n\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚<br>\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚<br>\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯<a href=\"https://mochajs.org/\" rel=\"nofollow noopener\" target=\"_blank\">Mocha</a>ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"server_testappspectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#server_testappspects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚<br>\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®<code>spyOn</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">supertest</span> <span class=\"k\">from</span> <span class=\"s1\">'supertest'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/app'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/models/message'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">request</span> <span class=\"o\">=</span> <span class=\"nx\">supertest</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">endpoint</span> <span class=\"o\">=</span> <span class=\"s1\">'/api/messages'</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">messageAscending</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">,</span> <span class=\"nx\">m2</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&gt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&lt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({},</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'Get'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">);</span>\n        <span class=\"p\">}).</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"kd\">const</span> <span class=\"nx\">testData</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span> <span class=\"p\">},</span>\n      <span class=\"p\">];</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰</span>\n      <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">testData</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">erro</span> <span class=\"p\">,</span> <span class=\"nx\">doc</span> <span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n        <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n          <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">sortedMessages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">sort</span><span class=\"p\">(</span><span class=\"nx\">messageAscending</span><span class=\"p\">);</span>\n\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span><span class=\"p\">);</span>\n          <span class=\"p\">})</span>\n          <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹</span>\n      <span class=\"nx\">spyOn</span><span class=\"p\">(</span><span class=\"nx\">Message</span><span class=\"p\">,</span> <span class=\"s1\">'find'</span><span class=\"p\">).</span><span class=\"nx\">and</span><span class=\"p\">.</span><span class=\"nx\">callFake</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">),</span> <span class=\"kc\">null</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n          <span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">);</span>\n\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">);</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<p>E2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"packagejson\" class=\"fragment\"></span><a href=\"#packagejson\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson\" id=\"reference-fc6741a6eda3b7ffd9f1\">å‰å›</a>ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p test:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server_test/tsconfig.server_test.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server_test/test.server.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>test</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n<li>\n<strong>test:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server_test</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"server_testtestserverts\" class=\"fragment\"></span><a href=\"#server_testtestserverts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚<br>\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯<a href=\"https://www.npmjs.com/package/jasmine-spec-reporter\" rel=\"nofollow noopener\" target=\"_blank\">jasmine-spec-reporter</a>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">,</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'jasmine-spec-reporter'</span><span class=\"p\">;</span>\n<span class=\"kd\">const</span> <span class=\"nx\">Jasmine</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'jasmine'</span><span class=\"p\">);</span>\n<span class=\"k\">import</span> <span class=\"nx\">SuiteInfo</span> <span class=\"o\">=</span> <span class=\"nx\">jasmine</span><span class=\"p\">.</span><span class=\"nx\">SuiteInfo</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">config</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./test.server.conf'</span><span class=\"p\">;</span>\n\n\n<span class=\"kd\">class</span> <span class=\"nx\">CustomProcessor</span> <span class=\"kd\">extends</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">{</span>\n    <span class=\"kr\">public</span> <span class=\"nx\">displayJasmineStarted</span><span class=\"p\">(</span><span class=\"nx\">info</span><span class=\"p\">:</span> <span class=\"nx\">SuiteInfo</span><span class=\"p\">,</span> <span class=\"nx\">log</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">string</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"s2\">`TypeScript </span><span class=\"p\">${</span><span class=\"nx\">log</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">runner</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Jasmine</span><span class=\"p\">();</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">);</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">addReporter</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">({</span>\n    <span class=\"na\">customProcessors</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">CustomProcessor</span><span class=\"p\">],</span>\n<span class=\"p\">}));</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">onComplete</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">passed</span><span class=\"p\">){</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">passed</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Success'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"s1\">'Failed'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">execute</span><span class=\"p\">();</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtestserverconfts\" class=\"fragment\"></span><a href=\"#server_testtestserverconfts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.conf.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚<br>\næ³¨æ„ç‚¹ã¨ã—ã¦<code>spec_files</code>ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚<code>__dirname</code>ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.conf.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"na\">spec_dir</span><span class=\"p\">:</span> <span class=\"s1\">'.'</span><span class=\"p\">,</span>\n  <span class=\"na\">spec_files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">__dirname</span><span class=\"p\">}</span><span class=\"s2\">/*spec.js`</span>\n  <span class=\"p\">],</span>\n  <span class=\"s1\">'stopSpecOnExpectationFailure'</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"s1\">'random'</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtsconfigserver_testjson\" class=\"fragment\"></span><a href=\"#server_testtsconfigserver_testjson\"><i class=\"fa fa-link\"></i></a>server_test/tsconfig.server_test.json</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server_test.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"include\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"s2\">\"**/*.spec.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.conf.ts\"</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><code>outDir</code>ãŒ<code>../dist/server_test</code>ã§ã¯ãªã<code>../dist</code>ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br>\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯<code>server</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€<code>../dist/server_test</code>ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<h3>\n<span id=\"5-e2eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#5-e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ</h3>\n\n<p>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚<br>\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"e2eappe2e-spects\" class=\"fragment\"></span><a href=\"#e2eappe2e-spects\"><i class=\"fa fa-link\"></i></a>e2e/app.e2e-spec.ts</h4>\n\n<p>åŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.e2e-spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.po'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">browser</span><span class=\"p\">,</span> <span class=\"nx\">element</span><span class=\"p\">,</span> <span class=\"nx\">by</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'protractor'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'E2Eãƒ†ã‚¹ãƒˆ'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">let</span> <span class=\"na\">page</span><span class=\"p\">:</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">();</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">getParagraphText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§'</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">newMessage</span> <span class=\"o\">=</span> <span class=\"s2\">`ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ </span><span class=\"p\">${</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">toString</span><span class=\"p\">()}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">sendKeys</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessageButton'</span><span class=\"p\">)).</span><span class=\"nx\">click</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'messageList'</span><span class=\"p\">)).</span><span class=\"nx\">all</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">tagName</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">));</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">last</span><span class=\"p\">().</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"6-e2eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#6-e2e%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"packagejson-1\" class=\"fragment\"></span><a href=\"#packagejson-1\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p>Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"e2e\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s  webdriver:update -p webdriver:start protractor\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:update\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager update\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager start\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"protractor\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"protractor protractor.conf.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>e2e</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®<code>e2e</code>ã‚³ãƒãƒ³ãƒ‰(= <code>ng e2e</code>ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚<code>ngã€€e2e</code>ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:update</strong>ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:start</strong>ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>\n<li>\n<strong>protractor</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"protractorconfjs\" class=\"fragment\"></span><a href=\"#protractorconfjs\"><i class=\"fa fa-link\"></i></a>protractor.conf.js</h4>\n\n<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">protractor.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"p\">...</span>\n  <span class=\"na\">baseUrl</span><span class=\"p\">:</span> <span class=\"s1\">'http://localhost:3000/'</span><span class=\"p\">,</span>\n  <span class=\"p\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"7-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#7-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>7. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</li>\n</ul>\n</li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<h4>\n<span id=\"e2eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹</p>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run buildRun</code>ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>npm run e2e</code>ã™ã‚‹</p>\n\n<ul>\n<li>åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* [ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)\n* ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n## ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`npm test`ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\nã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/test)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»\u001c(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»\u001c(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»\u001c(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚\n\n##### (1-1) dist/server_test\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (2) server_test\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚\n\n##### (3) e2e\nE2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\n\n##### (4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«\nãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (5) protractor.conf.js\nE2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```\n$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n```\n\n* [`zone.js@0.8.12`](https://www.npmjs.com/package/zone.js)\n    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«`Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'`ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚[GitHubã®issues](https://github.com/angular/zone.js/issues/832)ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n* [`supertest`](https://www.npmjs.com/package/supertest)\n    * ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚\n\n### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯`ng test`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚\n\n#### src/app/app.component.spec.ts\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€`TestBed`ã®`overrideComponent`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚\n\n\n```js:app.component.spec.ts\nimport { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\nimport { FormsModule } from '@angular/forms';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\ndescribe('AppComponent', () => {\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component\n  let component: AppComponent;\n\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture\n  let fixture: ComponentFixture<AppComponent>;\n\n  // MessageServiceã®ãƒ¢ãƒƒã‚¯\n  class MessageServiceMock {\n    getAll(): Observable<any> {\n      const response =  { messages : [\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n      ]};\n\n      return Observable.from([response]);\n    }\n  }\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [ FormsModule ],\n      declarations: [\n        AppComponent\n      ],\n    })\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š\n    .overrideComponent(AppComponent, {\n      set: {\n        providers: [\n          { provide: MessageService, useClass: MessageServiceMock },\n        ]\n      }\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  }));\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(() => {\n    const app = fixture.debugElement.componentInstance;\n    expect(app).toBeTruthy();\n  }));\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹', async(() => {\n    expect(component.messages).toEqual([\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n    ]);\n  }));\n\n\n  it('ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹', async(() => {\n\n    const el = fixture.debugElement.nativeElement;\n\n    expect(el.querySelectorAll('li').length).toEqual(3);\n    expect(el.querySelectorAll('li')[0].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1');\n    expect(el.querySelectorAll('li')[1].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2');\n    expect(el.querySelectorAll('li')[2].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3');\n  }));\n});\n\n```\n\n\n#### src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯`MockBackend`ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚\nãªãŠ`Error`ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§`register`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport { TestBed, async, inject } from '@angular/core/testing';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from '@angular/http';\nimport {MockBackend, MockConnection} from '@angular/http/testing';\nimport { RequestMethod } from '@angular/http';\n\nimport { MessageService } from './message.service';\n\n\ndescribe('MessageService', () => {\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯\n  class MockError extends Response implements Error {\n    name: any;\n    message: any;\n  }\n\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [MessageService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\n    expect(service).toBeTruthy();\n  })));\n\n\n  describe('getAll', () => {\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  { messages : [\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]};\n\n        const ops = new ResponseOptions({\n          status: 200,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockRespond(new Response(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe((res) => {\n        expect(res.messages.length).toEqual(3);\n        expect(res.messages).toEqual([\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]);\n      });\n    })));\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  {\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        };\n\n        const ops = new ResponseOptions({\n          status: 500,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockError(new MockError(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe(() => {\n        fail('ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚');\n      }, res => {\n        expect(res).toEqual({\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        });\n      });\n    })));\n\n  });\n\n\n});\n```\n\n\n\n### 3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯[Mocha](https://mochajs.org/)ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\n\n#### server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®`spyOn`ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport * as supertest from 'supertest';\n\nimport app from '../server/app';\nimport { Message } from '../server/models/message';\n\n\ndescribe('/api/messages', () => {\n  const request = supertest(app);\n  const endpoint = '/api/messages';\n\n  const messageAscending = (m1, m2) => {\n    if (m1.message > m2.message) {\n      return 1;\n    }\n\n    if (m1.message < m2.message) {\n      return -1;\n    }\n\n    return 0;\n  };\n\n  // ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹\n  beforeEach(() => {\n    Message.remove({}, () => {});\n  });\n\n\n  describe('Get', () => {\n\n    it('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹', (done) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(200);\n        }).end(done);\n    });\n\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹', (done) => {\n\n      const testData = [\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“' },\n      ];\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰\n      Message.create(testData, (erro , doc ) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n        request.get(endpoint)\n          .expect((res) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n            const sortedMessages = res.body.messages.sort(messageAscending);\n\n            expect(sortedMessages.length).toEqual(3);\n            expect(sortedMessages[0].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘');\n            expect(sortedMessages[1].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’');\n            expect(sortedMessages[2].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“');\n          })\n          .end(done);\n      });\n    });\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', (done) => {\n\n      // ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹\n      spyOn(Message, 'find').and.callFake(function(callback) {\n        callback(new Error('ã‚¨ãƒ©ãƒ¼'), null);\n      });\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\n          // æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(500);\n\n          expect(res.body.title).toEqual('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');\n          expect(res.body.error).toEqual('ã‚¨ãƒ©ãƒ¼');\n        })\n        .end(done);\n    });\n\n  });\n});\n```\n\n\n\n### 4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\nE2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚\n\n\n#### package.json\n[å‰å›](http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson)ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"test\": \"run-p test:*\",\n    \"test:client\": \"ng test\",\n    \"test:server\": \"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\",\n    \"watch:server_test\": \"tsc -w -p ./server_test/tsconfig.server_test.json\",\n    \"boot:server_test\": \"nodemon ./dist/server_test/test.server.js\",\n    \"build:server_test\": \"tsc -p ./server/tsconfig.server.json\",\n    ...\n  },\n```\n\n\n* **test**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n* **test:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚\n* **watch:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server_test**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### server_test/test.server.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯[jasmine-spec-reporter](https://www.npmjs.com/package/jasmine-spec-reporter)ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚\n\n```js:test.server.ts\nimport { SpecReporter, DisplayProcessor } from 'jasmine-spec-reporter';\nconst Jasmine = require('jasmine');\nimport SuiteInfo = jasmine.SuiteInfo;\n\nimport { config } from './test.server.conf';\n\n\nclass CustomProcessor extends DisplayProcessor {\n    public displayJasmineStarted(info: SuiteInfo, log: string): string {\n        return `TypeScript ${log}`;\n    }\n}\n\nconst runner = new Jasmine();\nrunner.loadConfig(config);\nrunner.addReporter(new SpecReporter({\n    customProcessors: [CustomProcessor],\n}));\nrunner.onComplete(function(passed){\n  if ( passed ) {\n    console.log('Success');\n  } else {\n    console.error('Failed');\n  }\n});\n\nrunner.execute();\n```\n\n\n#### server_test/test.server.conf.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚\næ³¨æ„ç‚¹ã¨ã—ã¦`spec_files`ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚`__dirname`ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n\n```js:test.server.conf.ts\nexport const config = {\n  spec_dir: '.',\n  spec_files: [\n    `${__dirname}/*spec.js`\n  ],\n  'stopSpecOnExpectationFailure': false,\n  'random': false\n};\n```\n\n\n\n#### server_test/tsconfig.server_test.json\n\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\n\n```json:tsconfig.server_test.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist\",\n    \"mapRoot\": \"../dist\",\n    \"module\": \"commonjs\"\n  } ,\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"./test.server.ts\",\n    \"./test.server.conf.ts\"\n  ]\n}\n```\n\n`outDir`ãŒ`../dist/server_test`ã§ã¯ãªã`../dist`ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯`server`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€`../dist/server_test`ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\n\n```:\u001cï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n```\n```:\u001cï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n```\n\n\n### 5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\nå˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n#### e2e/app.e2e-spec.ts\nåŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚\n\n```js:app.e2e-spec.ts\nimport { Angular4Express4Typescritp2Page } from './app.po';\nimport { browser, element, by } from 'protractor';\n\n\ndescribe('E2Eãƒ†ã‚¹ãƒˆ', () => {\n  let page: Angular4Express4Typescritp2Page;\n\n  beforeEach(() => {\n    page = new Angular4Express4Typescritp2Page();\n  });\n\n  it('ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹', () => {\n    page.navigateTo();\n    expect(page.getParagraphText()).toEqual('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§');\n  });\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹', () => {\n    page.navigateTo();\n    const newMessage = `ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ${new Date().toString()}`;\n    element(by.id('registerMessage')).sendKeys(newMessage);\n\n    element(by.id('registerMessageButton')).click();\n\n    // ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹\n    expect(element(by.id('registerMessage')).getText()).toEqual('');\n\n    // ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹\n    const messages = element(by.id('messageList')).all(by.tagName('li'));\n    expect(messages.last().getText()).toEqual(newMessage);\n  });\n\n});\n```\n\n### 6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\n\n#### package.json\nAngular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"e2e\": \"npm-run-all -s  webdriver:update -p webdriver:start protractor\",\n    \"webdriver:update\": \"webdriver-manager update\",\n    \"webdriver:start\": \"webdriver-manager start\",\n    \"protractor\": \"protractor protractor.conf.js\",\n    ...\n  },\n```\n\n* **e2e**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®`e2e`ã‚³ãƒãƒ³ãƒ‰(= `ng e2e`ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚`ngã€€e2e`ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\n* **webdriver:update**ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚\n* **webdriver:start**ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n* **protractor**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### protractor.conf.js\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```js:protractor.conf.js\nexports.config = {\n  ...\n  baseUrl: 'http://localhost:3000/',\n  ...\n}\n```\n\n### 7. è©¦ã—ã¦ã¿ã‚‹\n#### å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm test`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\n\n\n#### E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚\n \n* ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹\n    * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run buildRun`ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n\n* `npm run e2e`ã™ã‚‹\n    * åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n","comments_count":0,"created_at":"2017-07-24T07:12:10+09:00","likes_count":9,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/bb5bc899-9dfd-5e67-bc4c-bc422ba8d176/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","date":"2017-07-19T02:06:59+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","MongoDB","Express","TypeScript","AngularJS","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"bb5bc899-9dfd-5e67-bc4c-bc422ba8d176","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li><a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\" id=\"reference-b35cd1a7f8ba1daaecd8\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a></li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼‘-ãƒ“ãƒ«ãƒ‰ç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%91-%E3%83%93%E3%83%AB%E3%83%89%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</h2>\n\n<p>Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/build\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€</p>\n\n<h5>\n<span id=\"1-1-distserver\" class=\"fragment\"></span><a href=\"#1-1-distserver\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server</h5>\n\n<p>ã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚<br>\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚<br>\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"1-2-distserverpublic\" class=\"fragment\"></span><a href=\"#1-2-distserverpublic\"><i class=\"fa fa-link\"></i></a>(1-2) dist/server/public</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚<br>\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"2-server\" class=\"fragment\"></span><a href=\"#2-server\"><i class=\"fa fa-link\"></i></a>(2) server</h5>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"3-src\" class=\"fragment\"></span><a href=\"#3-src\"><i class=\"fa fa-link\"></i></a>(3) src</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚<br>\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"4-proxyconfjson\" class=\"fragment\"></span><a href=\"#4-proxyconfjson\"><i class=\"fa fa-link\"></i></a>(4) proxy.conf.json</h5>\n\n<p><code>npm start</code>ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>\n<p>Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g @angular/cli\n</pre></div></div>\n</li>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ ng new sample\n$ cd sample\n$ npm install\n</pre></div></div>\n</li>\n<li>\n<p>Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n</p>\n<dd>\n<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/express\" rel=\"nofollow noopener\" target=\"_blank\"><code>express</code></a><br>\n    </dt>\n<dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noopener\" target=\"_blank\"><code>body-parser</code></a><br>\n    </dt>\n<dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/mongoose\" rel=\"nofollow noopener\" target=\"_blank\"><code>mongoose</code></a><br>\n    </dt>\n<dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/nodemon\" rel=\"nofollow noopener\" target=\"_blank\"><code>nodemon</code></a><br>\n    </dt>\n<dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/npm-run-all\" rel=\"nofollow noopener\" target=\"_blank\"><code>npm-run-all</code></a><br>\n    </dt>\n<dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸<br>\n</dd>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save express body-parser mongoose\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«<code>server</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"servermodelsmessagets\" class=\"fragment\"></span><a href=\"#servermodelsmessagets\"><i class=\"fa fa-link\"></i></a>server/models/message.ts</h4>\n\n<p>MongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Message</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'messages'</span><span class=\"p\">,</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">}</span>\n<span class=\"p\">}));</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverroutesmessagets\" class=\"fragment\"></span><a href=\"#serverroutesmessagets\"><i class=\"fa fa-link\"></i></a>server/routes/message.ts</h4>\n\n<p>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯<code>server/models/message.ts</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../models/message'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">messageRouter</span><span class=\"p\">:</span> <span class=\"nx\">Router</span> <span class=\"o\">=</span> <span class=\"nx\">Router</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">doc</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span><span class=\"na\">messages</span><span class=\"p\">:</span> <span class=\"nx\">doc</span><span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Message</span><span class=\"p\">({</span>\n    <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">((</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n      <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n      <span class=\"na\">obj</span><span class=\"p\">:</span> <span class=\"nx\">result</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverappts\" class=\"fragment\"></span><a href=\"#serverappts\"><i class=\"fa fa-link\"></i></a>server/app.ts</h4>\n\n<p>Expressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯<code>/api/messages</code>ã«è¨­å®šã—ã€<br>\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€<br>\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">express</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">path</span> <span class=\"k\">from</span> <span class=\"s1\">'path'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">bodyParser</span> <span class=\"k\">from</span> <span class=\"s1\">'body-parser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./routes/message'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MONGO_URL</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./config'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">class</span> <span class=\"nx\">App</span> <span class=\"p\">{</span>\n  <span class=\"kr\">public</span> <span class=\"nx\">express</span><span class=\"p\">:</span> <span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">Application</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">middleware</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">routes</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">middleware</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">());</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">urlencoded</span><span class=\"p\">({</span> <span class=\"na\">extended</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"p\">}));</span>\n    <span class=\"c1\">// æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nb\">Promise</span> <span class=\"o\">=</span> <span class=\"nb\">global</span><span class=\"p\">.</span><span class=\"nb\">Promise</span><span class=\"p\">;</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">MONGO_URL</span> <span class=\"o\">||</span> <span class=\"nx\">MONGO_URL</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">useMongoClient</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"p\">});</span>\n    <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'SIGINT'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">disconnect</span><span class=\"p\">();</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">routes</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kr\">static</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public'</span><span class=\"p\">)));</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"nx\">messageRouter</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">sendFile</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public/index.html'</span><span class=\"p\">));</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"k\">new</span> <span class=\"nx\">App</span><span class=\"p\">().</span><span class=\"nx\">express</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverbinwwwts\" class=\"fragment\"></span><a href=\"#serverbinwwwts\"><i class=\"fa fa-link\"></i></a>server/bin/www.ts</h4>\n\n<p>Node.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">www.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../config'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../app'</span><span class=\"p\">;</span>\n\n\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã®è¨­å®š.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">port</span> <span class=\"o\">=</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">PORT</span> <span class=\"o\">||</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">);</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">set</span><span class=\"p\">(</span><span class=\"s1\">'port'</span><span class=\"p\">,</span> <span class=\"nx\">port</span><span class=\"p\">);</span>\n\n\n<span class=\"c1\">// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">server</span> <span class=\"o\">=</span> <span class=\"nx\">http</span><span class=\"p\">.</span><span class=\"nx\">createServer</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"nx\">port</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">`API running on localhost:</span><span class=\"p\">${</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">));</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"nx\">onError</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'listening'</span><span class=\"p\">,</span> <span class=\"nx\">onListening</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">):</span> <span class=\"nx\">number</span><span class=\"o\">|</span><span class=\"nx\">string</span><span class=\"o\">|</span><span class=\"kr\">boolean</span>  <span class=\"p\">{</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">:</span> <span class=\"nx\">number</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">val</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"p\">:</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">isNaN</span><span class=\"p\">(</span><span class=\"nx\">normalizedPort</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">normalizedPort</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onError</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">):</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">syscall</span> <span class=\"o\">!==</span> <span class=\"s1\">'listen'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"k\">typeof</span> <span class=\"nx\">port</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span>\n    <span class=\"p\">?</span> <span class=\"s1\">'Pipe '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span>\n    <span class=\"p\">:</span> <span class=\"s1\">'Port '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span><span class=\"p\">;</span>\n\n  <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EACCES'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' requires elevated privileges'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EADDRINUSE'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' is already in use'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"nl\">default</span><span class=\"p\">:</span>\n      <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onListening</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">addr</span> <span class=\"o\">=</span> <span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">address</span><span class=\"p\">();</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">addr</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"s2\">`pipe </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">}</span><span class=\"s2\">`</span>\n    <span class=\"p\">:</span> <span class=\"s2\">`port </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">.</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverconfigts\" class=\"fragment\"></span><a href=\"#serverconfigts\"><i class=\"fa fa-link\"></i></a>server/config.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚<br>\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">config.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"o\">=</span> <span class=\"mi\">3000</span><span class=\"p\">;</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">MONGO_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'mongodb://localhost:27017/test'</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€<br>\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappmessagemessageservicets\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicets\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MessageService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">http</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n        <span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">regist</span><span class=\"p\">(</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n      <span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">message</span><span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponentts\" class=\"fragment\"></span><a href=\"#srcappappcomponentts\"><i class=\"fa fa-link\"></i></a>src/app/app.component.ts</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-root'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./app.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./app.component.css'</span><span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">MessageService</span> <span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">{</span>\n  <span class=\"nl\">messages</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n  <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">messageService</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">getMessages</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">;</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">registerMessage</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponenthtml\" class=\"fragment\"></span><a href=\"#srcappappcomponenthtml\"><i class=\"fa fa-link\"></i></a>src/app/app.component.html</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">id=</span><span class=\"s\">\"getMessagesButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">getMessages</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–<span class=\"nt\">&lt;/button&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">id=</span><span class=\"s\">\"messageList\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let item of messages\"</span><span class=\"nt\">&gt;</span>\n        {{item.message}}\n      <span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessage\"</span> <span class=\"err\">[(</span><span class=\"na\">ngModel</span><span class=\"err\">)]=\"</span><span class=\"na\">message</span><span class=\"err\">\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessageButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)='</span><span class=\"na\">registerMessage</span><span class=\"err\">()'</span><span class=\"nt\">&gt;</span>ç™»éŒ²<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappmodulets\" class=\"fragment\"></span><a href=\"#srcappappmodulets\"><i class=\"fa fa-link\"></i></a>src/app/app.module.ts</h4>\n\n<p>HttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">BrowserModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/platform-browser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">NgModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">HttpModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">AppComponent</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">BrowserModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">HttpModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">FormsModule</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">],</span>\n  <span class=\"na\">bootstrap</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">AppComponent</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E3%83%93%E3%83%AB%E3%83%89%E3%81%BE%E3%82%8F%E3%82%8A%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"pakcagejson\" class=\"fragment\"></span><a href=\"#pakcagejson\"><i class=\"fa fa-link\"></i></a>pakcage.json</h4>\n\n<p>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">\n  </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server -p start:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p watch:server boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server/bin/www.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build:server build:client\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng build --output-path=./dist/server/public\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"buildRun\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>start</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>start:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚</li>\n<li>\n<strong>start:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server</strong>ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build</strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>build:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹<code>/server/tsconfig.server.json</code>ã‚’ä½¿ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ<code>dist/server/public</code>ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>buildRun</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"servertsconfigserverjson\" class=\"fragment\"></span><a href=\"#servertsconfigserverjson\"><i class=\"fa fa-link\"></i></a>server/tsconfig.server.json</h4>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>outDir</code>ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"proxyconfjson\" class=\"fragment\"></span><a href=\"#proxyconfjson\"><i class=\"fa fa-link\"></i></a>proxy.conf.json</h4>\n\n<p><code>start</code>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©<br>\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>/api</code>å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">proxy.conf.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"/api\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"target\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://localhost:3000\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"secure\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"mongodbã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\" class=\"fragment\"></span><a href=\"#mongodb%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\"><i class=\"fa fa-link\"></i></a>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</h4>\n\n<p>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"5-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#5-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm start \n</pre></div></div>\n</li>\n<li><p>èµ·å‹•ã—ãŸã‚‰<code>http://localhost:4200</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<ul>\n<li>è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build\n</pre></div></div>\n</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯<code>http://localhost:3000</code>ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n<code>\n$ npm run buildRun\n</code>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ<a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a>ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* [ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n\n## ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/build)ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€\n\n##### (1-1) dist/server\nã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (1-2) dist/server/public\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚\n\n##### (2) server\nã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚\n\n##### (3) src\nãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (4) proxy.conf.json\n`npm start`ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚\n\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n* Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ npm install -g @angular/cli\n\t```\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ ng new sample\n\t$ cd sample\n\t$ npm install\n\t```\n\n* Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<dd>\n    <dt>[`express`](https://www.npmjs.com/package/express)\n        <dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n    <dt>[`body-parser`](https://www.npmjs.com/package/body-parser)\n        <dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼\n    <dt>[`mongoose`](https://www.npmjs.com/package/mongoose)\n        <dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API\n    <dt>[`nodemon`](https://www.npmjs.com/package/nodemon)\n        <dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«\n    <dt>[`npm-run-all`](https://www.npmjs.com/package/npm-run-all)\n        <dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n</dd>\n\n\t```\n\t$ npm install --save express body-parser mongoose\n\t$ npm install --save-dev @types/mongoose nodemon npm-run-all\n\t```\n\n\n\n### 2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nAngular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«`server`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n#### server/models/message.ts\nMongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as mongoose from 'mongoose';\n\nconst Message = mongoose.model('messages', new mongoose.Schema({\n  message: {type: String}\n}));\n\nexport { Message };\n```\n\n\n\n#### server/routes/message.ts\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯`server/models/message.ts`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as http from 'http';\nimport { Router, Response } from 'express';\nimport { Message } from '../models/message';\n\nconst messageRouter: Router = Router();\n\n// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹\nmessageRouter.get('/', (req, res, next) => {\n  Message.find(function(err, doc) {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({messages: doc});\n  });\n});\n\n// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹\nmessageRouter.post('/', (req, res, next) => {\n  const message = new Message({\n    message: req.body.message\n  });\n\n  message.save((err, result) => {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({\n      message: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚',\n      obj: result\n    });\n  });\n});\n\nexport { messageRouter };\n```\n\n\n#### server/app.ts\nExpressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯`/api/messages`ã«è¨­å®šã—ã€\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.ts\nimport * as express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as mongoose from 'mongoose';\n\nimport { messageRouter } from './routes/message';\nimport { MONGO_URL } from './config';\n\nclass App {\n  public express: express.Application;\n\n  constructor() {\n    this.express = express();\n    this.middleware();\n    this.routes();\n  }\n\n  private middleware(): void {\n    this.express.use(bodyParser.json());\n    this.express.use(bodyParser.urlencoded({ extended: false }));\n    // æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š\n    mongoose.Promise = global.Promise;\n    mongoose.connect(process.env.MONGO_URL || MONGO_URL, {\n      useMongoClient: true,\n    });\n    process.on('SIGINT', function() { mongoose.disconnect(); });\n  }\n\n  private routes(): void {\n    // é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.use(express.static(path.join(__dirname, 'public')));\n\n    this.express.use('/api/messages', messageRouter);\n\n    // ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'public/index.html'));\n    });\n  }\n}\n\nexport default new App().express;\n```\n\n\n#### server/bin/www\\.ts\nNode.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n```js:www.ts\nimport * as http from 'http';\nimport { SERVER_PORT } from '../config';\nimport app from '../app';\n\n\n\n// ãƒãƒ¼ãƒˆã®è¨­å®š.\nconst port = normalizePort(process.env.PORT || SERVER_PORT);\napp.set('port', port);\n\n\n// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.\nconst server = http.createServer(app);\nserver.listen(port, () => console.log(`API running on localhost:${port}`));\nserver.on('error', onError);\nserver.on('listening', onListening);\n\n// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.\nfunction normalizePort(val): number|string|boolean  {\n\n  const normalizedPort: number = (typeof val === 'string')\n    ? parseInt(val, 10)\n    : val;\n\n  if (isNaN(normalizedPort)) {\n    return val;\n  }\n\n  if (normalizedPort >= 0) {\n    return normalizedPort;\n  }\n\n  return false;\n}\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.\nfunction onError(error): void {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.\nfunction onListening(): void {\n  const addr = server.address();\n  const bind = (typeof addr === 'string')\n    ? `pipe ${addr}`\n    : `port ${addr.port}`;\n}\n```\n\n#### server/config.ts\nã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚\n\n```js:config.ts\nexport const SERVER_PORT = 3000;\nexport const MONGO_URL = 'mongodb://localhost:27017/test';\n```\n\n\n\n### 3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚\n\n\n#### src/app/message/message.service.ts\nã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚\n\n```js:message.service.ts\nimport { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class MessageService {\n\n  constructor(private http: Http) {}\n\n  getAll(): Observable<any> {\n    return this.http\n        .get('/api/messages')\n        .map((response: Response) => {\n            const result = response.json();\n            return result;\n        })\n        .catch((error: Response) => Observable.throw(error.json()));\n  }\n\n  regist(message: string): Observable<any> {\n    return this.http\n      .post('/api/messages', {message: message})\n      .map((response: Response) => {\n            const result = response.json();\n            return result;\n      })\n      .catch((error: Response) => Observable.throw(error.json()));\n  }\n}\n```\n\n\n\n\n\n#### src/app/app.component.ts\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚\n\n```js:app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { MessageService } from './message/message.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [ MessageService ]\n})\nexport class AppComponent {\n  messages: Array<any>;\n  message: string;\n\n  constructor(private messageService: MessageService) {\n    this.getMessages();\n  }\n\n  getMessages(): void {\n    this.messageService\n      .getAll()\n      .subscribe((res: any) => {\n        this.messages = res.messages;\n      });\n  }\n\n  registerMessage(): void {\n    if (!this.message) {\n      return;\n    }\n\n    this.messageService\n      .register(this.message)\n      .subscribe((res: any) => {\n        this.message = '';\n        this.getMessages();\n      });\n  }\n}\n```\n\n\n#### src/app/app.component.html\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚\n\n```html:app.component.html\n<div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</h1>\n    <button id=\"getMessagesButton\" (click)=\"getMessages()\">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–</button>\n    <ul id=\"messageList\">\n      <li *ngFor=\"let item of messages\">\n        {{item.message}}\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²</h1>\n    <input type=\"text\" id=\"registerMessage\" [(ngModel)]=\"message\" placeholder=\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\">\n    <button type=\"submit\" id=\"registerMessageButton\" (click)='registerMessage()'>ç™»éŒ²</button>\n  </div>\n</div>\n```\n#### src/app/app.module.ts\nHttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n\n```js:app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [MessageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n```\n\n\n### 4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\n\n#### pakcage.json\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)\n\n```json:package.json\n\n  \"scripts\": {\n    ...\n    \"start\": \"npm-run-all -s build:server -p start:*\",\n    \"start:client\": \"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\",\n    \"start:server\": \"run-p watch:server boot:server\",\n    \"watch:server\": \"tsc -w -p ./server/tsconfig.server.json\",\n    \"boot:server\": \"nodemon ./dist/server/bin/www.js\",\n    \"build\": \"run-s build:server build:client\",\n    \"build:client\": \"ng build --output-path=./dist/server/public\",\n    \"build:server\": \"tsc -p ./server/tsconfig.server.json\",\n    \"buildRun\": \"run-s build boot:server\",\n    ...\n  },\n```\n\n* **start**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **start:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚\n* **start:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **watch:server**ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\n* **build:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹`/server/tsconfig.server.json`ã‚’ä½¿ã„ã¾ã™ã€‚\n* **build:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ`dist/server/public`ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n* **buildRun**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n\n\n\n#### server/tsconfig.server.json\nã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`outDir`ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```json:tsconfig.server.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist/server\",\n    \"mapRoot\": \"../dist/server\",\n    \"module\": \"commonjs\"\n  }\n}\n```\n\n#### proxy.conf.json\n`start`ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`/api`å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\n\n```json:proxy.conf.json\n{\n  \"/api\": {\n    \"target\": \"http://localhost:3000\",\n    \"secure\": false\n  }\n}\n```\n\n#### MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\nå…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n\n\n### 5. è©¦ã—ã¦ã¿ã‚‹\n#### ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚\n\n\t```\n\t$ npm start \n\t```\n\n* èµ·å‹•ã—ãŸã‚‰`http://localhost:4200`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n* è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n\t```\n\t$ npm run build\n\t```\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯`http://localhost:3000`ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\t```\n\t$ npm run buildRun\n\t```\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ[ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n\n\n","comments_count":0,"created_at":"2017-07-19T02:06:59+09:00","likes_count":27,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/270e2fae-ed90-5539-8c90-a2ed93ebba83/","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","date":"2017-06-26T00:21:37+09:00","excerpt":"Asciidoctorã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚ãã“ã§ä»Šå›ã¯ã€Dockerã§...","tags":["JavaScript","å…¨æ–‡æ¤œç´¢","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","Fess","asciidoctor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"270e2fae-ed90-5539-8c90-a2ed93ebba83","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","rendered_body":"<p><a href=\"http://asciidoctor.org/\" rel=\"nofollow noopener\" target=\"_blank\">Asciidoctor</a>ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®<a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã‚’ç«‹ã¦ã¦ã€<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€<br>\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<p>å°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" alt=\"6æœˆ-24-2017 19-05-32.gif\" title=\"6æœˆ-24-2017 19-05-32.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif\"></a></p>\n\n<h2>\n<span id=\"fessã¨ã¯\" class=\"fragment\"></span><a href=\"#fess%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Fessã¨ã¯</h2>\n\n<p><a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã¯<strong>ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€</strong>ã§ã™ã€‚<br>\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å…¨ä½“åƒ\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å…¨ä½“åƒ</h2>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚<br>\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<p>ã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png\"></a></p>\n\n<h3>\n<span id=\"fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<p>Docker Hubã®<a href=\"https://hub.docker.com/r/codelibs/fess/\" rel=\"nofollow noopener\" target=\"_blank\">codelibs/fess</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯<a href=\"http://fess.codelibs.org/ja/11.2/install/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n</pre></div></div>\n\n<h3>\n<span id=\"fessã®è¨­å®š\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>Fessã®è¨­å®š</h3>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š</h4>\n\n<p><code>http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€<code>admin/admin</code>ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" alt=\"1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png\"></a><br>\n<br></p>\n\n<p>ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚¯ãƒ­ãƒ¼ãƒ©</code> &gt; <code>Web</code>ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" alt=\"2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®<code>+ã€€æ–°è¦ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" title=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png\"></a></p>\n\n<p>è¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<ul>\n<li>åå‰ \n\n<ul>\n<li>ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>URL \n\n<ul>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«<code>/</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜<code>URL</code>ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.*</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.+\\.html$</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>å€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<code>+ã€€ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A1%8C\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã§ã€€<code>ã‚·ã‚¹ãƒ†ãƒ </code> &gt; <code>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©</code> ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚<br>\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ <code>Default Crawler</code>ã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png\"></a><br>\n<br></p>\n\n<p><code>ä»Šã™ãé–‹å§‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" title=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png\"></a><br>\n<br></p>\n\n<p>ã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png\"></a><br>\n<br></p>\n\n<p>ã—ã°ã‚‰ãã—ã¦<code>F5</code>ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚<br>\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ<code>å®Ÿè¡Œä¸­</code>ã‹ã‚‰<code>æœ‰åŠ¹</code>ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</code>&gt;<code>ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±</code>ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png\"></a><br>\n<br></p>\n\n<p>ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png\"></a><br>\n<br></p>\n\n<p>ã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png\"></a><br>\n<br></p>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E7%94%A8web%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%82%92%E9%85%8D%E7%BD%AE\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®</h3>\n\n<p>å…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã®ï¼’ã¤ã§ã™ã€‚<br>\n<code>full-text-search.js</code>ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚<br>\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'use strict'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">=</span> <span class=\"s1\">'http://192.168.1.5:10084/json'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n\n    <span class=\"c1\">// ç›®æ¬¡ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#toc'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form id=\"search-form\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;div class=\"search-input-area\"&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-search left-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" /&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-close right-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-start\" type=\"hidden\" value=\"0\"/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-num\" type=\"hidden\" value=\"'</span> <span class=\"o\">+</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">+</span> <span class=\"s1\">'\"/&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$searchArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-form'</span><span class=\"p\">).</span><span class=\"nx\">submit</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".left-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"#search-query\"</span><span class=\"p\">).</span><span class=\"nx\">keyup</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$rightIcon</span> <span class=\"o\">=</span> <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">);</span>\n\n              <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">().</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#555'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>\n                     <span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n        <span class=\"p\">});</span>\n\n    <span class=\"c1\">// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#header&gt;h1'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">before</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-result-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-subheader\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-content\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s1\">'#remove-search-result'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">delegateTarget</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                    <span class=\"p\">})</span>\n                    <span class=\"c1\">// å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#prevPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#nextPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">doSearch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">){</span>\n      <span class=\"c1\">// æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">searchQuery</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-query'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()),</span>\n          <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-num'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">start</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"nx\">num</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—</span>\n      <span class=\"k\">switch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">navi</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">case</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">-=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"k\">case</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">+=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"nl\">default</span><span class=\"p\">:</span>\n        <span class=\"k\">case</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n          <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// URLã‚’æ§‹ç¯‰</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">+</span> <span class=\"s1\">'?callback=?'</span> <span class=\"o\">+</span> <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n                                     <span class=\"s1\">'&amp;q='</span> <span class=\"o\">+</span> <span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;start='</span> <span class=\"o\">+</span> <span class=\"nx\">start</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;num='</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</span>\n      <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n          <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"nx\">url</span><span class=\"p\">,</span>\n          <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"s1\">'jsonp'</span><span class=\"p\">,</span>\n          <span class=\"na\">success</span><span class=\"p\">:</span> <span class=\"nx\">renderSearchResult</span>\n      <span class=\"p\">});</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#searchNum'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">renderSearchResult</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¤œç´¢çµæœå‡¦ç†</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">dataResponse</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n      <span class=\"c1\">// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">status</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\"</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultSubheader</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">),</span>\n          <span class=\"nx\">$searchResultContent</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">),</span>\n          <span class=\"nx\">record_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">record_count</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœãŒãªã„å ´åˆ</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">record_count</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span>  <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// çµæœé ˜åŸŸã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultContent</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt;ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚'</span><span class=\"p\">;</span>\n\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">page_number</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_number</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_size</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_count</span><span class=\"p\">,</span>\n          <span class=\"nx\">startRange</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nx\">endRange</span> <span class=\"o\">=</span> <span class=\"nx\">page_number</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n          <span class=\"nx\">max</span><span class=\"p\">,</span>\n          <span class=\"nx\">offset</span> <span class=\"o\">=</span> <span class=\"nx\">startRange</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">offset</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n      <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt; ã®æ¤œç´¢çµæœ '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">record_count</span> <span class=\"o\">+</span> <span class=\"s2\">\" ä»¶ä¸­ \"</span> <span class=\"o\">+</span>  <span class=\"nx\">startRange</span> <span class=\"o\">+</span> <span class=\"s1\">' - '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">endRange</span> <span class=\"o\">+</span> <span class=\"s1\">' ä»¶ç›® ('</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">exec_time</span> <span class=\"o\">+</span> <span class=\"s1\">' ç§’)'</span> <span class=\"o\">+</span>\n                               <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢</span>\n      <span class=\"nx\">$searchResultContent</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢çµæœã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$resultBody</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;ol/&gt;\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">results</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">max</span> <span class=\"o\">=</span> <span class=\"nx\">results</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">max</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">element</span> <span class=\"o\">=</span>\n            <span class=\"s1\">'&lt;li&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;h4 class=\"title\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;a href=\"'</span> <span class=\"o\">+</span><span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">url_link</span> <span class=\"o\">+</span> <span class=\"s1\">'\"&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">title</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/a&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/h4&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div class=\"body\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">content_description</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;br/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;cite&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">site</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/cite&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/li&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$resultBody</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">$resultBody</span><span class=\"p\">.</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">pageArea</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div id=\"pageInfo\"&gt;'</span><span class=\"p\">,</span> <span class=\"nx\">page_number</span><span class=\"p\">,</span> <span class=\"s1\">'ãƒšãƒ¼ã‚¸ç›®&lt;br/&gt;'</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"prevPageLink\" href=\"#\"&gt;&amp;lt;&amp;lt;å‰ãƒšãƒ¼ã‚¸ã¸&lt;/a&gt; '</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&lt;</span> <span class=\"nx\">page_count</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"nextPageLink\" href=\"#\"&gt;æ¬¡ãƒšãƒ¼ã‚¸ã¸&amp;gt;&amp;gt;&lt;/a&gt;'</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">);</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.css</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">@charset</span> <span class=\"s1\">\"UTF-8\"</span><span class=\"p\">;</span>\n\n<span class=\"nf\">#search-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">relative</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* å…¥åŠ›é …ç›® */</span>\n<span class=\"nf\">#search-query</span> <span class=\"p\">{</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">100%</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">outline</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nt\">input</span><span class=\"nd\">:focus</span> <span class=\"p\">{</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#4d90fe</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">absolute</span><span class=\"p\">;</span>\n    <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">50%</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n    <span class=\"py\">font-sise</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */</span>\n    <span class=\"nl\">cursor</span><span class=\"p\">:</span><span class=\"nb\">pointer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span><span class=\"m\">#444</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1.4em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */</span>\n<span class=\"nf\">#search-result-area</span><span class=\"nc\">.show</span> <span class=\"p\">{</span>\n    <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#f8f8f7</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0px</span> <span class=\"nb\">solid</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E5%87%A6%E7%90%86%E3%82%92%E8%BF%BD%E5%8A%A0\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ </h3>\n\n<p>å‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã‚’ã€<br>\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\n<code>full-text-search.js</code>ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€<br>\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n</pre></div></div>\n\n<p><code>asciidoctor-sample.adoc</code>ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>++++\n&lt;link rel=\"stylesheet\" href=\"../full-text-search.css\"&gt;&lt;/link&gt;\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"../full-text-search.js\"&gt;&lt;/script&gt;\n++++\n</pre></div></div>\n\n<h3>\n<span id=\"å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª</h3>\n\n<p>ä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png\"></a><br>\n<br></p>\n\n<p>æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png\"></a><br>\n<br></p>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>Fessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"http://fess.codelibs.org/ja/articles/article-4.html#js\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨</a></li>\n<li><a href=\"http://qiita.com/cookienote/items/1f2443be25630a78d946\" id=\"reference-69c989703115d994be84\">å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™</a></li>\n</ul>\n","body":"[Asciidoctor](http://asciidoctor.org/)ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®[Fess](http://fess.codelibs.org/ja/)ã‚’ç«‹ã¦ã¦ã€\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\nå°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![6æœˆ-24-2017 19-05-32.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif \"6æœˆ-24-2017 19-05-32.gif\")\n\n\n## Fessã¨ã¯\n[Fess](http://fess.codelibs.org/ja/)ã¯**ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€**ã§ã™ã€‚\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚\n\n\n## å…¨ä½“åƒ\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\n![0_Fess_å…¨ä½“åƒ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png)\n\n![0_Fess_å…¨ä½“åƒ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png)\n\n## å°å…¥æ‰‹é †\nã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒ\u001cï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚\n\n![0_Fess_å…¨ä½“åƒ_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png)\n\n\n### Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nDocker Hubã®[codelibs/fess](https://hub.docker.com/r/codelibs/fess/)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯[Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](http://fess.codelibs.org/ja/11.2/install/index.html)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\n```\n$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n```\n\n### Fessã®è¨­å®š\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\n`http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€`admin/admin`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚\n![1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png)\n<br/>\n\nãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®`ã‚¯ãƒ­ãƒ¼ãƒ©` > `Web`ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚\n![2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®`+ã€€æ–°è¦ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png \"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\")\n\nè¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚\n\n* åå‰ \n    * ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n* URL \n    * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«`/`ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n* ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n    * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜`URL`ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€`URLã§è¨­å®šã—ãŸå€¤` + `.*` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n* æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n   * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€`URLã§è¨­å®šã—ãŸå€¤` + `.+\\.html$` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br/>\n<br/>\n\n\nå€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦`+ã€€ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\nå·¦ãƒšã‚¤ãƒ³ã§ã€€`ã‚·ã‚¹ãƒ†ãƒ ` > `ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©` ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ `Default Crawler`ã‚’é¸æŠã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png)\n<br/>\n\n`ä»Šã™ãé–‹å§‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png \"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\")\n<br/>\n\nã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png)\n<br/>\n\nã—ã°ã‚‰ãã—ã¦`F5`ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ`å®Ÿè¡Œä¸­`ã‹ã‚‰`æœ‰åŠ¹`ã«ãªã‚Šã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\nå·¦ãƒšã‚¤ãƒ³ã®`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±`>`ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±`ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\")\n<br/>\n\n\nã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\")\n<br/>\n\nã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\")\n<br/>\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\nå…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯`full-text-search.js`ã¨`full-text-search.css`ã®ï¼’ã¤ã§ã™ã€‚\n`full-text-search.js`ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚\n\n```javascript:full-text-search.js\n$(function() {\n    'use strict';\n\n    // FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰\n    var FESS_JSON_ENDPOINT = 'http://192.168.1.5:10084/json';\n\n    // ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°\n    var COUNT_PAR_PAGE = 10;\n\n\n    // ç›®æ¬¡ã®\n    $('#toc')\n        // ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .prepend(\n            '<div id=\"search-area\">' +\n                '<form id=\"search-form\">' +\n                    '<div class=\"search-input-area\">' +\n                        '<i class=\"fa fa-search left-icon\"></i>' +\n                        '<input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" />' +\n                        '<i class=\"fa fa-close right-icon\"></i>' +\n                    '</div>' +\n                    '<input id=\"search-start\" type=\"hidden\" value=\"0\"/>' +\n                    '<input id=\"search-num\" type=\"hidden\" value=\"' + COUNT_PAR_PAGE + '\"/>' +\n                '<form>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            var $searchArea = $(this);\n\n            // å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find('#search-form').submit({navi:0}, doSearch);\n\n            // è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find(\".left-icon\").click({navi:0}, doSearch);\n\n            // æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€\n            $searchArea.find(\"#search-query\").keyup(function(){\n              var $this = $(this);\n              var $rightIcon = $this.parent().find(\".right-icon\");\n\n              if($this.val().length > 0) {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹\n                 $rightIcon.css('color','#555');\n              } else {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹\n                 $rightIcon.css('color','#ccc');\n              }\n            });\n\n            // Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€\n            $searchArea.find(\".right-icon\").click(function(){\n              // Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦\n              $(this).css('color','#ccc')\n                      // æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹\n                     .parent().find(\"input\").val('');\n            });\n        });\n\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®\n    $('#header>h1')\n        // ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .before(\n            '<div id=\"search-result-area\">' +\n                '<div id=\"search-result-subheader\"></div>' +\n                '<div id=\"search-result-content\"></div>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            $(this)\n                .find('#search-result-area')\n                    // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€\n                    .on(\"click\", '#remove-search-result', function(e) {\n                      var $searchResultArea = $(e.delegateTarget)\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹\n                      $searchResultArea.removeClass('show');\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹\n                      $searchResultArea.find('#search-result-subheader').empty();\n                      $searchResultArea.find('#search-result-content').empty();\n                    })\n                    // å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#prevPageLink\", {navi:-1}, doSearch)\n                    // æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#nextPageLink\", {navi:1}, doSearch);\n        });\n\n\n\n    /**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */\n    function doSearch(event){\n      // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—\n      var searchQuery = $.trim($('#search-query').val());\n      // ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„\n      if(searchQuery.length == 0) {\n        return false;\n      }\n\n\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—\n      var start = parseInt($('#search-start').val()),\n          num = parseInt($('#search-num').val());\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯\n      if(start < 0) {\n        start = 0;\n      }\n      // è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯\n      if(num < 1 || num > 100) {\n        num = 20;\n      }\n      // è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—\n      switch(event.data.navi) {\n        case -1:\n          // å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start -= num;\n          break;\n        case 1:\n          // æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start += num;\n          break;\n        default:\n        case 0:\n          start = 0;\n          break;\n      }\n\n\n      // URLã‚’æ§‹ç¯‰\n      var url = FESS_JSON_ENDPOINT + '?callback=?' + // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n                                     '&q=' + encodeURIComponent(searchQuery) +\n                                     '&start=' + start +\n                                     '&num=' + num;\n\n      // æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n      // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n      $.ajax({\n          url: url,\n          dataType: 'jsonp',\n          success: renderSearchResult\n      });\n\n\n      // ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°\n      $('#searchNum').val(num);\n\n      // ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•\n      $(document).scrollTop(0);\n\n      // ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™\n      return false;\n    };\n\n\n    /**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */\n    function renderSearchResult(data) {\n      // æ¤œç´¢çµæœå‡¦ç†\n      var dataResponse = data.response;\n      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n      if(dataResponse.status != 0) {\n        alert(\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n        return;\n      }\n\n      // æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹\n      $('#search-result-area').addClass('show');\n\n      var $searchResultSubheader = $('#search-result-subheader'),\n          $searchResultContent = $('#search-result-content'),\n          record_count = dataResponse.record_count;\n\n      // æ¤œç´¢çµæœãŒãªã„å ´åˆ\n      if(record_count == 0) {\n        // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n        $searchResultSubheader[0].innerHTML =  '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>';\n\n        // çµæœé ˜åŸŸã«å‡ºåŠ›\n        $searchResultContent[0].innerHTML = '<b>' + dataResponse.q + '</b>ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';\n\n        return;\n      }\n\n\n      // æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ\n      var page_number = dataResponse.page_number,\n          page_size = dataResponse.page_size,\n          page_count = dataResponse.page_count,\n          startRange = (page_number - 1) * page_size + 1,\n          endRange = page_number * page_size,\n          i = 0,\n          max,\n          offset = startRange - 1;\n\n      $('#search-start').val(offset);\n\n\n      // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n      $searchResultSubheader[0].innerHTML = '<b>' + dataResponse.q + '</b> ã®æ¤œç´¢çµæœ ' +\n                                record_count + \" ä»¶ä¸­ \" +  startRange + ' - ' +\n                                endRange + ' ä»¶ç›® (' + dataResponse.exec_time + ' ç§’)' +\n                               '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>'\n\n      // æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢\n      $searchResultContent.empty();\n\n\n      // æ¤œç´¢çµæœã®å‡ºåŠ›\n      var $resultBody = $(\"<ol/>\");\n      var results = dataResponse.result;\n      for(i = 0, max = results.length; i < max; i++) {\n        var element =\n            '<li>' +\n                '<h4 class=\"title\">' +\n                    '<a href=\"' +results[i].url_link + '\">' + results[i].title + '</a>' +\n                '</h4>' +\n                '<div class=\"body\">' +\n                    results[i].content_description +\n                    '<br/>' +\n                    '<cite>' + results[i].site + '</cite>' +\n                '</div>' +\n            '</li>';\n\n        $(element).appendTo($resultBody);\n      }\n      $resultBody.appendTo($searchResultContent);\n\n\n      // ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›\n      var pageArea = [];\n      pageArea.push('<div id=\"pageInfo\">', page_number, 'ãƒšãƒ¼ã‚¸ç›®<br/>');\n      if(page_number > 1) {\n        // å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"prevPageLink\" href=\"#\">&lt;&lt;å‰ãƒšãƒ¼ã‚¸ã¸</a> ');\n      }\n      if(page_number < page_count) {\n        // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"nextPageLink\" href=\"#\">æ¬¡ãƒšãƒ¼ã‚¸ã¸&gt;&gt;</a>');\n      }\n      pageArea.push('</div>');\n      $(pageArea.join(\"\")).appendTo($searchResultContent);\n    }\n});\n\n```\n\n\n```css:full-text-search.css\n@charset \"UTF-8\";\n\n#search-area {\n    margin-bottom: 1em;\n}\n\n.search-input-area {\n    position:relative;\n}\n\n/* å…¥åŠ›é …ç›® */\n#search-query {\n    padding: 0.7em 2em;\n    width: 100%;\n    color: black;\n    font-family: arial,sans-serif;\n    font-size: 1em;\n    border: 1px solid #ccc;\n    border-radius: 2em;\n    outline: 0;\n}\n\n.search-input-area input:focus {\n    border: 1px solid #4d90fe;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */\n.search-input-area .left-icon,\n.search-input-area .right-icon {\n    /* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */\n    position:absolute;\n    top: 50%;\n    margin-top: -0.5em;\n    font-sise: 1em;\n    /* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */\n    cursor:pointer;\n}\n\n.search-input-area .left-icon {\n    left: 0.7em;\n    color:#444;\n}\n\n.search-input-area .right-icon {\n    right: 0.7em;\n    /* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */\n    color: #ccc;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */\n.search-input-area .left-icon:hover,\n.search-input-area .right-icon:hover {\n    font-size: 1.4em;\n}\n\n\n.search-input-area .left-icon:hover {\n    left: 0.5em;\n}\n\n\n.search-input-area .right-icon:hover {\n    right: 0.5em;\n}\n\n/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */\n#search-result-area.show {\n    background: #f8f8f7;\n    border: 0px solid;\n    border-radius: 0.5em;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    padding: 1em;\n}\n\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \nå‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ`full-text-search.js`ã¨`full-text-search.css`ã‚’ã€\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\n`full-text-search.js`ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€\n\n```\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n```\n\n\n`asciidoctor-sample.adoc`ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n++++\n<link rel=\"stylesheet\" href=\"../full-text-search.css\"></link>\n<script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"></script>\n<script src=\"../full-text-search.js\"></script>\n++++\n```\n\n### å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\nä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png)\n<br/>\n\næ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png)\n<br/>\n\n\n## ã¾ã¨ã‚\nFessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚\n\n\n## å‚è€ƒ\n* [Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨](http://fess.codelibs.org/ja/articles/article-4.html#js)\n* [å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™](http://qiita.com/cookienote/items/1f2443be25630a78d946)\n\n","comments_count":0,"created_at":"2017-06-26T00:21:37+09:00","likes_count":21,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/b4c7d1b9-428f-569a-af40-527d89794a77/","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","date":"2017-12-20T02:36:27+09:00","excerpt":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!å¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚ã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€è‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?...","tags":["JavaScript","GitHub","TypeScript","chrome-extension","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"b4c7d1b9-428f-569a-af40-527d89794a77","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","rendered_body":"<p>Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!<br>\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚<br>\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€<br>\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„<br>\n<a href=\"https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension</a>ã‚’ä½œã‚Šã¾ã—ãŸã€‚<br>\n<strong>ãã®æ™‚ã«<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚</strong></p>\n\n<h2>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E9%9B%9B%E5%BD%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹</h2>\n\n<p>yomanã¨<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚</p>\n\n<ul>\n<li>\n<code>yoman</code>ã¨<code>generator-chrome-extension-kickstart-typescript</code>ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g yo generator-chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦<code>yo</code>ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n\n<ul>\n<li>\n<strong>What would you like to call this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å</li>\n</ul>\n</li>\n<li>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>How would you like to describe this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use UI Action?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€<code>No</code>,<code>Browser</code>,<code>Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>No</code> ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ</li>\n<li>\n<code>Browser</code> ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n<li>\n<code>Page</code> ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to override a chrome page?</strong>\n\n<ul>\n<li>Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€<code>No</code>,<code>Bookmarks Page</code>,<code>History Page</code>,<code>Newtab Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like more UI Features?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>Options Page</code> ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ</li>\n<li>\n<code>Devtools Page</code> ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ</li>\n<li>\n<code>Content Scripts</code> ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ</li>\n<li>\n<code>Omnibox</code> ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use permissions?</strong>\n\n<ul>\n<li>ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong>\n\n<ul>\n<li>Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>â€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ<br>\n<strong>What would you like to call this extension?</strong> =&gt; github-contributions-paint<br>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong> =&gt;  github-paint<br>\n<strong>How would you like to describe this extension?</strong> =&gt;  You can paint github contributions!<br>\n<strong>Would you like to use UI Action?</strong> =&gt; Browser<br>\n<strong>Would you like to override a chrome page?</strong> =&gt;  No<br>\n<strong>Would you like more UI Features?</strong> =&gt;  Content Scripts<br>\n<strong>Would you like to use permissions?</strong> =&gt;  Tabs<br>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong> =&gt;  Yes</p>\n\n<ul>\n<li>ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ</span></div>\n<div class=\"highlight\"><pre>github-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n</pre></div>\n</div>\n\n<ul>\n<li>æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install typescript --save-dev\n</pre></div></div>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==</p>\n\n<ul>\n<li>ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install gulp@3.9.0 --save-dev\n</pre></div></div>\n\n<p>â€»é–¢é€£ã™ã‚‹<a href=\"https://github.com/gulpjs/gulp/issues/1631\" rel=\"nofollow noopener\" target=\"_blank\">issue</a>ã€<a href=\"https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></p>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==</p>\n\n<h2>\n<span id=\"2-ä½œã£ãŸchrome-extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#2-%E4%BD%9C%E3%81%A3%E3%81%9Fchrome-extension%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹</h2>\n\n<p>é››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™</p>\n\n<ul>\n<li>ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run dev:chrome\n</pre></div></div>\n\n<ul>\n<li><p>Chromeã§<code>chrome://extensions</code>ã‚’é–‹ã„ã¦<code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" alt=\"æ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png\"></a></p></li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®<code>chrome</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" alt=\"æ“ä½œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png\"></a></p></li>\n<li><p>ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" alt=\"å‹•ä½œç¢ºèª1_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png\"></a></p></li>\n<li><p>ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" alt=\"å‹•ä½œç¢ºèª_11.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png\"></a></p></li>\n</ul>\n\n<h2>\n<span id=\"3-é–‹ç™ºä¸­ã«chrome-extensionã®å‹•ä½œç¢ºèªã™ã‚‹\" class=\"fragment\"></span><a href=\"#3-%E9%96%8B%E7%99%BA%E4%B8%AD%E3%81%ABchrome-extension%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹</h2>\n\n<p>é››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚<br>\n<code>npm run dev:chrome</code>ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚</p>\n\n<ul>\n<li>è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰</li>\n<li>æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n<a href=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" alt=\"é–‹ç™ºæ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png\"></a>\n</li>\n<li>Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹</li>\n</ul>\n\n<h2>\n<span id=\"4-ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\" class=\"fragment\"></span><a href=\"#4-%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F%E3%82%92%E4%BD%9C%E3%82%8B\"><i class=\"fa fa-link\"></i></a>4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹</h2>\n\n<p>ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚<br>\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚<br>\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"ã‚¢ã‚¤ã‚³ãƒ³\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\"><i class=\"fa fa-link\"></i></a>ã‚¢ã‚¤ã‚³ãƒ³</h3>\n\n<ul>\n<li>128x128\n\n<ul>\n<li>å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>48x48\n\n<ul>\n<li>æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>16x16\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"å®£ä¼ç”¨ç”»åƒ\" class=\"fragment\"></span><a href=\"#%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å®£ä¼ç”¨ç”»åƒ</h3>\n\n<ul>\n<li>440x280\n\n<ul>\n<li>å¿…é ˆ</li>\n</ul>\n</li>\n<li>920x680\n\n<ul>\n<li>å¤§ãã‚ã®ç”»åƒ</li>\n</ul>\n</li>\n<li>1400x560\n\n<ul>\n<li>ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"5-chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#5-chrome%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B9%E3%83%88%E3%82%A2%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹</h2>\n\n<ul>\n<li>é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€<code>manifest.json</code>ã¨<code>package.json</code>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">manifest.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build:chrome\n</pre></div></div>\n\n<ul>\n<li><p><a href=\"https://chrome.google.com/webstore/category/extensions\" rel=\"nofollow noopener\" target=\"_blank\">Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢</a>ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png\"></a></p></li>\n<li><p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§<code>æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png\"></a></p></li>\n<li><p><code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ </code>ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€<code>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png\"></a></p></li>\n<li><p>èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦<code>å¤‰æ›´ã‚’å…¬é–‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" alt=\"ç™»éŒ²_5.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png\"></a></p></li>\n<li><p>ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™</p></li>\n</ul>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚<br>\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€<br>\n<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚<br>\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„\n[è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension](https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja)ã‚’ä½œã‚Šã¾ã—ãŸã€‚\n**ãã®æ™‚ã«[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚**\n\n## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\nyomanã¨[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚\n\n* `yoman`ã¨`generator-chrome-extension-kickstart-typescript`ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install -g yo generator-chrome-extension-kickstart-typescript \n```\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦`yo`ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™\n\n```\n$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n```\n\n* ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n    * **What would you like to call this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å\n    * **And how would you call it if you only had 12 characters (short_name)?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™\n    * **How would you like to describe this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™\n    * **Would you like to use UI Action?**\n        * ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€`No`,`Browser`,`Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n            * `No` ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ\n            * `Browser` ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n            * `Page` ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n    * **Would you like to override a chrome page?**\n        * Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€`No`,`Bookmarks Page`,`History Page`,`Newtab Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n    * **Would you like more UI Features?**\n        * ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n            * `Options Page` ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ\n            * `Devtools Page` ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ\n            * `Content Scripts` ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ\n            * `Omnibox` ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ\n    * **Would you like to use permissions?**\n        * ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n    * **Would you like to install promo images for the Chrome Web Store?**\n        * Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™\n\n\nâ€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ\n**What would you like to call this extension?** => github-contributions-paint\n**And how would you call it if you only had 12 characters (short_name)?** =>  github-paint\n**How would you like to describe this extension?** =>  You can paint github contributions!\n**Would you like to use UI Action?** => Browser\n**Would you like to override a chrome page?** =>  No\n**Would you like more UI Features?** =>  Content Scripts\n**Would you like to use permissions?** =>  Tabs\n**Would you like to install promo images for the Chrome Web Store?** =>  Yes\n\n* ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™\n\n```:ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ\ngithub-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n```\n\n* æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install typescript --save-dev\n```\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==\n\n* ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚\n\n```\n$ npm install gulp@3.9.0 --save-dev\n```\n\n<small>â€»é–¢é€£ã™ã‚‹[issue](https://github.com/gulpjs/gulp/issues/1631)ã€[stackoverflow](https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp)</small>\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==\n## 2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\né››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™\n\n* ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™\n\n```\n$ npm run dev:chrome\n```\n\n* Chromeã§`chrome://extensions`ã‚’é–‹ã„ã¦`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![æ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png)\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®`chrome`ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ\n![æ“ä½œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png)\n\n* ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\n![å‹•ä½œç¢ºèª1_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png)\n\n\n* ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™\n![å‹•ä½œç¢ºèª_11.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png)\n\n\n## 3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹\né››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n`npm run dev:chrome`ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚\n\n* è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰\n* æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![é–‹ç™ºæ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png)\n* Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹\n\n## 4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\nã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚\n\n### ã‚¢ã‚¤ã‚³ãƒ³\n* 128x128\n    * å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 48x48\n    * æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 16x16\n    * ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨\n  \n### å®£ä¼ç”¨ç”»åƒ\n* 440x280\n    * å¿…é ˆ\n* 920x680\n    * å¤§ãã‚ã®ç”»åƒ\n* 1400x560\n    * ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ\n\n## 5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\n* é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€`manifest.json`ã¨`package.json`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™\n\n```json:manifest.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n```json:package.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n* ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™\n\n```\n$ npm run build:chrome\n```\n\n* [Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chrome.google.com/webstore/category/extensions)ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png)\n\n* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§`æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png)\n\n* `ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ `ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png)\n\n* èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦`å¤‰æ›´ã‚’å…¬é–‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![ç™»éŒ²_5.png](https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png)\n\n* ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€\n[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n","comments_count":5,"created_at":"2017-12-20T02:36:27+09:00","likes_count":48,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/7780e313-8bda-5534-99aa-37bf47e9deb3/","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","date":"2017-12-31T23:49:04+09:00","excerpt":"== 2018/4/7 è¿½è¨˜ ==========================================æœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€ãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚gitb...","tags":["JavaScript","chrome-extension","Docker","GitBucket","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"7780e313-8bda-5534-99aa-37bf47e9deb3","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","rendered_body":"<p>== 2018/4/7 è¿½è¨˜ ==========================================<br>\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€<br>\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚</p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-plugin</a></p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦<code>&lt;GITBUCKET_HOME&gt;/plugins/</code>ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚<br>\n== =======================================================</p>\n\n<p>Git Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€<br>\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>\n\n<p>Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>\n\n<ul>\n<li>\n<em>Chromeæ‹¡å¼µ</em>\n\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a></li>\n</ul>\n</li>\n<li>\n<em>Dockerã‚¤ãƒ¡ãƒ¼ã‚¸</em>\n\n<ul>\n<li><a href=\"https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-server</a></li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å°å…¥ã™ã‚‹ã¨\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B%E3%81%A8\"><i class=\"fa fa-link\"></i></a>å°å…¥ã™ã‚‹ã¨</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€<br>\n<a href=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png\"></a></p>\n\n<p>ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" alt=\"å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png\"></a></p>\n\n<p>ã¾ãŸissueä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-dockerå´\" class=\"fragment\"></span><a href=\"#1-docker%E5%81%B4\"><i class=\"fa fa-link\"></i></a>1. Dockerå´</h3>\n\n<p>GitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡ä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚</p>\n\n<ul>\n<li>docker-compose.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"docker\">\n<div class=\"code-lang\"><span class=\"bold\">docker-compose.yml</span></div>\n<div class=\"highlight\"><pre>version: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n</pre></div>\n</div>\n\n<ul>\n<li>docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span>docker-compose up <span class=\"nt\">-d</span>\n</pre></div></div>\n\n<h3>\n<span id=\"2-gitbucketå´\" class=\"fragment\"></span><a href=\"#2-gitbucket%E5%81%B4\"><i class=\"fa fa-link\"></i></a>2. GitBucketå´</h3>\n\n<p>Chromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li><p>GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ &gt; Account Setting ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png\"></a><br>\n<br></p></li>\n<li><p>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ<code>Generate token</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png\"></a><br>\n<br></p></li>\n<li><p>ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰<br>\n<a href=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png\"></a></p></li>\n</ul>\n\n<h3>\n<span id=\"3-chrome-extensionå´\" class=\"fragment\"></span><a href=\"#3-chrome-extension%E5%81%B4\"><i class=\"fa fa-link\"></i></a>3. Chrome Extensionå´</h3>\n\n<ul>\n<li><p>Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§<a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n<a href=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png\"></a><br>\n<br></p></li>\n<li>\n<p>å³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—<code>Save</code>ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯</p>\n\n<ul>\n<li>\n<strong>gitbucket-issue-estimation-server URL</strong>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š <code>http://127.0.0.1:3000</code> </li>\n</ul>\n</li>\n<li>\n<strong>GitBucket Token</strong>\n\n<ul>\n<li>GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n<a href=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png\"></a>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å…·ä½“çš„ãªä»•çµ„ã¿\" class=\"fragment\"></span><a href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BB%95%E7%B5%84%E3%81%BF\"><i class=\"fa fa-link\"></i></a>å…·ä½“çš„ãªä»•çµ„ã¿</h2>\n\n<p>Dockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚<br>\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<p><strong>(1)</strong> ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥<br>\n<strong>(2)</strong> ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—<br>\n<strong>(3)</strong> ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" alt=\"å…¨ä½“åƒ.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png\"></a></p>\n\n<h2>\n<span id=\"chromeæ‹¡å¼µä½œæˆæ™‚ã«gitbucket-apiã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#chrome%E6%8B%A1%E5%BC%B5%E4%BD%9C%E6%88%90%E6%99%82%E3%81%ABgitbucket-api%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%A7%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨</h2>\n\n<p><a href=\"https://github.com/gitbucket/gitbucket/wiki/API-WebHook\" rel=\"nofollow noopener\" target=\"_blank\">GitBucketã®API</a>ã¯<a href=\"https://developer.github.com/v3/\" rel=\"nofollow noopener\" target=\"_blank\">Githubã®REST API v3</a>ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚</p>\n\n<h3>\n<span id=\"stateallãŒåŠ¹ã‹ãªã„\" class=\"fragment\"></span><a href=\"#stateall%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>state=all</code>ãŒåŠ¹ã‹ãªã„</h3>\n\n<p>æœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯<code>state=all</code>ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚<code>state=open</code>ã¨<code>state=closed</code>ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"per_pageãŒåŠ¹ã‹ãªã„1åº¦ã«25ä»¶ãŒæœ€å¤§\" class=\"fragment\"></span><a href=\"#per_page%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%841%E5%BA%A6%E3%81%AB25%E4%BB%B6%E3%81%8C%E6%9C%80%E5%A4%A7\"><i class=\"fa fa-link\"></i></a><code>per_page</code>ãŒåŠ¹ã‹ãªã„ï¼ˆ1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰</h4>\n\n<p>GitBucketã®APIã§ã¯<code>per_page</code>ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br>\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"closed_atã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—ã§ããªã„\" class=\"fragment\"></span><a href=\"#closed_at%E3%82%AF%E3%83%AD%E3%83%BC%E3%82%BA%E6%97%A5%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>closed_at</code>ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„</h4>\n\n<p>Chromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"-å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\" class=\"fragment\"></span><a href=\"#-%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"><i class=\"fa fa-link\"></i></a>â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ</h4>\n\n<ul>\n<li><a href=\"https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\" id=\"reference-1c197ca99a2ee070efac\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰</a></li>\n<li><a href=\"https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\" id=\"reference-7d56ea50a58cb24addc5\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰</a></li>\n</ul>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>æœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚</p>\n","body":"== 2018/4/7 è¿½è¨˜ ==========================================\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚\n\n[gitbucket-issue-estimation-plugin](https://github.com/Takumon/gitbucket-issue-estimation-plugin)\n\n[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1)ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦`<GITBUCKET_HOME>/plugins/`ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚\n== =======================================================\n\n\nGit Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n\n## ã¯ã˜ã‚ã«\n[GitBucket](https://gitbucket.github.io/)ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯\bChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\nChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n\n* *Chromeæ‹¡å¼µ*\n    * [gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)\n* *Dockerã‚¤ãƒ¡ãƒ¼ã‚¸*\n    * [gitbucket-issue-estimation-server](https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/)\n\n## å°å…¥ã™ã‚‹ã¨\n[GitBucket](https://gitbucket.github.io/)ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png)\n\n\bãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png)\n\nã¾ãŸ\bissue\bä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png)\n\n\n\n\n## å°å…¥æ‰‹é †\n### 1. Dockerå´\nGitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡\bä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚\n\n* \u001edocker-compose\b.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰\n\n```docker:docker-compose.yml\nversion: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n```\n\n* docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ\n\n```bash:\n$ docker-compose up -d\n```\n\n\n### 2. GitBucketå´\nChromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®\bãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\n\n* GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ > Account Setting\b ã‚’é¸æŠ\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png)\n<br>\n\n* å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ`Generate token`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png)\n<br>\n\n* ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png)\n\n\n### 3. Chrome Extensionå´\n* Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§[gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png)\n<br>\n\n* \bå³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—`Save`ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n    * **gitbucket-issue-estimation-server URL**\n        * ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š `http://127.0.0.1:3000` \n    * **GitBucket Token**\n        * GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png)\n<br>\n\n## å…·ä½“çš„ãªä»•çµ„ã¿\nDockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\n\n**(1)** ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥\n**(2)** ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—\n**(3)** ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤\n\n![å…¨ä½“åƒ.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png)\n\n\n\n## Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\n[GitBucketã®API](https://github.com/gitbucket/gitbucket/wiki/API-WebHook)ã¯[Githubã®REST API v3](https://developer.github.com/v3/)ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚\n\n### `state=all`ãŒåŠ¹ã‹ãªã„\næœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯`state=all`ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚`state=open`ã¨`state=closed`ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `per_page`ãŒåŠ¹ã‹ãªã„ï¼ˆ\b1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰\nGitBucketã®APIã§ã¯`per_page`ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `closed_at`ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„\nChromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚\n\n#### â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰](https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84)\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰](https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0)\n\n\n## ã¾ã¨ã‚\næœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚\n\n","comments_count":0,"created_at":"2017-12-31T23:49:04+09:00","likes_count":6,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"chrome-extension"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/5644c24e-eade-50ca-aa11-83a4eaeba122/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","date":"2017-07-24T07:12:10+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","jasmine","TypeScript","AngularJS","Protractor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"5644c24e-eade-50ca-aa11-83a4eaeba122","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\" id=\"reference-fc6741a6eda3b7ffd9f1\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a></li>\n<li>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼’-ãƒ†ã‚¹ãƒˆç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%92-%E3%83%86%E3%82%B9%E3%83%88%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</h2>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚<br>\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<p>ã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/test\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚</p>\n\n<h5>\n<span id=\"1-1-distserver_test\" class=\"fragment\"></span><a href=\"#1-1-distserver_test\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server_test</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚<br>\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"2-server_test\" class=\"fragment\"></span><a href=\"#2-server_test\"><i class=\"fa fa-link\"></i></a>(2) server_test</h5>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"3-e2e\" class=\"fragment\"></span><a href=\"#3-e2e\"><i class=\"fa fa-link\"></i></a>(3) e2e</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚</p>\n\n<h5>\n<span id=\"4-srcappé…ä¸‹ã®spectsãƒ•ã‚¡ã‚¤ãƒ«\" class=\"fragment\"></span><a href=\"#4-srcapp%E9%85%8D%E4%B8%8B%E3%81%AEspects%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"><i class=\"fa fa-link\"></i></a>(4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"5-protractorconfjs\" class=\"fragment\"></span><a href=\"#5-protractorconfjs\"><i class=\"fa fa-link\"></i></a>(5) protractor.conf.js</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚<br>\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://www.npmjs.com/package/zone.js\" rel=\"nofollow noopener\" target=\"_blank\"><code>zone.js@0.8.12</code></a>\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«<code>Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'</code>ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚<a href=\"https://github.com/angular/zone.js/issues/832\" rel=\"nofollow noopener\" target=\"_blank\">GitHubã®issues</a>ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.npmjs.com/package/supertest\" rel=\"nofollow noopener\" target=\"_blank\"><code>supertest</code></a>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappappcomponentspects\" class=\"fragment\"></span><a href=\"#srcappappcomponentspects\"><i class=\"fa fa-link\"></i></a>src/app/app.component.spec.ts</h4>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚<br>\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€<code>TestBed</code>ã®<code>overrideComponent</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">ComponentFixture</span><span class=\"p\">,</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'AppComponent'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component</span>\n  <span class=\"kd\">let</span> <span class=\"na\">component</span><span class=\"p\">:</span> <span class=\"nx\">AppComponent</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture</span>\n  <span class=\"kd\">let</span> <span class=\"na\">fixture</span><span class=\"p\">:</span> <span class=\"nx\">ComponentFixture</span><span class=\"o\">&lt;</span><span class=\"nx\">AppComponent</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">{</span>\n    <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">response</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n      <span class=\"p\">]};</span>\n\n      <span class=\"k\">return</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">([</span><span class=\"nx\">response</span><span class=\"p\">]);</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(</span><span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">],</span>\n      <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"nx\">AppComponent</span>\n      <span class=\"p\">],</span>\n    <span class=\"p\">})</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š</span>\n    <span class=\"p\">.</span><span class=\"nx\">overrideComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">set</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"na\">useClass</span><span class=\"p\">:</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">},</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">compileComponents</span><span class=\"p\">();</span>\n\n    <span class=\"nx\">fixture</span> <span class=\"o\">=</span> <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">createComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">);</span>\n    <span class=\"nx\">component</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">detectChanges</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">component</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n    <span class=\"p\">]);</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">const</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">nativeElement</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span><span class=\"p\">);</span>\n  <span class=\"p\">}));</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappmessagemessageservicespectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicespects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚<br>\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯<code>MockBackend</code>ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚<br>\nãªãŠ<code>Error</code>ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§<code>register</code>ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">HttpModule</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">,</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span><span class=\"p\">,</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MockConnection</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">RequestMethod</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message.service'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'MessageService'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MockError</span> <span class=\"kd\">extends</span> <span class=\"nx\">Response</span> <span class=\"kr\">implements</span> <span class=\"nb\">Error</span> <span class=\"p\">{</span>\n    <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n    <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">HttpModule</span><span class=\"p\">],</span>\n      <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n        <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">,</span>\n        <span class=\"na\">useFactory</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"k\">new</span> <span class=\"nx\">Http</span><span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">),</span>\n        <span class=\"na\">deps</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n      <span class=\"p\">},</span> <span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">service</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">})));</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'getAll'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">200</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockRespond</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">Response</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockError</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">MockError</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚'</span><span class=\"p\">);</span>\n      <span class=\"p\">},</span> <span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">});</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n  <span class=\"p\">});</span>\n\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚<br>\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚<br>\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯<a href=\"https://mochajs.org/\" rel=\"nofollow noopener\" target=\"_blank\">Mocha</a>ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"server_testappspectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#server_testappspects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚<br>\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®<code>spyOn</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">supertest</span> <span class=\"k\">from</span> <span class=\"s1\">'supertest'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/app'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/models/message'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">request</span> <span class=\"o\">=</span> <span class=\"nx\">supertest</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">endpoint</span> <span class=\"o\">=</span> <span class=\"s1\">'/api/messages'</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">messageAscending</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">,</span> <span class=\"nx\">m2</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&gt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&lt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({},</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'Get'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">);</span>\n        <span class=\"p\">}).</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"kd\">const</span> <span class=\"nx\">testData</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span> <span class=\"p\">},</span>\n      <span class=\"p\">];</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰</span>\n      <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">testData</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">erro</span> <span class=\"p\">,</span> <span class=\"nx\">doc</span> <span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n        <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n          <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">sortedMessages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">sort</span><span class=\"p\">(</span><span class=\"nx\">messageAscending</span><span class=\"p\">);</span>\n\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span><span class=\"p\">);</span>\n          <span class=\"p\">})</span>\n          <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹</span>\n      <span class=\"nx\">spyOn</span><span class=\"p\">(</span><span class=\"nx\">Message</span><span class=\"p\">,</span> <span class=\"s1\">'find'</span><span class=\"p\">).</span><span class=\"nx\">and</span><span class=\"p\">.</span><span class=\"nx\">callFake</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">),</span> <span class=\"kc\">null</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n          <span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">);</span>\n\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">);</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<p>E2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"packagejson\" class=\"fragment\"></span><a href=\"#packagejson\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson\" id=\"reference-fc6741a6eda3b7ffd9f1\">å‰å›</a>ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p test:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server_test/tsconfig.server_test.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server_test/test.server.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>test</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n<li>\n<strong>test:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server_test</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"server_testtestserverts\" class=\"fragment\"></span><a href=\"#server_testtestserverts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚<br>\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯<a href=\"https://www.npmjs.com/package/jasmine-spec-reporter\" rel=\"nofollow noopener\" target=\"_blank\">jasmine-spec-reporter</a>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">,</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'jasmine-spec-reporter'</span><span class=\"p\">;</span>\n<span class=\"kd\">const</span> <span class=\"nx\">Jasmine</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'jasmine'</span><span class=\"p\">);</span>\n<span class=\"k\">import</span> <span class=\"nx\">SuiteInfo</span> <span class=\"o\">=</span> <span class=\"nx\">jasmine</span><span class=\"p\">.</span><span class=\"nx\">SuiteInfo</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">config</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./test.server.conf'</span><span class=\"p\">;</span>\n\n\n<span class=\"kd\">class</span> <span class=\"nx\">CustomProcessor</span> <span class=\"kd\">extends</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">{</span>\n    <span class=\"kr\">public</span> <span class=\"nx\">displayJasmineStarted</span><span class=\"p\">(</span><span class=\"nx\">info</span><span class=\"p\">:</span> <span class=\"nx\">SuiteInfo</span><span class=\"p\">,</span> <span class=\"nx\">log</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">string</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"s2\">`TypeScript </span><span class=\"p\">${</span><span class=\"nx\">log</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">runner</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Jasmine</span><span class=\"p\">();</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">);</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">addReporter</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">({</span>\n    <span class=\"na\">customProcessors</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">CustomProcessor</span><span class=\"p\">],</span>\n<span class=\"p\">}));</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">onComplete</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">passed</span><span class=\"p\">){</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">passed</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Success'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"s1\">'Failed'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">execute</span><span class=\"p\">();</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtestserverconfts\" class=\"fragment\"></span><a href=\"#server_testtestserverconfts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.conf.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚<br>\næ³¨æ„ç‚¹ã¨ã—ã¦<code>spec_files</code>ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚<code>__dirname</code>ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.conf.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"na\">spec_dir</span><span class=\"p\">:</span> <span class=\"s1\">'.'</span><span class=\"p\">,</span>\n  <span class=\"na\">spec_files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">__dirname</span><span class=\"p\">}</span><span class=\"s2\">/*spec.js`</span>\n  <span class=\"p\">],</span>\n  <span class=\"s1\">'stopSpecOnExpectationFailure'</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"s1\">'random'</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtsconfigserver_testjson\" class=\"fragment\"></span><a href=\"#server_testtsconfigserver_testjson\"><i class=\"fa fa-link\"></i></a>server_test/tsconfig.server_test.json</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server_test.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"include\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"s2\">\"**/*.spec.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.conf.ts\"</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><code>outDir</code>ãŒ<code>../dist/server_test</code>ã§ã¯ãªã<code>../dist</code>ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br>\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯<code>server</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€<code>../dist/server_test</code>ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<h3>\n<span id=\"5-e2eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#5-e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ</h3>\n\n<p>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚<br>\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"e2eappe2e-spects\" class=\"fragment\"></span><a href=\"#e2eappe2e-spects\"><i class=\"fa fa-link\"></i></a>e2e/app.e2e-spec.ts</h4>\n\n<p>åŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.e2e-spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.po'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">browser</span><span class=\"p\">,</span> <span class=\"nx\">element</span><span class=\"p\">,</span> <span class=\"nx\">by</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'protractor'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'E2Eãƒ†ã‚¹ãƒˆ'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">let</span> <span class=\"na\">page</span><span class=\"p\">:</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">();</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">getParagraphText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§'</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">newMessage</span> <span class=\"o\">=</span> <span class=\"s2\">`ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ </span><span class=\"p\">${</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">toString</span><span class=\"p\">()}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">sendKeys</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessageButton'</span><span class=\"p\">)).</span><span class=\"nx\">click</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'messageList'</span><span class=\"p\">)).</span><span class=\"nx\">all</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">tagName</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">));</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">last</span><span class=\"p\">().</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"6-e2eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#6-e2e%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"packagejson-1\" class=\"fragment\"></span><a href=\"#packagejson-1\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p>Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"e2e\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s  webdriver:update -p webdriver:start protractor\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:update\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager update\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager start\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"protractor\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"protractor protractor.conf.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>e2e</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®<code>e2e</code>ã‚³ãƒãƒ³ãƒ‰(= <code>ng e2e</code>ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚<code>ngã€€e2e</code>ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:update</strong>ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:start</strong>ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>\n<li>\n<strong>protractor</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"protractorconfjs\" class=\"fragment\"></span><a href=\"#protractorconfjs\"><i class=\"fa fa-link\"></i></a>protractor.conf.js</h4>\n\n<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">protractor.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"p\">...</span>\n  <span class=\"na\">baseUrl</span><span class=\"p\">:</span> <span class=\"s1\">'http://localhost:3000/'</span><span class=\"p\">,</span>\n  <span class=\"p\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"7-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#7-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>7. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</li>\n</ul>\n</li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<h4>\n<span id=\"e2eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹</p>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run buildRun</code>ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>npm run e2e</code>ã™ã‚‹</p>\n\n<ul>\n<li>åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* [ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)\n* ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n## ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`npm test`ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\nã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/test)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»\u001c(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»\u001c(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»\u001c(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚\n\n##### (1-1) dist/server_test\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (2) server_test\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚\n\n##### (3) e2e\nE2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\n\n##### (4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«\nãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (5) protractor.conf.js\nE2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```\n$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n```\n\n* [`zone.js@0.8.12`](https://www.npmjs.com/package/zone.js)\n    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«`Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'`ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚[GitHubã®issues](https://github.com/angular/zone.js/issues/832)ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n* [`supertest`](https://www.npmjs.com/package/supertest)\n    * ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚\n\n### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯`ng test`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚\n\n#### src/app/app.component.spec.ts\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€`TestBed`ã®`overrideComponent`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚\n\n\n```js:app.component.spec.ts\nimport { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\nimport { FormsModule } from '@angular/forms';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\ndescribe('AppComponent', () => {\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component\n  let component: AppComponent;\n\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture\n  let fixture: ComponentFixture<AppComponent>;\n\n  // MessageServiceã®ãƒ¢ãƒƒã‚¯\n  class MessageServiceMock {\n    getAll(): Observable<any> {\n      const response =  { messages : [\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n      ]};\n\n      return Observable.from([response]);\n    }\n  }\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [ FormsModule ],\n      declarations: [\n        AppComponent\n      ],\n    })\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š\n    .overrideComponent(AppComponent, {\n      set: {\n        providers: [\n          { provide: MessageService, useClass: MessageServiceMock },\n        ]\n      }\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  }));\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(() => {\n    const app = fixture.debugElement.componentInstance;\n    expect(app).toBeTruthy();\n  }));\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹', async(() => {\n    expect(component.messages).toEqual([\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n    ]);\n  }));\n\n\n  it('ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹', async(() => {\n\n    const el = fixture.debugElement.nativeElement;\n\n    expect(el.querySelectorAll('li').length).toEqual(3);\n    expect(el.querySelectorAll('li')[0].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1');\n    expect(el.querySelectorAll('li')[1].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2');\n    expect(el.querySelectorAll('li')[2].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3');\n  }));\n});\n\n```\n\n\n#### src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯`MockBackend`ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚\nãªãŠ`Error`ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§`register`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport { TestBed, async, inject } from '@angular/core/testing';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from '@angular/http';\nimport {MockBackend, MockConnection} from '@angular/http/testing';\nimport { RequestMethod } from '@angular/http';\n\nimport { MessageService } from './message.service';\n\n\ndescribe('MessageService', () => {\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯\n  class MockError extends Response implements Error {\n    name: any;\n    message: any;\n  }\n\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [MessageService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\n    expect(service).toBeTruthy();\n  })));\n\n\n  describe('getAll', () => {\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  { messages : [\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]};\n\n        const ops = new ResponseOptions({\n          status: 200,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockRespond(new Response(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe((res) => {\n        expect(res.messages.length).toEqual(3);\n        expect(res.messages).toEqual([\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]);\n      });\n    })));\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  {\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        };\n\n        const ops = new ResponseOptions({\n          status: 500,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockError(new MockError(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe(() => {\n        fail('ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚');\n      }, res => {\n        expect(res).toEqual({\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        });\n      });\n    })));\n\n  });\n\n\n});\n```\n\n\n\n### 3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯[Mocha](https://mochajs.org/)ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\n\n#### server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®`spyOn`ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport * as supertest from 'supertest';\n\nimport app from '../server/app';\nimport { Message } from '../server/models/message';\n\n\ndescribe('/api/messages', () => {\n  const request = supertest(app);\n  const endpoint = '/api/messages';\n\n  const messageAscending = (m1, m2) => {\n    if (m1.message > m2.message) {\n      return 1;\n    }\n\n    if (m1.message < m2.message) {\n      return -1;\n    }\n\n    return 0;\n  };\n\n  // ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹\n  beforeEach(() => {\n    Message.remove({}, () => {});\n  });\n\n\n  describe('Get', () => {\n\n    it('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹', (done) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(200);\n        }).end(done);\n    });\n\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹', (done) => {\n\n      const testData = [\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“' },\n      ];\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰\n      Message.create(testData, (erro , doc ) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n        request.get(endpoint)\n          .expect((res) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n            const sortedMessages = res.body.messages.sort(messageAscending);\n\n            expect(sortedMessages.length).toEqual(3);\n            expect(sortedMessages[0].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘');\n            expect(sortedMessages[1].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’');\n            expect(sortedMessages[2].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“');\n          })\n          .end(done);\n      });\n    });\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', (done) => {\n\n      // ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹\n      spyOn(Message, 'find').and.callFake(function(callback) {\n        callback(new Error('ã‚¨ãƒ©ãƒ¼'), null);\n      });\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\n          // æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(500);\n\n          expect(res.body.title).toEqual('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');\n          expect(res.body.error).toEqual('ã‚¨ãƒ©ãƒ¼');\n        })\n        .end(done);\n    });\n\n  });\n});\n```\n\n\n\n### 4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\nE2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚\n\n\n#### package.json\n[å‰å›](http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson)ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"test\": \"run-p test:*\",\n    \"test:client\": \"ng test\",\n    \"test:server\": \"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\",\n    \"watch:server_test\": \"tsc -w -p ./server_test/tsconfig.server_test.json\",\n    \"boot:server_test\": \"nodemon ./dist/server_test/test.server.js\",\n    \"build:server_test\": \"tsc -p ./server/tsconfig.server.json\",\n    ...\n  },\n```\n\n\n* **test**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n* **test:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚\n* **watch:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server_test**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### server_test/test.server.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯[jasmine-spec-reporter](https://www.npmjs.com/package/jasmine-spec-reporter)ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚\n\n```js:test.server.ts\nimport { SpecReporter, DisplayProcessor } from 'jasmine-spec-reporter';\nconst Jasmine = require('jasmine');\nimport SuiteInfo = jasmine.SuiteInfo;\n\nimport { config } from './test.server.conf';\n\n\nclass CustomProcessor extends DisplayProcessor {\n    public displayJasmineStarted(info: SuiteInfo, log: string): string {\n        return `TypeScript ${log}`;\n    }\n}\n\nconst runner = new Jasmine();\nrunner.loadConfig(config);\nrunner.addReporter(new SpecReporter({\n    customProcessors: [CustomProcessor],\n}));\nrunner.onComplete(function(passed){\n  if ( passed ) {\n    console.log('Success');\n  } else {\n    console.error('Failed');\n  }\n});\n\nrunner.execute();\n```\n\n\n#### server_test/test.server.conf.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚\næ³¨æ„ç‚¹ã¨ã—ã¦`spec_files`ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚`__dirname`ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n\n```js:test.server.conf.ts\nexport const config = {\n  spec_dir: '.',\n  spec_files: [\n    `${__dirname}/*spec.js`\n  ],\n  'stopSpecOnExpectationFailure': false,\n  'random': false\n};\n```\n\n\n\n#### server_test/tsconfig.server_test.json\n\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\n\n```json:tsconfig.server_test.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist\",\n    \"mapRoot\": \"../dist\",\n    \"module\": \"commonjs\"\n  } ,\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"./test.server.ts\",\n    \"./test.server.conf.ts\"\n  ]\n}\n```\n\n`outDir`ãŒ`../dist/server_test`ã§ã¯ãªã`../dist`ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯`server`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€`../dist/server_test`ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\n\n```:\u001cï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n```\n```:\u001cï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n```\n\n\n### 5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\nå˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n#### e2e/app.e2e-spec.ts\nåŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚\n\n```js:app.e2e-spec.ts\nimport { Angular4Express4Typescritp2Page } from './app.po';\nimport { browser, element, by } from 'protractor';\n\n\ndescribe('E2Eãƒ†ã‚¹ãƒˆ', () => {\n  let page: Angular4Express4Typescritp2Page;\n\n  beforeEach(() => {\n    page = new Angular4Express4Typescritp2Page();\n  });\n\n  it('ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹', () => {\n    page.navigateTo();\n    expect(page.getParagraphText()).toEqual('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§');\n  });\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹', () => {\n    page.navigateTo();\n    const newMessage = `ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ${new Date().toString()}`;\n    element(by.id('registerMessage')).sendKeys(newMessage);\n\n    element(by.id('registerMessageButton')).click();\n\n    // ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹\n    expect(element(by.id('registerMessage')).getText()).toEqual('');\n\n    // ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹\n    const messages = element(by.id('messageList')).all(by.tagName('li'));\n    expect(messages.last().getText()).toEqual(newMessage);\n  });\n\n});\n```\n\n### 6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\n\n#### package.json\nAngular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"e2e\": \"npm-run-all -s  webdriver:update -p webdriver:start protractor\",\n    \"webdriver:update\": \"webdriver-manager update\",\n    \"webdriver:start\": \"webdriver-manager start\",\n    \"protractor\": \"protractor protractor.conf.js\",\n    ...\n  },\n```\n\n* **e2e**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®`e2e`ã‚³ãƒãƒ³ãƒ‰(= `ng e2e`ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚`ngã€€e2e`ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\n* **webdriver:update**ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚\n* **webdriver:start**ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n* **protractor**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### protractor.conf.js\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```js:protractor.conf.js\nexports.config = {\n  ...\n  baseUrl: 'http://localhost:3000/',\n  ...\n}\n```\n\n### 7. è©¦ã—ã¦ã¿ã‚‹\n#### å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm test`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\n\n\n#### E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚\n \n* ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹\n    * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run buildRun`ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n\n* `npm run e2e`ã™ã‚‹\n    * åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n","comments_count":0,"created_at":"2017-07-24T07:12:10+09:00","likes_count":9,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"TypeScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/bb5bc899-9dfd-5e67-bc4c-bc422ba8d176/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","date":"2017-07-19T02:06:59+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","MongoDB","Express","TypeScript","AngularJS","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"bb5bc899-9dfd-5e67-bc4c-bc422ba8d176","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li><a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\" id=\"reference-b35cd1a7f8ba1daaecd8\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a></li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼‘-ãƒ“ãƒ«ãƒ‰ç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%91-%E3%83%93%E3%83%AB%E3%83%89%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</h2>\n\n<p>Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/build\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€</p>\n\n<h5>\n<span id=\"1-1-distserver\" class=\"fragment\"></span><a href=\"#1-1-distserver\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server</h5>\n\n<p>ã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚<br>\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚<br>\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"1-2-distserverpublic\" class=\"fragment\"></span><a href=\"#1-2-distserverpublic\"><i class=\"fa fa-link\"></i></a>(1-2) dist/server/public</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚<br>\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"2-server\" class=\"fragment\"></span><a href=\"#2-server\"><i class=\"fa fa-link\"></i></a>(2) server</h5>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"3-src\" class=\"fragment\"></span><a href=\"#3-src\"><i class=\"fa fa-link\"></i></a>(3) src</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚<br>\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"4-proxyconfjson\" class=\"fragment\"></span><a href=\"#4-proxyconfjson\"><i class=\"fa fa-link\"></i></a>(4) proxy.conf.json</h5>\n\n<p><code>npm start</code>ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>\n<p>Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g @angular/cli\n</pre></div></div>\n</li>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ ng new sample\n$ cd sample\n$ npm install\n</pre></div></div>\n</li>\n<li>\n<p>Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n</p>\n<dd>\n<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/express\" rel=\"nofollow noopener\" target=\"_blank\"><code>express</code></a><br>\n    </dt>\n<dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noopener\" target=\"_blank\"><code>body-parser</code></a><br>\n    </dt>\n<dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/mongoose\" rel=\"nofollow noopener\" target=\"_blank\"><code>mongoose</code></a><br>\n    </dt>\n<dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/nodemon\" rel=\"nofollow noopener\" target=\"_blank\"><code>nodemon</code></a><br>\n    </dt>\n<dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/npm-run-all\" rel=\"nofollow noopener\" target=\"_blank\"><code>npm-run-all</code></a><br>\n    </dt>\n<dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸<br>\n</dd>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save express body-parser mongoose\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«<code>server</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"servermodelsmessagets\" class=\"fragment\"></span><a href=\"#servermodelsmessagets\"><i class=\"fa fa-link\"></i></a>server/models/message.ts</h4>\n\n<p>MongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Message</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'messages'</span><span class=\"p\">,</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">}</span>\n<span class=\"p\">}));</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverroutesmessagets\" class=\"fragment\"></span><a href=\"#serverroutesmessagets\"><i class=\"fa fa-link\"></i></a>server/routes/message.ts</h4>\n\n<p>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯<code>server/models/message.ts</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../models/message'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">messageRouter</span><span class=\"p\">:</span> <span class=\"nx\">Router</span> <span class=\"o\">=</span> <span class=\"nx\">Router</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">doc</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span><span class=\"na\">messages</span><span class=\"p\">:</span> <span class=\"nx\">doc</span><span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Message</span><span class=\"p\">({</span>\n    <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">((</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n      <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n      <span class=\"na\">obj</span><span class=\"p\">:</span> <span class=\"nx\">result</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverappts\" class=\"fragment\"></span><a href=\"#serverappts\"><i class=\"fa fa-link\"></i></a>server/app.ts</h4>\n\n<p>Expressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯<code>/api/messages</code>ã«è¨­å®šã—ã€<br>\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€<br>\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">express</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">path</span> <span class=\"k\">from</span> <span class=\"s1\">'path'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">bodyParser</span> <span class=\"k\">from</span> <span class=\"s1\">'body-parser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./routes/message'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MONGO_URL</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./config'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">class</span> <span class=\"nx\">App</span> <span class=\"p\">{</span>\n  <span class=\"kr\">public</span> <span class=\"nx\">express</span><span class=\"p\">:</span> <span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">Application</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">middleware</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">routes</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">middleware</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">());</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">urlencoded</span><span class=\"p\">({</span> <span class=\"na\">extended</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"p\">}));</span>\n    <span class=\"c1\">// æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nb\">Promise</span> <span class=\"o\">=</span> <span class=\"nb\">global</span><span class=\"p\">.</span><span class=\"nb\">Promise</span><span class=\"p\">;</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">MONGO_URL</span> <span class=\"o\">||</span> <span class=\"nx\">MONGO_URL</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">useMongoClient</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"p\">});</span>\n    <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'SIGINT'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">disconnect</span><span class=\"p\">();</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">routes</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kr\">static</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public'</span><span class=\"p\">)));</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"nx\">messageRouter</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">sendFile</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public/index.html'</span><span class=\"p\">));</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"k\">new</span> <span class=\"nx\">App</span><span class=\"p\">().</span><span class=\"nx\">express</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverbinwwwts\" class=\"fragment\"></span><a href=\"#serverbinwwwts\"><i class=\"fa fa-link\"></i></a>server/bin/www.ts</h4>\n\n<p>Node.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">www.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../config'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../app'</span><span class=\"p\">;</span>\n\n\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã®è¨­å®š.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">port</span> <span class=\"o\">=</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">PORT</span> <span class=\"o\">||</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">);</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">set</span><span class=\"p\">(</span><span class=\"s1\">'port'</span><span class=\"p\">,</span> <span class=\"nx\">port</span><span class=\"p\">);</span>\n\n\n<span class=\"c1\">// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">server</span> <span class=\"o\">=</span> <span class=\"nx\">http</span><span class=\"p\">.</span><span class=\"nx\">createServer</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"nx\">port</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">`API running on localhost:</span><span class=\"p\">${</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">));</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"nx\">onError</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'listening'</span><span class=\"p\">,</span> <span class=\"nx\">onListening</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">):</span> <span class=\"nx\">number</span><span class=\"o\">|</span><span class=\"nx\">string</span><span class=\"o\">|</span><span class=\"kr\">boolean</span>  <span class=\"p\">{</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">:</span> <span class=\"nx\">number</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">val</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"p\">:</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">isNaN</span><span class=\"p\">(</span><span class=\"nx\">normalizedPort</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">normalizedPort</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onError</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">):</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">syscall</span> <span class=\"o\">!==</span> <span class=\"s1\">'listen'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"k\">typeof</span> <span class=\"nx\">port</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span>\n    <span class=\"p\">?</span> <span class=\"s1\">'Pipe '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span>\n    <span class=\"p\">:</span> <span class=\"s1\">'Port '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span><span class=\"p\">;</span>\n\n  <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EACCES'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' requires elevated privileges'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EADDRINUSE'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' is already in use'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"nl\">default</span><span class=\"p\">:</span>\n      <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onListening</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">addr</span> <span class=\"o\">=</span> <span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">address</span><span class=\"p\">();</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">addr</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"s2\">`pipe </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">}</span><span class=\"s2\">`</span>\n    <span class=\"p\">:</span> <span class=\"s2\">`port </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">.</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverconfigts\" class=\"fragment\"></span><a href=\"#serverconfigts\"><i class=\"fa fa-link\"></i></a>server/config.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚<br>\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">config.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"o\">=</span> <span class=\"mi\">3000</span><span class=\"p\">;</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">MONGO_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'mongodb://localhost:27017/test'</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€<br>\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappmessagemessageservicets\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicets\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MessageService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">http</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n        <span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">regist</span><span class=\"p\">(</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n      <span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">message</span><span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponentts\" class=\"fragment\"></span><a href=\"#srcappappcomponentts\"><i class=\"fa fa-link\"></i></a>src/app/app.component.ts</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-root'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./app.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./app.component.css'</span><span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">MessageService</span> <span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">{</span>\n  <span class=\"nl\">messages</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n  <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">messageService</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">getMessages</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">;</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">registerMessage</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponenthtml\" class=\"fragment\"></span><a href=\"#srcappappcomponenthtml\"><i class=\"fa fa-link\"></i></a>src/app/app.component.html</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">id=</span><span class=\"s\">\"getMessagesButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">getMessages</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–<span class=\"nt\">&lt;/button&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">id=</span><span class=\"s\">\"messageList\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let item of messages\"</span><span class=\"nt\">&gt;</span>\n        {{item.message}}\n      <span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessage\"</span> <span class=\"err\">[(</span><span class=\"na\">ngModel</span><span class=\"err\">)]=\"</span><span class=\"na\">message</span><span class=\"err\">\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessageButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)='</span><span class=\"na\">registerMessage</span><span class=\"err\">()'</span><span class=\"nt\">&gt;</span>ç™»éŒ²<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappmodulets\" class=\"fragment\"></span><a href=\"#srcappappmodulets\"><i class=\"fa fa-link\"></i></a>src/app/app.module.ts</h4>\n\n<p>HttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">BrowserModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/platform-browser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">NgModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">HttpModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">AppComponent</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">BrowserModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">HttpModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">FormsModule</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">],</span>\n  <span class=\"na\">bootstrap</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">AppComponent</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E3%83%93%E3%83%AB%E3%83%89%E3%81%BE%E3%82%8F%E3%82%8A%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"pakcagejson\" class=\"fragment\"></span><a href=\"#pakcagejson\"><i class=\"fa fa-link\"></i></a>pakcage.json</h4>\n\n<p>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">\n  </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server -p start:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p watch:server boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server/bin/www.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build:server build:client\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng build --output-path=./dist/server/public\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"buildRun\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>start</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>start:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚</li>\n<li>\n<strong>start:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server</strong>ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build</strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>build:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹<code>/server/tsconfig.server.json</code>ã‚’ä½¿ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ<code>dist/server/public</code>ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>buildRun</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"servertsconfigserverjson\" class=\"fragment\"></span><a href=\"#servertsconfigserverjson\"><i class=\"fa fa-link\"></i></a>server/tsconfig.server.json</h4>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>outDir</code>ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"proxyconfjson\" class=\"fragment\"></span><a href=\"#proxyconfjson\"><i class=\"fa fa-link\"></i></a>proxy.conf.json</h4>\n\n<p><code>start</code>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©<br>\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>/api</code>å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">proxy.conf.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"/api\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"target\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://localhost:3000\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"secure\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"mongodbã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\" class=\"fragment\"></span><a href=\"#mongodb%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\"><i class=\"fa fa-link\"></i></a>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</h4>\n\n<p>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"5-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#5-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm start \n</pre></div></div>\n</li>\n<li><p>èµ·å‹•ã—ãŸã‚‰<code>http://localhost:4200</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<ul>\n<li>è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build\n</pre></div></div>\n</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯<code>http://localhost:3000</code>ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n<code>\n$ npm run buildRun\n</code>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ<a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a>ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* [ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n\n## ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/build)ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€\n\n##### (1-1) dist/server\nã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (1-2) dist/server/public\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚\n\n##### (2) server\nã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚\n\n##### (3) src\nãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (4) proxy.conf.json\n`npm start`ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚\n\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n* Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ npm install -g @angular/cli\n\t```\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ ng new sample\n\t$ cd sample\n\t$ npm install\n\t```\n\n* Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<dd>\n    <dt>[`express`](https://www.npmjs.com/package/express)\n        <dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n    <dt>[`body-parser`](https://www.npmjs.com/package/body-parser)\n        <dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼\n    <dt>[`mongoose`](https://www.npmjs.com/package/mongoose)\n        <dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API\n    <dt>[`nodemon`](https://www.npmjs.com/package/nodemon)\n        <dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«\n    <dt>[`npm-run-all`](https://www.npmjs.com/package/npm-run-all)\n        <dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n</dd>\n\n\t```\n\t$ npm install --save express body-parser mongoose\n\t$ npm install --save-dev @types/mongoose nodemon npm-run-all\n\t```\n\n\n\n### 2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nAngular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«`server`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n#### server/models/message.ts\nMongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as mongoose from 'mongoose';\n\nconst Message = mongoose.model('messages', new mongoose.Schema({\n  message: {type: String}\n}));\n\nexport { Message };\n```\n\n\n\n#### server/routes/message.ts\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯`server/models/message.ts`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as http from 'http';\nimport { Router, Response } from 'express';\nimport { Message } from '../models/message';\n\nconst messageRouter: Router = Router();\n\n// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹\nmessageRouter.get('/', (req, res, next) => {\n  Message.find(function(err, doc) {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({messages: doc});\n  });\n});\n\n// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹\nmessageRouter.post('/', (req, res, next) => {\n  const message = new Message({\n    message: req.body.message\n  });\n\n  message.save((err, result) => {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({\n      message: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚',\n      obj: result\n    });\n  });\n});\n\nexport { messageRouter };\n```\n\n\n#### server/app.ts\nExpressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯`/api/messages`ã«è¨­å®šã—ã€\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.ts\nimport * as express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as mongoose from 'mongoose';\n\nimport { messageRouter } from './routes/message';\nimport { MONGO_URL } from './config';\n\nclass App {\n  public express: express.Application;\n\n  constructor() {\n    this.express = express();\n    this.middleware();\n    this.routes();\n  }\n\n  private middleware(): void {\n    this.express.use(bodyParser.json());\n    this.express.use(bodyParser.urlencoded({ extended: false }));\n    // æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š\n    mongoose.Promise = global.Promise;\n    mongoose.connect(process.env.MONGO_URL || MONGO_URL, {\n      useMongoClient: true,\n    });\n    process.on('SIGINT', function() { mongoose.disconnect(); });\n  }\n\n  private routes(): void {\n    // é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.use(express.static(path.join(__dirname, 'public')));\n\n    this.express.use('/api/messages', messageRouter);\n\n    // ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'public/index.html'));\n    });\n  }\n}\n\nexport default new App().express;\n```\n\n\n#### server/bin/www\\.ts\nNode.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n```js:www.ts\nimport * as http from 'http';\nimport { SERVER_PORT } from '../config';\nimport app from '../app';\n\n\n\n// ãƒãƒ¼ãƒˆã®è¨­å®š.\nconst port = normalizePort(process.env.PORT || SERVER_PORT);\napp.set('port', port);\n\n\n// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.\nconst server = http.createServer(app);\nserver.listen(port, () => console.log(`API running on localhost:${port}`));\nserver.on('error', onError);\nserver.on('listening', onListening);\n\n// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.\nfunction normalizePort(val): number|string|boolean  {\n\n  const normalizedPort: number = (typeof val === 'string')\n    ? parseInt(val, 10)\n    : val;\n\n  if (isNaN(normalizedPort)) {\n    return val;\n  }\n\n  if (normalizedPort >= 0) {\n    return normalizedPort;\n  }\n\n  return false;\n}\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.\nfunction onError(error): void {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.\nfunction onListening(): void {\n  const addr = server.address();\n  const bind = (typeof addr === 'string')\n    ? `pipe ${addr}`\n    : `port ${addr.port}`;\n}\n```\n\n#### server/config.ts\nã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚\n\n```js:config.ts\nexport const SERVER_PORT = 3000;\nexport const MONGO_URL = 'mongodb://localhost:27017/test';\n```\n\n\n\n### 3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚\n\n\n#### src/app/message/message.service.ts\nã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚\n\n```js:message.service.ts\nimport { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class MessageService {\n\n  constructor(private http: Http) {}\n\n  getAll(): Observable<any> {\n    return this.http\n        .get('/api/messages')\n        .map((response: Response) => {\n            const result = response.json();\n            return result;\n        })\n        .catch((error: Response) => Observable.throw(error.json()));\n  }\n\n  regist(message: string): Observable<any> {\n    return this.http\n      .post('/api/messages', {message: message})\n      .map((response: Response) => {\n            const result = response.json();\n            return result;\n      })\n      .catch((error: Response) => Observable.throw(error.json()));\n  }\n}\n```\n\n\n\n\n\n#### src/app/app.component.ts\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚\n\n```js:app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { MessageService } from './message/message.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [ MessageService ]\n})\nexport class AppComponent {\n  messages: Array<any>;\n  message: string;\n\n  constructor(private messageService: MessageService) {\n    this.getMessages();\n  }\n\n  getMessages(): void {\n    this.messageService\n      .getAll()\n      .subscribe((res: any) => {\n        this.messages = res.messages;\n      });\n  }\n\n  registerMessage(): void {\n    if (!this.message) {\n      return;\n    }\n\n    this.messageService\n      .register(this.message)\n      .subscribe((res: any) => {\n        this.message = '';\n        this.getMessages();\n      });\n  }\n}\n```\n\n\n#### src/app/app.component.html\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚\n\n```html:app.component.html\n<div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</h1>\n    <button id=\"getMessagesButton\" (click)=\"getMessages()\">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–</button>\n    <ul id=\"messageList\">\n      <li *ngFor=\"let item of messages\">\n        {{item.message}}\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²</h1>\n    <input type=\"text\" id=\"registerMessage\" [(ngModel)]=\"message\" placeholder=\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\">\n    <button type=\"submit\" id=\"registerMessageButton\" (click)='registerMessage()'>ç™»éŒ²</button>\n  </div>\n</div>\n```\n#### src/app/app.module.ts\nHttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n\n```js:app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [MessageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n```\n\n\n### 4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\n\n#### pakcage.json\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)\n\n```json:package.json\n\n  \"scripts\": {\n    ...\n    \"start\": \"npm-run-all -s build:server -p start:*\",\n    \"start:client\": \"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\",\n    \"start:server\": \"run-p watch:server boot:server\",\n    \"watch:server\": \"tsc -w -p ./server/tsconfig.server.json\",\n    \"boot:server\": \"nodemon ./dist/server/bin/www.js\",\n    \"build\": \"run-s build:server build:client\",\n    \"build:client\": \"ng build --output-path=./dist/server/public\",\n    \"build:server\": \"tsc -p ./server/tsconfig.server.json\",\n    \"buildRun\": \"run-s build boot:server\",\n    ...\n  },\n```\n\n* **start**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **start:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚\n* **start:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **watch:server**ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\n* **build:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹`/server/tsconfig.server.json`ã‚’ä½¿ã„ã¾ã™ã€‚\n* **build:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ`dist/server/public`ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n* **buildRun**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n\n\n\n#### server/tsconfig.server.json\nã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`outDir`ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```json:tsconfig.server.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist/server\",\n    \"mapRoot\": \"../dist/server\",\n    \"module\": \"commonjs\"\n  }\n}\n```\n\n#### proxy.conf.json\n`start`ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`/api`å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\n\n```json:proxy.conf.json\n{\n  \"/api\": {\n    \"target\": \"http://localhost:3000\",\n    \"secure\": false\n  }\n}\n```\n\n#### MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\nå…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n\n\n### 5. è©¦ã—ã¦ã¿ã‚‹\n#### ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚\n\n\t```\n\t$ npm start \n\t```\n\n* èµ·å‹•ã—ãŸã‚‰`http://localhost:4200`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n* è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n\t```\n\t$ npm run build\n\t```\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯`http://localhost:3000`ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\t```\n\t$ npm run buildRun\n\t```\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ[ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n\n\n","comments_count":0,"created_at":"2017-07-19T02:06:59+09:00","likes_count":27,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"TypeScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/e0ec0869-f368-5083-bdc2-cdba9d59427a/","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","date":"2017-12-12T03:19:11+09:00","excerpt":"FUJITSU Advent Calendar 2017 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€ã“ã“ï¼”ãƒ¶æœˆã»ã©MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œ...","tags":["JavaScript","Node.js","Express","mongoose","Angular","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"e0ec0869-f368-5083-bdc2-cdba9d59427a","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","rendered_body":"<p><a href=\"https://qiita.com/advent-calendar/2017/fujitsu\">FUJITSU Advent Calendar 2017</a> 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>\n\n<p>ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€<br>\nã“ã“ï¼”ãƒ¶æœˆã»ã©<strong>MEAN</strong>ã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB+<strong>E</strong>xpress+<strong>A</strong>ngular+<strong>N</strong>ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚<br>\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\n\n<p>ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%B4%B9%E4%BB%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®ç´¹ä»‹</h2>\n\n<p>æœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)</p>\n\n<ul>\n<li><a href=\"https://github.com/Takumon/mean-blog\" rel=\"nofollow noopener\" target=\"_blank\">Github</a></li>\n<li><a href=\"https://hub.docker.com/r/takumon/mean-blog_auto/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerhub</a></li>\n<li>\n<a href=\"https://material-blog-demo.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‡ãƒ¢ç’°å¢ƒ</a> (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)</li>\n</ul>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)<br>\n<a href=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" alt=\"appdemo_detail.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)<br>\n<a href=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)<br>\n<a href=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png\"></a></p>\n\n<h1>\n<span id=\"1-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã¾ã‚ã‚Š\" class=\"fragment\"></span><a href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%BE%E3%82%8F%E3%82%8A\"><i class=\"fa fa-link\"></i></a>1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š</h1>\n\n<h2>\n<span id=\"angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#angular%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%82%8B%E6%99%82%E3%81%AB%E5%8F%A4%E3%81%84%E6%83%85%E5%A0%B1%E3%82%92%E9%99%A4%E5%A4%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„</h2>\n\n<p>1ç³»ã¯<code>AngularJS</code>ã€2ç³»ä»¥é™ã¯<code>Angular</code>ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚<br>\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯<code>Angualr2</code>ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚<code>--AngularJS</code>ã‚’ã¤ã‘ãŸã‚Šã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"htmlã®domè¦ç´ ã‚’åˆ¥ã®domè¦ç´ ã¾ãŸã¯componentã‹ã‚‰æ‰±ã„ãŸã„\" class=\"fragment\"></span><a href=\"#html%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%82%92%E5%88%A5%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%81%BE%E3%81%9F%E3%81%AFcomponent%E3%81%8B%E3%82%89%E6%89%B1%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>HTMLã®DOMè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„</h2>\n\n<p>è¦ç´ ã«<code>#xxxxx</code>ã®ã‚ˆã†ã«<code>#</code>å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®DOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"err\">#</span><span class=\"na\">phone</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"é›»è©±ç•ªå·\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"c\">&lt;!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"nt\">&gt;</span>(click)=\"callPhone(phone.value)\"&gt;\n</pre></div>\n</div>\n\n<p>Componentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯<code>@ViewChild</code>ã‚’ä½¿ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"c1\">// ViewChildã®å¼•æ•°ã«åå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™</span>\n  <span class=\"p\">@</span><span class=\"nd\">ViewChild</span><span class=\"p\">(</span><span class=\"s1\">'phone'</span><span class=\"p\">)</span> <span class=\"nx\">phoneElement</span><span class=\"p\">:</span> <span class=\"nx\">phoneElement</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">showPhoneValue</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">phoneElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n    <span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/template-syntax#ref-vars\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\" class=\"fragment\"></span><a href=\"#routing%E6%99%82%E3%81%AE%E8%AA%8D%E8%A8%BC%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„</h2>\n\n<p>URLã”ã¨ã®èªè¨¼ã¯<code>CanActivate</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€<br>\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚<br>\nãã®ã‚ˆã†ãªæ™‚ã¯ã€<strong><code>CanActivate#canActivate</code>ã§</strong>booleanã®ä»£ã‚ã‚Šã«<strong>Observableã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹</strong>ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleAuthGuard</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">CanActivate</span><span class=\"p\">,</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">RouterStateSnapshot</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/router'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AuthenticationService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./authentication.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleAuthGuard</span> <span class=\"kr\">implements</span> <span class=\"nx\">CanActivate</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span>\n    <span class=\"kr\">private</span> <span class=\"nx\">auth</span><span class=\"p\">:</span> <span class=\"nx\">AuthenticationService</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\">// booleanã§ã¯ãªãObservable&lt;boolean&gt;ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™</span>\n  <span class=\"nx\">canActivate</span><span class=\"p\">(</span><span class=\"nx\">route</span><span class=\"p\">:</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">state</span><span class=\"p\">:</span> <span class=\"nx\">RouterStateSnapshot</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"kr\">boolean</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">auth</span><span class=\"p\">.</span><span class=\"nx\">checkState</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">true</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">err</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">of</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">))</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"formarrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#formarray%E3%81%AE%E5%80%A4%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„</h2>\n\n<p>FormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€<br>\nFormArrayã®å ´åˆpatchValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚<br>\nã“ã†ã„ã†å ´åˆã¯ã€<strong>é…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ€ãƒ¡ãªä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span> <span class=\"c1\">// FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">];</span> <span class=\"c1\">// FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">è‰¯ã„ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formã‚’ç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹</span>\n  <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">student</span> <span class=\"o\">-&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">controls</span><span class=\"p\">[</span><span class=\"s1\">'students'</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">FormControll</span><span class=\"p\">(</span><span class=\"nx\">student</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array\" rel=\"nofollow noopener\" target=\"_blank\">StackOvereFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"error-error-no-provider-for-templaterefã¨ã„ã†ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#error-error-no-provider-for-templateref%E3%81%A8%E3%81%84%E3%81%86%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>æœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚<br>\nå¤§æŠµã®å ´åˆã¯ã€<strong><code>*ngIf</code>ã‚„<code>*ngForm</code>ã®<code>*</code>ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› </strong>ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)<br>\n<code>*</code>ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯<code>ngIf</code>ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€<br>\nãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§<code>No provider for TemplateRef!</code>ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"textareaã«ãŠã„ã¦tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\" class=\"fragment\"></span><a href=\"#textarea%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6tab%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%A4%E3%83%B3%E3%83%87%E3%83%B3%E3%83%88%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„</h2>\n\n<p>æ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€Tabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€<br>\nkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;textarea</span> <span class=\"err\">#</span><span class=\"na\">sampletextarea</span>\n  <span class=\"err\">(</span><span class=\"na\">keydown</span><span class=\"err\">)=\"</span><span class=\"na\">indent</span><span class=\"err\">($</span><span class=\"na\">event</span><span class=\"err\">,</span> <span class=\"na\">sampletextarea</span><span class=\"err\">)\"</span> <span class=\"nt\">&gt;&lt;/textarea&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"nx\">indent</span><span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">,</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">===</span> <span class=\"mi\">9</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¬¡ã®è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹</span>\n      <span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n\n      <span class=\"c1\">// ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretStart</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionStart</span><span class=\"p\">;</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionEnd</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">TAB</span> <span class=\"o\">=</span> <span class=\"s1\">'Â¥t'</span><span class=\"p\">;</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span> <span class=\"o\">=</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">caretStart</span><span class=\"p\">)</span>\n                     <span class=\"o\">+</span> <span class=\"nx\">TAB</span> <span class=\"o\">+</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">focus</span><span class=\"p\">();</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">setSelectionRange</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\" class=\"fragment\"></span><a href=\"#markdown%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%9F%E3%81%84%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„</h2>\n\n<p><a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã¨<a href=\"https://github.com/isagalaev/highlight.js\" rel=\"nofollow noopener\" target=\"_blank\">highlight.js</a>ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚<br>\n<a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown-parse.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">hljs</span> <span class=\"k\">from</span> <span class=\"s1\">'highlight.js'</span><span class=\"p\">;</span>\n\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">marked</span><span class=\"p\">.</span><span class=\"nx\">setOptions</span><span class=\"p\">({</span>\n      <span class=\"na\">highlight</span><span class=\"p\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">hljs</span><span class=\"p\">.</span><span class=\"nx\">highlightAuto</span><span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"na\">rawText</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">marked</span><span class=\"p\">(</span><span class=\"nx\">rawText</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./markdown-parse.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span> <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'toMarkdown'</span> <span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParsePipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">markdownParseService</span><span class=\"p\">:</span> <span class=\"nx\">MarkdownParseService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">markdownParseService</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p>HTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚<code>{{}}</code>ã ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§<code>innerHTML</code>å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"err\">[</span><span class=\"na\">innerHTML</span><span class=\"err\">]=\"</span><span class=\"na\">md</span> <span class=\"err\">|</span> <span class=\"na\">toMarkdown</span><span class=\"err\">\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b\" id=\"reference-9001a931765f8f52acaf\">Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹</a></li>\n<li>Github <a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">chjj/marked</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´è¿½åŠ å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8C%E5%A4%89%E6%9B%B4%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AB%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E7%B5%90%E6%9E%9C%E3%82%92%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„</h2>\n\n<p>ãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦<strong>pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã¾ã—ã‚‡ã†ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"err\">#</span><span class=\"na\">searchUserName</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let user of (userList | searchUserFilter: searchUserName.value);\"</span> <span class=\"nt\">&gt;</span>{{user.name}}<span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">search-user.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">User</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./user'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span>\n  <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'searchUserFilter'</span><span class=\"p\">,</span>\n  <span class=\"na\">pure</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SearchFilterPipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">items</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">User</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"nx\">searchUserName</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span><span class=\"p\">[]</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">searchUserName</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">searchUserName</span> <span class=\"o\">=</span> <span class=\"nx\">searchUserName</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span> <span class=\"nx\">item</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">userId</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">().</span><span class=\"nx\">includes</span><span class=\"p\">(</span><span class=\"nx\">searchUserName</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/pipes#pure-and-impure-pipes\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n</ul>\n\n<h2>\n<span id=\"ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’å…±é€šåŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«<strong>ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">app-settings.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppSettings</span> <span class=\"p\">{</span>\n   <span class=\"kr\">public</span> <span class=\"kr\">static</span> <span class=\"nx\">API_ENDPOINT</span><span class=\"o\">=</span><span class=\"s1\">'http://127.0.0.1:6666/api/'</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleService</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">Injectable</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'angular2/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">AppSettings</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app-settings'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleService</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sampleMethod</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">AppSettings</span><span class=\"p\">.</span><span class=\"nx\">API_ENDPOINT</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%94%BB%E5%83%8F%E3%81%8C%E5%A4%9A%E3%81%84%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A1%A8%E7%A4%BA%E3%82%92%E6%97%A9%E3%81%8F%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„</h2>\n\n<p><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a>ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚<br>\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre> <span class=\"nt\">&lt;img</span>\n  <span class=\"err\">[</span><span class=\"na\">defaultImage</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">defaultimage</span><span class=\"err\">\"</span> \n  <span class=\"err\">[</span><span class=\"na\">lazyLoad</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">sampleimage</span><span class=\"err\">\"</span>\n  <span class=\"err\">[</span><span class=\"na\">offset</span><span class=\"err\">]=\"</span><span class=\"na\">30</span><span class=\"err\">\"</span>\n <span class=\"nt\">&gt;</span>\n</pre></div>\n</div>\n\n<p><em>defaultImage</em><br>\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹<br>\n<em>lazyLoad</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL<br>\n<em>offset</em><br>\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹<br>\n<em>errorImage</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a></li>\n</ul>\n\n<h2>\n<span id=\"angular-cliã®ng-serveã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\" class=\"fragment\"></span><a href=\"#angular-cli%E3%81%AEng-serve%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7dist%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%B8%80%E6%97%A6%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%8F%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angular Cliã®<code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„</h2>\n\n<p><code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã¯<code>dist</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚<br>\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€<strong>delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false</strong>ã«æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span></div>\n<div class=\"highlight\"><pre><span class=\"s2\">\"script\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"cp ./resource/* dist &amp;&amp; ng serve --delete-output-path=false\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/issues/4366\" rel=\"nofollow noopener\" target=\"_blank\">angular-cli github issue #4366</a></li>\n</ul>\n\n<h2>\n<span id=\"aotã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\" class=\"fragment\"></span><a href=\"#aot%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%A7%E3%81%AA%E3%82%93%E3%81%A8%E3%81%8B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„</h2>\n\n<p>ãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)<br>\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚<br>\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"2-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%A7%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š</h1>\n\n<h2>\n<span id=\"ciç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\" class=\"fragment\"></span><a href=\"#ci%E7%92%B0%E5%A2%83%E3%81%AA%E3%81%A9%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%89%E3%81%9A%E3%81%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\"><i class=\"fa fa-link\"></i></a>CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†</h2>\n\n<p>CirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯<strong>watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ng test --wtach=false\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong><br>\n<a href=\"https://github.com/angular/angular-cli/issues/362\" rel=\"nofollow noopener\" target=\"_blank\">Github isssue</a></p>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆæ™‚ã«error-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_intervalã‚„failed-to-execute-send-on-xmlhttprequestã®ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E6%99%82%E3%81%ABerror-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_interval%E3%82%84failed-to-execute-send-on-xmlhttprequest%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«<strong><code>-sm=false</code>ã‚’è¿½åŠ </strong>ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%94%A8%E3%81%AB%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E3%83%A2%E3%83%83%E3%82%AF%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„</h2>\n\n<p>æ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§<br>\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚<br>\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\"><div class=\"highlight\"><pre><span class=\"c1\">// â€»importæ–‡ã¯çœç•¥</span>\n\n<span class=\"c1\">// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©</span>\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-child'</span><span class=\"p\">,</span> <span class=\"c1\">// å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©</span>\n  <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"s1\">'&lt;p&gt;Mock Child Component&lt;/p&gt;'</span>\n<span class=\"p\">})</span>\n<span class=\"kd\">class</span> <span class=\"nx\">MockClildComponent</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">Input</span><span class=\"p\">()</span> <span class=\"nx\">childInput</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n  <span class=\"p\">@</span><span class=\"nd\">Output</span><span class=\"p\">()</span> <span class=\"nx\">childOutput</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">EventEmitter</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ...</span>\n\n<span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n    <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"c1\">// ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ </span>\n      <span class=\"nx\">MockProductSettingsComponent</span><span class=\"p\">,</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">});</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«angular-materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABangular-materila%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€<br>\n<code>karma.config.js</code>ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n      <span class=\"c1\">// Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã</span>\n      <span class=\"p\">{</span><span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span><span class=\"p\">,</span> <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">},</span>\n<span class=\"p\">],</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/material2/issues/4056\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«stylesscssã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABstylesscss%E3%82%A2%E3%83%97%E3%83%AA%E5%85%B1%E9%80%9A%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ<br>\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«<code>karma-scss-preprocessor</code>ã¨<code>node-sass</code>ã‚’è¿½åŠ ã—ã¦<code>karma.conf.js</code>ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n<span class=\"err\">ã€€</span> <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ </span>\n  <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'karma-scss-preprocessor'</span><span class=\"p\">)</span>\n<span class=\"p\">],</span>\n\n\n<span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"c1\">// filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ </span>\n  <span class=\"p\">{</span> <span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">served</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span>\n<span class=\"p\">],</span>\n\n<span class=\"c1\">// preprocessorsã‚’è¿½åŠ </span>\n<span class=\"nx\">preprocessors</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'./src/test.ts'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'@angular/cli'</span><span class=\"p\">],</span>\n <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'scss'</span><span class=\"p\">]</span>\n<span class=\"p\">},</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n<li><a href=\"https://github.com/karma-runner/karma/issues/2700\" rel=\"nofollow noopener\" target=\"_blank\">Github karma/issue/2700</a></li>\n</ul>\n\n<h1>\n<span id=\"3-ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´-expressmongodbå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#3-%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89%E5%81%B4-expressmongodb%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š</h1>\n\n<p>â€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯<a href=\"https://github.com/Automattic/mongoose\" rel=\"nofollow noopener\" target=\"_blank\">mongoose</a>ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\" class=\"fragment\"></span><a href=\"#mongoose%E3%81%AEvirtual%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</h2>\n\n<p>ä¾‹ãˆã°<code>è¨˜äº‹</code>,<code>ã‚³ãƒ¡ãƒ³ãƒˆ</code>,<code>ãƒªãƒ—ãƒ©ã‚¤</code>ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€<br>\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  =&gt; è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  =&gt; ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" alt=\"dbæ§‹é€ _è‰¯.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png\"></a></p>\n\n<p>ãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€<strong>mongooseã®virtualã‚’ä½¿ã„ã¾ã™</strong>ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€<br>\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" alt=\"mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png\"></a></p>\n\n<p>å…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">article.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ArticleSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">content</span><span class=\"p\">:</span> <span class=\"nb\">String</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n\n<span class=\"c1\">// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">ArticleSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'articleId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Article</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Article'</span><span class=\"p\">,</span> <span class=\"nx\">ArticleSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Article</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">comment.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">CommentSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">articleId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Article'</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">comment</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n<span class=\"c1\">// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">CommentSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Reply'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'commentId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Comment</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Comment'</span><span class=\"p\">,</span> <span class=\"nx\">CommentSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Comment</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">reply.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ReplySchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">commentId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">reply</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Reply</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Reply'</span><span class=\"p\">,</span> <span class=\"nx\">ReplySchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Reply</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¤œç´¢å‡¦ç†</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">Article</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">()</span>\n<span class=\"p\">.</span><span class=\"nx\">populate</span><span class=\"p\">({</span>\n  <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"c1\">// Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹</span>\n  <span class=\"na\">populate</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"c1\">// Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹</span>\n  <span class=\"p\">}],</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>Expressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚<br>\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n<span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">accessLogHandler</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n  <span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">([</span>\n    <span class=\"s1\">'start'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n    <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'--ms--'</span>\n  <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n\n  <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'finish'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€</span> <span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°</span>\n    <span class=\"nx\">accessLogger</span><span class=\"p\">.</span><span class=\"nx\">info</span><span class=\"p\">([</span>\n      <span class=\"s1\">'end'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"s1\">'--'</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"nx\">start</span><span class=\"p\">.</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"s1\">'ms--'</span>\n    <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">next</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<p>å®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"py3\"><div class=\"highlight\"><pre><span class=\"n\">start</span><span class=\"p\">,</span>  <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">api</span><span class=\"o\">/</span><span class=\"n\">authenticate</span><span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>   <span class=\"o\">-</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span> <span class=\"o\">--</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n<span class=\"n\">end</span><span class=\"p\">,</span>    <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>                  <span class=\"mi\">403</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span>  <span class=\"o\">--</span><span class=\"mi\">47</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n</pre></div></div>\n\n<h2>\n<span id=\"ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%85%A8%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®<code>util.inspect()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">util</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'util'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">myObject</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"s2\">\"a\"</span><span class=\"p\">:</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span>\n   <span class=\"s2\">\"b\"</span><span class=\"p\">:{</span>\n      <span class=\"s2\">\"c\"</span><span class=\"p\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">,</span>\n      <span class=\"s2\">\"d\"</span><span class=\"p\">:{</span>\n         <span class=\"s2\">\"e\"</span><span class=\"p\">:</span><span class=\"s2\">\"e\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"f\"</span><span class=\"p\">:{</span>\n            <span class=\"s2\">\"g\"</span><span class=\"p\">:</span><span class=\"s2\">\"g\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"h\"</span><span class=\"p\">:{</span>\n               <span class=\"s2\">\"i\"</span><span class=\"p\">:</span><span class=\"s2\">\"i\"</span>\n            <span class=\"p\">}</span>\n         <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">};</span> \n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">util</span><span class=\"p\">.</span><span class=\"nx\">inspect</span><span class=\"p\">(</span><span class=\"nx\">myObject</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"kc\">null</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%A7%E3%81%8D%E3%82%8B%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯<br>\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚<br>\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å®šæ•°å®šç¾©</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_PORT</span> <span class=\"o\">||</span> <span class=\"s1\">'3000'</span><span class=\"p\">;</span><span class=\"err\">ã€€</span><span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_HOST</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_HOST</span> <span class=\"o\">||</span> <span class=\"s1\">'localhost'</span><span class=\"p\">;</span> <span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"dbåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#db%E5%88%9D%E5%9B%9E%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„</h2>\n\n<p>mongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br>\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">createConnection</span> <span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">createConnection</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/failed to connect to server .* on first connect/</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Retrying first connect...\"</span><span class=\"p\">);</span>\n                <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">openUri</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">).</span><span class=\"k\">catch</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n            <span class=\"c1\">// 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹</span>\n            <span class=\"p\">},</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'open'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Connection to db established.\"</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">db</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Automattic/mongoose/issues/5169\" rel=\"nofollow noopener\" target=\"_blank\">Github mongooseã®issue5169</a></li>\n</ul>\n","body":"[FUJITSU Advent Calendar 2017](https://qiita.com/advent-calendar/2017/fujitsu) 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\nãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€\nã“ã“ï¼”ãƒ¶æœˆã»ã©**MEAN**ã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB+**E**xpress+**A**ngular+**N**ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚\n\n## ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\næœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)\n\n* [Github](https://github.com/Takumon/mean-blog)\n* [Dockerhub](https://hub.docker.com/r/takumon/mean-blog_auto/)\n* [ãƒ‡ãƒ¢ç’°å¢ƒ](https://material-blog-demo.herokuapp.com/) (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)\n![appdemo_detail.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png](https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png)\n\n# 1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š\n## Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\n1ç³»ã¯`AngularJS`ã€2ç³»ä»¥é™ã¯`Angular`ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯`Angualr2`ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚\u001e`--AngularJS`ã‚’ã¤ã‘ãŸã‚Š\u001dã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚\n\n## HTMLã®DOM\bè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„\nè¦ç´ ã«`#xxxxx`\bã®ã‚ˆã†ã«`#`å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®\bDOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™\n\n```html:HTML\n<input #phone placeholder=\"é›»è©±ç•ªå·\"/>\n<!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ -->\n<button >(click)=\"callPhone\b(phone.value)\">\n```\n\n\bComponentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯`@ViewChild`ã‚’ä½¿ã„ã¾ã™\n\n```typescript:Component\n  // \bViewChildã®å¼•æ•°ã«\b\båå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™\n  @ViewChild('phone') phoneElement: phoneElement;\n\n  showPhoneValue() {\n    console.log(this.phoneElement.value);\n    )\n  }\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/template-syntax#ref-vars)\n* [StackOverFlow](https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template)\n\n\n\n## Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\nURLã”ã¨ã®èªè¨¼ã¯`CanActivate`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªæ™‚ã¯ã€**`CanActivate#canActivate`ã§**booleanã®ä»£ã‚ã‚Šã«**Observable<boolean>ã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹**ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\n\n\n```typescript:SampleAuthGuard\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SampleAuthGuard implements CanActivate {\n\n  constructor(\n    private auth: AuthenticationService,\n  ) { }\n\n  // booleanã§ã¯ãªãObservable<boolean>ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.checkState()\n      .map(res => true)\n      .catch(err => Observable.of(false))\n  }\n}\n\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function)\n\n## FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\nFormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€\nFormArrayã®å ´åˆpatch\bValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨\bã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚\n\bã“ã†ã„ã†å ´åˆã¯ã€**\b\bé…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push**ã—ã¾ã™ã€‚\n\n```typescript:ãƒ€ãƒ¡ãªä¾‹\nngOnInit() {\n  // Formç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName' // FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½\n    students: ['taro', 'jiro', 'saburo']; // FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½\n  });\n}\n```\n\n```typescript:\bè‰¯ã„ä¾‹\nngOnInit() {\n  // Formã‚’ç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName'\n  });\n\n  // ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹\n  ['taro', 'jiro', 'saburo'].forEach(student -> {\n    this.form.controls['students'].push(new FormControll(student));\n  });\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOvereFlow](https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array)\n\n## ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼\næœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚\nå¤§æŠµã®å ´åˆã¯ã€**`*ngIf`ã‚„`*ngForm`ã®`*`ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› **ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)\n`*`ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯`ngIf`ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€\n\bãã‚“ãª\b\bãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§`No provider for TemplateRef!`ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref)\n\n\n## textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\næ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€\u001dTabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€\n\bkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«\bãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n```html:HTML\n<textarea #sampletextarea\n  (keydown)=\"indent($event, sampletextarea)\" ></textarea>\n```\n\n```typescript:Component\n  indent($event, sampleTextAreaElement) {\n    // Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚\n    if ($event.keyCode === 9) {\n      \b// æ¬¡ã®è¦ç´ ã«\bãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹\n      $event.preventDefault();\n\n      // ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—\n      \bconst caretStart = textareaElement.selectionStart;\n      const caretEnd = textareaElement.selectionEnd;\n\n      // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’\bå–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥\n      const TAB = 'Â¥t';\n      sampleTextAreaElement.value = sampleTextAreaElement.value.substring(0, caretStart)\n                     + TAB + sampleTextAreaElement.value.substring(caretStart, value.length);\n\n      // ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™\n      sampleTextAreaElement.focus();\n      sampleTextAreaElement.setSelectionRange(caretStart + TAB.length, caretEnd + TAB.length);\n\n      return;\n    }\n  }\n\n```\n\n\n\n## \bMarkdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’\bè¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\n[marked](https://github.com/chjj/marked)ã¨[highlight.js](https://github.com/isagalaev/highlight.js)ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚\n[marked](https://github.com/chjj/marked)ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```typescript:markdown-parse.service.ts\nimport { Injectable } from '@angular/core';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\n\n@Injectable()\nexport class MarkdownParseService {\n\n  constructor() {\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n  }\n\n  parse(rawText: string) {\n    return marked(rawText);\n  }\n}\n```\n\n\n```typescript:markdown.pipe.ts\nimport marked from 'marked';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MarkdownParseService } from './markdown-parse.service';\n\n@Pipe({ name: 'toMarkdown' })\nexport class MarkdownParsePipe implements PipeTransform {\n  constructor(markdownParseService: MarkdownParseService) {}\n\n  transform(value: string): any {\n    return this.markdownParseService.parse(value);\n  }\n}\n```\n\nHTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚`{{}}`ã ã¨\bã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§\b`innerHTML`å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```html\n<div [innerHTML]=\"md | toMarkdown\"></div>\n```\n\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹](https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b)\n* Github [chjj/marked](https://github.com/chjj/marked)\n\n\n\n\n## çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒ\bå¤‰æ›´ã€è¿½åŠ \bã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\nãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦**pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã¾ã—ã‚‡ã†ã€‚\n\n```html:HTML\n<input type=\"text\" #searchUserName>\n<ul>\n  <li *ngFor=\"let user of (userList | searchUserFilter: searchUserName.value);\" >{{user.name}}</li>\n<ul>\n```\n\n```typescript:search-user.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { User } from './user';\n\n@Pipe({\n  name: 'searchUserFilter',\n  pure: false // pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹\n})\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Array<User>, searchUserName: string): any[] {\n    if (!searchUserName) return items;\n\n    searchUserName = searchUserName.toLowerCase();\n    return items.filter( item => item.user.userId.toLowerCase().includes(searchUserName));\n  }\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/pipes#pure-and-impure-pipes)\n\n\n\n\n## ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’\bå…±é€š\båŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«**ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©**ã—ã¾ã™ã€‚\n\n```typescript:app-settings.ts\nexport class AppSettings {\n   public static API_ENDPOINT='http://127.0.0.1:6666/api/';\n}\n```\n\n```typescript:SampleService\nimport {Injectable} from 'angular2/core';\nimport {AppSettings} from './app-settings';\n\n@Injectable()\nexport class SampleService {\n    \bsampleMethod() {\n      console.log(AppSettings.API_ENDPOINT);\n    }\n}\n```\n\n**å‚è€ƒ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2)\n\n\n## ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\n[ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```html:HTML\n <img\n  [defaultImage]=\"https://images.sample.com/photo/defaultimage\" \n  [lazyLoad]=\"https://images.sample.com/photo/sampleimage\"\n  [offset]=\"30\"\n >\n```\n\n*defaultImage*\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹\n*lazyLoad*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL\n*offset*\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹\n*errorImage*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)\n\n\n## Angular Cliã®`ng serve`ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\n`ng serve`ã‚³ãƒãƒ³ãƒ‰ã¯`dist`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€**delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false**ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```json:package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\n\"script\": {\n  \"build\": \"cp ./resource/* dist && ng serve --delete-output-path=false\"\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [angular-cli github issue #4366](https://github.com/angular/angular-cli/issues/4366)\n\n\n## AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\nãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«[Angular Material](https://material.angular.io/)ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚\n\n\n# 2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\n## CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\nCirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ`ng test`ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯**watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã—ã¾ã™ã€‚\n\n```\nng test --wtach=false\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n[Github isssue](https://github.com/angular/angular-cli/issues/362)\n\n## ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«`ng test`ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«**`-sm=false`ã‚’è¿½åŠ **ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest)\n\n\n## ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\næ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚\n\n\n```typescript\n// â€»importæ–‡ã¯çœç•¥\n\n// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n@Component({\n  selector: 'app-child', // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©\n  template: '<p>Mock Child Component</p>'\n})\nclass MockClildComponent {\n  @Input() childInput: string;\n  @Output() childOutput = new EventEmitter();\n}\n\n// ...\n\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    declarations: [\n      // ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ \n      MockProductSettingsComponent,\n      // ...\n    ],\n    // ...\n  });\n  // ...\n});\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§[Angular Material](https://material.angular.io/)ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€\n`karma.config.js`ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚\n\n```javascript:karma.conf.js\nfiles: [\n      ãƒ»ãƒ»ãƒ»\n      // Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã\n      {pattern: './node_modules/@angular/material/prebuilt-themes/indigo-pink.css', included: true, watched: false},\n],\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackoverflow](https://github.com/angular/material2/issues/4056)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«`karma-scss-preprocessor`ã¨`node-sass`ã‚’è¿½åŠ ã—ã¦`karma.conf.js`ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```javascript:karma.conf.js\nplugins: [\n  ãƒ»ãƒ»ãƒ»\nã€€ // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ \n  require('karma-scss-preprocessor')\n],\n\n\nfiles: [\n  ãƒ»ãƒ»ãƒ»\n  // filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n  { pattern: './src/styles.scss', watched: false,  included: true, served: true }\n],\n\n// preprocessorsã‚’è¿½åŠ \npreprocessors: {\n './src/test.ts': ['@angular/cli'],\n './src/styles.scss': ['scss']\n},\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**:\n\n* [stackOverFlow](https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689)\n* [Github karma/issue/2700](https://github.com/karma-runner/karma/issues/2700)\n\n\n\n\n# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š\nâ€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯[mongoose](https://github.com/Automattic/mongoose)ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚\n\n## mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\nä¾‹ãˆã°`è¨˜äº‹`,`ã‚³ãƒ¡ãƒ³ãƒˆ`,`ãƒªãƒ—ãƒ©ã‚¤`ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  => è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  => ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚\n![dbæ§‹é€ _è‰¯.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png)\n\nãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€**mongooseã®virtualã‚’ä½¿ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png)\n\nå…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n\n```typescript:article.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ArticleSchema = new mongoose.Schema({\n  content: String\n}, { toJSON: { virtuals: true } });\n\n\n// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nArticleSchema.virtual('comments', {\n  ref: 'Comment',\n  localField: '_id',\n  foreignField: 'articleId',\n  justOne: false,\n});\n\nconst Article = mongoose.model('Article', ArticleSchema);\n\nexport { Article };\n```\n\n\n```typescript:comment.model.ts\nimport * as mongoose from 'mongoose';\n\nconst CommentSchema = new mongoose.Schema({\n  articleId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  comment: String;\n}, { toJSON: { virtuals: true } });\n\n// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nCommentSchema.virtual('replies', {\n  ref: 'Reply',\n  localField: '_id',\n  foreignField: 'commentId',\n  justOne: false,\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nexport { Comment };\n```\n\n```typescript:reply.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ReplySchema = new mongoose.Schema({\n  commentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Comment'\n  },\n  reply: String;\n});\n\nconst Reply = mongoose.model('Reply', ReplySchema);\n\nexport { Reply };\n```\n\n```typescript:æ¤œç´¢å‡¦ç†\nArticle.find()\n.populate({\n  path: 'comments', // Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹\n  populate: [{\n    path: 'replies', // Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹\n  }],\n});\n```\n\n\n## ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\nExpressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n\n\n```javascript:ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™\nconst express = express();\nexpress.use(function accessLogHandler (req, res, next) {\n  const start = new Date();\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€\n  console.log([\n    'start',\n    req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n    req.method,\n    req.url,\n    '-',\n    req.headers.referer || '-',\n    req.headers['user-agent'] || '-',\n    '--ms--'\n  ].join(',\\t'));\n\n  res.once('finish', function() {\nã€€ã€€ // ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°\n    accessLogger.info([\n      'end',\n      req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n      req.method,\n      req.url,\n      res.statusCode,\n      req.headers.referer || '-',\n      req.headers['user-agent'] || '-',\n      '--' + (new Date().getMilliseconds() - start.getMilliseconds()) + 'ms--'\n    ].join(',\\t'));\n  });\n\n  next();\n});\n```\n\nå®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```py3\nstart,  ::ffff:127.0.0.1, GET, /api/authenticate/check-state,   -, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36, --ms--\nend,    ::ffff:127.0.0.1, GET, /check-state,                  403, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36,  --47ms--\n```\n\n\n\n## ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®`util.inspect()`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n\n```javascript\nconst util = require('util');\nconst myObject = {\n   \"a\":\"a\",\n   \"b\":{\n      \"c\":\"c\",\n      \"d\":{\n         \"e\":\"e\",\n         \"f\":{\n            \"g\":\"g\",\n            \"h\":{\n               \"i\":\"i\"\n            }\n         }\n      }\n   }\n}; \n\nconsole.log(util.inspect(myObject, false, null));\n```\n\nã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™\n\n```\n{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object)\n\n\n## ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```typescript:å®šæ•°å®šç¾©\nexport const SERVER_PORT: string = process.env.SERVER_PORT || '3000';ã€€// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹\nexport const SERVER_HOST: string = process.env.SERVER_HOST || 'localhost'; // ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹\n```\n\n\n## DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\nmongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n```javascript\nfunction createConnection (dbURL, options) {\n    var db = mongoose.createConnection(dbURL, options);\n\n    db.on('error', function (err) {\n        if (err.message && err.message.match(/failed to connect to server .* on first connect/)) {\n            console.log(new Date(), String(err));\n\n            setTimeout(function () {\n                console.log(\"Retrying first connect...\");\n                db.openUri(dbURL).catch(() => {});\n            // 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹\n            }, 20 * 1000);\n        } else {\n            console.error(new Date(), String(err));\n        }\n    });\n\n    db.once('open', function () {\n        console.log(\"Connection to db established.\");\n    });\n\n    return db;\n}\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Github mongooseã®issue5169](https://github.com/Automattic/mongoose/issues/5169)\n\n","comments_count":0,"created_at":"2017-12-12T03:19:11+09:00","likes_count":46,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/270e2fae-ed90-5539-8c90-a2ed93ebba83/","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","date":"2017-06-26T00:21:37+09:00","excerpt":"Asciidoctorã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚ãã“ã§ä»Šå›ã¯ã€Dockerã§...","tags":["JavaScript","å…¨æ–‡æ¤œç´¢","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","Fess","asciidoctor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"270e2fae-ed90-5539-8c90-a2ed93ebba83","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","rendered_body":"<p><a href=\"http://asciidoctor.org/\" rel=\"nofollow noopener\" target=\"_blank\">Asciidoctor</a>ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®<a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã‚’ç«‹ã¦ã¦ã€<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€<br>\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<p>å°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" alt=\"6æœˆ-24-2017 19-05-32.gif\" title=\"6æœˆ-24-2017 19-05-32.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif\"></a></p>\n\n<h2>\n<span id=\"fessã¨ã¯\" class=\"fragment\"></span><a href=\"#fess%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Fessã¨ã¯</h2>\n\n<p><a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã¯<strong>ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€</strong>ã§ã™ã€‚<br>\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å…¨ä½“åƒ\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å…¨ä½“åƒ</h2>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚<br>\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<p>ã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png\"></a></p>\n\n<h3>\n<span id=\"fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<p>Docker Hubã®<a href=\"https://hub.docker.com/r/codelibs/fess/\" rel=\"nofollow noopener\" target=\"_blank\">codelibs/fess</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯<a href=\"http://fess.codelibs.org/ja/11.2/install/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n</pre></div></div>\n\n<h3>\n<span id=\"fessã®è¨­å®š\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>Fessã®è¨­å®š</h3>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š</h4>\n\n<p><code>http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€<code>admin/admin</code>ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" alt=\"1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png\"></a><br>\n<br></p>\n\n<p>ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚¯ãƒ­ãƒ¼ãƒ©</code> &gt; <code>Web</code>ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" alt=\"2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®<code>+ã€€æ–°è¦ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" title=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png\"></a></p>\n\n<p>è¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<ul>\n<li>åå‰ \n\n<ul>\n<li>ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>URL \n\n<ul>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«<code>/</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜<code>URL</code>ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.*</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.+\\.html$</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>å€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<code>+ã€€ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A1%8C\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã§ã€€<code>ã‚·ã‚¹ãƒ†ãƒ </code> &gt; <code>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©</code> ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚<br>\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ <code>Default Crawler</code>ã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png\"></a><br>\n<br></p>\n\n<p><code>ä»Šã™ãé–‹å§‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" title=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png\"></a><br>\n<br></p>\n\n<p>ã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png\"></a><br>\n<br></p>\n\n<p>ã—ã°ã‚‰ãã—ã¦<code>F5</code>ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚<br>\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ<code>å®Ÿè¡Œä¸­</code>ã‹ã‚‰<code>æœ‰åŠ¹</code>ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</code>&gt;<code>ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±</code>ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png\"></a><br>\n<br></p>\n\n<p>ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png\"></a><br>\n<br></p>\n\n<p>ã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png\"></a><br>\n<br></p>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E7%94%A8web%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%82%92%E9%85%8D%E7%BD%AE\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®</h3>\n\n<p>å…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã®ï¼’ã¤ã§ã™ã€‚<br>\n<code>full-text-search.js</code>ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚<br>\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'use strict'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">=</span> <span class=\"s1\">'http://192.168.1.5:10084/json'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n\n    <span class=\"c1\">// ç›®æ¬¡ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#toc'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form id=\"search-form\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;div class=\"search-input-area\"&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-search left-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" /&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-close right-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-start\" type=\"hidden\" value=\"0\"/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-num\" type=\"hidden\" value=\"'</span> <span class=\"o\">+</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">+</span> <span class=\"s1\">'\"/&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$searchArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-form'</span><span class=\"p\">).</span><span class=\"nx\">submit</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".left-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"#search-query\"</span><span class=\"p\">).</span><span class=\"nx\">keyup</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$rightIcon</span> <span class=\"o\">=</span> <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">);</span>\n\n              <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">().</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#555'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>\n                     <span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n        <span class=\"p\">});</span>\n\n    <span class=\"c1\">// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#header&gt;h1'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">before</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-result-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-subheader\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-content\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s1\">'#remove-search-result'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">delegateTarget</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                    <span class=\"p\">})</span>\n                    <span class=\"c1\">// å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#prevPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#nextPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">doSearch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">){</span>\n      <span class=\"c1\">// æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">searchQuery</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-query'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()),</span>\n          <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-num'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">start</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"nx\">num</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—</span>\n      <span class=\"k\">switch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">navi</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">case</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">-=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"k\">case</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">+=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"nl\">default</span><span class=\"p\">:</span>\n        <span class=\"k\">case</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n          <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// URLã‚’æ§‹ç¯‰</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">+</span> <span class=\"s1\">'?callback=?'</span> <span class=\"o\">+</span> <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n                                     <span class=\"s1\">'&amp;q='</span> <span class=\"o\">+</span> <span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;start='</span> <span class=\"o\">+</span> <span class=\"nx\">start</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;num='</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</span>\n      <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n          <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"nx\">url</span><span class=\"p\">,</span>\n          <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"s1\">'jsonp'</span><span class=\"p\">,</span>\n          <span class=\"na\">success</span><span class=\"p\">:</span> <span class=\"nx\">renderSearchResult</span>\n      <span class=\"p\">});</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#searchNum'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">renderSearchResult</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¤œç´¢çµæœå‡¦ç†</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">dataResponse</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n      <span class=\"c1\">// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">status</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\"</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultSubheader</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">),</span>\n          <span class=\"nx\">$searchResultContent</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">),</span>\n          <span class=\"nx\">record_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">record_count</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœãŒãªã„å ´åˆ</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">record_count</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span>  <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// çµæœé ˜åŸŸã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultContent</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt;ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚'</span><span class=\"p\">;</span>\n\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">page_number</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_number</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_size</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_count</span><span class=\"p\">,</span>\n          <span class=\"nx\">startRange</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nx\">endRange</span> <span class=\"o\">=</span> <span class=\"nx\">page_number</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n          <span class=\"nx\">max</span><span class=\"p\">,</span>\n          <span class=\"nx\">offset</span> <span class=\"o\">=</span> <span class=\"nx\">startRange</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">offset</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n      <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt; ã®æ¤œç´¢çµæœ '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">record_count</span> <span class=\"o\">+</span> <span class=\"s2\">\" ä»¶ä¸­ \"</span> <span class=\"o\">+</span>  <span class=\"nx\">startRange</span> <span class=\"o\">+</span> <span class=\"s1\">' - '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">endRange</span> <span class=\"o\">+</span> <span class=\"s1\">' ä»¶ç›® ('</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">exec_time</span> <span class=\"o\">+</span> <span class=\"s1\">' ç§’)'</span> <span class=\"o\">+</span>\n                               <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢</span>\n      <span class=\"nx\">$searchResultContent</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢çµæœã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$resultBody</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;ol/&gt;\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">results</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">max</span> <span class=\"o\">=</span> <span class=\"nx\">results</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">max</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">element</span> <span class=\"o\">=</span>\n            <span class=\"s1\">'&lt;li&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;h4 class=\"title\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;a href=\"'</span> <span class=\"o\">+</span><span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">url_link</span> <span class=\"o\">+</span> <span class=\"s1\">'\"&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">title</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/a&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/h4&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div class=\"body\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">content_description</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;br/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;cite&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">site</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/cite&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/li&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$resultBody</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">$resultBody</span><span class=\"p\">.</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">pageArea</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div id=\"pageInfo\"&gt;'</span><span class=\"p\">,</span> <span class=\"nx\">page_number</span><span class=\"p\">,</span> <span class=\"s1\">'ãƒšãƒ¼ã‚¸ç›®&lt;br/&gt;'</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"prevPageLink\" href=\"#\"&gt;&amp;lt;&amp;lt;å‰ãƒšãƒ¼ã‚¸ã¸&lt;/a&gt; '</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&lt;</span> <span class=\"nx\">page_count</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"nextPageLink\" href=\"#\"&gt;æ¬¡ãƒšãƒ¼ã‚¸ã¸&amp;gt;&amp;gt;&lt;/a&gt;'</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">);</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.css</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">@charset</span> <span class=\"s1\">\"UTF-8\"</span><span class=\"p\">;</span>\n\n<span class=\"nf\">#search-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">relative</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* å…¥åŠ›é …ç›® */</span>\n<span class=\"nf\">#search-query</span> <span class=\"p\">{</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">100%</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">outline</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nt\">input</span><span class=\"nd\">:focus</span> <span class=\"p\">{</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#4d90fe</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">absolute</span><span class=\"p\">;</span>\n    <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">50%</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n    <span class=\"py\">font-sise</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */</span>\n    <span class=\"nl\">cursor</span><span class=\"p\">:</span><span class=\"nb\">pointer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span><span class=\"m\">#444</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1.4em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */</span>\n<span class=\"nf\">#search-result-area</span><span class=\"nc\">.show</span> <span class=\"p\">{</span>\n    <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#f8f8f7</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0px</span> <span class=\"nb\">solid</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E5%87%A6%E7%90%86%E3%82%92%E8%BF%BD%E5%8A%A0\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ </h3>\n\n<p>å‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã‚’ã€<br>\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\n<code>full-text-search.js</code>ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€<br>\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n</pre></div></div>\n\n<p><code>asciidoctor-sample.adoc</code>ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>++++\n&lt;link rel=\"stylesheet\" href=\"../full-text-search.css\"&gt;&lt;/link&gt;\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"../full-text-search.js\"&gt;&lt;/script&gt;\n++++\n</pre></div></div>\n\n<h3>\n<span id=\"å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª</h3>\n\n<p>ä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png\"></a><br>\n<br></p>\n\n<p>æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png\"></a><br>\n<br></p>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>Fessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"http://fess.codelibs.org/ja/articles/article-4.html#js\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨</a></li>\n<li><a href=\"http://qiita.com/cookienote/items/1f2443be25630a78d946\" id=\"reference-69c989703115d994be84\">å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™</a></li>\n</ul>\n","body":"[Asciidoctor](http://asciidoctor.org/)ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®[Fess](http://fess.codelibs.org/ja/)ã‚’ç«‹ã¦ã¦ã€\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\nå°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![6æœˆ-24-2017 19-05-32.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif \"6æœˆ-24-2017 19-05-32.gif\")\n\n\n## Fessã¨ã¯\n[Fess](http://fess.codelibs.org/ja/)ã¯**ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€**ã§ã™ã€‚\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚\n\n\n## å…¨ä½“åƒ\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\n![0_Fess_å…¨ä½“åƒ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png)\n\n![0_Fess_å…¨ä½“åƒ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png)\n\n## å°å…¥æ‰‹é †\nã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒ\u001cï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚\n\n![0_Fess_å…¨ä½“åƒ_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png)\n\n\n### Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nDocker Hubã®[codelibs/fess](https://hub.docker.com/r/codelibs/fess/)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯[Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](http://fess.codelibs.org/ja/11.2/install/index.html)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\n```\n$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n```\n\n### Fessã®è¨­å®š\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\n`http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€`admin/admin`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚\n![1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png)\n<br/>\n\nãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®`ã‚¯ãƒ­ãƒ¼ãƒ©` > `Web`ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚\n![2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®`+ã€€æ–°è¦ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png \"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\")\n\nè¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚\n\n* åå‰ \n    * ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n* URL \n    * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«`/`ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n* ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n    * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜`URL`ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€`URLã§è¨­å®šã—ãŸå€¤` + `.*` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n* æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n   * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€`URLã§è¨­å®šã—ãŸå€¤` + `.+\\.html$` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br/>\n<br/>\n\n\nå€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦`+ã€€ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\nå·¦ãƒšã‚¤ãƒ³ã§ã€€`ã‚·ã‚¹ãƒ†ãƒ ` > `ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©` ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ `Default Crawler`ã‚’é¸æŠã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png)\n<br/>\n\n`ä»Šã™ãé–‹å§‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png \"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\")\n<br/>\n\nã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png)\n<br/>\n\nã—ã°ã‚‰ãã—ã¦`F5`ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ`å®Ÿè¡Œä¸­`ã‹ã‚‰`æœ‰åŠ¹`ã«ãªã‚Šã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\nå·¦ãƒšã‚¤ãƒ³ã®`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±`>`ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±`ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\")\n<br/>\n\n\nã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\")\n<br/>\n\nã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\")\n<br/>\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\nå…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯`full-text-search.js`ã¨`full-text-search.css`ã®ï¼’ã¤ã§ã™ã€‚\n`full-text-search.js`ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚\n\n```javascript:full-text-search.js\n$(function() {\n    'use strict';\n\n    // FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰\n    var FESS_JSON_ENDPOINT = 'http://192.168.1.5:10084/json';\n\n    // ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°\n    var COUNT_PAR_PAGE = 10;\n\n\n    // ç›®æ¬¡ã®\n    $('#toc')\n        // ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .prepend(\n            '<div id=\"search-area\">' +\n                '<form id=\"search-form\">' +\n                    '<div class=\"search-input-area\">' +\n                        '<i class=\"fa fa-search left-icon\"></i>' +\n                        '<input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" />' +\n                        '<i class=\"fa fa-close right-icon\"></i>' +\n                    '</div>' +\n                    '<input id=\"search-start\" type=\"hidden\" value=\"0\"/>' +\n                    '<input id=\"search-num\" type=\"hidden\" value=\"' + COUNT_PAR_PAGE + '\"/>' +\n                '<form>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            var $searchArea = $(this);\n\n            // å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find('#search-form').submit({navi:0}, doSearch);\n\n            // è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find(\".left-icon\").click({navi:0}, doSearch);\n\n            // æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€\n            $searchArea.find(\"#search-query\").keyup(function(){\n              var $this = $(this);\n              var $rightIcon = $this.parent().find(\".right-icon\");\n\n              if($this.val().length > 0) {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹\n                 $rightIcon.css('color','#555');\n              } else {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹\n                 $rightIcon.css('color','#ccc');\n              }\n            });\n\n            // Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€\n            $searchArea.find(\".right-icon\").click(function(){\n              // Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦\n              $(this).css('color','#ccc')\n                      // æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹\n                     .parent().find(\"input\").val('');\n            });\n        });\n\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®\n    $('#header>h1')\n        // ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .before(\n            '<div id=\"search-result-area\">' +\n                '<div id=\"search-result-subheader\"></div>' +\n                '<div id=\"search-result-content\"></div>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            $(this)\n                .find('#search-result-area')\n                    // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€\n                    .on(\"click\", '#remove-search-result', function(e) {\n                      var $searchResultArea = $(e.delegateTarget)\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹\n                      $searchResultArea.removeClass('show');\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹\n                      $searchResultArea.find('#search-result-subheader').empty();\n                      $searchResultArea.find('#search-result-content').empty();\n                    })\n                    // å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#prevPageLink\", {navi:-1}, doSearch)\n                    // æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#nextPageLink\", {navi:1}, doSearch);\n        });\n\n\n\n    /**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */\n    function doSearch(event){\n      // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—\n      var searchQuery = $.trim($('#search-query').val());\n      // ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„\n      if(searchQuery.length == 0) {\n        return false;\n      }\n\n\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—\n      var start = parseInt($('#search-start').val()),\n          num = parseInt($('#search-num').val());\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯\n      if(start < 0) {\n        start = 0;\n      }\n      // è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯\n      if(num < 1 || num > 100) {\n        num = 20;\n      }\n      // è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—\n      switch(event.data.navi) {\n        case -1:\n          // å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start -= num;\n          break;\n        case 1:\n          // æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start += num;\n          break;\n        default:\n        case 0:\n          start = 0;\n          break;\n      }\n\n\n      // URLã‚’æ§‹ç¯‰\n      var url = FESS_JSON_ENDPOINT + '?callback=?' + // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n                                     '&q=' + encodeURIComponent(searchQuery) +\n                                     '&start=' + start +\n                                     '&num=' + num;\n\n      // æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n      // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n      $.ajax({\n          url: url,\n          dataType: 'jsonp',\n          success: renderSearchResult\n      });\n\n\n      // ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°\n      $('#searchNum').val(num);\n\n      // ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•\n      $(document).scrollTop(0);\n\n      // ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™\n      return false;\n    };\n\n\n    /**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */\n    function renderSearchResult(data) {\n      // æ¤œç´¢çµæœå‡¦ç†\n      var dataResponse = data.response;\n      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n      if(dataResponse.status != 0) {\n        alert(\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n        return;\n      }\n\n      // æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹\n      $('#search-result-area').addClass('show');\n\n      var $searchResultSubheader = $('#search-result-subheader'),\n          $searchResultContent = $('#search-result-content'),\n          record_count = dataResponse.record_count;\n\n      // æ¤œç´¢çµæœãŒãªã„å ´åˆ\n      if(record_count == 0) {\n        // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n        $searchResultSubheader[0].innerHTML =  '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>';\n\n        // çµæœé ˜åŸŸã«å‡ºåŠ›\n        $searchResultContent[0].innerHTML = '<b>' + dataResponse.q + '</b>ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';\n\n        return;\n      }\n\n\n      // æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ\n      var page_number = dataResponse.page_number,\n          page_size = dataResponse.page_size,\n          page_count = dataResponse.page_count,\n          startRange = (page_number - 1) * page_size + 1,\n          endRange = page_number * page_size,\n          i = 0,\n          max,\n          offset = startRange - 1;\n\n      $('#search-start').val(offset);\n\n\n      // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n      $searchResultSubheader[0].innerHTML = '<b>' + dataResponse.q + '</b> ã®æ¤œç´¢çµæœ ' +\n                                record_count + \" ä»¶ä¸­ \" +  startRange + ' - ' +\n                                endRange + ' ä»¶ç›® (' + dataResponse.exec_time + ' ç§’)' +\n                               '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>'\n\n      // æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢\n      $searchResultContent.empty();\n\n\n      // æ¤œç´¢çµæœã®å‡ºåŠ›\n      var $resultBody = $(\"<ol/>\");\n      var results = dataResponse.result;\n      for(i = 0, max = results.length; i < max; i++) {\n        var element =\n            '<li>' +\n                '<h4 class=\"title\">' +\n                    '<a href=\"' +results[i].url_link + '\">' + results[i].title + '</a>' +\n                '</h4>' +\n                '<div class=\"body\">' +\n                    results[i].content_description +\n                    '<br/>' +\n                    '<cite>' + results[i].site + '</cite>' +\n                '</div>' +\n            '</li>';\n\n        $(element).appendTo($resultBody);\n      }\n      $resultBody.appendTo($searchResultContent);\n\n\n      // ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›\n      var pageArea = [];\n      pageArea.push('<div id=\"pageInfo\">', page_number, 'ãƒšãƒ¼ã‚¸ç›®<br/>');\n      if(page_number > 1) {\n        // å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"prevPageLink\" href=\"#\">&lt;&lt;å‰ãƒšãƒ¼ã‚¸ã¸</a> ');\n      }\n      if(page_number < page_count) {\n        // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"nextPageLink\" href=\"#\">æ¬¡ãƒšãƒ¼ã‚¸ã¸&gt;&gt;</a>');\n      }\n      pageArea.push('</div>');\n      $(pageArea.join(\"\")).appendTo($searchResultContent);\n    }\n});\n\n```\n\n\n```css:full-text-search.css\n@charset \"UTF-8\";\n\n#search-area {\n    margin-bottom: 1em;\n}\n\n.search-input-area {\n    position:relative;\n}\n\n/* å…¥åŠ›é …ç›® */\n#search-query {\n    padding: 0.7em 2em;\n    width: 100%;\n    color: black;\n    font-family: arial,sans-serif;\n    font-size: 1em;\n    border: 1px solid #ccc;\n    border-radius: 2em;\n    outline: 0;\n}\n\n.search-input-area input:focus {\n    border: 1px solid #4d90fe;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */\n.search-input-area .left-icon,\n.search-input-area .right-icon {\n    /* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */\n    position:absolute;\n    top: 50%;\n    margin-top: -0.5em;\n    font-sise: 1em;\n    /* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */\n    cursor:pointer;\n}\n\n.search-input-area .left-icon {\n    left: 0.7em;\n    color:#444;\n}\n\n.search-input-area .right-icon {\n    right: 0.7em;\n    /* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */\n    color: #ccc;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */\n.search-input-area .left-icon:hover,\n.search-input-area .right-icon:hover {\n    font-size: 1.4em;\n}\n\n\n.search-input-area .left-icon:hover {\n    left: 0.5em;\n}\n\n\n.search-input-area .right-icon:hover {\n    right: 0.5em;\n}\n\n/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */\n#search-result-area.show {\n    background: #f8f8f7;\n    border: 0px solid;\n    border-radius: 0.5em;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    padding: 1em;\n}\n\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \nå‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ`full-text-search.js`ã¨`full-text-search.css`ã‚’ã€\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\n`full-text-search.js`ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€\n\n```\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n```\n\n\n`asciidoctor-sample.adoc`ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n++++\n<link rel=\"stylesheet\" href=\"../full-text-search.css\"></link>\n<script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"></script>\n<script src=\"../full-text-search.js\"></script>\n++++\n```\n\n### å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\nä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png)\n<br/>\n\næ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png)\n<br/>\n\n\n## ã¾ã¨ã‚\nFessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚\n\n\n## å‚è€ƒ\n* [Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨](http://fess.codelibs.org/ja/articles/article-4.html#js)\n* [å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™](http://qiita.com/cookienote/items/1f2443be25630a78d946)\n\n","comments_count":0,"created_at":"2017-06-26T00:21:37+09:00","likes_count":21,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/e0ec0869-f368-5083-bdc2-cdba9d59427a/","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","date":"2017-12-12T03:19:11+09:00","excerpt":"FUJITSU Advent Calendar 2017 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€ã“ã“ï¼”ãƒ¶æœˆã»ã©MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œ...","tags":["JavaScript","Node.js","Express","mongoose","Angular","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"e0ec0869-f368-5083-bdc2-cdba9d59427a","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","rendered_body":"<p><a href=\"https://qiita.com/advent-calendar/2017/fujitsu\">FUJITSU Advent Calendar 2017</a> 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>\n\n<p>ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€<br>\nã“ã“ï¼”ãƒ¶æœˆã»ã©<strong>MEAN</strong>ã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB+<strong>E</strong>xpress+<strong>A</strong>ngular+<strong>N</strong>ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚<br>\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\n\n<p>ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%B4%B9%E4%BB%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®ç´¹ä»‹</h2>\n\n<p>æœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)</p>\n\n<ul>\n<li><a href=\"https://github.com/Takumon/mean-blog\" rel=\"nofollow noopener\" target=\"_blank\">Github</a></li>\n<li><a href=\"https://hub.docker.com/r/takumon/mean-blog_auto/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerhub</a></li>\n<li>\n<a href=\"https://material-blog-demo.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‡ãƒ¢ç’°å¢ƒ</a> (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)</li>\n</ul>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)<br>\n<a href=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" alt=\"appdemo_detail.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)<br>\n<a href=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)<br>\n<a href=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png\"></a></p>\n\n<h1>\n<span id=\"1-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã¾ã‚ã‚Š\" class=\"fragment\"></span><a href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%BE%E3%82%8F%E3%82%8A\"><i class=\"fa fa-link\"></i></a>1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š</h1>\n\n<h2>\n<span id=\"angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#angular%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%82%8B%E6%99%82%E3%81%AB%E5%8F%A4%E3%81%84%E6%83%85%E5%A0%B1%E3%82%92%E9%99%A4%E5%A4%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„</h2>\n\n<p>1ç³»ã¯<code>AngularJS</code>ã€2ç³»ä»¥é™ã¯<code>Angular</code>ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚<br>\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯<code>Angualr2</code>ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚<code>--AngularJS</code>ã‚’ã¤ã‘ãŸã‚Šã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"htmlã®domè¦ç´ ã‚’åˆ¥ã®domè¦ç´ ã¾ãŸã¯componentã‹ã‚‰æ‰±ã„ãŸã„\" class=\"fragment\"></span><a href=\"#html%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%82%92%E5%88%A5%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%81%BE%E3%81%9F%E3%81%AFcomponent%E3%81%8B%E3%82%89%E6%89%B1%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>HTMLã®DOMè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„</h2>\n\n<p>è¦ç´ ã«<code>#xxxxx</code>ã®ã‚ˆã†ã«<code>#</code>å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®DOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"err\">#</span><span class=\"na\">phone</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"é›»è©±ç•ªå·\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"c\">&lt;!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"nt\">&gt;</span>(click)=\"callPhone(phone.value)\"&gt;\n</pre></div>\n</div>\n\n<p>Componentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯<code>@ViewChild</code>ã‚’ä½¿ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"c1\">// ViewChildã®å¼•æ•°ã«åå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™</span>\n  <span class=\"p\">@</span><span class=\"nd\">ViewChild</span><span class=\"p\">(</span><span class=\"s1\">'phone'</span><span class=\"p\">)</span> <span class=\"nx\">phoneElement</span><span class=\"p\">:</span> <span class=\"nx\">phoneElement</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">showPhoneValue</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">phoneElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n    <span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/template-syntax#ref-vars\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\" class=\"fragment\"></span><a href=\"#routing%E6%99%82%E3%81%AE%E8%AA%8D%E8%A8%BC%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„</h2>\n\n<p>URLã”ã¨ã®èªè¨¼ã¯<code>CanActivate</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€<br>\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚<br>\nãã®ã‚ˆã†ãªæ™‚ã¯ã€<strong><code>CanActivate#canActivate</code>ã§</strong>booleanã®ä»£ã‚ã‚Šã«<strong>Observableã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹</strong>ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleAuthGuard</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">CanActivate</span><span class=\"p\">,</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">RouterStateSnapshot</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/router'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AuthenticationService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./authentication.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleAuthGuard</span> <span class=\"kr\">implements</span> <span class=\"nx\">CanActivate</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span>\n    <span class=\"kr\">private</span> <span class=\"nx\">auth</span><span class=\"p\">:</span> <span class=\"nx\">AuthenticationService</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\">// booleanã§ã¯ãªãObservable&lt;boolean&gt;ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™</span>\n  <span class=\"nx\">canActivate</span><span class=\"p\">(</span><span class=\"nx\">route</span><span class=\"p\">:</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">state</span><span class=\"p\">:</span> <span class=\"nx\">RouterStateSnapshot</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"kr\">boolean</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">auth</span><span class=\"p\">.</span><span class=\"nx\">checkState</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">true</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">err</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">of</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">))</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"formarrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#formarray%E3%81%AE%E5%80%A4%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„</h2>\n\n<p>FormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€<br>\nFormArrayã®å ´åˆpatchValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚<br>\nã“ã†ã„ã†å ´åˆã¯ã€<strong>é…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ€ãƒ¡ãªä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span> <span class=\"c1\">// FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">];</span> <span class=\"c1\">// FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">è‰¯ã„ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formã‚’ç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹</span>\n  <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">student</span> <span class=\"o\">-&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">controls</span><span class=\"p\">[</span><span class=\"s1\">'students'</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">FormControll</span><span class=\"p\">(</span><span class=\"nx\">student</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array\" rel=\"nofollow noopener\" target=\"_blank\">StackOvereFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"error-error-no-provider-for-templaterefã¨ã„ã†ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#error-error-no-provider-for-templateref%E3%81%A8%E3%81%84%E3%81%86%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>æœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚<br>\nå¤§æŠµã®å ´åˆã¯ã€<strong><code>*ngIf</code>ã‚„<code>*ngForm</code>ã®<code>*</code>ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› </strong>ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)<br>\n<code>*</code>ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯<code>ngIf</code>ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€<br>\nãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§<code>No provider for TemplateRef!</code>ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"textareaã«ãŠã„ã¦tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\" class=\"fragment\"></span><a href=\"#textarea%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6tab%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%A4%E3%83%B3%E3%83%87%E3%83%B3%E3%83%88%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„</h2>\n\n<p>æ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€Tabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€<br>\nkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;textarea</span> <span class=\"err\">#</span><span class=\"na\">sampletextarea</span>\n  <span class=\"err\">(</span><span class=\"na\">keydown</span><span class=\"err\">)=\"</span><span class=\"na\">indent</span><span class=\"err\">($</span><span class=\"na\">event</span><span class=\"err\">,</span> <span class=\"na\">sampletextarea</span><span class=\"err\">)\"</span> <span class=\"nt\">&gt;&lt;/textarea&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"nx\">indent</span><span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">,</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">===</span> <span class=\"mi\">9</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¬¡ã®è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹</span>\n      <span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n\n      <span class=\"c1\">// ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretStart</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionStart</span><span class=\"p\">;</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionEnd</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">TAB</span> <span class=\"o\">=</span> <span class=\"s1\">'Â¥t'</span><span class=\"p\">;</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span> <span class=\"o\">=</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">caretStart</span><span class=\"p\">)</span>\n                     <span class=\"o\">+</span> <span class=\"nx\">TAB</span> <span class=\"o\">+</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">focus</span><span class=\"p\">();</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">setSelectionRange</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\" class=\"fragment\"></span><a href=\"#markdown%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%9F%E3%81%84%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„</h2>\n\n<p><a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã¨<a href=\"https://github.com/isagalaev/highlight.js\" rel=\"nofollow noopener\" target=\"_blank\">highlight.js</a>ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚<br>\n<a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown-parse.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">hljs</span> <span class=\"k\">from</span> <span class=\"s1\">'highlight.js'</span><span class=\"p\">;</span>\n\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">marked</span><span class=\"p\">.</span><span class=\"nx\">setOptions</span><span class=\"p\">({</span>\n      <span class=\"na\">highlight</span><span class=\"p\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">hljs</span><span class=\"p\">.</span><span class=\"nx\">highlightAuto</span><span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"na\">rawText</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">marked</span><span class=\"p\">(</span><span class=\"nx\">rawText</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./markdown-parse.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span> <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'toMarkdown'</span> <span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParsePipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">markdownParseService</span><span class=\"p\">:</span> <span class=\"nx\">MarkdownParseService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">markdownParseService</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p>HTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚<code>{{}}</code>ã ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§<code>innerHTML</code>å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"err\">[</span><span class=\"na\">innerHTML</span><span class=\"err\">]=\"</span><span class=\"na\">md</span> <span class=\"err\">|</span> <span class=\"na\">toMarkdown</span><span class=\"err\">\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b\" id=\"reference-9001a931765f8f52acaf\">Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹</a></li>\n<li>Github <a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">chjj/marked</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´è¿½åŠ å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8C%E5%A4%89%E6%9B%B4%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AB%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E7%B5%90%E6%9E%9C%E3%82%92%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„</h2>\n\n<p>ãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦<strong>pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã¾ã—ã‚‡ã†ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"err\">#</span><span class=\"na\">searchUserName</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let user of (userList | searchUserFilter: searchUserName.value);\"</span> <span class=\"nt\">&gt;</span>{{user.name}}<span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">search-user.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">User</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./user'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span>\n  <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'searchUserFilter'</span><span class=\"p\">,</span>\n  <span class=\"na\">pure</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SearchFilterPipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">items</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">User</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"nx\">searchUserName</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span><span class=\"p\">[]</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">searchUserName</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">searchUserName</span> <span class=\"o\">=</span> <span class=\"nx\">searchUserName</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span> <span class=\"nx\">item</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">userId</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">().</span><span class=\"nx\">includes</span><span class=\"p\">(</span><span class=\"nx\">searchUserName</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/pipes#pure-and-impure-pipes\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n</ul>\n\n<h2>\n<span id=\"ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’å…±é€šåŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«<strong>ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">app-settings.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppSettings</span> <span class=\"p\">{</span>\n   <span class=\"kr\">public</span> <span class=\"kr\">static</span> <span class=\"nx\">API_ENDPOINT</span><span class=\"o\">=</span><span class=\"s1\">'http://127.0.0.1:6666/api/'</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleService</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">Injectable</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'angular2/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">AppSettings</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app-settings'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleService</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sampleMethod</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">AppSettings</span><span class=\"p\">.</span><span class=\"nx\">API_ENDPOINT</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%94%BB%E5%83%8F%E3%81%8C%E5%A4%9A%E3%81%84%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A1%A8%E7%A4%BA%E3%82%92%E6%97%A9%E3%81%8F%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„</h2>\n\n<p><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a>ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚<br>\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre> <span class=\"nt\">&lt;img</span>\n  <span class=\"err\">[</span><span class=\"na\">defaultImage</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">defaultimage</span><span class=\"err\">\"</span> \n  <span class=\"err\">[</span><span class=\"na\">lazyLoad</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">sampleimage</span><span class=\"err\">\"</span>\n  <span class=\"err\">[</span><span class=\"na\">offset</span><span class=\"err\">]=\"</span><span class=\"na\">30</span><span class=\"err\">\"</span>\n <span class=\"nt\">&gt;</span>\n</pre></div>\n</div>\n\n<p><em>defaultImage</em><br>\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹<br>\n<em>lazyLoad</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL<br>\n<em>offset</em><br>\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹<br>\n<em>errorImage</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a></li>\n</ul>\n\n<h2>\n<span id=\"angular-cliã®ng-serveã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\" class=\"fragment\"></span><a href=\"#angular-cli%E3%81%AEng-serve%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7dist%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%B8%80%E6%97%A6%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%8F%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angular Cliã®<code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„</h2>\n\n<p><code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã¯<code>dist</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚<br>\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€<strong>delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false</strong>ã«æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span></div>\n<div class=\"highlight\"><pre><span class=\"s2\">\"script\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"cp ./resource/* dist &amp;&amp; ng serve --delete-output-path=false\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/issues/4366\" rel=\"nofollow noopener\" target=\"_blank\">angular-cli github issue #4366</a></li>\n</ul>\n\n<h2>\n<span id=\"aotã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\" class=\"fragment\"></span><a href=\"#aot%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%A7%E3%81%AA%E3%82%93%E3%81%A8%E3%81%8B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„</h2>\n\n<p>ãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)<br>\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚<br>\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"2-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%A7%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š</h1>\n\n<h2>\n<span id=\"ciç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\" class=\"fragment\"></span><a href=\"#ci%E7%92%B0%E5%A2%83%E3%81%AA%E3%81%A9%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%89%E3%81%9A%E3%81%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\"><i class=\"fa fa-link\"></i></a>CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†</h2>\n\n<p>CirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯<strong>watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ng test --wtach=false\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong><br>\n<a href=\"https://github.com/angular/angular-cli/issues/362\" rel=\"nofollow noopener\" target=\"_blank\">Github isssue</a></p>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆæ™‚ã«error-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_intervalã‚„failed-to-execute-send-on-xmlhttprequestã®ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E6%99%82%E3%81%ABerror-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_interval%E3%82%84failed-to-execute-send-on-xmlhttprequest%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«<strong><code>-sm=false</code>ã‚’è¿½åŠ </strong>ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%94%A8%E3%81%AB%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E3%83%A2%E3%83%83%E3%82%AF%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„</h2>\n\n<p>æ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§<br>\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚<br>\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\"><div class=\"highlight\"><pre><span class=\"c1\">// â€»importæ–‡ã¯çœç•¥</span>\n\n<span class=\"c1\">// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©</span>\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-child'</span><span class=\"p\">,</span> <span class=\"c1\">// å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©</span>\n  <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"s1\">'&lt;p&gt;Mock Child Component&lt;/p&gt;'</span>\n<span class=\"p\">})</span>\n<span class=\"kd\">class</span> <span class=\"nx\">MockClildComponent</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">Input</span><span class=\"p\">()</span> <span class=\"nx\">childInput</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n  <span class=\"p\">@</span><span class=\"nd\">Output</span><span class=\"p\">()</span> <span class=\"nx\">childOutput</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">EventEmitter</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ...</span>\n\n<span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n    <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"c1\">// ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ </span>\n      <span class=\"nx\">MockProductSettingsComponent</span><span class=\"p\">,</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">});</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«angular-materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABangular-materila%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€<br>\n<code>karma.config.js</code>ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n      <span class=\"c1\">// Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã</span>\n      <span class=\"p\">{</span><span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span><span class=\"p\">,</span> <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">},</span>\n<span class=\"p\">],</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/material2/issues/4056\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«stylesscssã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABstylesscss%E3%82%A2%E3%83%97%E3%83%AA%E5%85%B1%E9%80%9A%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ<br>\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«<code>karma-scss-preprocessor</code>ã¨<code>node-sass</code>ã‚’è¿½åŠ ã—ã¦<code>karma.conf.js</code>ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n<span class=\"err\">ã€€</span> <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ </span>\n  <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'karma-scss-preprocessor'</span><span class=\"p\">)</span>\n<span class=\"p\">],</span>\n\n\n<span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"c1\">// filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ </span>\n  <span class=\"p\">{</span> <span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">served</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span>\n<span class=\"p\">],</span>\n\n<span class=\"c1\">// preprocessorsã‚’è¿½åŠ </span>\n<span class=\"nx\">preprocessors</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'./src/test.ts'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'@angular/cli'</span><span class=\"p\">],</span>\n <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'scss'</span><span class=\"p\">]</span>\n<span class=\"p\">},</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n<li><a href=\"https://github.com/karma-runner/karma/issues/2700\" rel=\"nofollow noopener\" target=\"_blank\">Github karma/issue/2700</a></li>\n</ul>\n\n<h1>\n<span id=\"3-ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´-expressmongodbå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#3-%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89%E5%81%B4-expressmongodb%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š</h1>\n\n<p>â€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯<a href=\"https://github.com/Automattic/mongoose\" rel=\"nofollow noopener\" target=\"_blank\">mongoose</a>ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\" class=\"fragment\"></span><a href=\"#mongoose%E3%81%AEvirtual%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</h2>\n\n<p>ä¾‹ãˆã°<code>è¨˜äº‹</code>,<code>ã‚³ãƒ¡ãƒ³ãƒˆ</code>,<code>ãƒªãƒ—ãƒ©ã‚¤</code>ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€<br>\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  =&gt; è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  =&gt; ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" alt=\"dbæ§‹é€ _è‰¯.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png\"></a></p>\n\n<p>ãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€<strong>mongooseã®virtualã‚’ä½¿ã„ã¾ã™</strong>ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€<br>\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" alt=\"mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png\"></a></p>\n\n<p>å…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">article.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ArticleSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">content</span><span class=\"p\">:</span> <span class=\"nb\">String</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n\n<span class=\"c1\">// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">ArticleSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'articleId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Article</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Article'</span><span class=\"p\">,</span> <span class=\"nx\">ArticleSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Article</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">comment.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">CommentSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">articleId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Article'</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">comment</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n<span class=\"c1\">// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">CommentSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Reply'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'commentId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Comment</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Comment'</span><span class=\"p\">,</span> <span class=\"nx\">CommentSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Comment</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">reply.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ReplySchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">commentId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">reply</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Reply</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Reply'</span><span class=\"p\">,</span> <span class=\"nx\">ReplySchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Reply</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¤œç´¢å‡¦ç†</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">Article</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">()</span>\n<span class=\"p\">.</span><span class=\"nx\">populate</span><span class=\"p\">({</span>\n  <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"c1\">// Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹</span>\n  <span class=\"na\">populate</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"c1\">// Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹</span>\n  <span class=\"p\">}],</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>Expressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚<br>\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n<span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">accessLogHandler</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n  <span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">([</span>\n    <span class=\"s1\">'start'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n    <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'--ms--'</span>\n  <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n\n  <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'finish'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€</span> <span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°</span>\n    <span class=\"nx\">accessLogger</span><span class=\"p\">.</span><span class=\"nx\">info</span><span class=\"p\">([</span>\n      <span class=\"s1\">'end'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"s1\">'--'</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"nx\">start</span><span class=\"p\">.</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"s1\">'ms--'</span>\n    <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">next</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<p>å®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"py3\"><div class=\"highlight\"><pre><span class=\"n\">start</span><span class=\"p\">,</span>  <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">api</span><span class=\"o\">/</span><span class=\"n\">authenticate</span><span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>   <span class=\"o\">-</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span> <span class=\"o\">--</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n<span class=\"n\">end</span><span class=\"p\">,</span>    <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>                  <span class=\"mi\">403</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span>  <span class=\"o\">--</span><span class=\"mi\">47</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n</pre></div></div>\n\n<h2>\n<span id=\"ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%85%A8%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®<code>util.inspect()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">util</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'util'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">myObject</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"s2\">\"a\"</span><span class=\"p\">:</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span>\n   <span class=\"s2\">\"b\"</span><span class=\"p\">:{</span>\n      <span class=\"s2\">\"c\"</span><span class=\"p\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">,</span>\n      <span class=\"s2\">\"d\"</span><span class=\"p\">:{</span>\n         <span class=\"s2\">\"e\"</span><span class=\"p\">:</span><span class=\"s2\">\"e\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"f\"</span><span class=\"p\">:{</span>\n            <span class=\"s2\">\"g\"</span><span class=\"p\">:</span><span class=\"s2\">\"g\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"h\"</span><span class=\"p\">:{</span>\n               <span class=\"s2\">\"i\"</span><span class=\"p\">:</span><span class=\"s2\">\"i\"</span>\n            <span class=\"p\">}</span>\n         <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">};</span> \n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">util</span><span class=\"p\">.</span><span class=\"nx\">inspect</span><span class=\"p\">(</span><span class=\"nx\">myObject</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"kc\">null</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%A7%E3%81%8D%E3%82%8B%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯<br>\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚<br>\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å®šæ•°å®šç¾©</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_PORT</span> <span class=\"o\">||</span> <span class=\"s1\">'3000'</span><span class=\"p\">;</span><span class=\"err\">ã€€</span><span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_HOST</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_HOST</span> <span class=\"o\">||</span> <span class=\"s1\">'localhost'</span><span class=\"p\">;</span> <span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"dbåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#db%E5%88%9D%E5%9B%9E%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„</h2>\n\n<p>mongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br>\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">createConnection</span> <span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">createConnection</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/failed to connect to server .* on first connect/</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Retrying first connect...\"</span><span class=\"p\">);</span>\n                <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">openUri</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">).</span><span class=\"k\">catch</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n            <span class=\"c1\">// 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹</span>\n            <span class=\"p\">},</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'open'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Connection to db established.\"</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">db</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Automattic/mongoose/issues/5169\" rel=\"nofollow noopener\" target=\"_blank\">Github mongooseã®issue5169</a></li>\n</ul>\n","body":"[FUJITSU Advent Calendar 2017](https://qiita.com/advent-calendar/2017/fujitsu) 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\nãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€\nã“ã“ï¼”ãƒ¶æœˆã»ã©**MEAN**ã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB+**E**xpress+**A**ngular+**N**ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚\n\n## ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\næœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)\n\n* [Github](https://github.com/Takumon/mean-blog)\n* [Dockerhub](https://hub.docker.com/r/takumon/mean-blog_auto/)\n* [ãƒ‡ãƒ¢ç’°å¢ƒ](https://material-blog-demo.herokuapp.com/) (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)\n![appdemo_detail.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png](https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png)\n\n# 1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š\n## Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\n1ç³»ã¯`AngularJS`ã€2ç³»ä»¥é™ã¯`Angular`ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯`Angualr2`ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚\u001e`--AngularJS`ã‚’ã¤ã‘ãŸã‚Š\u001dã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚\n\n## HTMLã®DOM\bè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„\nè¦ç´ ã«`#xxxxx`\bã®ã‚ˆã†ã«`#`å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®\bDOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™\n\n```html:HTML\n<input #phone placeholder=\"é›»è©±ç•ªå·\"/>\n<!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ -->\n<button >(click)=\"callPhone\b(phone.value)\">\n```\n\n\bComponentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯`@ViewChild`ã‚’ä½¿ã„ã¾ã™\n\n```typescript:Component\n  // \bViewChildã®å¼•æ•°ã«\b\båå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™\n  @ViewChild('phone') phoneElement: phoneElement;\n\n  showPhoneValue() {\n    console.log(this.phoneElement.value);\n    )\n  }\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/template-syntax#ref-vars)\n* [StackOverFlow](https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template)\n\n\n\n## Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\nURLã”ã¨ã®èªè¨¼ã¯`CanActivate`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªæ™‚ã¯ã€**`CanActivate#canActivate`ã§**booleanã®ä»£ã‚ã‚Šã«**Observable<boolean>ã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹**ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\n\n\n```typescript:SampleAuthGuard\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SampleAuthGuard implements CanActivate {\n\n  constructor(\n    private auth: AuthenticationService,\n  ) { }\n\n  // booleanã§ã¯ãªãObservable<boolean>ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.checkState()\n      .map(res => true)\n      .catch(err => Observable.of(false))\n  }\n}\n\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function)\n\n## FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\nFormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€\nFormArrayã®å ´åˆpatch\bValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨\bã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚\n\bã“ã†ã„ã†å ´åˆã¯ã€**\b\bé…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push**ã—ã¾ã™ã€‚\n\n```typescript:ãƒ€ãƒ¡ãªä¾‹\nngOnInit() {\n  // Formç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName' // FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½\n    students: ['taro', 'jiro', 'saburo']; // FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½\n  });\n}\n```\n\n```typescript:\bè‰¯ã„ä¾‹\nngOnInit() {\n  // Formã‚’ç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName'\n  });\n\n  // ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹\n  ['taro', 'jiro', 'saburo'].forEach(student -> {\n    this.form.controls['students'].push(new FormControll(student));\n  });\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOvereFlow](https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array)\n\n## ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼\næœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚\nå¤§æŠµã®å ´åˆã¯ã€**`*ngIf`ã‚„`*ngForm`ã®`*`ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› **ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)\n`*`ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯`ngIf`ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€\n\bãã‚“ãª\b\bãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§`No provider for TemplateRef!`ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref)\n\n\n## textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\næ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€\u001dTabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€\n\bkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«\bãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n```html:HTML\n<textarea #sampletextarea\n  (keydown)=\"indent($event, sampletextarea)\" ></textarea>\n```\n\n```typescript:Component\n  indent($event, sampleTextAreaElement) {\n    // Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚\n    if ($event.keyCode === 9) {\n      \b// æ¬¡ã®è¦ç´ ã«\bãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹\n      $event.preventDefault();\n\n      // ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—\n      \bconst caretStart = textareaElement.selectionStart;\n      const caretEnd = textareaElement.selectionEnd;\n\n      // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’\bå–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥\n      const TAB = 'Â¥t';\n      sampleTextAreaElement.value = sampleTextAreaElement.value.substring(0, caretStart)\n                     + TAB + sampleTextAreaElement.value.substring(caretStart, value.length);\n\n      // ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™\n      sampleTextAreaElement.focus();\n      sampleTextAreaElement.setSelectionRange(caretStart + TAB.length, caretEnd + TAB.length);\n\n      return;\n    }\n  }\n\n```\n\n\n\n## \bMarkdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’\bè¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\n[marked](https://github.com/chjj/marked)ã¨[highlight.js](https://github.com/isagalaev/highlight.js)ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚\n[marked](https://github.com/chjj/marked)ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```typescript:markdown-parse.service.ts\nimport { Injectable } from '@angular/core';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\n\n@Injectable()\nexport class MarkdownParseService {\n\n  constructor() {\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n  }\n\n  parse(rawText: string) {\n    return marked(rawText);\n  }\n}\n```\n\n\n```typescript:markdown.pipe.ts\nimport marked from 'marked';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MarkdownParseService } from './markdown-parse.service';\n\n@Pipe({ name: 'toMarkdown' })\nexport class MarkdownParsePipe implements PipeTransform {\n  constructor(markdownParseService: MarkdownParseService) {}\n\n  transform(value: string): any {\n    return this.markdownParseService.parse(value);\n  }\n}\n```\n\nHTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚`{{}}`ã ã¨\bã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§\b`innerHTML`å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```html\n<div [innerHTML]=\"md | toMarkdown\"></div>\n```\n\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹](https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b)\n* Github [chjj/marked](https://github.com/chjj/marked)\n\n\n\n\n## çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒ\bå¤‰æ›´ã€è¿½åŠ \bã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\nãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦**pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã¾ã—ã‚‡ã†ã€‚\n\n```html:HTML\n<input type=\"text\" #searchUserName>\n<ul>\n  <li *ngFor=\"let user of (userList | searchUserFilter: searchUserName.value);\" >{{user.name}}</li>\n<ul>\n```\n\n```typescript:search-user.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { User } from './user';\n\n@Pipe({\n  name: 'searchUserFilter',\n  pure: false // pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹\n})\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Array<User>, searchUserName: string): any[] {\n    if (!searchUserName) return items;\n\n    searchUserName = searchUserName.toLowerCase();\n    return items.filter( item => item.user.userId.toLowerCase().includes(searchUserName));\n  }\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/pipes#pure-and-impure-pipes)\n\n\n\n\n## ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’\bå…±é€š\båŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«**ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©**ã—ã¾ã™ã€‚\n\n```typescript:app-settings.ts\nexport class AppSettings {\n   public static API_ENDPOINT='http://127.0.0.1:6666/api/';\n}\n```\n\n```typescript:SampleService\nimport {Injectable} from 'angular2/core';\nimport {AppSettings} from './app-settings';\n\n@Injectable()\nexport class SampleService {\n    \bsampleMethod() {\n      console.log(AppSettings.API_ENDPOINT);\n    }\n}\n```\n\n**å‚è€ƒ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2)\n\n\n## ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\n[ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```html:HTML\n <img\n  [defaultImage]=\"https://images.sample.com/photo/defaultimage\" \n  [lazyLoad]=\"https://images.sample.com/photo/sampleimage\"\n  [offset]=\"30\"\n >\n```\n\n*defaultImage*\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹\n*lazyLoad*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL\n*offset*\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹\n*errorImage*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)\n\n\n## Angular Cliã®`ng serve`ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\n`ng serve`ã‚³ãƒãƒ³ãƒ‰ã¯`dist`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€**delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false**ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```json:package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\n\"script\": {\n  \"build\": \"cp ./resource/* dist && ng serve --delete-output-path=false\"\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [angular-cli github issue #4366](https://github.com/angular/angular-cli/issues/4366)\n\n\n## AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\nãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«[Angular Material](https://material.angular.io/)ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚\n\n\n# 2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\n## CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\nCirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ`ng test`ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯**watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã—ã¾ã™ã€‚\n\n```\nng test --wtach=false\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n[Github isssue](https://github.com/angular/angular-cli/issues/362)\n\n## ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«`ng test`ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«**`-sm=false`ã‚’è¿½åŠ **ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest)\n\n\n## ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\næ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚\n\n\n```typescript\n// â€»importæ–‡ã¯çœç•¥\n\n// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n@Component({\n  selector: 'app-child', // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©\n  template: '<p>Mock Child Component</p>'\n})\nclass MockClildComponent {\n  @Input() childInput: string;\n  @Output() childOutput = new EventEmitter();\n}\n\n// ...\n\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    declarations: [\n      // ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ \n      MockProductSettingsComponent,\n      // ...\n    ],\n    // ...\n  });\n  // ...\n});\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§[Angular Material](https://material.angular.io/)ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€\n`karma.config.js`ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚\n\n```javascript:karma.conf.js\nfiles: [\n      ãƒ»ãƒ»ãƒ»\n      // Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã\n      {pattern: './node_modules/@angular/material/prebuilt-themes/indigo-pink.css', included: true, watched: false},\n],\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackoverflow](https://github.com/angular/material2/issues/4056)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«`karma-scss-preprocessor`ã¨`node-sass`ã‚’è¿½åŠ ã—ã¦`karma.conf.js`ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```javascript:karma.conf.js\nplugins: [\n  ãƒ»ãƒ»ãƒ»\nã€€ // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ \n  require('karma-scss-preprocessor')\n],\n\n\nfiles: [\n  ãƒ»ãƒ»ãƒ»\n  // filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n  { pattern: './src/styles.scss', watched: false,  included: true, served: true }\n],\n\n// preprocessorsã‚’è¿½åŠ \npreprocessors: {\n './src/test.ts': ['@angular/cli'],\n './src/styles.scss': ['scss']\n},\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**:\n\n* [stackOverFlow](https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689)\n* [Github karma/issue/2700](https://github.com/karma-runner/karma/issues/2700)\n\n\n\n\n# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š\nâ€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯[mongoose](https://github.com/Automattic/mongoose)ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚\n\n## mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\nä¾‹ãˆã°`è¨˜äº‹`,`ã‚³ãƒ¡ãƒ³ãƒˆ`,`ãƒªãƒ—ãƒ©ã‚¤`ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  => è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  => ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚\n![dbæ§‹é€ _è‰¯.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png)\n\nãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€**mongooseã®virtualã‚’ä½¿ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png)\n\nå…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n\n```typescript:article.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ArticleSchema = new mongoose.Schema({\n  content: String\n}, { toJSON: { virtuals: true } });\n\n\n// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nArticleSchema.virtual('comments', {\n  ref: 'Comment',\n  localField: '_id',\n  foreignField: 'articleId',\n  justOne: false,\n});\n\nconst Article = mongoose.model('Article', ArticleSchema);\n\nexport { Article };\n```\n\n\n```typescript:comment.model.ts\nimport * as mongoose from 'mongoose';\n\nconst CommentSchema = new mongoose.Schema({\n  articleId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  comment: String;\n}, { toJSON: { virtuals: true } });\n\n// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nCommentSchema.virtual('replies', {\n  ref: 'Reply',\n  localField: '_id',\n  foreignField: 'commentId',\n  justOne: false,\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nexport { Comment };\n```\n\n```typescript:reply.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ReplySchema = new mongoose.Schema({\n  commentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Comment'\n  },\n  reply: String;\n});\n\nconst Reply = mongoose.model('Reply', ReplySchema);\n\nexport { Reply };\n```\n\n```typescript:æ¤œç´¢å‡¦ç†\nArticle.find()\n.populate({\n  path: 'comments', // Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹\n  populate: [{\n    path: 'replies', // Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹\n  }],\n});\n```\n\n\n## ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\nExpressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n\n\n```javascript:ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™\nconst express = express();\nexpress.use(function accessLogHandler (req, res, next) {\n  const start = new Date();\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€\n  console.log([\n    'start',\n    req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n    req.method,\n    req.url,\n    '-',\n    req.headers.referer || '-',\n    req.headers['user-agent'] || '-',\n    '--ms--'\n  ].join(',\\t'));\n\n  res.once('finish', function() {\nã€€ã€€ // ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°\n    accessLogger.info([\n      'end',\n      req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n      req.method,\n      req.url,\n      res.statusCode,\n      req.headers.referer || '-',\n      req.headers['user-agent'] || '-',\n      '--' + (new Date().getMilliseconds() - start.getMilliseconds()) + 'ms--'\n    ].join(',\\t'));\n  });\n\n  next();\n});\n```\n\nå®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```py3\nstart,  ::ffff:127.0.0.1, GET, /api/authenticate/check-state,   -, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36, --ms--\nend,    ::ffff:127.0.0.1, GET, /check-state,                  403, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36,  --47ms--\n```\n\n\n\n## ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®`util.inspect()`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n\n```javascript\nconst util = require('util');\nconst myObject = {\n   \"a\":\"a\",\n   \"b\":{\n      \"c\":\"c\",\n      \"d\":{\n         \"e\":\"e\",\n         \"f\":{\n            \"g\":\"g\",\n            \"h\":{\n               \"i\":\"i\"\n            }\n         }\n      }\n   }\n}; \n\nconsole.log(util.inspect(myObject, false, null));\n```\n\nã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™\n\n```\n{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object)\n\n\n## ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```typescript:å®šæ•°å®šç¾©\nexport const SERVER_PORT: string = process.env.SERVER_PORT || '3000';ã€€// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹\nexport const SERVER_HOST: string = process.env.SERVER_HOST || 'localhost'; // ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹\n```\n\n\n## DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\nmongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n```javascript\nfunction createConnection (dbURL, options) {\n    var db = mongoose.createConnection(dbURL, options);\n\n    db.on('error', function (err) {\n        if (err.message && err.message.match(/failed to connect to server .* on first connect/)) {\n            console.log(new Date(), String(err));\n\n            setTimeout(function () {\n                console.log(\"Retrying first connect...\");\n                db.openUri(dbURL).catch(() => {});\n            // 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹\n            }, 20 * 1000);\n        } else {\n            console.error(new Date(), String(err));\n        }\n    });\n\n    db.once('open', function () {\n        console.log(\"Connection to db established.\");\n    });\n\n    return db;\n}\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Github mongooseã®issue5169](https://github.com/Automattic/mongoose/issues/5169)\n\n","comments_count":0,"created_at":"2017-12-12T03:19:11+09:00","likes_count":46,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/bb5bc899-9dfd-5e67-bc4c-bc422ba8d176/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","date":"2017-07-19T02:06:59+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","MongoDB","Express","TypeScript","AngularJS","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"bb5bc899-9dfd-5e67-bc4c-bc422ba8d176","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li><a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\" id=\"reference-b35cd1a7f8ba1daaecd8\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a></li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼‘-ãƒ“ãƒ«ãƒ‰ç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%91-%E3%83%93%E3%83%AB%E3%83%89%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</h2>\n\n<p>Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/build\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€</p>\n\n<h5>\n<span id=\"1-1-distserver\" class=\"fragment\"></span><a href=\"#1-1-distserver\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server</h5>\n\n<p>ã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚<br>\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚<br>\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"1-2-distserverpublic\" class=\"fragment\"></span><a href=\"#1-2-distserverpublic\"><i class=\"fa fa-link\"></i></a>(1-2) dist/server/public</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚<br>\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"2-server\" class=\"fragment\"></span><a href=\"#2-server\"><i class=\"fa fa-link\"></i></a>(2) server</h5>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"3-src\" class=\"fragment\"></span><a href=\"#3-src\"><i class=\"fa fa-link\"></i></a>(3) src</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚<br>\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"4-proxyconfjson\" class=\"fragment\"></span><a href=\"#4-proxyconfjson\"><i class=\"fa fa-link\"></i></a>(4) proxy.conf.json</h5>\n\n<p><code>npm start</code>ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>\n<p>Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g @angular/cli\n</pre></div></div>\n</li>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ ng new sample\n$ cd sample\n$ npm install\n</pre></div></div>\n</li>\n<li>\n<p>Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n</p>\n<dd>\n<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/express\" rel=\"nofollow noopener\" target=\"_blank\"><code>express</code></a><br>\n    </dt>\n<dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noopener\" target=\"_blank\"><code>body-parser</code></a><br>\n    </dt>\n<dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/mongoose\" rel=\"nofollow noopener\" target=\"_blank\"><code>mongoose</code></a><br>\n    </dt>\n<dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/nodemon\" rel=\"nofollow noopener\" target=\"_blank\"><code>nodemon</code></a><br>\n    </dt>\n<dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/npm-run-all\" rel=\"nofollow noopener\" target=\"_blank\"><code>npm-run-all</code></a><br>\n    </dt>\n<dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸<br>\n</dd>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save express body-parser mongoose\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«<code>server</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"servermodelsmessagets\" class=\"fragment\"></span><a href=\"#servermodelsmessagets\"><i class=\"fa fa-link\"></i></a>server/models/message.ts</h4>\n\n<p>MongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Message</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'messages'</span><span class=\"p\">,</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">}</span>\n<span class=\"p\">}));</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverroutesmessagets\" class=\"fragment\"></span><a href=\"#serverroutesmessagets\"><i class=\"fa fa-link\"></i></a>server/routes/message.ts</h4>\n\n<p>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯<code>server/models/message.ts</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../models/message'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">messageRouter</span><span class=\"p\">:</span> <span class=\"nx\">Router</span> <span class=\"o\">=</span> <span class=\"nx\">Router</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">doc</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span><span class=\"na\">messages</span><span class=\"p\">:</span> <span class=\"nx\">doc</span><span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Message</span><span class=\"p\">({</span>\n    <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">((</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n      <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n      <span class=\"na\">obj</span><span class=\"p\">:</span> <span class=\"nx\">result</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverappts\" class=\"fragment\"></span><a href=\"#serverappts\"><i class=\"fa fa-link\"></i></a>server/app.ts</h4>\n\n<p>Expressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯<code>/api/messages</code>ã«è¨­å®šã—ã€<br>\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€<br>\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">express</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">path</span> <span class=\"k\">from</span> <span class=\"s1\">'path'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">bodyParser</span> <span class=\"k\">from</span> <span class=\"s1\">'body-parser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./routes/message'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MONGO_URL</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./config'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">class</span> <span class=\"nx\">App</span> <span class=\"p\">{</span>\n  <span class=\"kr\">public</span> <span class=\"nx\">express</span><span class=\"p\">:</span> <span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">Application</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">middleware</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">routes</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">middleware</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">());</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">urlencoded</span><span class=\"p\">({</span> <span class=\"na\">extended</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"p\">}));</span>\n    <span class=\"c1\">// æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nb\">Promise</span> <span class=\"o\">=</span> <span class=\"nb\">global</span><span class=\"p\">.</span><span class=\"nb\">Promise</span><span class=\"p\">;</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">MONGO_URL</span> <span class=\"o\">||</span> <span class=\"nx\">MONGO_URL</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">useMongoClient</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"p\">});</span>\n    <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'SIGINT'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">disconnect</span><span class=\"p\">();</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">routes</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kr\">static</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public'</span><span class=\"p\">)));</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"nx\">messageRouter</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">sendFile</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public/index.html'</span><span class=\"p\">));</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"k\">new</span> <span class=\"nx\">App</span><span class=\"p\">().</span><span class=\"nx\">express</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverbinwwwts\" class=\"fragment\"></span><a href=\"#serverbinwwwts\"><i class=\"fa fa-link\"></i></a>server/bin/www.ts</h4>\n\n<p>Node.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">www.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../config'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../app'</span><span class=\"p\">;</span>\n\n\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã®è¨­å®š.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">port</span> <span class=\"o\">=</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">PORT</span> <span class=\"o\">||</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">);</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">set</span><span class=\"p\">(</span><span class=\"s1\">'port'</span><span class=\"p\">,</span> <span class=\"nx\">port</span><span class=\"p\">);</span>\n\n\n<span class=\"c1\">// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">server</span> <span class=\"o\">=</span> <span class=\"nx\">http</span><span class=\"p\">.</span><span class=\"nx\">createServer</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"nx\">port</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">`API running on localhost:</span><span class=\"p\">${</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">));</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"nx\">onError</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'listening'</span><span class=\"p\">,</span> <span class=\"nx\">onListening</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">):</span> <span class=\"nx\">number</span><span class=\"o\">|</span><span class=\"nx\">string</span><span class=\"o\">|</span><span class=\"kr\">boolean</span>  <span class=\"p\">{</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">:</span> <span class=\"nx\">number</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">val</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"p\">:</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">isNaN</span><span class=\"p\">(</span><span class=\"nx\">normalizedPort</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">normalizedPort</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onError</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">):</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">syscall</span> <span class=\"o\">!==</span> <span class=\"s1\">'listen'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"k\">typeof</span> <span class=\"nx\">port</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span>\n    <span class=\"p\">?</span> <span class=\"s1\">'Pipe '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span>\n    <span class=\"p\">:</span> <span class=\"s1\">'Port '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span><span class=\"p\">;</span>\n\n  <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EACCES'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' requires elevated privileges'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EADDRINUSE'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' is already in use'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"nl\">default</span><span class=\"p\">:</span>\n      <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onListening</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">addr</span> <span class=\"o\">=</span> <span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">address</span><span class=\"p\">();</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">addr</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"s2\">`pipe </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">}</span><span class=\"s2\">`</span>\n    <span class=\"p\">:</span> <span class=\"s2\">`port </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">.</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverconfigts\" class=\"fragment\"></span><a href=\"#serverconfigts\"><i class=\"fa fa-link\"></i></a>server/config.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚<br>\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">config.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"o\">=</span> <span class=\"mi\">3000</span><span class=\"p\">;</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">MONGO_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'mongodb://localhost:27017/test'</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€<br>\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappmessagemessageservicets\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicets\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MessageService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">http</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n        <span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">regist</span><span class=\"p\">(</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n      <span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">message</span><span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponentts\" class=\"fragment\"></span><a href=\"#srcappappcomponentts\"><i class=\"fa fa-link\"></i></a>src/app/app.component.ts</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-root'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./app.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./app.component.css'</span><span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">MessageService</span> <span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">{</span>\n  <span class=\"nl\">messages</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n  <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">messageService</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">getMessages</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">;</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">registerMessage</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponenthtml\" class=\"fragment\"></span><a href=\"#srcappappcomponenthtml\"><i class=\"fa fa-link\"></i></a>src/app/app.component.html</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">id=</span><span class=\"s\">\"getMessagesButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">getMessages</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–<span class=\"nt\">&lt;/button&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">id=</span><span class=\"s\">\"messageList\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let item of messages\"</span><span class=\"nt\">&gt;</span>\n        {{item.message}}\n      <span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessage\"</span> <span class=\"err\">[(</span><span class=\"na\">ngModel</span><span class=\"err\">)]=\"</span><span class=\"na\">message</span><span class=\"err\">\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessageButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)='</span><span class=\"na\">registerMessage</span><span class=\"err\">()'</span><span class=\"nt\">&gt;</span>ç™»éŒ²<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappmodulets\" class=\"fragment\"></span><a href=\"#srcappappmodulets\"><i class=\"fa fa-link\"></i></a>src/app/app.module.ts</h4>\n\n<p>HttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">BrowserModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/platform-browser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">NgModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">HttpModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">AppComponent</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">BrowserModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">HttpModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">FormsModule</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">],</span>\n  <span class=\"na\">bootstrap</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">AppComponent</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E3%83%93%E3%83%AB%E3%83%89%E3%81%BE%E3%82%8F%E3%82%8A%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"pakcagejson\" class=\"fragment\"></span><a href=\"#pakcagejson\"><i class=\"fa fa-link\"></i></a>pakcage.json</h4>\n\n<p>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">\n  </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server -p start:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p watch:server boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server/bin/www.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build:server build:client\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng build --output-path=./dist/server/public\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"buildRun\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>start</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>start:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚</li>\n<li>\n<strong>start:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server</strong>ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build</strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>build:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹<code>/server/tsconfig.server.json</code>ã‚’ä½¿ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ<code>dist/server/public</code>ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>buildRun</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"servertsconfigserverjson\" class=\"fragment\"></span><a href=\"#servertsconfigserverjson\"><i class=\"fa fa-link\"></i></a>server/tsconfig.server.json</h4>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>outDir</code>ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"proxyconfjson\" class=\"fragment\"></span><a href=\"#proxyconfjson\"><i class=\"fa fa-link\"></i></a>proxy.conf.json</h4>\n\n<p><code>start</code>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©<br>\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>/api</code>å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">proxy.conf.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"/api\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"target\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://localhost:3000\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"secure\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"mongodbã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\" class=\"fragment\"></span><a href=\"#mongodb%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\"><i class=\"fa fa-link\"></i></a>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</h4>\n\n<p>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"5-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#5-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm start \n</pre></div></div>\n</li>\n<li><p>èµ·å‹•ã—ãŸã‚‰<code>http://localhost:4200</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<ul>\n<li>è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build\n</pre></div></div>\n</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯<code>http://localhost:3000</code>ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n<code>\n$ npm run buildRun\n</code>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ<a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a>ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* [ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n\n## ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/build)ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€\n\n##### (1-1) dist/server\nã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (1-2) dist/server/public\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚\n\n##### (2) server\nã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚\n\n##### (3) src\nãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (4) proxy.conf.json\n`npm start`ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚\n\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n* Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ npm install -g @angular/cli\n\t```\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ ng new sample\n\t$ cd sample\n\t$ npm install\n\t```\n\n* Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<dd>\n    <dt>[`express`](https://www.npmjs.com/package/express)\n        <dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n    <dt>[`body-parser`](https://www.npmjs.com/package/body-parser)\n        <dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼\n    <dt>[`mongoose`](https://www.npmjs.com/package/mongoose)\n        <dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API\n    <dt>[`nodemon`](https://www.npmjs.com/package/nodemon)\n        <dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«\n    <dt>[`npm-run-all`](https://www.npmjs.com/package/npm-run-all)\n        <dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n</dd>\n\n\t```\n\t$ npm install --save express body-parser mongoose\n\t$ npm install --save-dev @types/mongoose nodemon npm-run-all\n\t```\n\n\n\n### 2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nAngular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«`server`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n#### server/models/message.ts\nMongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as mongoose from 'mongoose';\n\nconst Message = mongoose.model('messages', new mongoose.Schema({\n  message: {type: String}\n}));\n\nexport { Message };\n```\n\n\n\n#### server/routes/message.ts\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯`server/models/message.ts`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as http from 'http';\nimport { Router, Response } from 'express';\nimport { Message } from '../models/message';\n\nconst messageRouter: Router = Router();\n\n// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹\nmessageRouter.get('/', (req, res, next) => {\n  Message.find(function(err, doc) {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({messages: doc});\n  });\n});\n\n// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹\nmessageRouter.post('/', (req, res, next) => {\n  const message = new Message({\n    message: req.body.message\n  });\n\n  message.save((err, result) => {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({\n      message: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚',\n      obj: result\n    });\n  });\n});\n\nexport { messageRouter };\n```\n\n\n#### server/app.ts\nExpressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯`/api/messages`ã«è¨­å®šã—ã€\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.ts\nimport * as express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as mongoose from 'mongoose';\n\nimport { messageRouter } from './routes/message';\nimport { MONGO_URL } from './config';\n\nclass App {\n  public express: express.Application;\n\n  constructor() {\n    this.express = express();\n    this.middleware();\n    this.routes();\n  }\n\n  private middleware(): void {\n    this.express.use(bodyParser.json());\n    this.express.use(bodyParser.urlencoded({ extended: false }));\n    // æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š\n    mongoose.Promise = global.Promise;\n    mongoose.connect(process.env.MONGO_URL || MONGO_URL, {\n      useMongoClient: true,\n    });\n    process.on('SIGINT', function() { mongoose.disconnect(); });\n  }\n\n  private routes(): void {\n    // é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.use(express.static(path.join(__dirname, 'public')));\n\n    this.express.use('/api/messages', messageRouter);\n\n    // ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'public/index.html'));\n    });\n  }\n}\n\nexport default new App().express;\n```\n\n\n#### server/bin/www\\.ts\nNode.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n```js:www.ts\nimport * as http from 'http';\nimport { SERVER_PORT } from '../config';\nimport app from '../app';\n\n\n\n// ãƒãƒ¼ãƒˆã®è¨­å®š.\nconst port = normalizePort(process.env.PORT || SERVER_PORT);\napp.set('port', port);\n\n\n// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.\nconst server = http.createServer(app);\nserver.listen(port, () => console.log(`API running on localhost:${port}`));\nserver.on('error', onError);\nserver.on('listening', onListening);\n\n// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.\nfunction normalizePort(val): number|string|boolean  {\n\n  const normalizedPort: number = (typeof val === 'string')\n    ? parseInt(val, 10)\n    : val;\n\n  if (isNaN(normalizedPort)) {\n    return val;\n  }\n\n  if (normalizedPort >= 0) {\n    return normalizedPort;\n  }\n\n  return false;\n}\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.\nfunction onError(error): void {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.\nfunction onListening(): void {\n  const addr = server.address();\n  const bind = (typeof addr === 'string')\n    ? `pipe ${addr}`\n    : `port ${addr.port}`;\n}\n```\n\n#### server/config.ts\nã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚\n\n```js:config.ts\nexport const SERVER_PORT = 3000;\nexport const MONGO_URL = 'mongodb://localhost:27017/test';\n```\n\n\n\n### 3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚\n\n\n#### src/app/message/message.service.ts\nã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚\n\n```js:message.service.ts\nimport { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class MessageService {\n\n  constructor(private http: Http) {}\n\n  getAll(): Observable<any> {\n    return this.http\n        .get('/api/messages')\n        .map((response: Response) => {\n            const result = response.json();\n            return result;\n        })\n        .catch((error: Response) => Observable.throw(error.json()));\n  }\n\n  regist(message: string): Observable<any> {\n    return this.http\n      .post('/api/messages', {message: message})\n      .map((response: Response) => {\n            const result = response.json();\n            return result;\n      })\n      .catch((error: Response) => Observable.throw(error.json()));\n  }\n}\n```\n\n\n\n\n\n#### src/app/app.component.ts\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚\n\n```js:app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { MessageService } from './message/message.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [ MessageService ]\n})\nexport class AppComponent {\n  messages: Array<any>;\n  message: string;\n\n  constructor(private messageService: MessageService) {\n    this.getMessages();\n  }\n\n  getMessages(): void {\n    this.messageService\n      .getAll()\n      .subscribe((res: any) => {\n        this.messages = res.messages;\n      });\n  }\n\n  registerMessage(): void {\n    if (!this.message) {\n      return;\n    }\n\n    this.messageService\n      .register(this.message)\n      .subscribe((res: any) => {\n        this.message = '';\n        this.getMessages();\n      });\n  }\n}\n```\n\n\n#### src/app/app.component.html\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚\n\n```html:app.component.html\n<div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</h1>\n    <button id=\"getMessagesButton\" (click)=\"getMessages()\">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–</button>\n    <ul id=\"messageList\">\n      <li *ngFor=\"let item of messages\">\n        {{item.message}}\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²</h1>\n    <input type=\"text\" id=\"registerMessage\" [(ngModel)]=\"message\" placeholder=\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\">\n    <button type=\"submit\" id=\"registerMessageButton\" (click)='registerMessage()'>ç™»éŒ²</button>\n  </div>\n</div>\n```\n#### src/app/app.module.ts\nHttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n\n```js:app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [MessageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n```\n\n\n### 4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\n\n#### pakcage.json\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)\n\n```json:package.json\n\n  \"scripts\": {\n    ...\n    \"start\": \"npm-run-all -s build:server -p start:*\",\n    \"start:client\": \"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\",\n    \"start:server\": \"run-p watch:server boot:server\",\n    \"watch:server\": \"tsc -w -p ./server/tsconfig.server.json\",\n    \"boot:server\": \"nodemon ./dist/server/bin/www.js\",\n    \"build\": \"run-s build:server build:client\",\n    \"build:client\": \"ng build --output-path=./dist/server/public\",\n    \"build:server\": \"tsc -p ./server/tsconfig.server.json\",\n    \"buildRun\": \"run-s build boot:server\",\n    ...\n  },\n```\n\n* **start**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **start:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚\n* **start:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **watch:server**ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\n* **build:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹`/server/tsconfig.server.json`ã‚’ä½¿ã„ã¾ã™ã€‚\n* **build:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ`dist/server/public`ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n* **buildRun**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n\n\n\n#### server/tsconfig.server.json\nã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`outDir`ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```json:tsconfig.server.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist/server\",\n    \"mapRoot\": \"../dist/server\",\n    \"module\": \"commonjs\"\n  }\n}\n```\n\n#### proxy.conf.json\n`start`ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`/api`å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\n\n```json:proxy.conf.json\n{\n  \"/api\": {\n    \"target\": \"http://localhost:3000\",\n    \"secure\": false\n  }\n}\n```\n\n#### MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\nå…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n\n\n### 5. è©¦ã—ã¦ã¿ã‚‹\n#### ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚\n\n\t```\n\t$ npm start \n\t```\n\n* èµ·å‹•ã—ãŸã‚‰`http://localhost:4200`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n* è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n\t```\n\t$ npm run build\n\t```\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯`http://localhost:3000`ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\t```\n\t$ npm run buildRun\n\t```\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ[ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n\n\n","comments_count":0,"created_at":"2017-07-19T02:06:59+09:00","likes_count":27,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Express"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/7780e313-8bda-5534-99aa-37bf47e9deb3/","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","date":"2017-12-31T23:49:04+09:00","excerpt":"== 2018/4/7 è¿½è¨˜ ==========================================æœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€ãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚gitb...","tags":["JavaScript","chrome-extension","Docker","GitBucket","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"7780e313-8bda-5534-99aa-37bf47e9deb3","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","rendered_body":"<p>== 2018/4/7 è¿½è¨˜ ==========================================<br>\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€<br>\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚</p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-plugin</a></p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦<code>&lt;GITBUCKET_HOME&gt;/plugins/</code>ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚<br>\n== =======================================================</p>\n\n<p>Git Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€<br>\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>\n\n<p>Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>\n\n<ul>\n<li>\n<em>Chromeæ‹¡å¼µ</em>\n\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a></li>\n</ul>\n</li>\n<li>\n<em>Dockerã‚¤ãƒ¡ãƒ¼ã‚¸</em>\n\n<ul>\n<li><a href=\"https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-server</a></li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å°å…¥ã™ã‚‹ã¨\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B%E3%81%A8\"><i class=\"fa fa-link\"></i></a>å°å…¥ã™ã‚‹ã¨</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€<br>\n<a href=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png\"></a></p>\n\n<p>ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" alt=\"å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png\"></a></p>\n\n<p>ã¾ãŸissueä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-dockerå´\" class=\"fragment\"></span><a href=\"#1-docker%E5%81%B4\"><i class=\"fa fa-link\"></i></a>1. Dockerå´</h3>\n\n<p>GitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡ä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚</p>\n\n<ul>\n<li>docker-compose.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"docker\">\n<div class=\"code-lang\"><span class=\"bold\">docker-compose.yml</span></div>\n<div class=\"highlight\"><pre>version: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n</pre></div>\n</div>\n\n<ul>\n<li>docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span>docker-compose up <span class=\"nt\">-d</span>\n</pre></div></div>\n\n<h3>\n<span id=\"2-gitbucketå´\" class=\"fragment\"></span><a href=\"#2-gitbucket%E5%81%B4\"><i class=\"fa fa-link\"></i></a>2. GitBucketå´</h3>\n\n<p>Chromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li><p>GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ &gt; Account Setting ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png\"></a><br>\n<br></p></li>\n<li><p>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ<code>Generate token</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png\"></a><br>\n<br></p></li>\n<li><p>ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰<br>\n<a href=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png\"></a></p></li>\n</ul>\n\n<h3>\n<span id=\"3-chrome-extensionå´\" class=\"fragment\"></span><a href=\"#3-chrome-extension%E5%81%B4\"><i class=\"fa fa-link\"></i></a>3. Chrome Extensionå´</h3>\n\n<ul>\n<li><p>Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§<a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n<a href=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png\"></a><br>\n<br></p></li>\n<li>\n<p>å³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—<code>Save</code>ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯</p>\n\n<ul>\n<li>\n<strong>gitbucket-issue-estimation-server URL</strong>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š <code>http://127.0.0.1:3000</code> </li>\n</ul>\n</li>\n<li>\n<strong>GitBucket Token</strong>\n\n<ul>\n<li>GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n<a href=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png\"></a>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å…·ä½“çš„ãªä»•çµ„ã¿\" class=\"fragment\"></span><a href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BB%95%E7%B5%84%E3%81%BF\"><i class=\"fa fa-link\"></i></a>å…·ä½“çš„ãªä»•çµ„ã¿</h2>\n\n<p>Dockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚<br>\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<p><strong>(1)</strong> ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥<br>\n<strong>(2)</strong> ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—<br>\n<strong>(3)</strong> ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" alt=\"å…¨ä½“åƒ.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png\"></a></p>\n\n<h2>\n<span id=\"chromeæ‹¡å¼µä½œæˆæ™‚ã«gitbucket-apiã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#chrome%E6%8B%A1%E5%BC%B5%E4%BD%9C%E6%88%90%E6%99%82%E3%81%ABgitbucket-api%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%A7%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨</h2>\n\n<p><a href=\"https://github.com/gitbucket/gitbucket/wiki/API-WebHook\" rel=\"nofollow noopener\" target=\"_blank\">GitBucketã®API</a>ã¯<a href=\"https://developer.github.com/v3/\" rel=\"nofollow noopener\" target=\"_blank\">Githubã®REST API v3</a>ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚</p>\n\n<h3>\n<span id=\"stateallãŒåŠ¹ã‹ãªã„\" class=\"fragment\"></span><a href=\"#stateall%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>state=all</code>ãŒåŠ¹ã‹ãªã„</h3>\n\n<p>æœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯<code>state=all</code>ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚<code>state=open</code>ã¨<code>state=closed</code>ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"per_pageãŒåŠ¹ã‹ãªã„1åº¦ã«25ä»¶ãŒæœ€å¤§\" class=\"fragment\"></span><a href=\"#per_page%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%841%E5%BA%A6%E3%81%AB25%E4%BB%B6%E3%81%8C%E6%9C%80%E5%A4%A7\"><i class=\"fa fa-link\"></i></a><code>per_page</code>ãŒåŠ¹ã‹ãªã„ï¼ˆ1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰</h4>\n\n<p>GitBucketã®APIã§ã¯<code>per_page</code>ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br>\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"closed_atã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—ã§ããªã„\" class=\"fragment\"></span><a href=\"#closed_at%E3%82%AF%E3%83%AD%E3%83%BC%E3%82%BA%E6%97%A5%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>closed_at</code>ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„</h4>\n\n<p>Chromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"-å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\" class=\"fragment\"></span><a href=\"#-%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"><i class=\"fa fa-link\"></i></a>â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ</h4>\n\n<ul>\n<li><a href=\"https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\" id=\"reference-1c197ca99a2ee070efac\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰</a></li>\n<li><a href=\"https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\" id=\"reference-7d56ea50a58cb24addc5\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰</a></li>\n</ul>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>æœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚</p>\n","body":"== 2018/4/7 è¿½è¨˜ ==========================================\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚\n\n[gitbucket-issue-estimation-plugin](https://github.com/Takumon/gitbucket-issue-estimation-plugin)\n\n[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1)ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦`<GITBUCKET_HOME>/plugins/`ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚\n== =======================================================\n\n\nGit Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n\n## ã¯ã˜ã‚ã«\n[GitBucket](https://gitbucket.github.io/)ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯\bChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\nChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n\n* *Chromeæ‹¡å¼µ*\n    * [gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)\n* *Dockerã‚¤ãƒ¡ãƒ¼ã‚¸*\n    * [gitbucket-issue-estimation-server](https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/)\n\n## å°å…¥ã™ã‚‹ã¨\n[GitBucket](https://gitbucket.github.io/)ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png)\n\n\bãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png)\n\nã¾ãŸ\bissue\bä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png)\n\n\n\n\n## å°å…¥æ‰‹é †\n### 1. Dockerå´\nGitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡\bä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚\n\n* \u001edocker-compose\b.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰\n\n```docker:docker-compose.yml\nversion: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n```\n\n* docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ\n\n```bash:\n$ docker-compose up -d\n```\n\n\n### 2. GitBucketå´\nChromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®\bãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\n\n* GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ > Account Setting\b ã‚’é¸æŠ\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png)\n<br>\n\n* å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ`Generate token`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png)\n<br>\n\n* ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png)\n\n\n### 3. Chrome Extensionå´\n* Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§[gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png)\n<br>\n\n* \bå³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—`Save`ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n    * **gitbucket-issue-estimation-server URL**\n        * ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š `http://127.0.0.1:3000` \n    * **GitBucket Token**\n        * GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png)\n<br>\n\n## å…·ä½“çš„ãªä»•çµ„ã¿\nDockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\n\n**(1)** ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥\n**(2)** ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—\n**(3)** ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤\n\n![å…¨ä½“åƒ.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png)\n\n\n\n## Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\n[GitBucketã®API](https://github.com/gitbucket/gitbucket/wiki/API-WebHook)ã¯[Githubã®REST API v3](https://developer.github.com/v3/)ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚\n\n### `state=all`ãŒåŠ¹ã‹ãªã„\næœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯`state=all`ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚`state=open`ã¨`state=closed`ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `per_page`ãŒåŠ¹ã‹ãªã„ï¼ˆ\b1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰\nGitBucketã®APIã§ã¯`per_page`ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `closed_at`ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„\nChromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚\n\n#### â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰](https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84)\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰](https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0)\n\n\n## ã¾ã¨ã‚\næœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚\n\n","comments_count":0,"created_at":"2017-12-31T23:49:04+09:00","likes_count":6,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/b4c7d1b9-428f-569a-af40-527d89794a77/","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","date":"2017-12-20T02:36:27+09:00","excerpt":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!å¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚ã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€è‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?...","tags":["JavaScript","GitHub","TypeScript","chrome-extension","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"b4c7d1b9-428f-569a-af40-527d89794a77","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","rendered_body":"<p>Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!<br>\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚<br>\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€<br>\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„<br>\n<a href=\"https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension</a>ã‚’ä½œã‚Šã¾ã—ãŸã€‚<br>\n<strong>ãã®æ™‚ã«<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚</strong></p>\n\n<h2>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E9%9B%9B%E5%BD%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹</h2>\n\n<p>yomanã¨<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚</p>\n\n<ul>\n<li>\n<code>yoman</code>ã¨<code>generator-chrome-extension-kickstart-typescript</code>ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g yo generator-chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦<code>yo</code>ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n\n<ul>\n<li>\n<strong>What would you like to call this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å</li>\n</ul>\n</li>\n<li>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>How would you like to describe this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use UI Action?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€<code>No</code>,<code>Browser</code>,<code>Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>No</code> ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ</li>\n<li>\n<code>Browser</code> ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n<li>\n<code>Page</code> ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to override a chrome page?</strong>\n\n<ul>\n<li>Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€<code>No</code>,<code>Bookmarks Page</code>,<code>History Page</code>,<code>Newtab Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like more UI Features?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>Options Page</code> ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ</li>\n<li>\n<code>Devtools Page</code> ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ</li>\n<li>\n<code>Content Scripts</code> ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ</li>\n<li>\n<code>Omnibox</code> ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use permissions?</strong>\n\n<ul>\n<li>ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong>\n\n<ul>\n<li>Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>â€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ<br>\n<strong>What would you like to call this extension?</strong> =&gt; github-contributions-paint<br>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong> =&gt;  github-paint<br>\n<strong>How would you like to describe this extension?</strong> =&gt;  You can paint github contributions!<br>\n<strong>Would you like to use UI Action?</strong> =&gt; Browser<br>\n<strong>Would you like to override a chrome page?</strong> =&gt;  No<br>\n<strong>Would you like more UI Features?</strong> =&gt;  Content Scripts<br>\n<strong>Would you like to use permissions?</strong> =&gt;  Tabs<br>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong> =&gt;  Yes</p>\n\n<ul>\n<li>ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ</span></div>\n<div class=\"highlight\"><pre>github-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n</pre></div>\n</div>\n\n<ul>\n<li>æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install typescript --save-dev\n</pre></div></div>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==</p>\n\n<ul>\n<li>ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install gulp@3.9.0 --save-dev\n</pre></div></div>\n\n<p>â€»é–¢é€£ã™ã‚‹<a href=\"https://github.com/gulpjs/gulp/issues/1631\" rel=\"nofollow noopener\" target=\"_blank\">issue</a>ã€<a href=\"https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></p>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==</p>\n\n<h2>\n<span id=\"2-ä½œã£ãŸchrome-extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#2-%E4%BD%9C%E3%81%A3%E3%81%9Fchrome-extension%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹</h2>\n\n<p>é››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™</p>\n\n<ul>\n<li>ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run dev:chrome\n</pre></div></div>\n\n<ul>\n<li><p>Chromeã§<code>chrome://extensions</code>ã‚’é–‹ã„ã¦<code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" alt=\"æ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png\"></a></p></li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®<code>chrome</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" alt=\"æ“ä½œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png\"></a></p></li>\n<li><p>ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" alt=\"å‹•ä½œç¢ºèª1_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png\"></a></p></li>\n<li><p>ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" alt=\"å‹•ä½œç¢ºèª_11.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png\"></a></p></li>\n</ul>\n\n<h2>\n<span id=\"3-é–‹ç™ºä¸­ã«chrome-extensionã®å‹•ä½œç¢ºèªã™ã‚‹\" class=\"fragment\"></span><a href=\"#3-%E9%96%8B%E7%99%BA%E4%B8%AD%E3%81%ABchrome-extension%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹</h2>\n\n<p>é››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚<br>\n<code>npm run dev:chrome</code>ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚</p>\n\n<ul>\n<li>è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰</li>\n<li>æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n<a href=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" alt=\"é–‹ç™ºæ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png\"></a>\n</li>\n<li>Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹</li>\n</ul>\n\n<h2>\n<span id=\"4-ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\" class=\"fragment\"></span><a href=\"#4-%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F%E3%82%92%E4%BD%9C%E3%82%8B\"><i class=\"fa fa-link\"></i></a>4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹</h2>\n\n<p>ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚<br>\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚<br>\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"ã‚¢ã‚¤ã‚³ãƒ³\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\"><i class=\"fa fa-link\"></i></a>ã‚¢ã‚¤ã‚³ãƒ³</h3>\n\n<ul>\n<li>128x128\n\n<ul>\n<li>å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>48x48\n\n<ul>\n<li>æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>16x16\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"å®£ä¼ç”¨ç”»åƒ\" class=\"fragment\"></span><a href=\"#%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å®£ä¼ç”¨ç”»åƒ</h3>\n\n<ul>\n<li>440x280\n\n<ul>\n<li>å¿…é ˆ</li>\n</ul>\n</li>\n<li>920x680\n\n<ul>\n<li>å¤§ãã‚ã®ç”»åƒ</li>\n</ul>\n</li>\n<li>1400x560\n\n<ul>\n<li>ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"5-chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#5-chrome%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B9%E3%83%88%E3%82%A2%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹</h2>\n\n<ul>\n<li>é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€<code>manifest.json</code>ã¨<code>package.json</code>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">manifest.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build:chrome\n</pre></div></div>\n\n<ul>\n<li><p><a href=\"https://chrome.google.com/webstore/category/extensions\" rel=\"nofollow noopener\" target=\"_blank\">Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢</a>ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png\"></a></p></li>\n<li><p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§<code>æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png\"></a></p></li>\n<li><p><code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ </code>ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€<code>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png\"></a></p></li>\n<li><p>èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦<code>å¤‰æ›´ã‚’å…¬é–‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" alt=\"ç™»éŒ²_5.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png\"></a></p></li>\n<li><p>ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™</p></li>\n</ul>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚<br>\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€<br>\n<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚<br>\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„\n[è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension](https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja)ã‚’ä½œã‚Šã¾ã—ãŸã€‚\n**ãã®æ™‚ã«[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚**\n\n## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\nyomanã¨[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚\n\n* `yoman`ã¨`generator-chrome-extension-kickstart-typescript`ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install -g yo generator-chrome-extension-kickstart-typescript \n```\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦`yo`ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™\n\n```\n$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n```\n\n* ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n    * **What would you like to call this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å\n    * **And how would you call it if you only had 12 characters (short_name)?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™\n    * **How would you like to describe this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™\n    * **Would you like to use UI Action?**\n        * ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€`No`,`Browser`,`Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n            * `No` ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ\n            * `Browser` ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n            * `Page` ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n    * **Would you like to override a chrome page?**\n        * Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€`No`,`Bookmarks Page`,`History Page`,`Newtab Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n    * **Would you like more UI Features?**\n        * ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n            * `Options Page` ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ\n            * `Devtools Page` ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ\n            * `Content Scripts` ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ\n            * `Omnibox` ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ\n    * **Would you like to use permissions?**\n        * ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n    * **Would you like to install promo images for the Chrome Web Store?**\n        * Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™\n\n\nâ€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ\n**What would you like to call this extension?** => github-contributions-paint\n**And how would you call it if you only had 12 characters (short_name)?** =>  github-paint\n**How would you like to describe this extension?** =>  You can paint github contributions!\n**Would you like to use UI Action?** => Browser\n**Would you like to override a chrome page?** =>  No\n**Would you like more UI Features?** =>  Content Scripts\n**Would you like to use permissions?** =>  Tabs\n**Would you like to install promo images for the Chrome Web Store?** =>  Yes\n\n* ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™\n\n```:ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ\ngithub-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n```\n\n* æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install typescript --save-dev\n```\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==\n\n* ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚\n\n```\n$ npm install gulp@3.9.0 --save-dev\n```\n\n<small>â€»é–¢é€£ã™ã‚‹[issue](https://github.com/gulpjs/gulp/issues/1631)ã€[stackoverflow](https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp)</small>\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==\n## 2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\né››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™\n\n* ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™\n\n```\n$ npm run dev:chrome\n```\n\n* Chromeã§`chrome://extensions`ã‚’é–‹ã„ã¦`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![æ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png)\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®`chrome`ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ\n![æ“ä½œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png)\n\n* ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\n![å‹•ä½œç¢ºèª1_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png)\n\n\n* ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™\n![å‹•ä½œç¢ºèª_11.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png)\n\n\n## 3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹\né››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n`npm run dev:chrome`ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚\n\n* è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰\n* æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![é–‹ç™ºæ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png)\n* Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹\n\n## 4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\nã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚\n\n### ã‚¢ã‚¤ã‚³ãƒ³\n* 128x128\n    * å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 48x48\n    * æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 16x16\n    * ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨\n  \n### å®£ä¼ç”¨ç”»åƒ\n* 440x280\n    * å¿…é ˆ\n* 920x680\n    * å¤§ãã‚ã®ç”»åƒ\n* 1400x560\n    * ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ\n\n## 5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\n* é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€`manifest.json`ã¨`package.json`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™\n\n```json:manifest.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n```json:package.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n* ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™\n\n```\n$ npm run build:chrome\n```\n\n* [Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chrome.google.com/webstore/category/extensions)ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png)\n\n* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§`æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png)\n\n* `ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ `ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png)\n\n* èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦`å¤‰æ›´ã‚’å…¬é–‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![ç™»éŒ²_5.png](https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png)\n\n* ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€\n[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n","comments_count":5,"created_at":"2017-12-20T02:36:27+09:00","likes_count":48,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/5644c24e-eade-50ca-aa11-83a4eaeba122/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","date":"2017-07-24T07:12:10+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","jasmine","TypeScript","AngularJS","Protractor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"5644c24e-eade-50ca-aa11-83a4eaeba122","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\" id=\"reference-fc6741a6eda3b7ffd9f1\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a></li>\n<li>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼’-ãƒ†ã‚¹ãƒˆç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%92-%E3%83%86%E3%82%B9%E3%83%88%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</h2>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚<br>\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<p>ã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/test\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚</p>\n\n<h5>\n<span id=\"1-1-distserver_test\" class=\"fragment\"></span><a href=\"#1-1-distserver_test\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server_test</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚<br>\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"2-server_test\" class=\"fragment\"></span><a href=\"#2-server_test\"><i class=\"fa fa-link\"></i></a>(2) server_test</h5>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"3-e2e\" class=\"fragment\"></span><a href=\"#3-e2e\"><i class=\"fa fa-link\"></i></a>(3) e2e</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚</p>\n\n<h5>\n<span id=\"4-srcappé…ä¸‹ã®spectsãƒ•ã‚¡ã‚¤ãƒ«\" class=\"fragment\"></span><a href=\"#4-srcapp%E9%85%8D%E4%B8%8B%E3%81%AEspects%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"><i class=\"fa fa-link\"></i></a>(4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"5-protractorconfjs\" class=\"fragment\"></span><a href=\"#5-protractorconfjs\"><i class=\"fa fa-link\"></i></a>(5) protractor.conf.js</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚<br>\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://www.npmjs.com/package/zone.js\" rel=\"nofollow noopener\" target=\"_blank\"><code>zone.js@0.8.12</code></a>\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«<code>Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'</code>ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚<a href=\"https://github.com/angular/zone.js/issues/832\" rel=\"nofollow noopener\" target=\"_blank\">GitHubã®issues</a>ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.npmjs.com/package/supertest\" rel=\"nofollow noopener\" target=\"_blank\"><code>supertest</code></a>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappappcomponentspects\" class=\"fragment\"></span><a href=\"#srcappappcomponentspects\"><i class=\"fa fa-link\"></i></a>src/app/app.component.spec.ts</h4>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚<br>\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€<code>TestBed</code>ã®<code>overrideComponent</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">ComponentFixture</span><span class=\"p\">,</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'AppComponent'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component</span>\n  <span class=\"kd\">let</span> <span class=\"na\">component</span><span class=\"p\">:</span> <span class=\"nx\">AppComponent</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture</span>\n  <span class=\"kd\">let</span> <span class=\"na\">fixture</span><span class=\"p\">:</span> <span class=\"nx\">ComponentFixture</span><span class=\"o\">&lt;</span><span class=\"nx\">AppComponent</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">{</span>\n    <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">response</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n      <span class=\"p\">]};</span>\n\n      <span class=\"k\">return</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">([</span><span class=\"nx\">response</span><span class=\"p\">]);</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(</span><span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">],</span>\n      <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"nx\">AppComponent</span>\n      <span class=\"p\">],</span>\n    <span class=\"p\">})</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š</span>\n    <span class=\"p\">.</span><span class=\"nx\">overrideComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">set</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"na\">useClass</span><span class=\"p\">:</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">},</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">compileComponents</span><span class=\"p\">();</span>\n\n    <span class=\"nx\">fixture</span> <span class=\"o\">=</span> <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">createComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">);</span>\n    <span class=\"nx\">component</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">detectChanges</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">component</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n    <span class=\"p\">]);</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">const</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">nativeElement</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span><span class=\"p\">);</span>\n  <span class=\"p\">}));</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappmessagemessageservicespectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicespects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚<br>\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯<code>MockBackend</code>ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚<br>\nãªãŠ<code>Error</code>ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§<code>register</code>ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">HttpModule</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">,</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span><span class=\"p\">,</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MockConnection</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">RequestMethod</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message.service'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'MessageService'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MockError</span> <span class=\"kd\">extends</span> <span class=\"nx\">Response</span> <span class=\"kr\">implements</span> <span class=\"nb\">Error</span> <span class=\"p\">{</span>\n    <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n    <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">HttpModule</span><span class=\"p\">],</span>\n      <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n        <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">,</span>\n        <span class=\"na\">useFactory</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"k\">new</span> <span class=\"nx\">Http</span><span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">),</span>\n        <span class=\"na\">deps</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n      <span class=\"p\">},</span> <span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">service</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">})));</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'getAll'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">200</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockRespond</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">Response</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockError</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">MockError</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚'</span><span class=\"p\">);</span>\n      <span class=\"p\">},</span> <span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">});</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n  <span class=\"p\">});</span>\n\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚<br>\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚<br>\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯<a href=\"https://mochajs.org/\" rel=\"nofollow noopener\" target=\"_blank\">Mocha</a>ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"server_testappspectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#server_testappspects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚<br>\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®<code>spyOn</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">supertest</span> <span class=\"k\">from</span> <span class=\"s1\">'supertest'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/app'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/models/message'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">request</span> <span class=\"o\">=</span> <span class=\"nx\">supertest</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">endpoint</span> <span class=\"o\">=</span> <span class=\"s1\">'/api/messages'</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">messageAscending</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">,</span> <span class=\"nx\">m2</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&gt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&lt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({},</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'Get'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">);</span>\n        <span class=\"p\">}).</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"kd\">const</span> <span class=\"nx\">testData</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span> <span class=\"p\">},</span>\n      <span class=\"p\">];</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰</span>\n      <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">testData</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">erro</span> <span class=\"p\">,</span> <span class=\"nx\">doc</span> <span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n        <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n          <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">sortedMessages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">sort</span><span class=\"p\">(</span><span class=\"nx\">messageAscending</span><span class=\"p\">);</span>\n\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span><span class=\"p\">);</span>\n          <span class=\"p\">})</span>\n          <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹</span>\n      <span class=\"nx\">spyOn</span><span class=\"p\">(</span><span class=\"nx\">Message</span><span class=\"p\">,</span> <span class=\"s1\">'find'</span><span class=\"p\">).</span><span class=\"nx\">and</span><span class=\"p\">.</span><span class=\"nx\">callFake</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">),</span> <span class=\"kc\">null</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n          <span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">);</span>\n\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">);</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<p>E2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"packagejson\" class=\"fragment\"></span><a href=\"#packagejson\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson\" id=\"reference-fc6741a6eda3b7ffd9f1\">å‰å›</a>ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p test:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server_test/tsconfig.server_test.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server_test/test.server.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>test</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n<li>\n<strong>test:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server_test</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"server_testtestserverts\" class=\"fragment\"></span><a href=\"#server_testtestserverts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚<br>\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯<a href=\"https://www.npmjs.com/package/jasmine-spec-reporter\" rel=\"nofollow noopener\" target=\"_blank\">jasmine-spec-reporter</a>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">,</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'jasmine-spec-reporter'</span><span class=\"p\">;</span>\n<span class=\"kd\">const</span> <span class=\"nx\">Jasmine</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'jasmine'</span><span class=\"p\">);</span>\n<span class=\"k\">import</span> <span class=\"nx\">SuiteInfo</span> <span class=\"o\">=</span> <span class=\"nx\">jasmine</span><span class=\"p\">.</span><span class=\"nx\">SuiteInfo</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">config</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./test.server.conf'</span><span class=\"p\">;</span>\n\n\n<span class=\"kd\">class</span> <span class=\"nx\">CustomProcessor</span> <span class=\"kd\">extends</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">{</span>\n    <span class=\"kr\">public</span> <span class=\"nx\">displayJasmineStarted</span><span class=\"p\">(</span><span class=\"nx\">info</span><span class=\"p\">:</span> <span class=\"nx\">SuiteInfo</span><span class=\"p\">,</span> <span class=\"nx\">log</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">string</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"s2\">`TypeScript </span><span class=\"p\">${</span><span class=\"nx\">log</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">runner</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Jasmine</span><span class=\"p\">();</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">);</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">addReporter</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">({</span>\n    <span class=\"na\">customProcessors</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">CustomProcessor</span><span class=\"p\">],</span>\n<span class=\"p\">}));</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">onComplete</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">passed</span><span class=\"p\">){</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">passed</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Success'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"s1\">'Failed'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">execute</span><span class=\"p\">();</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtestserverconfts\" class=\"fragment\"></span><a href=\"#server_testtestserverconfts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.conf.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚<br>\næ³¨æ„ç‚¹ã¨ã—ã¦<code>spec_files</code>ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚<code>__dirname</code>ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.conf.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"na\">spec_dir</span><span class=\"p\">:</span> <span class=\"s1\">'.'</span><span class=\"p\">,</span>\n  <span class=\"na\">spec_files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">__dirname</span><span class=\"p\">}</span><span class=\"s2\">/*spec.js`</span>\n  <span class=\"p\">],</span>\n  <span class=\"s1\">'stopSpecOnExpectationFailure'</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"s1\">'random'</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtsconfigserver_testjson\" class=\"fragment\"></span><a href=\"#server_testtsconfigserver_testjson\"><i class=\"fa fa-link\"></i></a>server_test/tsconfig.server_test.json</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server_test.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"include\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"s2\">\"**/*.spec.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.conf.ts\"</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><code>outDir</code>ãŒ<code>../dist/server_test</code>ã§ã¯ãªã<code>../dist</code>ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br>\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯<code>server</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€<code>../dist/server_test</code>ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<h3>\n<span id=\"5-e2eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#5-e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ</h3>\n\n<p>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚<br>\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"e2eappe2e-spects\" class=\"fragment\"></span><a href=\"#e2eappe2e-spects\"><i class=\"fa fa-link\"></i></a>e2e/app.e2e-spec.ts</h4>\n\n<p>åŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.e2e-spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.po'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">browser</span><span class=\"p\">,</span> <span class=\"nx\">element</span><span class=\"p\">,</span> <span class=\"nx\">by</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'protractor'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'E2Eãƒ†ã‚¹ãƒˆ'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">let</span> <span class=\"na\">page</span><span class=\"p\">:</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">();</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">getParagraphText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§'</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">newMessage</span> <span class=\"o\">=</span> <span class=\"s2\">`ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ </span><span class=\"p\">${</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">toString</span><span class=\"p\">()}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">sendKeys</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessageButton'</span><span class=\"p\">)).</span><span class=\"nx\">click</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'messageList'</span><span class=\"p\">)).</span><span class=\"nx\">all</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">tagName</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">));</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">last</span><span class=\"p\">().</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"6-e2eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#6-e2e%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"packagejson-1\" class=\"fragment\"></span><a href=\"#packagejson-1\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p>Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"e2e\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s  webdriver:update -p webdriver:start protractor\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:update\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager update\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager start\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"protractor\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"protractor protractor.conf.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>e2e</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®<code>e2e</code>ã‚³ãƒãƒ³ãƒ‰(= <code>ng e2e</code>ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚<code>ngã€€e2e</code>ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:update</strong>ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:start</strong>ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>\n<li>\n<strong>protractor</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"protractorconfjs\" class=\"fragment\"></span><a href=\"#protractorconfjs\"><i class=\"fa fa-link\"></i></a>protractor.conf.js</h4>\n\n<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">protractor.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"p\">...</span>\n  <span class=\"na\">baseUrl</span><span class=\"p\">:</span> <span class=\"s1\">'http://localhost:3000/'</span><span class=\"p\">,</span>\n  <span class=\"p\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"7-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#7-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>7. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</li>\n</ul>\n</li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<h4>\n<span id=\"e2eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹</p>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run buildRun</code>ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>npm run e2e</code>ã™ã‚‹</p>\n\n<ul>\n<li>åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* [ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)\n* ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n## ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`npm test`ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\nã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/test)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»\u001c(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»\u001c(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»\u001c(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚\n\n##### (1-1) dist/server_test\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (2) server_test\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚\n\n##### (3) e2e\nE2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\n\n##### (4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«\nãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (5) protractor.conf.js\nE2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```\n$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n```\n\n* [`zone.js@0.8.12`](https://www.npmjs.com/package/zone.js)\n    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«`Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'`ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚[GitHubã®issues](https://github.com/angular/zone.js/issues/832)ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n* [`supertest`](https://www.npmjs.com/package/supertest)\n    * ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚\n\n### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯`ng test`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚\n\n#### src/app/app.component.spec.ts\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€`TestBed`ã®`overrideComponent`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚\n\n\n```js:app.component.spec.ts\nimport { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\nimport { FormsModule } from '@angular/forms';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\ndescribe('AppComponent', () => {\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component\n  let component: AppComponent;\n\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture\n  let fixture: ComponentFixture<AppComponent>;\n\n  // MessageServiceã®ãƒ¢ãƒƒã‚¯\n  class MessageServiceMock {\n    getAll(): Observable<any> {\n      const response =  { messages : [\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n      ]};\n\n      return Observable.from([response]);\n    }\n  }\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [ FormsModule ],\n      declarations: [\n        AppComponent\n      ],\n    })\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š\n    .overrideComponent(AppComponent, {\n      set: {\n        providers: [\n          { provide: MessageService, useClass: MessageServiceMock },\n        ]\n      }\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  }));\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(() => {\n    const app = fixture.debugElement.componentInstance;\n    expect(app).toBeTruthy();\n  }));\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹', async(() => {\n    expect(component.messages).toEqual([\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n    ]);\n  }));\n\n\n  it('ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹', async(() => {\n\n    const el = fixture.debugElement.nativeElement;\n\n    expect(el.querySelectorAll('li').length).toEqual(3);\n    expect(el.querySelectorAll('li')[0].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1');\n    expect(el.querySelectorAll('li')[1].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2');\n    expect(el.querySelectorAll('li')[2].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3');\n  }));\n});\n\n```\n\n\n#### src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯`MockBackend`ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚\nãªãŠ`Error`ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§`register`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport { TestBed, async, inject } from '@angular/core/testing';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from '@angular/http';\nimport {MockBackend, MockConnection} from '@angular/http/testing';\nimport { RequestMethod } from '@angular/http';\n\nimport { MessageService } from './message.service';\n\n\ndescribe('MessageService', () => {\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯\n  class MockError extends Response implements Error {\n    name: any;\n    message: any;\n  }\n\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [MessageService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\n    expect(service).toBeTruthy();\n  })));\n\n\n  describe('getAll', () => {\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  { messages : [\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]};\n\n        const ops = new ResponseOptions({\n          status: 200,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockRespond(new Response(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe((res) => {\n        expect(res.messages.length).toEqual(3);\n        expect(res.messages).toEqual([\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]);\n      });\n    })));\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  {\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        };\n\n        const ops = new ResponseOptions({\n          status: 500,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockError(new MockError(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe(() => {\n        fail('ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚');\n      }, res => {\n        expect(res).toEqual({\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        });\n      });\n    })));\n\n  });\n\n\n});\n```\n\n\n\n### 3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯[Mocha](https://mochajs.org/)ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\n\n#### server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®`spyOn`ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport * as supertest from 'supertest';\n\nimport app from '../server/app';\nimport { Message } from '../server/models/message';\n\n\ndescribe('/api/messages', () => {\n  const request = supertest(app);\n  const endpoint = '/api/messages';\n\n  const messageAscending = (m1, m2) => {\n    if (m1.message > m2.message) {\n      return 1;\n    }\n\n    if (m1.message < m2.message) {\n      return -1;\n    }\n\n    return 0;\n  };\n\n  // ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹\n  beforeEach(() => {\n    Message.remove({}, () => {});\n  });\n\n\n  describe('Get', () => {\n\n    it('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹', (done) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(200);\n        }).end(done);\n    });\n\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹', (done) => {\n\n      const testData = [\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“' },\n      ];\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰\n      Message.create(testData, (erro , doc ) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n        request.get(endpoint)\n          .expect((res) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n            const sortedMessages = res.body.messages.sort(messageAscending);\n\n            expect(sortedMessages.length).toEqual(3);\n            expect(sortedMessages[0].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘');\n            expect(sortedMessages[1].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’');\n            expect(sortedMessages[2].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“');\n          })\n          .end(done);\n      });\n    });\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', (done) => {\n\n      // ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹\n      spyOn(Message, 'find').and.callFake(function(callback) {\n        callback(new Error('ã‚¨ãƒ©ãƒ¼'), null);\n      });\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\n          // æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(500);\n\n          expect(res.body.title).toEqual('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');\n          expect(res.body.error).toEqual('ã‚¨ãƒ©ãƒ¼');\n        })\n        .end(done);\n    });\n\n  });\n});\n```\n\n\n\n### 4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\nE2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚\n\n\n#### package.json\n[å‰å›](http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson)ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"test\": \"run-p test:*\",\n    \"test:client\": \"ng test\",\n    \"test:server\": \"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\",\n    \"watch:server_test\": \"tsc -w -p ./server_test/tsconfig.server_test.json\",\n    \"boot:server_test\": \"nodemon ./dist/server_test/test.server.js\",\n    \"build:server_test\": \"tsc -p ./server/tsconfig.server.json\",\n    ...\n  },\n```\n\n\n* **test**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n* **test:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚\n* **watch:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server_test**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### server_test/test.server.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯[jasmine-spec-reporter](https://www.npmjs.com/package/jasmine-spec-reporter)ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚\n\n```js:test.server.ts\nimport { SpecReporter, DisplayProcessor } from 'jasmine-spec-reporter';\nconst Jasmine = require('jasmine');\nimport SuiteInfo = jasmine.SuiteInfo;\n\nimport { config } from './test.server.conf';\n\n\nclass CustomProcessor extends DisplayProcessor {\n    public displayJasmineStarted(info: SuiteInfo, log: string): string {\n        return `TypeScript ${log}`;\n    }\n}\n\nconst runner = new Jasmine();\nrunner.loadConfig(config);\nrunner.addReporter(new SpecReporter({\n    customProcessors: [CustomProcessor],\n}));\nrunner.onComplete(function(passed){\n  if ( passed ) {\n    console.log('Success');\n  } else {\n    console.error('Failed');\n  }\n});\n\nrunner.execute();\n```\n\n\n#### server_test/test.server.conf.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚\næ³¨æ„ç‚¹ã¨ã—ã¦`spec_files`ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚`__dirname`ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n\n```js:test.server.conf.ts\nexport const config = {\n  spec_dir: '.',\n  spec_files: [\n    `${__dirname}/*spec.js`\n  ],\n  'stopSpecOnExpectationFailure': false,\n  'random': false\n};\n```\n\n\n\n#### server_test/tsconfig.server_test.json\n\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\n\n```json:tsconfig.server_test.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist\",\n    \"mapRoot\": \"../dist\",\n    \"module\": \"commonjs\"\n  } ,\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"./test.server.ts\",\n    \"./test.server.conf.ts\"\n  ]\n}\n```\n\n`outDir`ãŒ`../dist/server_test`ã§ã¯ãªã`../dist`ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯`server`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€`../dist/server_test`ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\n\n```:\u001cï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n```\n```:\u001cï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n```\n\n\n### 5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\nå˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n#### e2e/app.e2e-spec.ts\nåŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚\n\n```js:app.e2e-spec.ts\nimport { Angular4Express4Typescritp2Page } from './app.po';\nimport { browser, element, by } from 'protractor';\n\n\ndescribe('E2Eãƒ†ã‚¹ãƒˆ', () => {\n  let page: Angular4Express4Typescritp2Page;\n\n  beforeEach(() => {\n    page = new Angular4Express4Typescritp2Page();\n  });\n\n  it('ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹', () => {\n    page.navigateTo();\n    expect(page.getParagraphText()).toEqual('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§');\n  });\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹', () => {\n    page.navigateTo();\n    const newMessage = `ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ${new Date().toString()}`;\n    element(by.id('registerMessage')).sendKeys(newMessage);\n\n    element(by.id('registerMessageButton')).click();\n\n    // ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹\n    expect(element(by.id('registerMessage')).getText()).toEqual('');\n\n    // ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹\n    const messages = element(by.id('messageList')).all(by.tagName('li'));\n    expect(messages.last().getText()).toEqual(newMessage);\n  });\n\n});\n```\n\n### 6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\n\n#### package.json\nAngular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"e2e\": \"npm-run-all -s  webdriver:update -p webdriver:start protractor\",\n    \"webdriver:update\": \"webdriver-manager update\",\n    \"webdriver:start\": \"webdriver-manager start\",\n    \"protractor\": \"protractor protractor.conf.js\",\n    ...\n  },\n```\n\n* **e2e**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®`e2e`ã‚³ãƒãƒ³ãƒ‰(= `ng e2e`ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚`ngã€€e2e`ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\n* **webdriver:update**ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚\n* **webdriver:start**ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n* **protractor**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### protractor.conf.js\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```js:protractor.conf.js\nexports.config = {\n  ...\n  baseUrl: 'http://localhost:3000/',\n  ...\n}\n```\n\n### 7. è©¦ã—ã¦ã¿ã‚‹\n#### å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm test`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\n\n\n#### E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚\n \n* ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹\n    * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run buildRun`ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n\n* `npm run e2e`ã™ã‚‹\n    * åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n","comments_count":0,"created_at":"2017-07-24T07:12:10+09:00","likes_count":9,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/270e2fae-ed90-5539-8c90-a2ed93ebba83/","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","date":"2017-06-26T00:21:37+09:00","excerpt":"Asciidoctorã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚ãã“ã§ä»Šå›ã¯ã€Dockerã§...","tags":["JavaScript","å…¨æ–‡æ¤œç´¢","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","Fess","asciidoctor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"270e2fae-ed90-5539-8c90-a2ed93ebba83","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","rendered_body":"<p><a href=\"http://asciidoctor.org/\" rel=\"nofollow noopener\" target=\"_blank\">Asciidoctor</a>ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®<a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã‚’ç«‹ã¦ã¦ã€<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€<br>\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<p>å°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" alt=\"6æœˆ-24-2017 19-05-32.gif\" title=\"6æœˆ-24-2017 19-05-32.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif\"></a></p>\n\n<h2>\n<span id=\"fessã¨ã¯\" class=\"fragment\"></span><a href=\"#fess%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Fessã¨ã¯</h2>\n\n<p><a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã¯<strong>ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€</strong>ã§ã™ã€‚<br>\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å…¨ä½“åƒ\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å…¨ä½“åƒ</h2>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚<br>\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<p>ã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png\"></a></p>\n\n<h3>\n<span id=\"fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<p>Docker Hubã®<a href=\"https://hub.docker.com/r/codelibs/fess/\" rel=\"nofollow noopener\" target=\"_blank\">codelibs/fess</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯<a href=\"http://fess.codelibs.org/ja/11.2/install/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n</pre></div></div>\n\n<h3>\n<span id=\"fessã®è¨­å®š\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>Fessã®è¨­å®š</h3>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š</h4>\n\n<p><code>http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€<code>admin/admin</code>ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" alt=\"1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png\"></a><br>\n<br></p>\n\n<p>ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚¯ãƒ­ãƒ¼ãƒ©</code> &gt; <code>Web</code>ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" alt=\"2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®<code>+ã€€æ–°è¦ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" title=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png\"></a></p>\n\n<p>è¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<ul>\n<li>åå‰ \n\n<ul>\n<li>ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>URL \n\n<ul>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«<code>/</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜<code>URL</code>ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.*</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.+\\.html$</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>å€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<code>+ã€€ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A1%8C\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã§ã€€<code>ã‚·ã‚¹ãƒ†ãƒ </code> &gt; <code>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©</code> ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚<br>\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ <code>Default Crawler</code>ã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png\"></a><br>\n<br></p>\n\n<p><code>ä»Šã™ãé–‹å§‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" title=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png\"></a><br>\n<br></p>\n\n<p>ã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png\"></a><br>\n<br></p>\n\n<p>ã—ã°ã‚‰ãã—ã¦<code>F5</code>ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚<br>\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ<code>å®Ÿè¡Œä¸­</code>ã‹ã‚‰<code>æœ‰åŠ¹</code>ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</code>&gt;<code>ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±</code>ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png\"></a><br>\n<br></p>\n\n<p>ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png\"></a><br>\n<br></p>\n\n<p>ã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png\"></a><br>\n<br></p>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E7%94%A8web%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%82%92%E9%85%8D%E7%BD%AE\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®</h3>\n\n<p>å…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã®ï¼’ã¤ã§ã™ã€‚<br>\n<code>full-text-search.js</code>ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚<br>\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'use strict'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">=</span> <span class=\"s1\">'http://192.168.1.5:10084/json'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n\n    <span class=\"c1\">// ç›®æ¬¡ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#toc'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form id=\"search-form\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;div class=\"search-input-area\"&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-search left-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" /&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-close right-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-start\" type=\"hidden\" value=\"0\"/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-num\" type=\"hidden\" value=\"'</span> <span class=\"o\">+</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">+</span> <span class=\"s1\">'\"/&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$searchArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-form'</span><span class=\"p\">).</span><span class=\"nx\">submit</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".left-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"#search-query\"</span><span class=\"p\">).</span><span class=\"nx\">keyup</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$rightIcon</span> <span class=\"o\">=</span> <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">);</span>\n\n              <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">().</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#555'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>\n                     <span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n        <span class=\"p\">});</span>\n\n    <span class=\"c1\">// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#header&gt;h1'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">before</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-result-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-subheader\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-content\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s1\">'#remove-search-result'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">delegateTarget</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                    <span class=\"p\">})</span>\n                    <span class=\"c1\">// å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#prevPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#nextPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">doSearch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">){</span>\n      <span class=\"c1\">// æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">searchQuery</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-query'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()),</span>\n          <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-num'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">start</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"nx\">num</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—</span>\n      <span class=\"k\">switch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">navi</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">case</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">-=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"k\">case</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">+=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"nl\">default</span><span class=\"p\">:</span>\n        <span class=\"k\">case</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n          <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// URLã‚’æ§‹ç¯‰</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">+</span> <span class=\"s1\">'?callback=?'</span> <span class=\"o\">+</span> <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n                                     <span class=\"s1\">'&amp;q='</span> <span class=\"o\">+</span> <span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;start='</span> <span class=\"o\">+</span> <span class=\"nx\">start</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;num='</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</span>\n      <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n          <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"nx\">url</span><span class=\"p\">,</span>\n          <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"s1\">'jsonp'</span><span class=\"p\">,</span>\n          <span class=\"na\">success</span><span class=\"p\">:</span> <span class=\"nx\">renderSearchResult</span>\n      <span class=\"p\">});</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#searchNum'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">renderSearchResult</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¤œç´¢çµæœå‡¦ç†</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">dataResponse</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n      <span class=\"c1\">// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">status</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\"</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultSubheader</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">),</span>\n          <span class=\"nx\">$searchResultContent</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">),</span>\n          <span class=\"nx\">record_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">record_count</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœãŒãªã„å ´åˆ</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">record_count</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span>  <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// çµæœé ˜åŸŸã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultContent</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt;ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚'</span><span class=\"p\">;</span>\n\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">page_number</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_number</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_size</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_count</span><span class=\"p\">,</span>\n          <span class=\"nx\">startRange</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nx\">endRange</span> <span class=\"o\">=</span> <span class=\"nx\">page_number</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n          <span class=\"nx\">max</span><span class=\"p\">,</span>\n          <span class=\"nx\">offset</span> <span class=\"o\">=</span> <span class=\"nx\">startRange</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">offset</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n      <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt; ã®æ¤œç´¢çµæœ '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">record_count</span> <span class=\"o\">+</span> <span class=\"s2\">\" ä»¶ä¸­ \"</span> <span class=\"o\">+</span>  <span class=\"nx\">startRange</span> <span class=\"o\">+</span> <span class=\"s1\">' - '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">endRange</span> <span class=\"o\">+</span> <span class=\"s1\">' ä»¶ç›® ('</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">exec_time</span> <span class=\"o\">+</span> <span class=\"s1\">' ç§’)'</span> <span class=\"o\">+</span>\n                               <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢</span>\n      <span class=\"nx\">$searchResultContent</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢çµæœã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$resultBody</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;ol/&gt;\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">results</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">max</span> <span class=\"o\">=</span> <span class=\"nx\">results</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">max</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">element</span> <span class=\"o\">=</span>\n            <span class=\"s1\">'&lt;li&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;h4 class=\"title\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;a href=\"'</span> <span class=\"o\">+</span><span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">url_link</span> <span class=\"o\">+</span> <span class=\"s1\">'\"&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">title</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/a&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/h4&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div class=\"body\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">content_description</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;br/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;cite&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">site</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/cite&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/li&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$resultBody</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">$resultBody</span><span class=\"p\">.</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">pageArea</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div id=\"pageInfo\"&gt;'</span><span class=\"p\">,</span> <span class=\"nx\">page_number</span><span class=\"p\">,</span> <span class=\"s1\">'ãƒšãƒ¼ã‚¸ç›®&lt;br/&gt;'</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"prevPageLink\" href=\"#\"&gt;&amp;lt;&amp;lt;å‰ãƒšãƒ¼ã‚¸ã¸&lt;/a&gt; '</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&lt;</span> <span class=\"nx\">page_count</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"nextPageLink\" href=\"#\"&gt;æ¬¡ãƒšãƒ¼ã‚¸ã¸&amp;gt;&amp;gt;&lt;/a&gt;'</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">);</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.css</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">@charset</span> <span class=\"s1\">\"UTF-8\"</span><span class=\"p\">;</span>\n\n<span class=\"nf\">#search-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">relative</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* å…¥åŠ›é …ç›® */</span>\n<span class=\"nf\">#search-query</span> <span class=\"p\">{</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">100%</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">outline</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nt\">input</span><span class=\"nd\">:focus</span> <span class=\"p\">{</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#4d90fe</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">absolute</span><span class=\"p\">;</span>\n    <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">50%</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n    <span class=\"py\">font-sise</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */</span>\n    <span class=\"nl\">cursor</span><span class=\"p\">:</span><span class=\"nb\">pointer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span><span class=\"m\">#444</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1.4em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */</span>\n<span class=\"nf\">#search-result-area</span><span class=\"nc\">.show</span> <span class=\"p\">{</span>\n    <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#f8f8f7</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0px</span> <span class=\"nb\">solid</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E5%87%A6%E7%90%86%E3%82%92%E8%BF%BD%E5%8A%A0\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ </h3>\n\n<p>å‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã‚’ã€<br>\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\n<code>full-text-search.js</code>ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€<br>\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n</pre></div></div>\n\n<p><code>asciidoctor-sample.adoc</code>ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>++++\n&lt;link rel=\"stylesheet\" href=\"../full-text-search.css\"&gt;&lt;/link&gt;\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"../full-text-search.js\"&gt;&lt;/script&gt;\n++++\n</pre></div></div>\n\n<h3>\n<span id=\"å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª</h3>\n\n<p>ä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png\"></a><br>\n<br></p>\n\n<p>æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png\"></a><br>\n<br></p>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>Fessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"http://fess.codelibs.org/ja/articles/article-4.html#js\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨</a></li>\n<li><a href=\"http://qiita.com/cookienote/items/1f2443be25630a78d946\" id=\"reference-69c989703115d994be84\">å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™</a></li>\n</ul>\n","body":"[Asciidoctor](http://asciidoctor.org/)ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®[Fess](http://fess.codelibs.org/ja/)ã‚’ç«‹ã¦ã¦ã€\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\nå°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![6æœˆ-24-2017 19-05-32.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif \"6æœˆ-24-2017 19-05-32.gif\")\n\n\n## Fessã¨ã¯\n[Fess](http://fess.codelibs.org/ja/)ã¯**ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€**ã§ã™ã€‚\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚\n\n\n## å…¨ä½“åƒ\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\n![0_Fess_å…¨ä½“åƒ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png)\n\n![0_Fess_å…¨ä½“åƒ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png)\n\n## å°å…¥æ‰‹é †\nã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒ\u001cï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚\n\n![0_Fess_å…¨ä½“åƒ_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png)\n\n\n### Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nDocker Hubã®[codelibs/fess](https://hub.docker.com/r/codelibs/fess/)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯[Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](http://fess.codelibs.org/ja/11.2/install/index.html)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\n```\n$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n```\n\n### Fessã®è¨­å®š\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\n`http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€`admin/admin`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚\n![1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png)\n<br/>\n\nãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®`ã‚¯ãƒ­ãƒ¼ãƒ©` > `Web`ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚\n![2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®`+ã€€æ–°è¦ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png \"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\")\n\nè¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚\n\n* åå‰ \n    * ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n* URL \n    * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«`/`ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n* ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n    * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜`URL`ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€`URLã§è¨­å®šã—ãŸå€¤` + `.*` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n* æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n   * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€`URLã§è¨­å®šã—ãŸå€¤` + `.+\\.html$` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br/>\n<br/>\n\n\nå€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦`+ã€€ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\nå·¦ãƒšã‚¤ãƒ³ã§ã€€`ã‚·ã‚¹ãƒ†ãƒ ` > `ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©` ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ `Default Crawler`ã‚’é¸æŠã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png)\n<br/>\n\n`ä»Šã™ãé–‹å§‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png \"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\")\n<br/>\n\nã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png)\n<br/>\n\nã—ã°ã‚‰ãã—ã¦`F5`ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ`å®Ÿè¡Œä¸­`ã‹ã‚‰`æœ‰åŠ¹`ã«ãªã‚Šã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\nå·¦ãƒšã‚¤ãƒ³ã®`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±`>`ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±`ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\")\n<br/>\n\n\nã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\")\n<br/>\n\nã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\")\n<br/>\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\nå…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯`full-text-search.js`ã¨`full-text-search.css`ã®ï¼’ã¤ã§ã™ã€‚\n`full-text-search.js`ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚\n\n```javascript:full-text-search.js\n$(function() {\n    'use strict';\n\n    // FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰\n    var FESS_JSON_ENDPOINT = 'http://192.168.1.5:10084/json';\n\n    // ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°\n    var COUNT_PAR_PAGE = 10;\n\n\n    // ç›®æ¬¡ã®\n    $('#toc')\n        // ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .prepend(\n            '<div id=\"search-area\">' +\n                '<form id=\"search-form\">' +\n                    '<div class=\"search-input-area\">' +\n                        '<i class=\"fa fa-search left-icon\"></i>' +\n                        '<input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" />' +\n                        '<i class=\"fa fa-close right-icon\"></i>' +\n                    '</div>' +\n                    '<input id=\"search-start\" type=\"hidden\" value=\"0\"/>' +\n                    '<input id=\"search-num\" type=\"hidden\" value=\"' + COUNT_PAR_PAGE + '\"/>' +\n                '<form>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            var $searchArea = $(this);\n\n            // å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find('#search-form').submit({navi:0}, doSearch);\n\n            // è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find(\".left-icon\").click({navi:0}, doSearch);\n\n            // æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€\n            $searchArea.find(\"#search-query\").keyup(function(){\n              var $this = $(this);\n              var $rightIcon = $this.parent().find(\".right-icon\");\n\n              if($this.val().length > 0) {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹\n                 $rightIcon.css('color','#555');\n              } else {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹\n                 $rightIcon.css('color','#ccc');\n              }\n            });\n\n            // Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€\n            $searchArea.find(\".right-icon\").click(function(){\n              // Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦\n              $(this).css('color','#ccc')\n                      // æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹\n                     .parent().find(\"input\").val('');\n            });\n        });\n\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®\n    $('#header>h1')\n        // ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .before(\n            '<div id=\"search-result-area\">' +\n                '<div id=\"search-result-subheader\"></div>' +\n                '<div id=\"search-result-content\"></div>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            $(this)\n                .find('#search-result-area')\n                    // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€\n                    .on(\"click\", '#remove-search-result', function(e) {\n                      var $searchResultArea = $(e.delegateTarget)\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹\n                      $searchResultArea.removeClass('show');\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹\n                      $searchResultArea.find('#search-result-subheader').empty();\n                      $searchResultArea.find('#search-result-content').empty();\n                    })\n                    // å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#prevPageLink\", {navi:-1}, doSearch)\n                    // æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#nextPageLink\", {navi:1}, doSearch);\n        });\n\n\n\n    /**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */\n    function doSearch(event){\n      // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—\n      var searchQuery = $.trim($('#search-query').val());\n      // ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„\n      if(searchQuery.length == 0) {\n        return false;\n      }\n\n\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—\n      var start = parseInt($('#search-start').val()),\n          num = parseInt($('#search-num').val());\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯\n      if(start < 0) {\n        start = 0;\n      }\n      // è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯\n      if(num < 1 || num > 100) {\n        num = 20;\n      }\n      // è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—\n      switch(event.data.navi) {\n        case -1:\n          // å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start -= num;\n          break;\n        case 1:\n          // æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start += num;\n          break;\n        default:\n        case 0:\n          start = 0;\n          break;\n      }\n\n\n      // URLã‚’æ§‹ç¯‰\n      var url = FESS_JSON_ENDPOINT + '?callback=?' + // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n                                     '&q=' + encodeURIComponent(searchQuery) +\n                                     '&start=' + start +\n                                     '&num=' + num;\n\n      // æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n      // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n      $.ajax({\n          url: url,\n          dataType: 'jsonp',\n          success: renderSearchResult\n      });\n\n\n      // ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°\n      $('#searchNum').val(num);\n\n      // ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•\n      $(document).scrollTop(0);\n\n      // ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™\n      return false;\n    };\n\n\n    /**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */\n    function renderSearchResult(data) {\n      // æ¤œç´¢çµæœå‡¦ç†\n      var dataResponse = data.response;\n      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n      if(dataResponse.status != 0) {\n        alert(\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n        return;\n      }\n\n      // æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹\n      $('#search-result-area').addClass('show');\n\n      var $searchResultSubheader = $('#search-result-subheader'),\n          $searchResultContent = $('#search-result-content'),\n          record_count = dataResponse.record_count;\n\n      // æ¤œç´¢çµæœãŒãªã„å ´åˆ\n      if(record_count == 0) {\n        // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n        $searchResultSubheader[0].innerHTML =  '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>';\n\n        // çµæœé ˜åŸŸã«å‡ºåŠ›\n        $searchResultContent[0].innerHTML = '<b>' + dataResponse.q + '</b>ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';\n\n        return;\n      }\n\n\n      // æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ\n      var page_number = dataResponse.page_number,\n          page_size = dataResponse.page_size,\n          page_count = dataResponse.page_count,\n          startRange = (page_number - 1) * page_size + 1,\n          endRange = page_number * page_size,\n          i = 0,\n          max,\n          offset = startRange - 1;\n\n      $('#search-start').val(offset);\n\n\n      // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n      $searchResultSubheader[0].innerHTML = '<b>' + dataResponse.q + '</b> ã®æ¤œç´¢çµæœ ' +\n                                record_count + \" ä»¶ä¸­ \" +  startRange + ' - ' +\n                                endRange + ' ä»¶ç›® (' + dataResponse.exec_time + ' ç§’)' +\n                               '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>'\n\n      // æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢\n      $searchResultContent.empty();\n\n\n      // æ¤œç´¢çµæœã®å‡ºåŠ›\n      var $resultBody = $(\"<ol/>\");\n      var results = dataResponse.result;\n      for(i = 0, max = results.length; i < max; i++) {\n        var element =\n            '<li>' +\n                '<h4 class=\"title\">' +\n                    '<a href=\"' +results[i].url_link + '\">' + results[i].title + '</a>' +\n                '</h4>' +\n                '<div class=\"body\">' +\n                    results[i].content_description +\n                    '<br/>' +\n                    '<cite>' + results[i].site + '</cite>' +\n                '</div>' +\n            '</li>';\n\n        $(element).appendTo($resultBody);\n      }\n      $resultBody.appendTo($searchResultContent);\n\n\n      // ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›\n      var pageArea = [];\n      pageArea.push('<div id=\"pageInfo\">', page_number, 'ãƒšãƒ¼ã‚¸ç›®<br/>');\n      if(page_number > 1) {\n        // å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"prevPageLink\" href=\"#\">&lt;&lt;å‰ãƒšãƒ¼ã‚¸ã¸</a> ');\n      }\n      if(page_number < page_count) {\n        // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"nextPageLink\" href=\"#\">æ¬¡ãƒšãƒ¼ã‚¸ã¸&gt;&gt;</a>');\n      }\n      pageArea.push('</div>');\n      $(pageArea.join(\"\")).appendTo($searchResultContent);\n    }\n});\n\n```\n\n\n```css:full-text-search.css\n@charset \"UTF-8\";\n\n#search-area {\n    margin-bottom: 1em;\n}\n\n.search-input-area {\n    position:relative;\n}\n\n/* å…¥åŠ›é …ç›® */\n#search-query {\n    padding: 0.7em 2em;\n    width: 100%;\n    color: black;\n    font-family: arial,sans-serif;\n    font-size: 1em;\n    border: 1px solid #ccc;\n    border-radius: 2em;\n    outline: 0;\n}\n\n.search-input-area input:focus {\n    border: 1px solid #4d90fe;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */\n.search-input-area .left-icon,\n.search-input-area .right-icon {\n    /* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */\n    position:absolute;\n    top: 50%;\n    margin-top: -0.5em;\n    font-sise: 1em;\n    /* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */\n    cursor:pointer;\n}\n\n.search-input-area .left-icon {\n    left: 0.7em;\n    color:#444;\n}\n\n.search-input-area .right-icon {\n    right: 0.7em;\n    /* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */\n    color: #ccc;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */\n.search-input-area .left-icon:hover,\n.search-input-area .right-icon:hover {\n    font-size: 1.4em;\n}\n\n\n.search-input-area .left-icon:hover {\n    left: 0.5em;\n}\n\n\n.search-input-area .right-icon:hover {\n    right: 0.5em;\n}\n\n/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */\n#search-result-area.show {\n    background: #f8f8f7;\n    border: 0px solid;\n    border-radius: 0.5em;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    padding: 1em;\n}\n\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \nå‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ`full-text-search.js`ã¨`full-text-search.css`ã‚’ã€\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\n`full-text-search.js`ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€\n\n```\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n```\n\n\n`asciidoctor-sample.adoc`ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n++++\n<link rel=\"stylesheet\" href=\"../full-text-search.css\"></link>\n<script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"></script>\n<script src=\"../full-text-search.js\"></script>\n++++\n```\n\n### å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\nä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png)\n<br/>\n\næ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png)\n<br/>\n\n\n## ã¾ã¨ã‚\nFessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚\n\n\n## å‚è€ƒ\n* [Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨](http://fess.codelibs.org/ja/articles/article-4.html#js)\n* [å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™](http://qiita.com/cookienote/items/1f2443be25630a78d946)\n\n","comments_count":0,"created_at":"2017-06-26T00:21:37+09:00","likes_count":21,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/41febdc6-bf5d-50b8-a695-3c017b8f766a/","title":"10åˆ†ã§ã§ãã‚‹ï¼ @ngrx/storeãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« with @ngrx/schematics","date":"2018-07-30T18:01:02+09:00","excerpt":"ãªã«ã“ã‚ŒAngularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ã–ã£ãã‚ŠæŠŠæ¡ã™ã‚‹ãŸã‚ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚@ngrx/storeãƒ™ãƒ¼ã‚¹ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªï¼ˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¢ãƒ—ãƒªï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œã‚‹ã ã‘ãªã‚‰10åˆ†ç¨‹åº¦ã§å‡ºæ¥ä¸ŠãŒã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ã¦ngrxã‚’æœ€...","tags":["Angular","angular-cli","ngrx","Angular6","Qiita"],"keywords":["Angular"],"thumbnail":""},"id":"41febdc6-bf5d-50b8-a695-3c017b8f766a","title":"10åˆ†ã§ã§ãã‚‹ï¼ @ngrx/storeãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« with @ngrx/schematics","rendered_body":"\n<h2>\n<span id=\"ãªã«ã“ã‚Œ\" class=\"fragment\"></span><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\"><i class=\"fa fa-link\"></i></a>ãªã«ã“ã‚Œ</h2>\n\n<p>Angularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ã–ã£ãã‚ŠæŠŠæ¡ã™ã‚‹ãŸã‚ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚<a href=\"http://ngrx.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/store</a>ãƒ™ãƒ¼ã‚¹ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªï¼ˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¢ãƒ—ãƒªï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œã‚‹ã ã‘ãªã‚‰10åˆ†ç¨‹åº¦ã§å‡ºæ¥ä¸ŠãŒã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ã¦ngrxã‚’æœ€ä½é™ã‚’æŠŠæ¡ã—ãŸã„äººå‘ã‘ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx\" rel=\"nofollow noopener\" target=\"_blank\">GitHub</a>ã«ç½®ã„ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚<br>\nngrxã‚’ä½¿ã†ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒéå¸¸ã«å¤šããªã‚Šã¾ã™ãŒã€ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯<a href=\"https://github.com/ngrx/platform/tree/master/docs/schematics\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a> ã‚’ä½¿ã„ã€ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã“ã¨ã§æ¥µåŠ›æ‰‹é–“ã‚’çœã„ã¦ã„ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E5%AE%8C%E6%88%90%E3%82%A4%E3%83%A1%E3%83%BC%E3%82%B8\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸</h2>\n\n<ul>\n<li>\n<code>+</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ+1ã•ã‚Œã‚‹</li>\n<li>\n<code>-</code> ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ- 1ã•ã‚Œã‚‹\n<a href=\"https://camo.qiitausercontent.com/b480b8a4f23b0ad498a61f36f69be9fae9cef250/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38653666363435652d613733342d646238642d656336622d3134346330666465653162302e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b480b8a4f23b0ad498a61f36f69be9fae9cef250/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38653666363435652d613733342d646238642d656336622d3134346330666465653162302e676966\" alt=\"counterapp.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/8e6f645e-a734-db8d-ec6b-144c0fdee1b0.gif\"></a>\n</li>\n</ul>\n\n<h2>\n<span id=\"ã‚„ã‚‹ã“ã¨ã‚„ã‚‰ãªã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8B%E3%81%93%E3%81%A8%E3%82%84%E3%82%89%E3%81%AA%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚‹ã“ã¨/ã‚„ã‚‰ãªã„ã“ã¨</h2>\n\n<ul>\n<li>ã‚„ã‚‹\n\n<ul>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/store/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/store</a>ã®ä½¿ã„æ–¹\n\n<ul>\n<li>Storeã®ä½œã‚Šæ–¹</li>\n<li>Stateã®ä½œã‚Šæ–¹</li>\n<li>Reducerã®ä½œã‚Šæ–¹</li>\n<li>Actionsã®ä½œã‚Šæ–¹</li>\n</ul>\n</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/schematics/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a>ã®ä½¿ã„æ–¹\n\n<ul>\n<li>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©ã‚’ä½¿ã„æ¥µåŠ›æ‰‹é–“ã‚’æ¸›ã‚‰ã™æ–¹æ³•</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>ã‚„ã‚‰ãªã„ ï¼ˆä¸‹è¨˜ã‚’ç†è§£ã™ã‚‹ã«ã¯<a href=\"#%E5%8F%82%E8%80%83\">å‚è€ƒ</a>ã®Qiitaã®è¨˜äº‹ã‚’è¦‹ã¦ãã ã•ã„ã€‚ï¼‰\n\n<ul>\n<li>çŠ¶æ…‹ç®¡ç†ã®èª¬æ˜</li>\n<li>Reduxã®èª¬æ˜</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/router-store/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/router-store</a>ã®ä½¿ã„æ–¹</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/entity/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/entity</a>ã®ä½¿ã„æ–¹</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/effects/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/effect</a>ã®ä½¿ã„æ–¹<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ¦‚è¦\" class=\"fragment\"></span><a href=\"#%E3%83%81%E3%83%A5%E3%83%BC%E3%83%88%E3%83%AA%E3%82%A2%E3%83%AB%E6%A6%82%E8%A6%81\"><i class=\"fa fa-link\"></i></a>ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ¦‚è¦</h2>\n\n<p>æ®µéšã‚’è¸ã‚“ã§ã€ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«å‹•ä½œç¢ºèªã—ãªãŒã‚‰ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nå„ã‚¹ãƒ†ãƒƒãƒ—çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯GitHubã«ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚<br>\nå¤§éƒ¨åˆ†ã¯Schematicsã‚’ä½¿ã£ã¦ngã‚³ãƒãƒ³ãƒ‰ã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ã¿å®Ÿè£…ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚</p>\n\n<ol>\n<li>Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰  â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/generated-with-angualr-cli\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n<li>ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/no-ngrx\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n<li>ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰ â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/after-ngrx-setting\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n<li>ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰ â€»<a href=\"https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx\" rel=\"nofollow noopener\" target=\"_blank\">çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹</a>\n</li>\n</ol>\n\n<h2>\n<span id=\"å‰ææ¡ä»¶\" class=\"fragment\"></span><a href=\"#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6\"><i class=\"fa fa-link\"></i></a>å‰ææ¡ä»¶</h2>\n\n<ul>\n<li>\n<a href=\"https://nodejs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Node.js</a>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿</li>\n<li>\n<a href=\"https://cli.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular CLI</a>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> npm i <span class=\"nt\">-g</span> @angular/cli\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://cli.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a>ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> npm i <span class=\"nt\">-g</span> @ngrx/schematics\n</pre></div></div>\n\n<h2>\n<span id=\"1-angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆ1åˆ†\" class=\"fragment\"></span><a href=\"#1-angular%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E7%94%9F%E6%88%901%E5%88%86\"><i class=\"fa fa-link\"></i></a>1. Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰</h2>\n\n<ul>\n<li>ng newã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng new ngrx-tutorial\n</pre></div></div>\n\n<ul>\n<li>ç”Ÿæˆã•ã‚ŒãŸã‚¢ãƒ—ãƒªé…ä¸‹ã«ç§»å‹•ã—ã€ä¸€æ—¦Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> <span class=\"nb\">cd </span>ngrx-tutorial\n<span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/f46653279a0efbe1432919aa808f440fc6eb1ede/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35633139633366302d313034612d336566322d613333642d3331356330663061336639662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f46653279a0efbe1432919aa808f440fc6eb1ede/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35633139633366302d313034612d336566322d613333642d3331356330663061336639662e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.03.59.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5c19c3f0-104a-3ef2-a33d-315c0f0a3f9f.png\"></a>\n</li>\n</ul>\n\n<h2>\n<span id=\"2-ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…2åˆ†\" class=\"fragment\"></span><a href=\"#2-ngrx%E3%82%92%E4%BD%BF%E3%82%8F%E3%81%9A%E3%81%AB%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%852%E5%88%86\"><i class=\"fa fa-link\"></i></a>2. ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰</h2>\n\n<p>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®è³‡ç”£ã¯å…¨ã¦<code>src/app/counter</code>ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚<br>\nã¾ãšã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã€ãã®å¾Œã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>\n\n<h3>\n<span id=\"ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#%E3%83%9C%E3%82%A4%E3%83%A9%E3%83%BC%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£è³‡ç”£ã‚’ã¾ã¨ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n<ul>\n<li>ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ãŸã‚<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g module counter <span class=\"nt\">--module</span><span class=\"o\">=</span>app.module.ts\n</pre></div></div>\n\n<ul>\n<li>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n\n<ul>\n<li>ä¸Šè¨˜ã§ä½œæˆã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n<li>æœ€çµ‚çš„ã«ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚<code>--export</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g component counter <span class=\"nt\">--module</span><span class=\"o\">=</span>counter/counter.module.ts <span class=\"nt\">--export</span>\n</pre></div></div>\n\n<ul>\n<li>\n<code>app.component.html</code>ä¿®æ­£ã—ã€ä½œæˆã—ãŸã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;app-counter&gt;&lt;/app-counter&gt;</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ä¸€æ—¦ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ã€ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/6ed3cc13498f56621ca94113a6eacdc34949e17f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37373261373530312d333461372d336566312d363636362d6431336537393338326365362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6ed3cc13498f56621ca94113a6eacdc34949e17f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37373261373530312d333461372d336566312d363636362d6431336537393338326365362e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.06.30.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/772a7501-34a7-3ef1-6666-d13e79382ce6.png\"></a></p>\n\n<h3>\n<span id=\"å‡¦ç†å®Ÿè£…\" class=\"fragment\"></span><a href=\"#%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%85\"><i class=\"fa fa-link\"></i></a>å‡¦ç†å®Ÿè£…</h3>\n\n<ul>\n<li>ã‚«ã‚¦ãƒ³ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Ÿéš›ã®å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-counter'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./counter.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./counter.component.css'</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">CounterComponent</span> <span class=\"kr\">implements</span> <span class=\"nx\">OnInit</span> <span class=\"p\">{</span>\n  <span class=\"nx\">count</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">increment</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">decrement</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">count</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;button</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">increment</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>+<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">decrement</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>-<span class=\"nt\">&lt;/button&gt;</span>\n<span class=\"nt\">&lt;div&gt;</span>Count: {{count}}<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<ul>\n<li>ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<code>+</code>,<code>-</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ•°å­—ãŒå¢—ãˆãŸã‚Šæ¸›ã£ãŸã‚Šã—ãŸã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png\"></a></p>\n\n<h2>\n<span id=\"3-ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«åˆæœŸè¨­å®š2åˆ†\" class=\"fragment\"></span><a href=\"#3-ngrx%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E5%88%9D%E6%9C%9F%E8%A8%AD%E5%AE%9A2%E5%88%86\"><i class=\"fa fa-link\"></i></a>3. ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰</h2>\n\n<p>@ngrx/storeã‚’ã‚¢ãƒ—ãƒªã«å°å…¥ã—ã€åˆæœŸè¨­å®šã‚’ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ä¸‹è¨˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n\n<ul>\n<li>\n<code>@ngrx/schematics</code>\n\n<ul>\n<li>Angualr CLIã§ngrxã®é››å½¢ã‚’ä½œã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>\n</ul>\n</li>\n<li>\n<code>@ngrx/store</code>\n\n<ul>\n<li>ngrxã§Store,Reducer,Actionã‚’ä½¿ã†ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>\n</ul>\n</li>\n<li>\n<code>@ngrx/store-devtools</code>\n\n<ul>\n<li>å¼·åŠ›ãªãƒ‡ãƒãƒƒã‚«ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> npm i <span class=\"nt\">-D</span> @ngrx/schematics\n<span class=\"gp\">$</span> npm i <span class=\"nt\">-s</span> @ngrx/store\n<span class=\"gp\">$</span> npm i <span class=\"nt\">-s</span> @ngrx/store-devtools\n</pre></div></div>\n\n<p>*<code>@ngrx/schematics</code>ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Schematicsã«è¿½åŠ ã—ã¾ã™ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ngrxã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã«<code>@ngrx/schematics</code>ã®æŒ‡å®šã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚ï¼‰</p>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng config cli.defaultCollection @ngrx/schematics\n</pre></div></div>\n\n<ul>\n<li>ä¸Šè¨˜ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€<code>angular.json</code>ã«ã“ã®ã‚ˆã†ãªè¨­å®šãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">angular.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">  </span><span class=\"s2\">\"defaultProject\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ngrx-tutorial\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"cli\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"defaultCollection\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"@ngrx/schematics\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ãƒ«ãƒ¼ãƒˆã®Storeã‚’ä½œæˆã—ã¾ã™ã€‚\n\n<ul>\n<li>\n<code>src/app/state</code>é…ä¸‹ã«ç”Ÿæˆã—ãŸã„ã®ã§<code>--statePath</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n<li>ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g store state <span class=\"nt\">--statePath</span> state <span class=\"nt\">--root</span> <span class=\"nt\">--module</span> app.module.ts\n</pre></div></div>\n\n<ul>\n<li>ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§æ›´æ–°ã—ãŸ<code>src/app/app.module.ts</code>ã§<code>environment</code>ã®importæ–‡ã®ãƒ‘ã‚¹ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹å ´åˆã¯ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">app/src/app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"gd\">- import { environment } from '../../environments/environment';\n</span><span class=\"gi\">+ import { environment } from '../environments/environment';\n</span></pre></div>\n</div>\n\n<ul>\n<li>ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>æ‰‹é †2ã®å‹•ä½œç¢ºèªæ™‚ã¨åŒæ§˜ã®æŒ™å‹•ã«ãªã‚Šã¾ã™ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png\"></a></p>\n\n<h2>\n<span id=\"4-ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…5åˆ†\" class=\"fragment\"></span><a href=\"#4-ngrx%E3%82%92%E4%BD%BF%E3%81%A3%E3%81%A6%E3%82%AB%E3%82%A6%E3%83%B3%E3%83%88%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%855%E5%88%86\"><i class=\"fa fa-link\"></i></a>4. ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰</h2>\n\n<p>ã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«Storeã€Reducerã€Actionã‚’ä½œæˆã—ã€ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®å€¤ã‚’Storeã«ç§»è¡Œã—ã¾ã™ã€‚<br>\nã“ã“ã§ä½œæˆã™ã‚‹è³‡ç”£ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–‰ã˜ãŸã‚‚ã®ãªã®ã§ã€<code>src/app/counter/state</code>é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚<br>\nã¾ãŸ<code>@ngrx/schemetics</code>ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯Reducerã€Actionãªã©ã®è³‡ç”£ãŒã€å½¹å‰²ã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ãŒã€ï¼‘ãƒ•ã‚©ãƒ«ãƒ€ã«é›†ç´„ã—ãŸã»ã†ãŒã‚½ãƒ¼ã‚¹ãŒä¿®æ­£ã—ã‚„ã™ã„ã®ã§ã€ä»Šå›ã¯å…¨ã¦<code>src/app/counter/state</code>ã®ç›´ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h3>\n<span id=\"ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ\" class=\"fragment\"></span><a href=\"#%E3%83%9C%E3%82%A4%E3%83%A9%E3%83%BC%E3%83%97%E3%83%AC%E3%83%BC%E3%83%88%E7%94%9F%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ</h3>\n\n<ul>\n<li>Store\n\n<ul>\n<li>\n<code>src/app/counter/state</code>ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚<code>--statePath</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n<li>ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§<code>--module</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g store counter/counter <span class=\"nt\">--statePath</span> state <span class=\"nt\">--module</span> counter.module.ts\n</pre></div></div>\n\n<ul>\n<li>Reducer\n\n<ul>\n<li>ä¸Šè¨˜ã§ä½œæˆã—ãŸStoreã«æœ¬Reducerã‚’ç™»éŒ²ã—ãŸã„ãŸã‚<code>--reducers</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g reducer counter/state/counter <span class=\"nt\">--reducers</span> index.ts\n</pre></div></div>\n\n<ul>\n<li>Action\n\n<ul>\n<li>\n<code>src/app/counter/state</code>ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚<code>--flat</code>ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç™»éŒ²ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng g action counter/state/counter <span class=\"nt\">--flat</span>\n</pre></div></div>\n\n<p>â€»ã“ã®æ™‚ç‚¹ã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒã§ã¾ã™ã®ã§ã€å‹•ä½œç¢ºèªã¯ã§ãã¾ã›ã‚“ã€‚ãã®ã¾ã¾æ¬¡ã«é€²ã¿ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"å‡¦ç†å®Ÿè£…-1\" class=\"fragment\"></span><a href=\"#%E5%87%A6%E7%90%86%E5%AE%9F%E8%A3%85-1\"><i class=\"fa fa-link\"></i></a>å‡¦ç†å®Ÿè£…</h2>\n\n<p>ä¾å­˜é–¢ä¿‚ã®éƒ½åˆã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã¯é€†é †ã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚</p>\n\n<h3>\n<span id=\"action\" class=\"fragment\"></span><a href=\"#action\"><i class=\"fa fa-link\"></i></a>Action</h3>\n\n<p>ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã‹ã‚‰ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\nâ€»ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ãªã®ã§ç„¡è¦–ã—ã¦å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/counter.actions.ts</span></div>\n<div class=\"highlight\"><pre>import { Action } from '@ngrx/store';\n\nexport enum CounterActionTypes {\n// Actionã”ã¨ã«å‹ã‚’å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gd\">-  LoadCounters = '[Counter] Load Counters'\n</span><span class=\"gi\">+  CountIncrement = '[Counter] Increment Count',\n+  CountDecrement = '[Counter] Decrement Count'\n</span>}\n\n// Actionã”ã¨ã«@ngrx.storeã®Actionã‚’ã‚¤ãƒ³ãƒ—ãƒªã—ãŸã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\n// è¤‡é›‘ãªå‡¦ç†ã‚’ã™ã‚‹å ´åˆã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã‚’ã¨ã‚Šã¾ã™ãŒã€\n// æœ¬ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ç°¡å˜ã®ãŸã‚å¼•æ•°ãªã—ã«ã—ã¦ã„ã¾ã™ã€‚\n<span class=\"gd\">- export class Counter implements Action {\n-   readonly type = CounterActionTypes.LoadCounters;\n- }\n</span><span class=\"gi\">+ export class CountIncrement implements Action {\n+   readonly type = CounterActionTypes.CountIncrement;\n+   public constructor() {}\n+ }\n+ \n+ export class CountDecrement implements Action {\n+   readonly type = CounterActionTypes.CountDecrement;\n+   public constructor() {}\n+ }\n</span>\n\n// ä¸Šè¨˜ã§å®šç¾©ã—ãŸActionã‚¯ãƒ©ã‚¹ã‚’é›†ç´„ã—ãŸå‹ã‚’å®šç¾©ã—ã¾ã™ã€‚Reducerã§ä½¿ã†ãŸã‚ã§ã™ã€‚\n<span class=\"gd\">- export type CounterActions = LoadCounters;\n</span><span class=\"gi\">+ export type CounterActions = CountIncrement | CountDecrement;\n</span></pre></div>\n</div>\n\n<h2>\n<span id=\"reducerä½œæˆ\" class=\"fragment\"></span><a href=\"#reducer%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>Reducerä½œæˆ</h2>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/counter.reducer.ts</span></div>\n<div class=\"highlight\"><pre>import { Action } from '@ngrx/store';\n<span class=\"gi\">+ import { CounterActionTypes } from './counter.actions';\n</span>\n\nexport interface State {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã‚’å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+   count: number;\n</span>}\n\nexport const initialState: State = {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã®åˆæœŸå€¤ã‚’å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+   count: 0\n</span>};\n\n\nexport function reducer(state = initialState, action: Action): State {\n  switch (action.type) {\n// å¼•æ•°ã¨ã—ã¦å—ã‘å–ã£ãŸActionã®å‹ã«å¿œã˜ã¦å‡¦ç†ã‚’æŒ¯ã‚Šåˆ†ã‘ã¾ã™\n// ã“ã“ã§ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–¢é€£ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã¿æ‹¾ã£ã¦ã€ä»–ã¯Stateã‚’ãã®ã¾ã¾è¿”ã—ã¾ã™ã€‚\n<span class=\"gi\">+     case CounterActionTypes.CountIncrement:\n</span>// Stateã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€StateãŒã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã«ãªã‚‹ã‚ˆã†ã«å…ƒã®Stateã«ã¯å¤‰æ›´ã‚’åŠ ãˆãš\n// Object.assingã§æ–°è¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n<span class=\"gi\">+       return Object.assign({}, { ...state, count : state.count + 1 });\n+     case CounterActionTypes.CountDecrement:\n+       return Object.assign({}, { ...state, count : state.count - 1 });\n</span>    default:\n      return state;\n  }\n}\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®Countã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// Storeã®æ–¹ã«ã‚‚å®šç¾©ã—ã¾ã™ãŒã€ã“ã“ã§ã¯æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã¦ã„ã‚‹\n// Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«é–¢é€£ã™ã‚‹å‡¦ç†ã®ã¿å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+ export const getCount = (state: State) =&gt; state.count;\n</span></pre></div>\n</div>\n\n<ul>\n<li>Store</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/index.ts</span></div>\n<div class=\"highlight\"><pre>import {\n  ActionReducerMap,\n  createFeatureSelector,\n  createSelector,\n  MetaReducer\n} from '@ngrx/store';\n// ng gã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆæ™‚ã¯ç›¸å¯¾ãƒ‘ã‚¹ãŒãšã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚\n// ãã®å ´åˆã¯ä¿®æ­£ã™ã‚‹\n<span class=\"gd\">- import { environment } from '../../environments/environment';\n</span><span class=\"gi\">+ import { environment } from '../../../environments/environment';\n</span>import * as fromCounter from './counter.reducer';\n\nexport interface State {\n\n  counter: fromCounter.State;\n}\n\nexport const reducers: ActionReducerMap&lt;State&gt; = {\n\n  counter: fromCounter.reducer,\n};\n\n\nexport const metaReducers: MetaReducer&lt;State&gt;[] = !environment.production ? [] : [];\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†åº¦ã«å®šç¾©ã™ã‚‹ã®ã¯å†—é•·ãªã®ã§ã‚³ã‚³ã§å…±é€šçš„ã«å®šç¾©ã—ã¾ã™ã€‚\n<span class=\"gi\">+ export const getCounterFeatureState = createFeatureSelector&lt;State&gt;('counter');\n+ export const getCounter = createSelector(getCounterFeatureState, s =&gt; s.counter);\n+ export const getCount = createSelector(getCounter, fromCounter.getCount);\n</span></pre></div>\n</div>\n\n<ul>\n<li>Component</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.ts</span></div>\n<div class=\"highlight\"><pre>import { Component, OnInit } from '@angular/core';\n<span class=\"gi\">+ import { Observable } from 'rxjs';\n+ import { Store } from '@ngrx/store';\n</span>\n<span class=\"gi\">+ import * as CounterReducer from './state/counter.reducer';\n+ import * as CounterActions from './state/counter.actions';\n+ import { getCount } from './state';\n</span>\n<span class=\"gu\">@Component({\n</span>  selector: 'app-counter',\n  templateUrl: './counter.component.html',\n  styleUrls: ['./counter.component.css']\n})\nexport class CounterComponent implements OnInit {\n// Storeã§ã®å€¤å¤‰æ›´ã‚’é †æ¬¡å—ã‘ä»˜ã‘ã‚Œã‚‹ã‚ˆã†ã«å‹ã‚’Observableã«å¤‰æ›´ã—ã¾ã™\n<span class=\"gd\">-   count = 0;\n</span><span class=\"gi\">+   count$: Observable&lt;number&gt;;\n</span>\n// Storeã‚’ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ã¾ã™\n<span class=\"gd\">-   constructor() { }\n</span><span class=\"gi\">+   constructor(private store: Store&lt;CounterReducer.State&gt;) {\n</span>// Storeã‹ã‚‰ã‚«ã‚¦ãƒ³ã‚¿ã‚’å–å¾—ã—ã¾ã™\n<span class=\"gi\">+     this.count$ = store.select(getCount);\n+  }\n</span>\n  ngOnInit() {\n  }\n\n  increment() {\n// ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã®å®Ÿå‡¦ç†ã¯ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã«ä»»ã›ã‚‹ã®ã§\n// ã“ã“ã§ã¯Actionã‚’dispatchã™ã‚‹ã ã‘ã§ã™ã€‚\n<span class=\"gd\">-     this.count = this.count + 1;\n</span><span class=\"gi\">+     this.store.dispatch(new CounterActions.CountIncrement());\n</span>  }\n\n  decrement() {\n<span class=\"gd\">-     this.count = this.count - 1;\n</span><span class=\"gi\">+     this.store.dispatch(new CounterActions.CountDecrement());\n</span>  }\n\n}\n</pre></div>\n</div>\n\n<ul>\n<li>Conponentã®HTML</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"diff\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.component.html</span></div>\n<div class=\"highlight\"><pre>&lt;button (click)=\"increment()\"&gt;+&lt;/button&gt;\n&lt;button (click)=\"decrement()\"&gt;-&lt;/button&gt;\n&lt;!-- å¤‰æ•°åã¨å‹ãŒå¤‰ã‚ã£ãŸã®ã§HTMLã‚‚è‹¥å¹²ä¿®æ­£ã—ã¾ã™ --&gt;\n<span class=\"gd\">- &lt;div&gt;Count: {{count }}&lt;/div&gt;\n</span><span class=\"gi\">+ &lt;div&gt;Count: {{count$ | async }}&lt;/div&gt;\n</span></pre></div>\n</div>\n\n<ul>\n<li>Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"terminal\"><div class=\"highlight\"><pre><span class=\"gp\">$</span> ng serve <span class=\"nt\">-o</span>\n</pre></div></div>\n\n<ul>\n<li>é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ãªã©ã§å…¨ãã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚è¦‹ãŸç›®ã¯å¤‰ã‚ã£ã¦ã„ã¾ã›ã‚“ãŒã€Countã¯<code>@ngrx/store</code>ã§ç®¡ç†ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e4f3b6b6888e2f7e618fc6587c88775f7b161624/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64353036626336652d636463652d346430302d313130392d3261663966343738303636332e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png\"></a></p>\n\n<h2>\n<span id=\"è£œè¶³ã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²æ–¹æ³•\" class=\"fragment\"></span><a href=\"#%E8%A3%9C%E8%B6%B3%E3%82%B9%E3%83%88%E3%82%A2%E3%81%A8%E3%82%B9%E3%83%88%E3%82%A2%E7%99%BB%E9%8C%B2%E6%96%B9%E6%B3%95\"><i class=\"fa fa-link\"></i></a>è£œè¶³ï¼šã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²æ–¹æ³•</h2>\n\n<p>ã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²å‡¦ç†ã¯ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”Ÿæˆã™ã‚‹ã®ã§ã‚³ã‚³ã§æ”¹ã‚ã¦èª¬æ˜ã—ã¾ã™ã€‚</p>\n\n<p><strong>ã¾ãšã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã§ã™ã€‚</strong><br>\nã‚¹ãƒˆã‚¢ã¯<code>src/app/state/index.ts</code>ã«ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nä¸­èº«ã‚’è¦‹ã‚‹ã¨ã‚ã‹ã‚Šã¾ã™ãŒã€å®Ÿæ…‹ã¯Reducerã‚’é›†ç´„ã—ãŸActionReducerMapã§ã™ã€‚<br>\nReducerã‚’æ–°ã—ãä½œæˆã—ãŸæ™‚ã¯ã€ã“ã®ãƒãƒƒãƒ—ã«ã©ã‚“ã©ã‚“è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/state/index.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span>\n  <span class=\"nx\">ActionReducer</span><span class=\"p\">,</span>\n  <span class=\"nx\">ActionReducerMap</span><span class=\"p\">,</span>\n  <span class=\"nx\">createFeatureSelector</span><span class=\"p\">,</span>\n  <span class=\"nx\">createSelector</span><span class=\"p\">,</span>\n  <span class=\"nx\">MetaReducer</span>\n<span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@ngrx/store'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">environment</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../../environments/environment'</span><span class=\"p\">;</span>\n\n<span class=\"k\">export</span> <span class=\"kr\">interface</span> <span class=\"nx\">State</span> <span class=\"p\">{</span>\n\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">reducers</span><span class=\"p\">:</span> <span class=\"nx\">ActionReducerMap</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ã‚³ã‚³ã«ReducerãŒè¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</span>\n  <span class=\"c1\">// ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«ï¼‘ã¤ã‚‚Reducerã‚’å®šç¾©ã—ã¦ã„ãªã„ã®ã§ç©ºã£ã½ã§ã™ã€‚</span>\n<span class=\"p\">};</span>\n\n\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">metaReducers</span><span class=\"p\">:</span> <span class=\"nx\">MetaReducer</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"o\">!</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">production</span> <span class=\"p\">?</span> <span class=\"p\">[]</span> <span class=\"p\">:</span> <span class=\"p\">[];</span>\n\n</pre></div>\n</div>\n\n<p>ã‚¹ãƒˆã‚¢ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>StoreModule.forRoot</code>ã‚’ä½¿ã„ã¾ã™(ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚„ã£ã¦ãã‚Œã¾ã™)</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n    <span class=\"nx\">StoreModule</span><span class=\"p\">.</span><span class=\"nx\">forRoot</span><span class=\"p\">(</span><span class=\"nx\">reducers</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"nx\">metaReducers</span> <span class=\"p\">}),</span>\n    <span class=\"o\">!</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">production</span> <span class=\"p\">?</span> <span class=\"nx\">StoreDevtoolsModule</span><span class=\"p\">.</span><span class=\"nx\">instrument</span><span class=\"p\">()</span> <span class=\"p\">:</span> <span class=\"p\">[]</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"p\">],</span>\n  <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>æ¬¡ã«ã‚«ã‚¦ãƒ³ã‚¿ã®ã‚¹ãƒˆã‚¢ã«é–¢ã—ã¦ã§ã™ã€‚</strong><br>\nã“ã¡ã‚‰ã‚‚ãƒ«ãƒ¼ãƒˆã®å ´åˆã¨ã»ã¼åŒã˜ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/state/index.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">reducers</span><span class=\"p\">:</span> <span class=\"nx\">ActionReducerMap</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã‚’ãƒãƒƒãƒ—ã«ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚</span>\n  <span class=\"na\">counter</span><span class=\"p\">:</span> <span class=\"nx\">fromCounter</span><span class=\"p\">.</span><span class=\"nx\">reducer</span><span class=\"p\">,</span>\n<span class=\"p\">};</span>\n\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">metaReducers</span><span class=\"p\">:</span> <span class=\"nx\">MetaReducer</span><span class=\"o\">&lt;</span><span class=\"nx\">State</span><span class=\"o\">&gt;</span><span class=\"p\">[]</span> <span class=\"o\">=</span> <span class=\"o\">!</span><span class=\"nx\">environment</span><span class=\"p\">.</span><span class=\"nx\">production</span> <span class=\"p\">?</span> <span class=\"p\">[]</span> <span class=\"p\">:</span> <span class=\"p\">[];</span>\n<span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n</pre></div>\n</div>\n\n<p>ãŸã ç™»éŒ²ã¯<code>StoreModule.forFeature</code>ã‚’ä½¿ã„ã¾ã™ã€‚<br>\nã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æ©Ÿèƒ½æ¯ã«çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã«ä½¿ã†ã‚‚ã®ã§ã€ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«æŒ‡å®šã—ãŸåå‰ã§ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ä½¿ã†æ™‚ã«ãªã£ãŸã‚‰é…å»¶ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"ts\">\n<div class=\"code-lang\"><span class=\"bold\">src/app/counter/counter.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">fromCounter</span> <span class=\"k\">from</span> <span class=\"s1\">'./state'</span><span class=\"p\">;</span>\n<span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n    <span class=\"c1\">// ã‚¢ãƒ—ãƒªå…¨ä½“ã®ã‚¹ãƒˆã‚¢ã«counterã¨ã„ã†åå‰ã§ç™»éŒ²ã—ã¾ã™</span>\n    <span class=\"nx\">StoreModule</span><span class=\"p\">.</span><span class=\"nx\">forFeature</span><span class=\"p\">(</span><span class=\"s1\">'counter'</span><span class=\"p\">,</span> <span class=\"nx\">fromCounter</span><span class=\"p\">.</span><span class=\"nx\">reducers</span><span class=\"p\">,</span> <span class=\"p\">{</span> <span class=\"na\">metaReducers</span><span class=\"p\">:</span> <span class=\"nx\">fromCounter</span><span class=\"p\">.</span><span class=\"nx\">metaReducers</span> <span class=\"p\">})</span>\n    <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"p\">],</span>\n  <span class=\"c1\">// ãƒ»ãƒ»ãƒ»</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">CounterModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>ä»¥ä¸Šã§<code>@ngrx/schematics</code>ã‚’ä½¿ã£ãŸ<code>@ngrx/store</code>ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¯çµ‚äº†ã§ã™ã€‚<br>\n<code>ngrx</code>ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä»–ã«ã‚‚<code>@ngrx/router-store</code>ã€<code>@ngrx/entity</code>ã€<code>@ngrx/effect</code>ãŒã‚ã‚‹ã®ã§ã€<br>\nä»Šå›ã®ã‚¢ãƒ—ãƒªã‚’ãƒ™ãƒ¼ã‚¹ã«æ‹¡å¼µã—ã€ç†è§£ã‚’æ·±ã‚ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚</p>\n\n<p>Angularã¯Vue.jsãªã©ã¨æ¯”è¼ƒã™ã‚‹ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã—ã‹ã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ã„ã‚‹ã®ã§ã€ã‘ã£ã“ã†ä¾¿åˆ©ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ï¼<br>\nã‚ã¾ã‚Šå‘¨ã‚Šã§Angularä½¿ã£ã¦ã‚‹äººãŒã„ãªãã¦å¯‚ã—ã„ã®ã§ã™ãŒã€ã€ã€ã€çš†ã•ã‚“æ˜¯éAngularä½¿ã„ã¾ã—ã‚‡ã†ï¼</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li>GitHub\n\n<ul>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/store/README.md#ngrxstore\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/store</a>\n\n<ul>\n<li>å…¬å¼ãƒšãƒ¼ã‚¸ã€‚ã‚µãƒ³ãƒ—ãƒ«ã¯å°‘ã—å¤ã„ã§ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å……å®Ÿã—ã¦ã„ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://github.com/ngrx/platform/blob/master/docs/schematics/README.md\" rel=\"nofollow noopener\" target=\"_blank\">@ngrx/schematics</a>\n\n<ul>\n<li>å„ãƒªãƒ³ã‚¯ã«è¡Œãã¨ã€ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¬æ˜ãªã©ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Medium\n\n<ul>\n<li>\n<a href=\"https://blog.nrwl.io/managing-state-in-angular-applications-22b75ef5625f\" rel=\"nofollow noopener\" target=\"_blank\">Managing State in Angular Applications</a>\n\n<ul>\n<li>Angularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ¤œè¨ã—ã€æœ€çµ‚çš„ã«@ngrx/storeã‚’ç´¹ä»‹ã—ã¦ã„ã‚‹è¨˜äº‹ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚GitHubã«ã‚ã‚Šã€å¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>Qiita\n\n<ul>\n<li>\n<a href=\"https://qiita.com/puku0x/items/0a8e7224761dc549bd06\" id=\"reference-55d4d1f3588dbe22005a\">@ngrx/storeã¨@ngrx/effectsã®ä½¿ã„æ–¹</a>\n\n<ul>\n<li>GitHubã«<a href=\"https://github.com/puku0x/ngrx-todo\" rel=\"nofollow noopener\" target=\"_blank\">ã‚µãƒ³ãƒ—ãƒ«</a>ã‚‚ã‚ã‚Šã‚³ãƒ¼ãƒ‰ä¾‹ãŒå¤šãå¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://qiita.com/musou1500/items/8003c4a3f2b2e80d919f\" id=\"reference-0b88f55e95af744439cc\">@ngrx/schematicsã‚’è§¦ã£ã¦ã¿ã‚‹</a>\n\n<ul>\n<li>\n<code>@ngrx/schematics</code>ã®ä½¿ã„æ–¹ãŒç¶²ç¾…ã•ã‚Œã¦ãŠã‚Šå‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://qiita.com/gen2-gk/items/5e5c5b81243def8edc2c#ngrx-%E9%96%A2%E9%80%A3%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AF1%E3%81%A4%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B\" id=\"reference-00af0c3c5f2c814f6e6e\">ngrxã§ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ</a>\n\n<ul>\n<li>ngrxé–¢é€£è³‡ç”£ã‚’storeãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«é›†ç´„ã™ã‚‹ã¨ã„ã†çŸ¥è¦‹ã¯ã‚³ã‚³ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://qiita.com/kouMatsumoto/items/c8297466c1824953632f\" id=\"reference-2bdc06375583d7c16351\">ngrxç´¹ä»‹</a>\n\n<ul>\n<li>ngrxã‚’çŸ¥ã‚‹ãã£ã‹ã‘ã«ãªã£ãŸè¨˜äº‹ã§ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n","body":"## ãªã«ã“ã‚Œ\nAngularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ–¹æ³•ã‚’ã–ã£ãã‚ŠæŠŠæ¡ã™ã‚‹ãŸã‚ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã™ã€‚[@ngrx/store](http://ngrx.github.io/)ãƒ™ãƒ¼ã‚¹ã®ç°¡å˜ãªã‚¢ãƒ—ãƒªï¼ˆæ•°ã‚’ã‚«ã‚¦ãƒ³ãƒˆã™ã‚‹ã‚¢ãƒ—ãƒªï¼‰ã‚’ä½œæˆã—ã¾ã™ã€‚ä½œã‚‹ã ã‘ãªã‚‰10åˆ†ç¨‹åº¦ã§å‡ºæ¥ä¸ŠãŒã‚‹ã®ã§ã€ã¨ã‚Šã‚ãˆãšæ‰‹ã‚’å‹•ã‹ã—ã¦ngrxã‚’æœ€ä½é™ã‚’æŠŠæ¡ã—ãŸã„äººå‘ã‘ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚[GitHub](https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx)ã«ç½®ã„ã¦ã„ã‚‹ã®ã§å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nngrxã‚’ä½¿ã†ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒéå¸¸ã«å¤šããªã‚Šã¾ã™ãŒã€ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯[@ngrx/schematics](https://github.com/ngrx/platform/tree/master/docs/schematics) ã‚’ä½¿ã„ã€ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã™ã‚‹ã“ã¨ã§æ¥µåŠ›æ‰‹é–“ã‚’çœã„ã¦ã„ã¾ã™ã€‚\n\n\n## ã‚¢ãƒ—ãƒªã®å®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸\n* `+`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ+1ã•ã‚Œã‚‹\n* `-` ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨CountãŒ- 1ã•ã‚Œã‚‹\n![counterapp.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/8e6f645e-a734-db8d-ec6b-144c0fdee1b0.gif)\n\n## ã‚„ã‚‹ã“ã¨/ã‚„ã‚‰ãªã„ã“ã¨\n* ã‚„ã‚‹\n    * [@ngrx/store](https://github.com/ngrx/platform/blob/master/docs/store/README.md)ã®ä½¿ã„æ–¹\n        * Storeã®ä½œã‚Šæ–¹\n        * Stateã®ä½œã‚Šæ–¹\n        * Reducerã®ä½œã‚Šæ–¹\n        * Actionsã®ä½œã‚Šæ–¹\n    * [@ngrx/schematics](https://github.com/ngrx/platform/blob/master/docs/schematics/README.md)ã®ä½¿ã„æ–¹\n        * ã‚ªãƒ—ã‚·ãƒ§ãƒ³ãªã©ã‚’ä½¿ã„æ¥µåŠ›æ‰‹é–“ã‚’æ¸›ã‚‰ã™æ–¹æ³•\n* ã‚„ã‚‰ãªã„ ï¼ˆä¸‹è¨˜ã‚’ç†è§£ã™ã‚‹ã«ã¯[å‚è€ƒ](#å‚è€ƒ)ã®Qiitaã®è¨˜äº‹ã‚’è¦‹ã¦ãã ã•ã„ã€‚ï¼‰\n    * çŠ¶æ…‹ç®¡ç†ã®èª¬æ˜\n    * Reduxã®èª¬æ˜\n    * [@ngrx/router-store](https://github.com/ngrx/platform/blob/master/docs/router-store/README.md)ã®ä½¿ã„æ–¹\n    * [@ngrx/entity](https://github.com/ngrx/platform/blob/master/docs/entity/README.md)ã®ä½¿ã„æ–¹\n    * [@ngrx/effect](https://github.com/ngrx/platform/blob/master/docs/effects/README.md)ã®ä½¿ã„æ–¹  \n    \n\n\n## ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«æ¦‚è¦\næ®µéšã‚’è¸ã‚“ã§ã€ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«å‹•ä½œç¢ºèªã—ãªãŒã‚‰ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nå„ã‚¹ãƒ†ãƒƒãƒ—çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯GitHubã«ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\nå¤§éƒ¨åˆ†ã¯Schematicsã‚’ä½¿ã£ã¦ngã‚³ãƒãƒ³ãƒ‰ã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’è‡ªå‹•ç”Ÿæˆã—ã€ãƒ¡ã‚¤ãƒ³éƒ¨åˆ†ã®ã¿å®Ÿè£…ã¨ã„ã†æ„Ÿã˜ã§ã™ã€‚\n\n1. Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰  â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/generated-with-angualr-cli)\n1. ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/no-ngrx)\n1. ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰ â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/after-ngrx-setting)\n1. ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰ â€»[çµ‚äº†æ™‚ç‚¹ã®ã‚½ãƒ¼ã‚¹](https://github.com/Takumon/ngrx-tutorial/tree/with-ngrx)\n\n\n\n\n## å‰ææ¡ä»¶\n* [Node.js](https://nodejs.org/ja/)ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n* [Angular CLI](https://cli.angular.io/)ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n\n```terminal\n$ npm i -g @angular/cli\n```\n\n* [@ngrx/schematics](https://cli.angular.io/)ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿\n\n```terminal\n$ npm i -g @ngrx/schematics\n```\n\n\n## 1. Angularã‚¢ãƒ—ãƒªã‚’ç”Ÿæˆï¼ˆ1åˆ†ï¼‰\n\n* ng newã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n\n```terminal\n$ ng new ngrx-tutorial\n```\n\n* ç”Ÿæˆã•ã‚ŒãŸã‚¢ãƒ—ãƒªé…ä¸‹ã«ç§»å‹•ã—ã€ä¸€æ—¦Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ cd ngrx-tutorial\n$ ng serve -o\n```\n\n* ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ã®ã‚ˆã†ãªç”»é¢ãŒè¡¨ç¤ºã•ã‚ŒãŸã‚‰æˆåŠŸã§ã™ã€‚\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.03.59.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5c19c3f0-104a-3ef2-a33d-315c0f0a3f9f.png)\n\n\n\n## 2. ngrxã‚’ä½¿ã‚ãšã«ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ2åˆ†ï¼‰\nã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®è³‡ç”£ã¯å…¨ã¦`src/app/counter`ãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚\nã¾ãšã¯ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã‹ã‚‰ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½œæˆã—ã€ãã®å¾Œã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã‚’å®Ÿè£…ã—ã¾ã™ã€‚\n### ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆä½œæˆ\n\n\n* ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£è³‡ç”£ã‚’ã¾ã¨ã‚ã‚‹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n    * ã“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ãŸã‚`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g module counter --module=app.module.ts\n```\n\n\n* ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ä½œæˆã—ã¾ã™ã€‚\n    * ä¸Šè¨˜ã§ä½œæˆã—ãŸãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    * æœ€çµ‚çš„ã«ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç™»éŒ²ã™ã‚‹ãŸã‚`--export`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g component counter --module=counter/counter.module.ts --export\n```\n\n\n* `app.component.html`ä¿®æ­£ã—ã€ä½œæˆã—ãŸã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ç”¨ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å‘¼ã³å‡ºã™ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```html:app.component.html\n<app-counter></app-counter>\n```\n\n* ä¸€æ—¦ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ã€ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 1.06.30.png](https://qiita-image-store.s3.amazonaws.com/0/49915/772a7501-34a7-3ef1-6666-d13e79382ce6.png)\n\n\n### å‡¦ç†å®Ÿè£…\n\n* ã‚«ã‚¦ãƒ³ãƒˆç”¨ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§å®Ÿéš›ã®å‡¦ç†ã‚’è¨˜è¿°ã—ã¾ã™ã€‚\n\n```ts:src/app/counter/counter.component.ts\nimport { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-counter',\n  templateUrl: './counter.component.html',\n  styleUrls: ['./counter.component.css']\n})\nexport class CounterComponent implements OnInit {\n  count = 0;\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  increment() {\n    this.count = this.count + 1;\n  }\n\n  decrement() {\n    this.count = this.count - 1;\n  }\n\n}\n\n```\n\n\n```html:src/app/counter/counter.component.html\n<button (click)=\"increment()\">+</button>\n<button (click)=\"decrement()\">-</button>\n<div>Count: {{count}}</div>\n```\n\n\n* ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* ãƒ–ãƒ©ã‚¦ã‚¶ãŒèµ·å‹•ã—ä¸‹è¨˜ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚`+`,`-`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨æ•°å­—ãŒå¢—ãˆãŸã‚Šæ¸›ã£ãŸã‚Šã—ãŸã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png)\n\n\n## 3. ngrxã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€åˆæœŸè¨­å®šï¼ˆ2åˆ†ï¼‰\n@ngrx/storeã‚’ã‚¢ãƒ—ãƒªã«å°å…¥ã—ã€åˆæœŸè¨­å®šã‚’ã—ã¾ã™ã€‚\n\n\n* ä¸‹è¨˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n    * `@ngrx/schematics`\n        * Angualr CLIã§ngrxã®é››å½¢ã‚’ä½œã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n    * `@ngrx/store`\n        * ngrxã§Store,Reducer,Actionã‚’ä½¿ã†ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n    * `@ngrx/store-devtools`\n        * å¼·åŠ›ãªãƒ‡ãƒãƒƒã‚«ã‚’ä½¿ãˆã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒª\n\n```terminal\n$ npm i -D @ngrx/schematics\n$ npm i -s @ngrx/store\n$ npm i -s @ngrx/store-devtools\n```\n\n\n*`@ngrx/schematics`ã‚’ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®Schematicsã«è¿½åŠ ã—ã¾ã™ï¼ˆã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ngrxã®ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã«`@ngrx/schematics`ã®æŒ‡å®šã‚’çœç•¥ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ã€‚ï¼‰\n\n```terminal\n$ ng config cli.defaultCollection @ngrx/schematics\n```\n\n* ä¸Šè¨˜ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã€`angular.json`ã«ã“ã®ã‚ˆã†ãªè¨­å®šãŒè¿½åŠ ã•ã‚Œã¾ã™ã€‚\n\n```json:angular.json\n  \"defaultProject\": \"ngrx-tutorial\",\n  \"cli\": {\n    \"defaultCollection\": \"@ngrx/schematics\"\n  }\n```\n\n* ãƒ«ãƒ¼ãƒˆã®Storeã‚’ä½œæˆã—ã¾ã™ã€‚\n    * `src/app/state`é…ä¸‹ã«ç”Ÿæˆã—ãŸã„ã®ã§`--statePath`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    * ã‚¢ãƒ—ãƒªå…¨ä½“ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g store state --statePath state --root --module app.module.ts\n```\n\n* ä¸Šè¨˜ã‚³ãƒãƒ³ãƒ‰ã§æ›´æ–°ã—ãŸ`src/app/app.module.ts`ã§`environment`ã®importæ–‡ã®ãƒ‘ã‚¹ã§ã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ã‚‹å ´åˆã¯ä¿®æ­£ã—ã¦ãã ã•ã„ã€‚\n\n```diff:app/src/app.module.ts\n- import { environment } from '../../environments/environment';\n+ import { environment } from '../environments/environment';\n```\n\n* ã“ã“ã¾ã§ã§Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* æ‰‹é †2ã®å‹•ä½œç¢ºèªæ™‚ã¨åŒæ§˜ã®æŒ™å‹•ã«ãªã‚Šã¾ã™ã€é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã‚‚ã‚¨ãƒ©ãƒ¼ãŒãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png)\n\n\n## 4. ngrxã‚’ä½¿ã£ã¦ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†å®Ÿè£…ï¼ˆ5åˆ†ï¼‰\nã“ã“ã‹ã‚‰ã¯å®Ÿéš›ã«Storeã€Reducerã€Actionã‚’ä½œæˆã—ã€ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†ã®å€¤ã‚’Storeã«ç§»è¡Œã—ã¾ã™ã€‚\nã“ã“ã§ä½œæˆã™ã‚‹è³‡ç”£ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–‰ã˜ãŸã‚‚ã®ãªã®ã§ã€`src/app/counter/state`é…ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚\nã¾ãŸ`@ngrx/schemetics`ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯Reducerã€Actionãªã©ã®è³‡ç”£ãŒã€å½¹å‰²ã”ã¨ã«ãƒ•ã‚©ãƒ«ãƒ€åˆ†ã‘ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ãŒã€ï¼‘ãƒ•ã‚©ãƒ«ãƒ€ã«é›†ç´„ã—ãŸã»ã†ãŒã‚½ãƒ¼ã‚¹ãŒä¿®æ­£ã—ã‚„ã™ã„ã®ã§ã€ä»Šå›ã¯å…¨ã¦`src/app/counter/state`ã®ç›´ä¸‹ã«ä½œæˆã—ã¾ã™ã€‚\n\n\n### ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆ\n\n\n* Store\n    * `src/app/counter/state`ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚`--statePath`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n    * ã‚«ã‚¦ãƒ³ãƒˆå‡¦ç†é–¢é€£ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã—ãŸã„ã®ã§`--module`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g store counter/counter --statePath state --module counter.module.ts\n```\n\n* Reducer\n    * ä¸Šè¨˜ã§ä½œæˆã—ãŸStoreã«æœ¬Reducerã‚’ç™»éŒ²ã—ãŸã„ãŸã‚`--reducers`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```terminal\n$ ng g reducer counter/state/counter --reducers index.ts\n```\n\n* Action\n    * `src/app/counter/state`ç›´ä¸‹ã«ä½œæˆã™ã‚‹ãŸã‚`--flat`ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’ç™»éŒ²ã—ã¾ã™ã€‚\n\n```terminal\n$ ng g action counter/state/counter --flat\n``` \n\nâ€»ã“ã®æ™‚ç‚¹ã§ã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚¨ãƒ©ãƒ¼ãŒã§ã¾ã™ã®ã§ã€å‹•ä½œç¢ºèªã¯ã§ãã¾ã›ã‚“ã€‚ãã®ã¾ã¾æ¬¡ã«é€²ã¿ã¾ã™ã€‚\n\n\n## å‡¦ç†å®Ÿè£…\nä¾å­˜é–¢ä¿‚ã®éƒ½åˆã§ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã¨ã¯é€†é †ã§å®Ÿè£…ã—ã¦ã„ãã¾ã™ã€‚\n\n### Action\nãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆç”Ÿæˆæ™‚ã‹ã‚‰ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\nâ€»ã‚³ãƒ¡ãƒ³ãƒˆã¯ã‚³ãƒ¼ãƒ‰ã®èª¬æ˜ãªã®ã§ç„¡è¦–ã—ã¦å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚\n\n```diff:src/app/counter/state/counter.actions.ts\nimport { Action } from '@ngrx/store';\n\nexport enum CounterActionTypes {\n// Actionã”ã¨ã«å‹ã‚’å®šç¾©ã—ã¾ã™ã€‚\n-  LoadCounters = '[Counter] Load Counters'\n+  CountIncrement = '[Counter] Increment Count',\n+  CountDecrement = '[Counter] Decrement Count'\n}\n\n// Actionã”ã¨ã«@ngrx.storeã®Actionã‚’ã‚¤ãƒ³ãƒ—ãƒªã—ãŸã‚¯ãƒ©ã‚¹ã‚’ä½œæˆã—ã¾ã™ã€‚\n// è¤‡é›‘ãªå‡¦ç†ã‚’ã™ã‚‹å ´åˆã¯ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å¼•æ•°ã‚’ã¨ã‚Šã¾ã™ãŒã€\n// æœ¬ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ç°¡å˜ã®ãŸã‚å¼•æ•°ãªã—ã«ã—ã¦ã„ã¾ã™ã€‚\n- export class Counter implements Action {\n-   readonly type = CounterActionTypes.LoadCounters;\n- }\n+ export class CountIncrement implements Action {\n+   readonly type = CounterActionTypes.CountIncrement;\n+   public constructor() {}\n+ }\n+ \n+ export class CountDecrement implements Action {\n+   readonly type = CounterActionTypes.CountDecrement;\n+   public constructor() {}\n+ }\n\n\n// ä¸Šè¨˜ã§å®šç¾©ã—ãŸActionã‚¯ãƒ©ã‚¹ã‚’é›†ç´„ã—ãŸå‹ã‚’å®šç¾©ã—ã¾ã™ã€‚Reducerã§ä½¿ã†ãŸã‚ã§ã™ã€‚\n- export type CounterActions = LoadCounters;\n+ export type CounterActions = CountIncrement | CountDecrement;\n```\n\n\n## Reducerä½œæˆ\n\n```diff:src/app/counter/state/counter.reducer.ts\nimport { Action } from '@ngrx/store';\n+ import { CounterActionTypes } from './counter.actions';\n\n\nexport interface State {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã‚’å®šç¾©ã—ã¾ã™ã€‚\n+   count: number;\n}\n\nexport const initialState: State = {\n// ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«ç½®ã‘ã‚‹Stateã®åˆæœŸå€¤ã‚’å®šç¾©ã—ã¾ã™ã€‚\n+   count: 0\n};\n\n\nexport function reducer(state = initialState, action: Action): State {\n  switch (action.type) {\n// å¼•æ•°ã¨ã—ã¦å—ã‘å–ã£ãŸActionã®å‹ã«å¿œã˜ã¦å‡¦ç†ã‚’æŒ¯ã‚Šåˆ†ã‘ã¾ã™\n// ã“ã“ã§ã¯ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼å‡¦ç†ã«é–¢é€£ã™ã‚‹ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ã¿æ‹¾ã£ã¦ã€ä»–ã¯Stateã‚’ãã®ã¾ã¾è¿”ã—ã¾ã™ã€‚\n+     case CounterActionTypes.CountIncrement:\n// Stateã‚’å¤‰æ›´ã™ã‚‹å ´åˆã¯ã€StateãŒã‚¤ãƒŸãƒ¥ãƒ¼ã‚¿ãƒ–ãƒ«ã«ãªã‚‹ã‚ˆã†ã«å…ƒã®Stateã«ã¯å¤‰æ›´ã‚’åŠ ãˆãš\n// Object.assingã§æ–°è¦ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n+       return Object.assign({}, { ...state, count : state.count + 1 });\n+     case CounterActionTypes.CountDecrement:\n+       return Object.assign({}, { ...state, count : state.count - 1 });\n    default:\n      return state;\n  }\n}\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®Countã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// Storeã®æ–¹ã«ã‚‚å®šç¾©ã—ã¾ã™ãŒã€ã“ã“ã§ã¯æœ¬ãƒ•ã‚¡ã‚¤ãƒ«ã§å®šç¾©ã—ã¦ã„ã‚‹\n// Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã«é–¢é€£ã™ã‚‹å‡¦ç†ã®ã¿å®šç¾©ã—ã¾ã™ã€‚\n+ export const getCount = (state: State) => state.count;\n```\n\n* Store\n\n```diff:src/app/counter/state/index.ts\nimport {\n  ActionReducerMap,\n  createFeatureSelector,\n  createSelector,\n  MetaReducer\n} from '@ngrx/store';\n// ng gã‚³ãƒãƒ³ãƒ‰ç”Ÿæˆæ™‚ã¯ç›¸å¯¾ãƒ‘ã‚¹ãŒãšã‚Œã¦ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚\n// ãã®å ´åˆã¯ä¿®æ­£ã™ã‚‹\n- import { environment } from '../../environments/environment';\n+ import { environment } from '../../../environments/environment';\nimport * as fromCounter from './counter.reducer';\n\nexport interface State {\n\n  counter: fromCounter.State;\n}\n\nexport const reducers: ActionReducerMap<State> = {\n\n  counter: fromCounter.reducer,\n};\n\n\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [] : [];\n\n// ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§Stateã®ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®é–¢æ•°ã‚’å®šç¾©ã—ã¾ã™ã€‚\n// è¤‡æ•°ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†åº¦ã«å®šç¾©ã™ã‚‹ã®ã¯å†—é•·ãªã®ã§ã‚³ã‚³ã§å…±é€šçš„ã«å®šç¾©ã—ã¾ã™ã€‚\n+ export const getCounterFeatureState = createFeatureSelector<State>('counter');\n+ export const getCounter = createSelector(getCounterFeatureState, s => s.counter);\n+ export const getCount = createSelector(getCounter, fromCounter.getCount);\n```\n\n\n\n* Component\n\n```diff:src/app/counter/counter.component.ts\nimport { Component, OnInit } from '@angular/core';\n+ import { Observable } from 'rxjs';\n+ import { Store } from '@ngrx/store';\n\n+ import * as CounterReducer from './state/counter.reducer';\n+ import * as CounterActions from './state/counter.actions';\n+ import { getCount } from './state';\n\n@Component({\n  selector: 'app-counter',\n  templateUrl: './counter.component.html',\n  styleUrls: ['./counter.component.css']\n})\nexport class CounterComponent implements OnInit {\n// Storeã§ã®å€¤å¤‰æ›´ã‚’é †æ¬¡å—ã‘ä»˜ã‘ã‚Œã‚‹ã‚ˆã†ã«å‹ã‚’Observableã«å¤‰æ›´ã—ã¾ã™\n-   count = 0;\n+   count$: Observable<number>;\n\n// Storeã‚’ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã—ã¾ã™\n-   constructor() { }\n+   constructor(private store: Store<CounterReducer.State>) {\n// Storeã‹ã‚‰ã‚«ã‚¦ãƒ³ã‚¿ã‚’å–å¾—ã—ã¾ã™\n+     this.count$ = store.select(getCount);\n+  }\n\n  ngOnInit() {\n  }\n\n  increment() {\n// ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ãƒˆã®å®Ÿå‡¦ç†ã¯ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã«ä»»ã›ã‚‹ã®ã§\n// ã“ã“ã§ã¯Actionã‚’dispatchã™ã‚‹ã ã‘ã§ã™ã€‚\n-     this.count = this.count + 1;\n+     this.store.dispatch(new CounterActions.CountIncrement());\n  }\n\n  decrement() {\n-     this.count = this.count - 1;\n+     this.store.dispatch(new CounterActions.CountDecrement());\n  }\n\n}\n```\n\n* Conponentã®HTML\n\n```diff:src/app/counter/counter.component.html\n<button (click)=\"increment()\">+</button>\n<button (click)=\"decrement()\">-</button>\n<!-- å¤‰æ•°åã¨å‹ãŒå¤‰ã‚ã£ãŸã®ã§HTMLã‚‚è‹¥å¹²ä¿®æ­£ã—ã¾ã™ -->\n- <div>Count: {{count }}</div>\n+ <div>Count: {{count$ | async }}</div>\n```\n\n* Webã‚¢ãƒ—ãƒªã‚’ç«‹ã¡ä¸Šã’ã¦ã¿ã¾ã™ã€‚\n\n```terminal\n$ ng serve -o\n```\n\n* é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ãªã©ã§å…¨ãã‚¨ãƒ©ãƒ¼ãŒå‡ºã¦ã„ãªã‘ã‚Œã°æˆåŠŸã§ã™ã€‚è¦‹ãŸç›®ã¯å¤‰ã‚ã£ã¦ã„ã¾ã›ã‚“ãŒã€Countã¯`@ngrx/store`ã§ç®¡ç†ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã¾ã™ã€‚\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2018-07-30 0.59.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d506bc6e-cdce-4d00-1109-2af9f4780663.png)\n\n## è£œè¶³ï¼šã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²æ–¹æ³•\nã‚¹ãƒˆã‚¢ã¨ã‚¹ãƒˆã‚¢ç™»éŒ²å‡¦ç†ã¯ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ç”Ÿæˆã™ã‚‹ã®ã§ã‚³ã‚³ã§æ”¹ã‚ã¦èª¬æ˜ã—ã¾ã™ã€‚\n\n**ã¾ãšã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã§ã™ã€‚**\nã‚¹ãƒˆã‚¢ã¯`src/app/state/index.ts`ã«ä½œæˆã•ã‚Œã¾ã™ã€‚\nä¸­èº«ã‚’è¦‹ã‚‹ã¨ã‚ã‹ã‚Šã¾ã™ãŒã€å®Ÿæ…‹ã¯Reducerã‚’é›†ç´„ã—ãŸActionReducerMapã§ã™ã€‚\nReducerã‚’æ–°ã—ãä½œæˆã—ãŸæ™‚ã¯ã€ã“ã®ãƒãƒƒãƒ—ã«ã©ã‚“ã©ã‚“è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n\n```ts:src/app/state/index.ts\nimport {\n  ActionReducer,\n  ActionReducerMap,\n  createFeatureSelector,\n  createSelector,\n  MetaReducer\n} from '@ngrx/store';\nimport { environment } from '../../environments/environment';\n\nexport interface State {\n\n}\n\nexport const reducers: ActionReducerMap<State> = {\n  // ã‚³ã‚³ã«ReducerãŒè¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n  // ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã§ã¯ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«ï¼‘ã¤ã‚‚Reducerã‚’å®šç¾©ã—ã¦ã„ãªã„ã®ã§ç©ºã£ã½ã§ã™ã€‚\n};\n\n\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [] : [];\n\n```\n\nã‚¹ãƒˆã‚¢ã‚’ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã«ç™»éŒ²ã™ã‚‹ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`StoreModule.forRoot`ã‚’ä½¿ã„ã¾ã™(ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆã§ã‚„ã£ã¦ãã‚Œã¾ã™)\n\n```ts:src/app/app.module.ts\n@NgModule({\n  // ãƒ»ãƒ»ãƒ»\n  imports: [\n    // ãƒ»ãƒ»ãƒ»\n    StoreModule.forRoot(reducers, { metaReducers }),\n    !environment.production ? StoreDevtoolsModule.instrument() : []\n    // ãƒ»ãƒ»ãƒ»\n  ],\n  // ãƒ»ãƒ»ãƒ»\n})\nexport class AppModule { }\n\n```\n\n**æ¬¡ã«ã‚«ã‚¦ãƒ³ã‚¿ã®ã‚¹ãƒˆã‚¢ã«é–¢ã—ã¦ã§ã™ã€‚**\nã“ã¡ã‚‰ã‚‚ãƒ«ãƒ¼ãƒˆã®å ´åˆã¨ã»ã¼åŒã˜ã§ã™ã€‚\n\n```ts:src/app/counter/state/index.ts\n// ãƒ»ãƒ»ãƒ»\nexport const reducers: ActionReducerMap<State> = {\n  // ã‚«ã‚¦ãƒ³ã‚¿ã®Reducerã‚’ãƒãƒƒãƒ—ã«ç™»éŒ²ã—ã¦ã„ã¾ã™ã€‚\n  counter: fromCounter.reducer,\n};\n\nexport const metaReducers: MetaReducer<State>[] = !environment.production ? [] : [];\n// ãƒ»ãƒ»ãƒ»\n```\n\nãŸã ç™»éŒ²ã¯`StoreModule.forFeature`ã‚’ä½¿ã„ã¾ã™ã€‚\nã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã¯ã€æ©Ÿèƒ½æ¯ã«çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã«ä½¿ã†ã‚‚ã®ã§ã€ãƒ«ãƒ¼ãƒˆã®ã‚¹ãƒˆã‚¢ã«æŒ‡å®šã—ãŸåå‰ã§ç™»éŒ²ã•ã‚Œã¾ã™ã€‚ä½¿ã†æ™‚ã«ãªã£ãŸã‚‰é…å»¶ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã‚Œã‚‹æ©Ÿèƒ½ã‚’æŒã£ã¦ã„ã¾ã™ã€‚\n\n```ts:src/app/counter/counter.module.ts\n// ãƒ»ãƒ»ãƒ»\nimport * as fromCounter from './state';\n// ãƒ»ãƒ»ãƒ»\n@NgModule({\n  imports: [\n    // ãƒ»ãƒ»ãƒ»\n    // ã‚¢ãƒ—ãƒªå…¨ä½“ã®ã‚¹ãƒˆã‚¢ã«counterã¨ã„ã†åå‰ã§ç™»éŒ²ã—ã¾ã™\n    StoreModule.forFeature('counter', fromCounter.reducers, { metaReducers: fromCounter.metaReducers })\n    // ãƒ»ãƒ»ãƒ»\n  ],\n  // ãƒ»ãƒ»ãƒ»\n})\nexport class CounterModule { }\n\n```\n\n\n## ã¾ã¨ã‚\nä»¥ä¸Šã§`@ngrx/schematics`ã‚’ä½¿ã£ãŸ`@ngrx/store`ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã¯çµ‚äº†ã§ã™ã€‚\n`ngrx`ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ä»–ã«ã‚‚`@ngrx/router-store`ã€`@ngrx/entity`ã€`@ngrx/effect`ãŒã‚ã‚‹ã®ã§ã€\nä»Šå›ã®ã‚¢ãƒ—ãƒªã‚’ãƒ™ãƒ¼ã‚¹ã«æ‹¡å¼µã—ã€ç†è§£ã‚’æ·±ã‚ã¦ã¿ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚\n\nAngularã¯Vue.jsãªã©ã¨æ¯”è¼ƒã™ã‚‹ã¨ãƒœã‚¤ãƒ©ãƒ¼ãƒ—ãƒ¬ãƒ¼ãƒˆãŒå¤šããªã£ã¦ã—ã¾ã„ã¾ã™ã€‚\nã—ã‹ã—ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰è‡ªå‹•ç”Ÿæˆæ©Ÿèƒ½ãŒå……å®Ÿã—ã¦ã„ã‚‹ã®ã§ã€ã‘ã£ã“ã†ä¾¿åˆ©ãªãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã™ï¼\nã‚ã¾ã‚Šå‘¨ã‚Šã§Angularä½¿ã£ã¦ã‚‹äººãŒã„ãªãã¦å¯‚ã—ã„ã®ã§ã™ãŒã€ã€ã€ã€çš†ã•ã‚“æ˜¯éAngularä½¿ã„ã¾ã—ã‚‡ã†ï¼\n\n## å‚è€ƒ\n* GitHub\n    * [@ngrx/store](https://github.com/ngrx/platform/blob/master/docs/store/README.md#ngrxstore)\n        * å…¬å¼ãƒšãƒ¼ã‚¸ã€‚ã‚µãƒ³ãƒ—ãƒ«ã¯å°‘ã—å¤ã„ã§ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯å……å®Ÿã—ã¦ã„ã¾ã™ã€‚\n    * [@ngrx/schematics](https://github.com/ngrx/platform/blob/master/docs/schematics/README.md)\n        * å„ãƒªãƒ³ã‚¯ã«è¡Œãã¨ã€ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®èª¬æ˜ãªã©ãŒè¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã™ã€‚\n* Medium\n    * [Managing State in Angular Applications](https://blog.nrwl.io/managing-state-in-angular-applications-22b75ef5625f)\n        * Angularã§çŠ¶æ…‹ç®¡ç†ã™ã‚‹æ™‚ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’æ¤œè¨ã—ã€æœ€çµ‚çš„ã«@ngrx/storeã‚’ç´¹ä»‹ã—ã¦ã„ã‚‹è¨˜äº‹ã§ã™ã€‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚‚GitHubã«ã‚ã‚Šã€å¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã™ã€‚\n* Qiita\n    * [@ngrx/storeã¨@ngrx/effectsã®ä½¿ã„æ–¹](https://qiita.com/puku0x/items/0a8e7224761dc549bd06)\n        * GitHubã«[ã‚µãƒ³ãƒ—ãƒ«](https://github.com/puku0x/ngrx-todo)ã‚‚ã‚ã‚Šã‚³ãƒ¼ãƒ‰ä¾‹ãŒå¤šãå¤§å¤‰å‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚\n    * [@ngrx/schematicsã‚’è§¦ã£ã¦ã¿ã‚‹](https://qiita.com/musou1500/items/8003c4a3f2b2e80d919f)\n        * `@ngrx/schematics`ã®ä½¿ã„æ–¹ãŒç¶²ç¾…ã•ã‚Œã¦ãŠã‚Šå‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚\n    * [ngrxã§ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ](https://qiita.com/gen2-gk/items/5e5c5b81243def8edc2c#ngrx-%E9%96%A2%E9%80%A3%E3%81%AE%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB%E3%81%AF1%E3%81%A4%E3%81%AE%E3%83%87%E3%82%A3%E3%83%AC%E3%82%AF%E3%83%88%E3%83%AA%E3%81%AB%E3%81%BE%E3%81%A8%E3%82%81%E3%82%8B)\n        * ngrxé–¢é€£è³‡ç”£ã‚’storeãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«é›†ç´„ã™ã‚‹ã¨ã„ã†çŸ¥è¦‹ã¯ã‚³ã‚³ã‚’å‚è€ƒã«ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n    * [ngrxç´¹ä»‹](https://qiita.com/kouMatsumoto/items/c8297466c1824953632f)\n        * ngrxã‚’çŸ¥ã‚‹ãã£ã‹ã‘ã«ãªã£ãŸè¨˜äº‹ã§ã™ã€‚\n\n\n\n","comments_count":0,"created_at":"2018-07-30T18:01:02+09:00","likes_count":22,"reactions_count":0},"matches":2,"weight":100,"details":[{"weight":50,"keyword":"Angular"},{"weight":50,"keyword":"Qiita"}],"avgWeight":50,"totalWeight":44,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/5644c24e-eade-50ca-aa11-83a4eaeba122/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","date":"2017-07-24T07:12:10+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","jasmine","TypeScript","AngularJS","Protractor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"5644c24e-eade-50ca-aa11-83a4eaeba122","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\" id=\"reference-fc6741a6eda3b7ffd9f1\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a></li>\n<li>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼’-ãƒ†ã‚¹ãƒˆç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%92-%E3%83%86%E3%82%B9%E3%83%88%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</h2>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚<br>\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<p>ã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/test\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚</p>\n\n<h5>\n<span id=\"1-1-distserver_test\" class=\"fragment\"></span><a href=\"#1-1-distserver_test\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server_test</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚<br>\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"2-server_test\" class=\"fragment\"></span><a href=\"#2-server_test\"><i class=\"fa fa-link\"></i></a>(2) server_test</h5>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"3-e2e\" class=\"fragment\"></span><a href=\"#3-e2e\"><i class=\"fa fa-link\"></i></a>(3) e2e</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚</p>\n\n<h5>\n<span id=\"4-srcappé…ä¸‹ã®spectsãƒ•ã‚¡ã‚¤ãƒ«\" class=\"fragment\"></span><a href=\"#4-srcapp%E9%85%8D%E4%B8%8B%E3%81%AEspects%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"><i class=\"fa fa-link\"></i></a>(4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"5-protractorconfjs\" class=\"fragment\"></span><a href=\"#5-protractorconfjs\"><i class=\"fa fa-link\"></i></a>(5) protractor.conf.js</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚<br>\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://www.npmjs.com/package/zone.js\" rel=\"nofollow noopener\" target=\"_blank\"><code>zone.js@0.8.12</code></a>\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«<code>Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'</code>ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚<a href=\"https://github.com/angular/zone.js/issues/832\" rel=\"nofollow noopener\" target=\"_blank\">GitHubã®issues</a>ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.npmjs.com/package/supertest\" rel=\"nofollow noopener\" target=\"_blank\"><code>supertest</code></a>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappappcomponentspects\" class=\"fragment\"></span><a href=\"#srcappappcomponentspects\"><i class=\"fa fa-link\"></i></a>src/app/app.component.spec.ts</h4>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚<br>\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€<code>TestBed</code>ã®<code>overrideComponent</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">ComponentFixture</span><span class=\"p\">,</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'AppComponent'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component</span>\n  <span class=\"kd\">let</span> <span class=\"na\">component</span><span class=\"p\">:</span> <span class=\"nx\">AppComponent</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture</span>\n  <span class=\"kd\">let</span> <span class=\"na\">fixture</span><span class=\"p\">:</span> <span class=\"nx\">ComponentFixture</span><span class=\"o\">&lt;</span><span class=\"nx\">AppComponent</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">{</span>\n    <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">response</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n      <span class=\"p\">]};</span>\n\n      <span class=\"k\">return</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">([</span><span class=\"nx\">response</span><span class=\"p\">]);</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(</span><span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">],</span>\n      <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"nx\">AppComponent</span>\n      <span class=\"p\">],</span>\n    <span class=\"p\">})</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š</span>\n    <span class=\"p\">.</span><span class=\"nx\">overrideComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">set</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"na\">useClass</span><span class=\"p\">:</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">},</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">compileComponents</span><span class=\"p\">();</span>\n\n    <span class=\"nx\">fixture</span> <span class=\"o\">=</span> <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">createComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">);</span>\n    <span class=\"nx\">component</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">detectChanges</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">component</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n    <span class=\"p\">]);</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">const</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">nativeElement</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span><span class=\"p\">);</span>\n  <span class=\"p\">}));</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappmessagemessageservicespectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicespects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚<br>\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯<code>MockBackend</code>ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚<br>\nãªãŠ<code>Error</code>ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§<code>register</code>ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">HttpModule</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">,</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span><span class=\"p\">,</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MockConnection</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">RequestMethod</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message.service'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'MessageService'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MockError</span> <span class=\"kd\">extends</span> <span class=\"nx\">Response</span> <span class=\"kr\">implements</span> <span class=\"nb\">Error</span> <span class=\"p\">{</span>\n    <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n    <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">HttpModule</span><span class=\"p\">],</span>\n      <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n        <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">,</span>\n        <span class=\"na\">useFactory</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"k\">new</span> <span class=\"nx\">Http</span><span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">),</span>\n        <span class=\"na\">deps</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n      <span class=\"p\">},</span> <span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">service</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">})));</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'getAll'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">200</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockRespond</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">Response</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockError</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">MockError</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚'</span><span class=\"p\">);</span>\n      <span class=\"p\">},</span> <span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">});</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n  <span class=\"p\">});</span>\n\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚<br>\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚<br>\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯<a href=\"https://mochajs.org/\" rel=\"nofollow noopener\" target=\"_blank\">Mocha</a>ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"server_testappspectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#server_testappspects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚<br>\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®<code>spyOn</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">supertest</span> <span class=\"k\">from</span> <span class=\"s1\">'supertest'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/app'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/models/message'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">request</span> <span class=\"o\">=</span> <span class=\"nx\">supertest</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">endpoint</span> <span class=\"o\">=</span> <span class=\"s1\">'/api/messages'</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">messageAscending</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">,</span> <span class=\"nx\">m2</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&gt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&lt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({},</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'Get'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">);</span>\n        <span class=\"p\">}).</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"kd\">const</span> <span class=\"nx\">testData</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span> <span class=\"p\">},</span>\n      <span class=\"p\">];</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰</span>\n      <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">testData</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">erro</span> <span class=\"p\">,</span> <span class=\"nx\">doc</span> <span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n        <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n          <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">sortedMessages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">sort</span><span class=\"p\">(</span><span class=\"nx\">messageAscending</span><span class=\"p\">);</span>\n\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span><span class=\"p\">);</span>\n          <span class=\"p\">})</span>\n          <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹</span>\n      <span class=\"nx\">spyOn</span><span class=\"p\">(</span><span class=\"nx\">Message</span><span class=\"p\">,</span> <span class=\"s1\">'find'</span><span class=\"p\">).</span><span class=\"nx\">and</span><span class=\"p\">.</span><span class=\"nx\">callFake</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">),</span> <span class=\"kc\">null</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n          <span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">);</span>\n\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">);</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<p>E2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"packagejson\" class=\"fragment\"></span><a href=\"#packagejson\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson\" id=\"reference-fc6741a6eda3b7ffd9f1\">å‰å›</a>ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p test:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server_test/tsconfig.server_test.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server_test/test.server.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>test</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n<li>\n<strong>test:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server_test</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"server_testtestserverts\" class=\"fragment\"></span><a href=\"#server_testtestserverts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚<br>\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯<a href=\"https://www.npmjs.com/package/jasmine-spec-reporter\" rel=\"nofollow noopener\" target=\"_blank\">jasmine-spec-reporter</a>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">,</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'jasmine-spec-reporter'</span><span class=\"p\">;</span>\n<span class=\"kd\">const</span> <span class=\"nx\">Jasmine</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'jasmine'</span><span class=\"p\">);</span>\n<span class=\"k\">import</span> <span class=\"nx\">SuiteInfo</span> <span class=\"o\">=</span> <span class=\"nx\">jasmine</span><span class=\"p\">.</span><span class=\"nx\">SuiteInfo</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">config</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./test.server.conf'</span><span class=\"p\">;</span>\n\n\n<span class=\"kd\">class</span> <span class=\"nx\">CustomProcessor</span> <span class=\"kd\">extends</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">{</span>\n    <span class=\"kr\">public</span> <span class=\"nx\">displayJasmineStarted</span><span class=\"p\">(</span><span class=\"nx\">info</span><span class=\"p\">:</span> <span class=\"nx\">SuiteInfo</span><span class=\"p\">,</span> <span class=\"nx\">log</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">string</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"s2\">`TypeScript </span><span class=\"p\">${</span><span class=\"nx\">log</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">runner</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Jasmine</span><span class=\"p\">();</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">);</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">addReporter</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">({</span>\n    <span class=\"na\">customProcessors</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">CustomProcessor</span><span class=\"p\">],</span>\n<span class=\"p\">}));</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">onComplete</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">passed</span><span class=\"p\">){</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">passed</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Success'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"s1\">'Failed'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">execute</span><span class=\"p\">();</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtestserverconfts\" class=\"fragment\"></span><a href=\"#server_testtestserverconfts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.conf.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚<br>\næ³¨æ„ç‚¹ã¨ã—ã¦<code>spec_files</code>ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚<code>__dirname</code>ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.conf.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"na\">spec_dir</span><span class=\"p\">:</span> <span class=\"s1\">'.'</span><span class=\"p\">,</span>\n  <span class=\"na\">spec_files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">__dirname</span><span class=\"p\">}</span><span class=\"s2\">/*spec.js`</span>\n  <span class=\"p\">],</span>\n  <span class=\"s1\">'stopSpecOnExpectationFailure'</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"s1\">'random'</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtsconfigserver_testjson\" class=\"fragment\"></span><a href=\"#server_testtsconfigserver_testjson\"><i class=\"fa fa-link\"></i></a>server_test/tsconfig.server_test.json</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server_test.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"include\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"s2\">\"**/*.spec.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.conf.ts\"</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><code>outDir</code>ãŒ<code>../dist/server_test</code>ã§ã¯ãªã<code>../dist</code>ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br>\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯<code>server</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€<code>../dist/server_test</code>ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<h3>\n<span id=\"5-e2eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#5-e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ</h3>\n\n<p>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚<br>\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"e2eappe2e-spects\" class=\"fragment\"></span><a href=\"#e2eappe2e-spects\"><i class=\"fa fa-link\"></i></a>e2e/app.e2e-spec.ts</h4>\n\n<p>åŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.e2e-spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.po'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">browser</span><span class=\"p\">,</span> <span class=\"nx\">element</span><span class=\"p\">,</span> <span class=\"nx\">by</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'protractor'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'E2Eãƒ†ã‚¹ãƒˆ'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">let</span> <span class=\"na\">page</span><span class=\"p\">:</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">();</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">getParagraphText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§'</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">newMessage</span> <span class=\"o\">=</span> <span class=\"s2\">`ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ </span><span class=\"p\">${</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">toString</span><span class=\"p\">()}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">sendKeys</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessageButton'</span><span class=\"p\">)).</span><span class=\"nx\">click</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'messageList'</span><span class=\"p\">)).</span><span class=\"nx\">all</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">tagName</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">));</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">last</span><span class=\"p\">().</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"6-e2eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#6-e2e%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"packagejson-1\" class=\"fragment\"></span><a href=\"#packagejson-1\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p>Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"e2e\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s  webdriver:update -p webdriver:start protractor\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:update\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager update\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager start\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"protractor\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"protractor protractor.conf.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>e2e</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®<code>e2e</code>ã‚³ãƒãƒ³ãƒ‰(= <code>ng e2e</code>ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚<code>ngã€€e2e</code>ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:update</strong>ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:start</strong>ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>\n<li>\n<strong>protractor</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"protractorconfjs\" class=\"fragment\"></span><a href=\"#protractorconfjs\"><i class=\"fa fa-link\"></i></a>protractor.conf.js</h4>\n\n<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">protractor.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"p\">...</span>\n  <span class=\"na\">baseUrl</span><span class=\"p\">:</span> <span class=\"s1\">'http://localhost:3000/'</span><span class=\"p\">,</span>\n  <span class=\"p\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"7-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#7-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>7. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</li>\n</ul>\n</li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<h4>\n<span id=\"e2eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹</p>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run buildRun</code>ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>npm run e2e</code>ã™ã‚‹</p>\n\n<ul>\n<li>åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* [ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)\n* ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n## ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`npm test`ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\nã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/test)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»\u001c(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»\u001c(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»\u001c(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚\n\n##### (1-1) dist/server_test\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (2) server_test\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚\n\n##### (3) e2e\nE2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\n\n##### (4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«\nãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (5) protractor.conf.js\nE2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```\n$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n```\n\n* [`zone.js@0.8.12`](https://www.npmjs.com/package/zone.js)\n    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«`Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'`ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚[GitHubã®issues](https://github.com/angular/zone.js/issues/832)ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n* [`supertest`](https://www.npmjs.com/package/supertest)\n    * ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚\n\n### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯`ng test`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚\n\n#### src/app/app.component.spec.ts\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€`TestBed`ã®`overrideComponent`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚\n\n\n```js:app.component.spec.ts\nimport { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\nimport { FormsModule } from '@angular/forms';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\ndescribe('AppComponent', () => {\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component\n  let component: AppComponent;\n\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture\n  let fixture: ComponentFixture<AppComponent>;\n\n  // MessageServiceã®ãƒ¢ãƒƒã‚¯\n  class MessageServiceMock {\n    getAll(): Observable<any> {\n      const response =  { messages : [\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n      ]};\n\n      return Observable.from([response]);\n    }\n  }\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [ FormsModule ],\n      declarations: [\n        AppComponent\n      ],\n    })\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š\n    .overrideComponent(AppComponent, {\n      set: {\n        providers: [\n          { provide: MessageService, useClass: MessageServiceMock },\n        ]\n      }\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  }));\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(() => {\n    const app = fixture.debugElement.componentInstance;\n    expect(app).toBeTruthy();\n  }));\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹', async(() => {\n    expect(component.messages).toEqual([\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n    ]);\n  }));\n\n\n  it('ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹', async(() => {\n\n    const el = fixture.debugElement.nativeElement;\n\n    expect(el.querySelectorAll('li').length).toEqual(3);\n    expect(el.querySelectorAll('li')[0].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1');\n    expect(el.querySelectorAll('li')[1].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2');\n    expect(el.querySelectorAll('li')[2].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3');\n  }));\n});\n\n```\n\n\n#### src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯`MockBackend`ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚\nãªãŠ`Error`ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§`register`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport { TestBed, async, inject } from '@angular/core/testing';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from '@angular/http';\nimport {MockBackend, MockConnection} from '@angular/http/testing';\nimport { RequestMethod } from '@angular/http';\n\nimport { MessageService } from './message.service';\n\n\ndescribe('MessageService', () => {\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯\n  class MockError extends Response implements Error {\n    name: any;\n    message: any;\n  }\n\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [MessageService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\n    expect(service).toBeTruthy();\n  })));\n\n\n  describe('getAll', () => {\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  { messages : [\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]};\n\n        const ops = new ResponseOptions({\n          status: 200,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockRespond(new Response(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe((res) => {\n        expect(res.messages.length).toEqual(3);\n        expect(res.messages).toEqual([\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]);\n      });\n    })));\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  {\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        };\n\n        const ops = new ResponseOptions({\n          status: 500,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockError(new MockError(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe(() => {\n        fail('ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚');\n      }, res => {\n        expect(res).toEqual({\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        });\n      });\n    })));\n\n  });\n\n\n});\n```\n\n\n\n### 3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯[Mocha](https://mochajs.org/)ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\n\n#### server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®`spyOn`ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport * as supertest from 'supertest';\n\nimport app from '../server/app';\nimport { Message } from '../server/models/message';\n\n\ndescribe('/api/messages', () => {\n  const request = supertest(app);\n  const endpoint = '/api/messages';\n\n  const messageAscending = (m1, m2) => {\n    if (m1.message > m2.message) {\n      return 1;\n    }\n\n    if (m1.message < m2.message) {\n      return -1;\n    }\n\n    return 0;\n  };\n\n  // ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹\n  beforeEach(() => {\n    Message.remove({}, () => {});\n  });\n\n\n  describe('Get', () => {\n\n    it('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹', (done) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(200);\n        }).end(done);\n    });\n\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹', (done) => {\n\n      const testData = [\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“' },\n      ];\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰\n      Message.create(testData, (erro , doc ) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n        request.get(endpoint)\n          .expect((res) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n            const sortedMessages = res.body.messages.sort(messageAscending);\n\n            expect(sortedMessages.length).toEqual(3);\n            expect(sortedMessages[0].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘');\n            expect(sortedMessages[1].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’');\n            expect(sortedMessages[2].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“');\n          })\n          .end(done);\n      });\n    });\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', (done) => {\n\n      // ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹\n      spyOn(Message, 'find').and.callFake(function(callback) {\n        callback(new Error('ã‚¨ãƒ©ãƒ¼'), null);\n      });\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\n          // æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(500);\n\n          expect(res.body.title).toEqual('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');\n          expect(res.body.error).toEqual('ã‚¨ãƒ©ãƒ¼');\n        })\n        .end(done);\n    });\n\n  });\n});\n```\n\n\n\n### 4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\nE2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚\n\n\n#### package.json\n[å‰å›](http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson)ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"test\": \"run-p test:*\",\n    \"test:client\": \"ng test\",\n    \"test:server\": \"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\",\n    \"watch:server_test\": \"tsc -w -p ./server_test/tsconfig.server_test.json\",\n    \"boot:server_test\": \"nodemon ./dist/server_test/test.server.js\",\n    \"build:server_test\": \"tsc -p ./server/tsconfig.server.json\",\n    ...\n  },\n```\n\n\n* **test**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n* **test:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚\n* **watch:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server_test**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### server_test/test.server.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯[jasmine-spec-reporter](https://www.npmjs.com/package/jasmine-spec-reporter)ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚\n\n```js:test.server.ts\nimport { SpecReporter, DisplayProcessor } from 'jasmine-spec-reporter';\nconst Jasmine = require('jasmine');\nimport SuiteInfo = jasmine.SuiteInfo;\n\nimport { config } from './test.server.conf';\n\n\nclass CustomProcessor extends DisplayProcessor {\n    public displayJasmineStarted(info: SuiteInfo, log: string): string {\n        return `TypeScript ${log}`;\n    }\n}\n\nconst runner = new Jasmine();\nrunner.loadConfig(config);\nrunner.addReporter(new SpecReporter({\n    customProcessors: [CustomProcessor],\n}));\nrunner.onComplete(function(passed){\n  if ( passed ) {\n    console.log('Success');\n  } else {\n    console.error('Failed');\n  }\n});\n\nrunner.execute();\n```\n\n\n#### server_test/test.server.conf.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚\næ³¨æ„ç‚¹ã¨ã—ã¦`spec_files`ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚`__dirname`ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n\n```js:test.server.conf.ts\nexport const config = {\n  spec_dir: '.',\n  spec_files: [\n    `${__dirname}/*spec.js`\n  ],\n  'stopSpecOnExpectationFailure': false,\n  'random': false\n};\n```\n\n\n\n#### server_test/tsconfig.server_test.json\n\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\n\n```json:tsconfig.server_test.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist\",\n    \"mapRoot\": \"../dist\",\n    \"module\": \"commonjs\"\n  } ,\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"./test.server.ts\",\n    \"./test.server.conf.ts\"\n  ]\n}\n```\n\n`outDir`ãŒ`../dist/server_test`ã§ã¯ãªã`../dist`ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯`server`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€`../dist/server_test`ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\n\n```:\u001cï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n```\n```:\u001cï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n```\n\n\n### 5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\nå˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n#### e2e/app.e2e-spec.ts\nåŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚\n\n```js:app.e2e-spec.ts\nimport { Angular4Express4Typescritp2Page } from './app.po';\nimport { browser, element, by } from 'protractor';\n\n\ndescribe('E2Eãƒ†ã‚¹ãƒˆ', () => {\n  let page: Angular4Express4Typescritp2Page;\n\n  beforeEach(() => {\n    page = new Angular4Express4Typescritp2Page();\n  });\n\n  it('ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹', () => {\n    page.navigateTo();\n    expect(page.getParagraphText()).toEqual('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§');\n  });\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹', () => {\n    page.navigateTo();\n    const newMessage = `ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ${new Date().toString()}`;\n    element(by.id('registerMessage')).sendKeys(newMessage);\n\n    element(by.id('registerMessageButton')).click();\n\n    // ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹\n    expect(element(by.id('registerMessage')).getText()).toEqual('');\n\n    // ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹\n    const messages = element(by.id('messageList')).all(by.tagName('li'));\n    expect(messages.last().getText()).toEqual(newMessage);\n  });\n\n});\n```\n\n### 6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\n\n#### package.json\nAngular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"e2e\": \"npm-run-all -s  webdriver:update -p webdriver:start protractor\",\n    \"webdriver:update\": \"webdriver-manager update\",\n    \"webdriver:start\": \"webdriver-manager start\",\n    \"protractor\": \"protractor protractor.conf.js\",\n    ...\n  },\n```\n\n* **e2e**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®`e2e`ã‚³ãƒãƒ³ãƒ‰(= `ng e2e`ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚`ngã€€e2e`ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\n* **webdriver:update**ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚\n* **webdriver:start**ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n* **protractor**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### protractor.conf.js\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```js:protractor.conf.js\nexports.config = {\n  ...\n  baseUrl: 'http://localhost:3000/',\n  ...\n}\n```\n\n### 7. è©¦ã—ã¦ã¿ã‚‹\n#### å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm test`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\n\n\n#### E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚\n \n* ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹\n    * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run buildRun`ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n\n* `npm run e2e`ã™ã‚‹\n    * åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n","comments_count":0,"created_at":"2017-07-24T07:12:10+09:00","likes_count":9,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/bb5bc899-9dfd-5e67-bc4c-bc422ba8d176/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","date":"2017-07-19T02:06:59+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","MongoDB","Express","TypeScript","AngularJS","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"bb5bc899-9dfd-5e67-bc4c-bc422ba8d176","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li><a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\" id=\"reference-b35cd1a7f8ba1daaecd8\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a></li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼‘-ãƒ“ãƒ«ãƒ‰ç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%91-%E3%83%93%E3%83%AB%E3%83%89%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</h2>\n\n<p>Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/build\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€</p>\n\n<h5>\n<span id=\"1-1-distserver\" class=\"fragment\"></span><a href=\"#1-1-distserver\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server</h5>\n\n<p>ã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚<br>\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚<br>\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"1-2-distserverpublic\" class=\"fragment\"></span><a href=\"#1-2-distserverpublic\"><i class=\"fa fa-link\"></i></a>(1-2) dist/server/public</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚<br>\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"2-server\" class=\"fragment\"></span><a href=\"#2-server\"><i class=\"fa fa-link\"></i></a>(2) server</h5>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"3-src\" class=\"fragment\"></span><a href=\"#3-src\"><i class=\"fa fa-link\"></i></a>(3) src</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚<br>\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"4-proxyconfjson\" class=\"fragment\"></span><a href=\"#4-proxyconfjson\"><i class=\"fa fa-link\"></i></a>(4) proxy.conf.json</h5>\n\n<p><code>npm start</code>ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>\n<p>Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g @angular/cli\n</pre></div></div>\n</li>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ ng new sample\n$ cd sample\n$ npm install\n</pre></div></div>\n</li>\n<li>\n<p>Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n</p>\n<dd>\n<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/express\" rel=\"nofollow noopener\" target=\"_blank\"><code>express</code></a><br>\n    </dt>\n<dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noopener\" target=\"_blank\"><code>body-parser</code></a><br>\n    </dt>\n<dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/mongoose\" rel=\"nofollow noopener\" target=\"_blank\"><code>mongoose</code></a><br>\n    </dt>\n<dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/nodemon\" rel=\"nofollow noopener\" target=\"_blank\"><code>nodemon</code></a><br>\n    </dt>\n<dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/npm-run-all\" rel=\"nofollow noopener\" target=\"_blank\"><code>npm-run-all</code></a><br>\n    </dt>\n<dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸<br>\n</dd>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save express body-parser mongoose\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«<code>server</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"servermodelsmessagets\" class=\"fragment\"></span><a href=\"#servermodelsmessagets\"><i class=\"fa fa-link\"></i></a>server/models/message.ts</h4>\n\n<p>MongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Message</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'messages'</span><span class=\"p\">,</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">}</span>\n<span class=\"p\">}));</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverroutesmessagets\" class=\"fragment\"></span><a href=\"#serverroutesmessagets\"><i class=\"fa fa-link\"></i></a>server/routes/message.ts</h4>\n\n<p>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯<code>server/models/message.ts</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../models/message'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">messageRouter</span><span class=\"p\">:</span> <span class=\"nx\">Router</span> <span class=\"o\">=</span> <span class=\"nx\">Router</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">doc</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span><span class=\"na\">messages</span><span class=\"p\">:</span> <span class=\"nx\">doc</span><span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Message</span><span class=\"p\">({</span>\n    <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">((</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n      <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n      <span class=\"na\">obj</span><span class=\"p\">:</span> <span class=\"nx\">result</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverappts\" class=\"fragment\"></span><a href=\"#serverappts\"><i class=\"fa fa-link\"></i></a>server/app.ts</h4>\n\n<p>Expressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯<code>/api/messages</code>ã«è¨­å®šã—ã€<br>\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€<br>\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">express</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">path</span> <span class=\"k\">from</span> <span class=\"s1\">'path'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">bodyParser</span> <span class=\"k\">from</span> <span class=\"s1\">'body-parser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./routes/message'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MONGO_URL</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./config'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">class</span> <span class=\"nx\">App</span> <span class=\"p\">{</span>\n  <span class=\"kr\">public</span> <span class=\"nx\">express</span><span class=\"p\">:</span> <span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">Application</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">middleware</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">routes</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">middleware</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">());</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">urlencoded</span><span class=\"p\">({</span> <span class=\"na\">extended</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"p\">}));</span>\n    <span class=\"c1\">// æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nb\">Promise</span> <span class=\"o\">=</span> <span class=\"nb\">global</span><span class=\"p\">.</span><span class=\"nb\">Promise</span><span class=\"p\">;</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">MONGO_URL</span> <span class=\"o\">||</span> <span class=\"nx\">MONGO_URL</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">useMongoClient</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"p\">});</span>\n    <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'SIGINT'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">disconnect</span><span class=\"p\">();</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">routes</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kr\">static</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public'</span><span class=\"p\">)));</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"nx\">messageRouter</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">sendFile</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public/index.html'</span><span class=\"p\">));</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"k\">new</span> <span class=\"nx\">App</span><span class=\"p\">().</span><span class=\"nx\">express</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverbinwwwts\" class=\"fragment\"></span><a href=\"#serverbinwwwts\"><i class=\"fa fa-link\"></i></a>server/bin/www.ts</h4>\n\n<p>Node.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">www.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../config'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../app'</span><span class=\"p\">;</span>\n\n\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã®è¨­å®š.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">port</span> <span class=\"o\">=</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">PORT</span> <span class=\"o\">||</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">);</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">set</span><span class=\"p\">(</span><span class=\"s1\">'port'</span><span class=\"p\">,</span> <span class=\"nx\">port</span><span class=\"p\">);</span>\n\n\n<span class=\"c1\">// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">server</span> <span class=\"o\">=</span> <span class=\"nx\">http</span><span class=\"p\">.</span><span class=\"nx\">createServer</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"nx\">port</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">`API running on localhost:</span><span class=\"p\">${</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">));</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"nx\">onError</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'listening'</span><span class=\"p\">,</span> <span class=\"nx\">onListening</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">):</span> <span class=\"nx\">number</span><span class=\"o\">|</span><span class=\"nx\">string</span><span class=\"o\">|</span><span class=\"kr\">boolean</span>  <span class=\"p\">{</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">:</span> <span class=\"nx\">number</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">val</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"p\">:</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">isNaN</span><span class=\"p\">(</span><span class=\"nx\">normalizedPort</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">normalizedPort</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onError</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">):</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">syscall</span> <span class=\"o\">!==</span> <span class=\"s1\">'listen'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"k\">typeof</span> <span class=\"nx\">port</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span>\n    <span class=\"p\">?</span> <span class=\"s1\">'Pipe '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span>\n    <span class=\"p\">:</span> <span class=\"s1\">'Port '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span><span class=\"p\">;</span>\n\n  <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EACCES'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' requires elevated privileges'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EADDRINUSE'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' is already in use'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"nl\">default</span><span class=\"p\">:</span>\n      <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onListening</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">addr</span> <span class=\"o\">=</span> <span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">address</span><span class=\"p\">();</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">addr</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"s2\">`pipe </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">}</span><span class=\"s2\">`</span>\n    <span class=\"p\">:</span> <span class=\"s2\">`port </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">.</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverconfigts\" class=\"fragment\"></span><a href=\"#serverconfigts\"><i class=\"fa fa-link\"></i></a>server/config.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚<br>\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">config.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"o\">=</span> <span class=\"mi\">3000</span><span class=\"p\">;</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">MONGO_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'mongodb://localhost:27017/test'</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€<br>\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappmessagemessageservicets\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicets\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MessageService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">http</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n        <span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">regist</span><span class=\"p\">(</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n      <span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">message</span><span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponentts\" class=\"fragment\"></span><a href=\"#srcappappcomponentts\"><i class=\"fa fa-link\"></i></a>src/app/app.component.ts</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-root'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./app.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./app.component.css'</span><span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">MessageService</span> <span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">{</span>\n  <span class=\"nl\">messages</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n  <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">messageService</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">getMessages</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">;</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">registerMessage</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponenthtml\" class=\"fragment\"></span><a href=\"#srcappappcomponenthtml\"><i class=\"fa fa-link\"></i></a>src/app/app.component.html</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">id=</span><span class=\"s\">\"getMessagesButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">getMessages</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–<span class=\"nt\">&lt;/button&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">id=</span><span class=\"s\">\"messageList\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let item of messages\"</span><span class=\"nt\">&gt;</span>\n        {{item.message}}\n      <span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessage\"</span> <span class=\"err\">[(</span><span class=\"na\">ngModel</span><span class=\"err\">)]=\"</span><span class=\"na\">message</span><span class=\"err\">\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessageButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)='</span><span class=\"na\">registerMessage</span><span class=\"err\">()'</span><span class=\"nt\">&gt;</span>ç™»éŒ²<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappmodulets\" class=\"fragment\"></span><a href=\"#srcappappmodulets\"><i class=\"fa fa-link\"></i></a>src/app/app.module.ts</h4>\n\n<p>HttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">BrowserModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/platform-browser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">NgModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">HttpModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">AppComponent</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">BrowserModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">HttpModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">FormsModule</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">],</span>\n  <span class=\"na\">bootstrap</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">AppComponent</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E3%83%93%E3%83%AB%E3%83%89%E3%81%BE%E3%82%8F%E3%82%8A%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"pakcagejson\" class=\"fragment\"></span><a href=\"#pakcagejson\"><i class=\"fa fa-link\"></i></a>pakcage.json</h4>\n\n<p>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">\n  </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server -p start:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p watch:server boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server/bin/www.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build:server build:client\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng build --output-path=./dist/server/public\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"buildRun\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>start</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>start:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚</li>\n<li>\n<strong>start:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server</strong>ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build</strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>build:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹<code>/server/tsconfig.server.json</code>ã‚’ä½¿ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ<code>dist/server/public</code>ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>buildRun</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"servertsconfigserverjson\" class=\"fragment\"></span><a href=\"#servertsconfigserverjson\"><i class=\"fa fa-link\"></i></a>server/tsconfig.server.json</h4>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>outDir</code>ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"proxyconfjson\" class=\"fragment\"></span><a href=\"#proxyconfjson\"><i class=\"fa fa-link\"></i></a>proxy.conf.json</h4>\n\n<p><code>start</code>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©<br>\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>/api</code>å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">proxy.conf.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"/api\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"target\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://localhost:3000\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"secure\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"mongodbã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\" class=\"fragment\"></span><a href=\"#mongodb%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\"><i class=\"fa fa-link\"></i></a>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</h4>\n\n<p>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"5-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#5-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm start \n</pre></div></div>\n</li>\n<li><p>èµ·å‹•ã—ãŸã‚‰<code>http://localhost:4200</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<ul>\n<li>è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build\n</pre></div></div>\n</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯<code>http://localhost:3000</code>ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n<code>\n$ npm run buildRun\n</code>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ<a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a>ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* [ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n\n## ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/build)ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€\n\n##### (1-1) dist/server\nã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (1-2) dist/server/public\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚\n\n##### (2) server\nã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚\n\n##### (3) src\nãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (4) proxy.conf.json\n`npm start`ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚\n\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n* Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ npm install -g @angular/cli\n\t```\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ ng new sample\n\t$ cd sample\n\t$ npm install\n\t```\n\n* Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<dd>\n    <dt>[`express`](https://www.npmjs.com/package/express)\n        <dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n    <dt>[`body-parser`](https://www.npmjs.com/package/body-parser)\n        <dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼\n    <dt>[`mongoose`](https://www.npmjs.com/package/mongoose)\n        <dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API\n    <dt>[`nodemon`](https://www.npmjs.com/package/nodemon)\n        <dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«\n    <dt>[`npm-run-all`](https://www.npmjs.com/package/npm-run-all)\n        <dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n</dd>\n\n\t```\n\t$ npm install --save express body-parser mongoose\n\t$ npm install --save-dev @types/mongoose nodemon npm-run-all\n\t```\n\n\n\n### 2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nAngular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«`server`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n#### server/models/message.ts\nMongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as mongoose from 'mongoose';\n\nconst Message = mongoose.model('messages', new mongoose.Schema({\n  message: {type: String}\n}));\n\nexport { Message };\n```\n\n\n\n#### server/routes/message.ts\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯`server/models/message.ts`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as http from 'http';\nimport { Router, Response } from 'express';\nimport { Message } from '../models/message';\n\nconst messageRouter: Router = Router();\n\n// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹\nmessageRouter.get('/', (req, res, next) => {\n  Message.find(function(err, doc) {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({messages: doc});\n  });\n});\n\n// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹\nmessageRouter.post('/', (req, res, next) => {\n  const message = new Message({\n    message: req.body.message\n  });\n\n  message.save((err, result) => {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({\n      message: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚',\n      obj: result\n    });\n  });\n});\n\nexport { messageRouter };\n```\n\n\n#### server/app.ts\nExpressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯`/api/messages`ã«è¨­å®šã—ã€\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.ts\nimport * as express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as mongoose from 'mongoose';\n\nimport { messageRouter } from './routes/message';\nimport { MONGO_URL } from './config';\n\nclass App {\n  public express: express.Application;\n\n  constructor() {\n    this.express = express();\n    this.middleware();\n    this.routes();\n  }\n\n  private middleware(): void {\n    this.express.use(bodyParser.json());\n    this.express.use(bodyParser.urlencoded({ extended: false }));\n    // æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š\n    mongoose.Promise = global.Promise;\n    mongoose.connect(process.env.MONGO_URL || MONGO_URL, {\n      useMongoClient: true,\n    });\n    process.on('SIGINT', function() { mongoose.disconnect(); });\n  }\n\n  private routes(): void {\n    // é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.use(express.static(path.join(__dirname, 'public')));\n\n    this.express.use('/api/messages', messageRouter);\n\n    // ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'public/index.html'));\n    });\n  }\n}\n\nexport default new App().express;\n```\n\n\n#### server/bin/www\\.ts\nNode.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n```js:www.ts\nimport * as http from 'http';\nimport { SERVER_PORT } from '../config';\nimport app from '../app';\n\n\n\n// ãƒãƒ¼ãƒˆã®è¨­å®š.\nconst port = normalizePort(process.env.PORT || SERVER_PORT);\napp.set('port', port);\n\n\n// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.\nconst server = http.createServer(app);\nserver.listen(port, () => console.log(`API running on localhost:${port}`));\nserver.on('error', onError);\nserver.on('listening', onListening);\n\n// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.\nfunction normalizePort(val): number|string|boolean  {\n\n  const normalizedPort: number = (typeof val === 'string')\n    ? parseInt(val, 10)\n    : val;\n\n  if (isNaN(normalizedPort)) {\n    return val;\n  }\n\n  if (normalizedPort >= 0) {\n    return normalizedPort;\n  }\n\n  return false;\n}\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.\nfunction onError(error): void {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.\nfunction onListening(): void {\n  const addr = server.address();\n  const bind = (typeof addr === 'string')\n    ? `pipe ${addr}`\n    : `port ${addr.port}`;\n}\n```\n\n#### server/config.ts\nã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚\n\n```js:config.ts\nexport const SERVER_PORT = 3000;\nexport const MONGO_URL = 'mongodb://localhost:27017/test';\n```\n\n\n\n### 3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚\n\n\n#### src/app/message/message.service.ts\nã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚\n\n```js:message.service.ts\nimport { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class MessageService {\n\n  constructor(private http: Http) {}\n\n  getAll(): Observable<any> {\n    return this.http\n        .get('/api/messages')\n        .map((response: Response) => {\n            const result = response.json();\n            return result;\n        })\n        .catch((error: Response) => Observable.throw(error.json()));\n  }\n\n  regist(message: string): Observable<any> {\n    return this.http\n      .post('/api/messages', {message: message})\n      .map((response: Response) => {\n            const result = response.json();\n            return result;\n      })\n      .catch((error: Response) => Observable.throw(error.json()));\n  }\n}\n```\n\n\n\n\n\n#### src/app/app.component.ts\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚\n\n```js:app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { MessageService } from './message/message.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [ MessageService ]\n})\nexport class AppComponent {\n  messages: Array<any>;\n  message: string;\n\n  constructor(private messageService: MessageService) {\n    this.getMessages();\n  }\n\n  getMessages(): void {\n    this.messageService\n      .getAll()\n      .subscribe((res: any) => {\n        this.messages = res.messages;\n      });\n  }\n\n  registerMessage(): void {\n    if (!this.message) {\n      return;\n    }\n\n    this.messageService\n      .register(this.message)\n      .subscribe((res: any) => {\n        this.message = '';\n        this.getMessages();\n      });\n  }\n}\n```\n\n\n#### src/app/app.component.html\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚\n\n```html:app.component.html\n<div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</h1>\n    <button id=\"getMessagesButton\" (click)=\"getMessages()\">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–</button>\n    <ul id=\"messageList\">\n      <li *ngFor=\"let item of messages\">\n        {{item.message}}\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²</h1>\n    <input type=\"text\" id=\"registerMessage\" [(ngModel)]=\"message\" placeholder=\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\">\n    <button type=\"submit\" id=\"registerMessageButton\" (click)='registerMessage()'>ç™»éŒ²</button>\n  </div>\n</div>\n```\n#### src/app/app.module.ts\nHttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n\n```js:app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [MessageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n```\n\n\n### 4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\n\n#### pakcage.json\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)\n\n```json:package.json\n\n  \"scripts\": {\n    ...\n    \"start\": \"npm-run-all -s build:server -p start:*\",\n    \"start:client\": \"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\",\n    \"start:server\": \"run-p watch:server boot:server\",\n    \"watch:server\": \"tsc -w -p ./server/tsconfig.server.json\",\n    \"boot:server\": \"nodemon ./dist/server/bin/www.js\",\n    \"build\": \"run-s build:server build:client\",\n    \"build:client\": \"ng build --output-path=./dist/server/public\",\n    \"build:server\": \"tsc -p ./server/tsconfig.server.json\",\n    \"buildRun\": \"run-s build boot:server\",\n    ...\n  },\n```\n\n* **start**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **start:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚\n* **start:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **watch:server**ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\n* **build:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹`/server/tsconfig.server.json`ã‚’ä½¿ã„ã¾ã™ã€‚\n* **build:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ`dist/server/public`ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n* **buildRun**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n\n\n\n#### server/tsconfig.server.json\nã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`outDir`ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```json:tsconfig.server.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist/server\",\n    \"mapRoot\": \"../dist/server\",\n    \"module\": \"commonjs\"\n  }\n}\n```\n\n#### proxy.conf.json\n`start`ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`/api`å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\n\n```json:proxy.conf.json\n{\n  \"/api\": {\n    \"target\": \"http://localhost:3000\",\n    \"secure\": false\n  }\n}\n```\n\n#### MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\nå…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n\n\n### 5. è©¦ã—ã¦ã¿ã‚‹\n#### ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚\n\n\t```\n\t$ npm start \n\t```\n\n* èµ·å‹•ã—ãŸã‚‰`http://localhost:4200`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n* è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n\t```\n\t$ npm run build\n\t```\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯`http://localhost:3000`ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\t```\n\t$ npm run buildRun\n\t```\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ[ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n\n\n","comments_count":0,"created_at":"2017-07-19T02:06:59+09:00","likes_count":27,"reactions_count":0},"matches":5,"weight":300,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"TypeScript"},{"weight":50,"keyword":"AngularJS"},{"weight":50,"keyword":"Qiita"}],"avgWeight":60,"totalWeight":56,"threshold":10,"isRelated":true},{"node":{"fields":{"slug":"/b4c7d1b9-428f-569a-af40-527d89794a77/","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","date":"2017-12-20T02:36:27+09:00","excerpt":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!å¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚ã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€è‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?...","tags":["JavaScript","GitHub","TypeScript","chrome-extension","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"b4c7d1b9-428f-569a-af40-527d89794a77","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","rendered_body":"<p>Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!<br>\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚<br>\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€<br>\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„<br>\n<a href=\"https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension</a>ã‚’ä½œã‚Šã¾ã—ãŸã€‚<br>\n<strong>ãã®æ™‚ã«<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚</strong></p>\n\n<h2>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E9%9B%9B%E5%BD%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹</h2>\n\n<p>yomanã¨<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚</p>\n\n<ul>\n<li>\n<code>yoman</code>ã¨<code>generator-chrome-extension-kickstart-typescript</code>ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g yo generator-chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦<code>yo</code>ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n\n<ul>\n<li>\n<strong>What would you like to call this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å</li>\n</ul>\n</li>\n<li>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>How would you like to describe this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use UI Action?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€<code>No</code>,<code>Browser</code>,<code>Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>No</code> ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ</li>\n<li>\n<code>Browser</code> ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n<li>\n<code>Page</code> ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to override a chrome page?</strong>\n\n<ul>\n<li>Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€<code>No</code>,<code>Bookmarks Page</code>,<code>History Page</code>,<code>Newtab Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like more UI Features?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>Options Page</code> ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ</li>\n<li>\n<code>Devtools Page</code> ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ</li>\n<li>\n<code>Content Scripts</code> ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ</li>\n<li>\n<code>Omnibox</code> ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use permissions?</strong>\n\n<ul>\n<li>ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong>\n\n<ul>\n<li>Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>â€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ<br>\n<strong>What would you like to call this extension?</strong> =&gt; github-contributions-paint<br>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong> =&gt;  github-paint<br>\n<strong>How would you like to describe this extension?</strong> =&gt;  You can paint github contributions!<br>\n<strong>Would you like to use UI Action?</strong> =&gt; Browser<br>\n<strong>Would you like to override a chrome page?</strong> =&gt;  No<br>\n<strong>Would you like more UI Features?</strong> =&gt;  Content Scripts<br>\n<strong>Would you like to use permissions?</strong> =&gt;  Tabs<br>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong> =&gt;  Yes</p>\n\n<ul>\n<li>ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ</span></div>\n<div class=\"highlight\"><pre>github-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n</pre></div>\n</div>\n\n<ul>\n<li>æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install typescript --save-dev\n</pre></div></div>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==</p>\n\n<ul>\n<li>ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install gulp@3.9.0 --save-dev\n</pre></div></div>\n\n<p>â€»é–¢é€£ã™ã‚‹<a href=\"https://github.com/gulpjs/gulp/issues/1631\" rel=\"nofollow noopener\" target=\"_blank\">issue</a>ã€<a href=\"https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></p>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==</p>\n\n<h2>\n<span id=\"2-ä½œã£ãŸchrome-extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#2-%E4%BD%9C%E3%81%A3%E3%81%9Fchrome-extension%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹</h2>\n\n<p>é››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™</p>\n\n<ul>\n<li>ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run dev:chrome\n</pre></div></div>\n\n<ul>\n<li><p>Chromeã§<code>chrome://extensions</code>ã‚’é–‹ã„ã¦<code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" alt=\"æ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png\"></a></p></li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®<code>chrome</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" alt=\"æ“ä½œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png\"></a></p></li>\n<li><p>ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" alt=\"å‹•ä½œç¢ºèª1_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png\"></a></p></li>\n<li><p>ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" alt=\"å‹•ä½œç¢ºèª_11.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png\"></a></p></li>\n</ul>\n\n<h2>\n<span id=\"3-é–‹ç™ºä¸­ã«chrome-extensionã®å‹•ä½œç¢ºèªã™ã‚‹\" class=\"fragment\"></span><a href=\"#3-%E9%96%8B%E7%99%BA%E4%B8%AD%E3%81%ABchrome-extension%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹</h2>\n\n<p>é››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚<br>\n<code>npm run dev:chrome</code>ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚</p>\n\n<ul>\n<li>è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰</li>\n<li>æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n<a href=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" alt=\"é–‹ç™ºæ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png\"></a>\n</li>\n<li>Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹</li>\n</ul>\n\n<h2>\n<span id=\"4-ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\" class=\"fragment\"></span><a href=\"#4-%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F%E3%82%92%E4%BD%9C%E3%82%8B\"><i class=\"fa fa-link\"></i></a>4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹</h2>\n\n<p>ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚<br>\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚<br>\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"ã‚¢ã‚¤ã‚³ãƒ³\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\"><i class=\"fa fa-link\"></i></a>ã‚¢ã‚¤ã‚³ãƒ³</h3>\n\n<ul>\n<li>128x128\n\n<ul>\n<li>å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>48x48\n\n<ul>\n<li>æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>16x16\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"å®£ä¼ç”¨ç”»åƒ\" class=\"fragment\"></span><a href=\"#%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å®£ä¼ç”¨ç”»åƒ</h3>\n\n<ul>\n<li>440x280\n\n<ul>\n<li>å¿…é ˆ</li>\n</ul>\n</li>\n<li>920x680\n\n<ul>\n<li>å¤§ãã‚ã®ç”»åƒ</li>\n</ul>\n</li>\n<li>1400x560\n\n<ul>\n<li>ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"5-chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#5-chrome%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B9%E3%83%88%E3%82%A2%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹</h2>\n\n<ul>\n<li>é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€<code>manifest.json</code>ã¨<code>package.json</code>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">manifest.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build:chrome\n</pre></div></div>\n\n<ul>\n<li><p><a href=\"https://chrome.google.com/webstore/category/extensions\" rel=\"nofollow noopener\" target=\"_blank\">Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢</a>ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png\"></a></p></li>\n<li><p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§<code>æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png\"></a></p></li>\n<li><p><code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ </code>ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€<code>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png\"></a></p></li>\n<li><p>èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦<code>å¤‰æ›´ã‚’å…¬é–‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" alt=\"ç™»éŒ²_5.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png\"></a></p></li>\n<li><p>ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™</p></li>\n</ul>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚<br>\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€<br>\n<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚<br>\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„\n[è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension](https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja)ã‚’ä½œã‚Šã¾ã—ãŸã€‚\n**ãã®æ™‚ã«[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚**\n\n## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\nyomanã¨[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚\n\n* `yoman`ã¨`generator-chrome-extension-kickstart-typescript`ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install -g yo generator-chrome-extension-kickstart-typescript \n```\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦`yo`ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™\n\n```\n$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n```\n\n* ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n    * **What would you like to call this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å\n    * **And how would you call it if you only had 12 characters (short_name)?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™\n    * **How would you like to describe this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™\n    * **Would you like to use UI Action?**\n        * ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€`No`,`Browser`,`Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n            * `No` ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ\n            * `Browser` ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n            * `Page` ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n    * **Would you like to override a chrome page?**\n        * Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€`No`,`Bookmarks Page`,`History Page`,`Newtab Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n    * **Would you like more UI Features?**\n        * ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n            * `Options Page` ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ\n            * `Devtools Page` ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ\n            * `Content Scripts` ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ\n            * `Omnibox` ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ\n    * **Would you like to use permissions?**\n        * ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n    * **Would you like to install promo images for the Chrome Web Store?**\n        * Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™\n\n\nâ€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ\n**What would you like to call this extension?** => github-contributions-paint\n**And how would you call it if you only had 12 characters (short_name)?** =>  github-paint\n**How would you like to describe this extension?** =>  You can paint github contributions!\n**Would you like to use UI Action?** => Browser\n**Would you like to override a chrome page?** =>  No\n**Would you like more UI Features?** =>  Content Scripts\n**Would you like to use permissions?** =>  Tabs\n**Would you like to install promo images for the Chrome Web Store?** =>  Yes\n\n* ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™\n\n```:ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ\ngithub-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n```\n\n* æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install typescript --save-dev\n```\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==\n\n* ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚\n\n```\n$ npm install gulp@3.9.0 --save-dev\n```\n\n<small>â€»é–¢é€£ã™ã‚‹[issue](https://github.com/gulpjs/gulp/issues/1631)ã€[stackoverflow](https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp)</small>\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==\n## 2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\né››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™\n\n* ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™\n\n```\n$ npm run dev:chrome\n```\n\n* Chromeã§`chrome://extensions`ã‚’é–‹ã„ã¦`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![æ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png)\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®`chrome`ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ\n![æ“ä½œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png)\n\n* ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\n![å‹•ä½œç¢ºèª1_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png)\n\n\n* ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™\n![å‹•ä½œç¢ºèª_11.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png)\n\n\n## 3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹\né››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n`npm run dev:chrome`ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚\n\n* è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰\n* æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![é–‹ç™ºæ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png)\n* Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹\n\n## 4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\nã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚\n\n### ã‚¢ã‚¤ã‚³ãƒ³\n* 128x128\n    * å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 48x48\n    * æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 16x16\n    * ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨\n  \n### å®£ä¼ç”¨ç”»åƒ\n* 440x280\n    * å¿…é ˆ\n* 920x680\n    * å¤§ãã‚ã®ç”»åƒ\n* 1400x560\n    * ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ\n\n## 5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\n* é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€`manifest.json`ã¨`package.json`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™\n\n```json:manifest.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n```json:package.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n* ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™\n\n```\n$ npm run build:chrome\n```\n\n* [Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chrome.google.com/webstore/category/extensions)ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png)\n\n* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§`æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png)\n\n* `ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ `ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png)\n\n* èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦`å¤‰æ›´ã‚’å…¬é–‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![ç™»éŒ²_5.png](https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png)\n\n* ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€\n[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n","comments_count":5,"created_at":"2017-12-20T02:36:27+09:00","likes_count":48,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"TypeScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/7780e313-8bda-5534-99aa-37bf47e9deb3/","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","date":"2017-12-31T23:49:04+09:00","excerpt":"== 2018/4/7 è¿½è¨˜ ==========================================æœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€ãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚gitb...","tags":["JavaScript","chrome-extension","Docker","GitBucket","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"7780e313-8bda-5534-99aa-37bf47e9deb3","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","rendered_body":"<p>== 2018/4/7 è¿½è¨˜ ==========================================<br>\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€<br>\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚</p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-plugin</a></p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦<code>&lt;GITBUCKET_HOME&gt;/plugins/</code>ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚<br>\n== =======================================================</p>\n\n<p>Git Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€<br>\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>\n\n<p>Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>\n\n<ul>\n<li>\n<em>Chromeæ‹¡å¼µ</em>\n\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a></li>\n</ul>\n</li>\n<li>\n<em>Dockerã‚¤ãƒ¡ãƒ¼ã‚¸</em>\n\n<ul>\n<li><a href=\"https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-server</a></li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å°å…¥ã™ã‚‹ã¨\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B%E3%81%A8\"><i class=\"fa fa-link\"></i></a>å°å…¥ã™ã‚‹ã¨</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€<br>\n<a href=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png\"></a></p>\n\n<p>ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" alt=\"å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png\"></a></p>\n\n<p>ã¾ãŸissueä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-dockerå´\" class=\"fragment\"></span><a href=\"#1-docker%E5%81%B4\"><i class=\"fa fa-link\"></i></a>1. Dockerå´</h3>\n\n<p>GitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡ä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚</p>\n\n<ul>\n<li>docker-compose.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"docker\">\n<div class=\"code-lang\"><span class=\"bold\">docker-compose.yml</span></div>\n<div class=\"highlight\"><pre>version: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n</pre></div>\n</div>\n\n<ul>\n<li>docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span>docker-compose up <span class=\"nt\">-d</span>\n</pre></div></div>\n\n<h3>\n<span id=\"2-gitbucketå´\" class=\"fragment\"></span><a href=\"#2-gitbucket%E5%81%B4\"><i class=\"fa fa-link\"></i></a>2. GitBucketå´</h3>\n\n<p>Chromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li><p>GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ &gt; Account Setting ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png\"></a><br>\n<br></p></li>\n<li><p>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ<code>Generate token</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png\"></a><br>\n<br></p></li>\n<li><p>ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰<br>\n<a href=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png\"></a></p></li>\n</ul>\n\n<h3>\n<span id=\"3-chrome-extensionå´\" class=\"fragment\"></span><a href=\"#3-chrome-extension%E5%81%B4\"><i class=\"fa fa-link\"></i></a>3. Chrome Extensionå´</h3>\n\n<ul>\n<li><p>Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§<a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n<a href=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png\"></a><br>\n<br></p></li>\n<li>\n<p>å³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—<code>Save</code>ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯</p>\n\n<ul>\n<li>\n<strong>gitbucket-issue-estimation-server URL</strong>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š <code>http://127.0.0.1:3000</code> </li>\n</ul>\n</li>\n<li>\n<strong>GitBucket Token</strong>\n\n<ul>\n<li>GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n<a href=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png\"></a>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å…·ä½“çš„ãªä»•çµ„ã¿\" class=\"fragment\"></span><a href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BB%95%E7%B5%84%E3%81%BF\"><i class=\"fa fa-link\"></i></a>å…·ä½“çš„ãªä»•çµ„ã¿</h2>\n\n<p>Dockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚<br>\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<p><strong>(1)</strong> ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥<br>\n<strong>(2)</strong> ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—<br>\n<strong>(3)</strong> ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" alt=\"å…¨ä½“åƒ.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png\"></a></p>\n\n<h2>\n<span id=\"chromeæ‹¡å¼µä½œæˆæ™‚ã«gitbucket-apiã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#chrome%E6%8B%A1%E5%BC%B5%E4%BD%9C%E6%88%90%E6%99%82%E3%81%ABgitbucket-api%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%A7%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨</h2>\n\n<p><a href=\"https://github.com/gitbucket/gitbucket/wiki/API-WebHook\" rel=\"nofollow noopener\" target=\"_blank\">GitBucketã®API</a>ã¯<a href=\"https://developer.github.com/v3/\" rel=\"nofollow noopener\" target=\"_blank\">Githubã®REST API v3</a>ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚</p>\n\n<h3>\n<span id=\"stateallãŒåŠ¹ã‹ãªã„\" class=\"fragment\"></span><a href=\"#stateall%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>state=all</code>ãŒåŠ¹ã‹ãªã„</h3>\n\n<p>æœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯<code>state=all</code>ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚<code>state=open</code>ã¨<code>state=closed</code>ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"per_pageãŒåŠ¹ã‹ãªã„1åº¦ã«25ä»¶ãŒæœ€å¤§\" class=\"fragment\"></span><a href=\"#per_page%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%841%E5%BA%A6%E3%81%AB25%E4%BB%B6%E3%81%8C%E6%9C%80%E5%A4%A7\"><i class=\"fa fa-link\"></i></a><code>per_page</code>ãŒåŠ¹ã‹ãªã„ï¼ˆ1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰</h4>\n\n<p>GitBucketã®APIã§ã¯<code>per_page</code>ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br>\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"closed_atã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—ã§ããªã„\" class=\"fragment\"></span><a href=\"#closed_at%E3%82%AF%E3%83%AD%E3%83%BC%E3%82%BA%E6%97%A5%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>closed_at</code>ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„</h4>\n\n<p>Chromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"-å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\" class=\"fragment\"></span><a href=\"#-%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"><i class=\"fa fa-link\"></i></a>â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ</h4>\n\n<ul>\n<li><a href=\"https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\" id=\"reference-1c197ca99a2ee070efac\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰</a></li>\n<li><a href=\"https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\" id=\"reference-7d56ea50a58cb24addc5\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰</a></li>\n</ul>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>æœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚</p>\n","body":"== 2018/4/7 è¿½è¨˜ ==========================================\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚\n\n[gitbucket-issue-estimation-plugin](https://github.com/Takumon/gitbucket-issue-estimation-plugin)\n\n[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1)ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦`<GITBUCKET_HOME>/plugins/`ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚\n== =======================================================\n\n\nGit Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n\n## ã¯ã˜ã‚ã«\n[GitBucket](https://gitbucket.github.io/)ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯\bChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\nChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n\n* *Chromeæ‹¡å¼µ*\n    * [gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)\n* *Dockerã‚¤ãƒ¡ãƒ¼ã‚¸*\n    * [gitbucket-issue-estimation-server](https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/)\n\n## å°å…¥ã™ã‚‹ã¨\n[GitBucket](https://gitbucket.github.io/)ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png)\n\n\bãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png)\n\nã¾ãŸ\bissue\bä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png)\n\n\n\n\n## å°å…¥æ‰‹é †\n### 1. Dockerå´\nGitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡\bä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚\n\n* \u001edocker-compose\b.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰\n\n```docker:docker-compose.yml\nversion: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n```\n\n* docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ\n\n```bash:\n$ docker-compose up -d\n```\n\n\n### 2. GitBucketå´\nChromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®\bãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\n\n* GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ > Account Setting\b ã‚’é¸æŠ\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png)\n<br>\n\n* å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ`Generate token`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png)\n<br>\n\n* ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png)\n\n\n### 3. Chrome Extensionå´\n* Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§[gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png)\n<br>\n\n* \bå³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—`Save`ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n    * **gitbucket-issue-estimation-server URL**\n        * ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š `http://127.0.0.1:3000` \n    * **GitBucket Token**\n        * GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png)\n<br>\n\n## å…·ä½“çš„ãªä»•çµ„ã¿\nDockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\n\n**(1)** ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥\n**(2)** ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—\n**(3)** ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤\n\n![å…¨ä½“åƒ.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png)\n\n\n\n## Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\n[GitBucketã®API](https://github.com/gitbucket/gitbucket/wiki/API-WebHook)ã¯[Githubã®REST API v3](https://developer.github.com/v3/)ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚\n\n### `state=all`ãŒåŠ¹ã‹ãªã„\næœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯`state=all`ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚`state=open`ã¨`state=closed`ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `per_page`ãŒåŠ¹ã‹ãªã„ï¼ˆ\b1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰\nGitBucketã®APIã§ã¯`per_page`ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `closed_at`ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„\nChromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚\n\n#### â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰](https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84)\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰](https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0)\n\n\n## ã¾ã¨ã‚\næœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚\n\n","comments_count":0,"created_at":"2017-12-31T23:49:04+09:00","likes_count":6,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/e0ec0869-f368-5083-bdc2-cdba9d59427a/","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","date":"2017-12-12T03:19:11+09:00","excerpt":"FUJITSU Advent Calendar 2017 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€ã“ã“ï¼”ãƒ¶æœˆã»ã©MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œ...","tags":["JavaScript","Node.js","Express","mongoose","Angular","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"e0ec0869-f368-5083-bdc2-cdba9d59427a","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","rendered_body":"<p><a href=\"https://qiita.com/advent-calendar/2017/fujitsu\">FUJITSU Advent Calendar 2017</a> 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>\n\n<p>ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€<br>\nã“ã“ï¼”ãƒ¶æœˆã»ã©<strong>MEAN</strong>ã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB+<strong>E</strong>xpress+<strong>A</strong>ngular+<strong>N</strong>ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚<br>\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\n\n<p>ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%B4%B9%E4%BB%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®ç´¹ä»‹</h2>\n\n<p>æœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)</p>\n\n<ul>\n<li><a href=\"https://github.com/Takumon/mean-blog\" rel=\"nofollow noopener\" target=\"_blank\">Github</a></li>\n<li><a href=\"https://hub.docker.com/r/takumon/mean-blog_auto/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerhub</a></li>\n<li>\n<a href=\"https://material-blog-demo.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‡ãƒ¢ç’°å¢ƒ</a> (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)</li>\n</ul>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)<br>\n<a href=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" alt=\"appdemo_detail.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)<br>\n<a href=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)<br>\n<a href=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png\"></a></p>\n\n<h1>\n<span id=\"1-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã¾ã‚ã‚Š\" class=\"fragment\"></span><a href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%BE%E3%82%8F%E3%82%8A\"><i class=\"fa fa-link\"></i></a>1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š</h1>\n\n<h2>\n<span id=\"angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#angular%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%82%8B%E6%99%82%E3%81%AB%E5%8F%A4%E3%81%84%E6%83%85%E5%A0%B1%E3%82%92%E9%99%A4%E5%A4%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„</h2>\n\n<p>1ç³»ã¯<code>AngularJS</code>ã€2ç³»ä»¥é™ã¯<code>Angular</code>ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚<br>\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯<code>Angualr2</code>ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚<code>--AngularJS</code>ã‚’ã¤ã‘ãŸã‚Šã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"htmlã®domè¦ç´ ã‚’åˆ¥ã®domè¦ç´ ã¾ãŸã¯componentã‹ã‚‰æ‰±ã„ãŸã„\" class=\"fragment\"></span><a href=\"#html%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%82%92%E5%88%A5%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%81%BE%E3%81%9F%E3%81%AFcomponent%E3%81%8B%E3%82%89%E6%89%B1%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>HTMLã®DOMè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„</h2>\n\n<p>è¦ç´ ã«<code>#xxxxx</code>ã®ã‚ˆã†ã«<code>#</code>å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®DOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"err\">#</span><span class=\"na\">phone</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"é›»è©±ç•ªå·\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"c\">&lt;!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"nt\">&gt;</span>(click)=\"callPhone(phone.value)\"&gt;\n</pre></div>\n</div>\n\n<p>Componentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯<code>@ViewChild</code>ã‚’ä½¿ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"c1\">// ViewChildã®å¼•æ•°ã«åå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™</span>\n  <span class=\"p\">@</span><span class=\"nd\">ViewChild</span><span class=\"p\">(</span><span class=\"s1\">'phone'</span><span class=\"p\">)</span> <span class=\"nx\">phoneElement</span><span class=\"p\">:</span> <span class=\"nx\">phoneElement</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">showPhoneValue</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">phoneElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n    <span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/template-syntax#ref-vars\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\" class=\"fragment\"></span><a href=\"#routing%E6%99%82%E3%81%AE%E8%AA%8D%E8%A8%BC%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„</h2>\n\n<p>URLã”ã¨ã®èªè¨¼ã¯<code>CanActivate</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€<br>\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚<br>\nãã®ã‚ˆã†ãªæ™‚ã¯ã€<strong><code>CanActivate#canActivate</code>ã§</strong>booleanã®ä»£ã‚ã‚Šã«<strong>Observableã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹</strong>ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleAuthGuard</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">CanActivate</span><span class=\"p\">,</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">RouterStateSnapshot</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/router'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AuthenticationService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./authentication.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleAuthGuard</span> <span class=\"kr\">implements</span> <span class=\"nx\">CanActivate</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span>\n    <span class=\"kr\">private</span> <span class=\"nx\">auth</span><span class=\"p\">:</span> <span class=\"nx\">AuthenticationService</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\">// booleanã§ã¯ãªãObservable&lt;boolean&gt;ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™</span>\n  <span class=\"nx\">canActivate</span><span class=\"p\">(</span><span class=\"nx\">route</span><span class=\"p\">:</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">state</span><span class=\"p\">:</span> <span class=\"nx\">RouterStateSnapshot</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"kr\">boolean</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">auth</span><span class=\"p\">.</span><span class=\"nx\">checkState</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">true</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">err</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">of</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">))</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"formarrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#formarray%E3%81%AE%E5%80%A4%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„</h2>\n\n<p>FormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€<br>\nFormArrayã®å ´åˆpatchValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚<br>\nã“ã†ã„ã†å ´åˆã¯ã€<strong>é…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ€ãƒ¡ãªä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span> <span class=\"c1\">// FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">];</span> <span class=\"c1\">// FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">è‰¯ã„ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formã‚’ç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹</span>\n  <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">student</span> <span class=\"o\">-&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">controls</span><span class=\"p\">[</span><span class=\"s1\">'students'</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">FormControll</span><span class=\"p\">(</span><span class=\"nx\">student</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array\" rel=\"nofollow noopener\" target=\"_blank\">StackOvereFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"error-error-no-provider-for-templaterefã¨ã„ã†ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#error-error-no-provider-for-templateref%E3%81%A8%E3%81%84%E3%81%86%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>æœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚<br>\nå¤§æŠµã®å ´åˆã¯ã€<strong><code>*ngIf</code>ã‚„<code>*ngForm</code>ã®<code>*</code>ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› </strong>ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)<br>\n<code>*</code>ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯<code>ngIf</code>ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€<br>\nãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§<code>No provider for TemplateRef!</code>ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"textareaã«ãŠã„ã¦tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\" class=\"fragment\"></span><a href=\"#textarea%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6tab%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%A4%E3%83%B3%E3%83%87%E3%83%B3%E3%83%88%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„</h2>\n\n<p>æ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€Tabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€<br>\nkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;textarea</span> <span class=\"err\">#</span><span class=\"na\">sampletextarea</span>\n  <span class=\"err\">(</span><span class=\"na\">keydown</span><span class=\"err\">)=\"</span><span class=\"na\">indent</span><span class=\"err\">($</span><span class=\"na\">event</span><span class=\"err\">,</span> <span class=\"na\">sampletextarea</span><span class=\"err\">)\"</span> <span class=\"nt\">&gt;&lt;/textarea&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"nx\">indent</span><span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">,</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">===</span> <span class=\"mi\">9</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¬¡ã®è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹</span>\n      <span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n\n      <span class=\"c1\">// ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretStart</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionStart</span><span class=\"p\">;</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionEnd</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">TAB</span> <span class=\"o\">=</span> <span class=\"s1\">'Â¥t'</span><span class=\"p\">;</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span> <span class=\"o\">=</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">caretStart</span><span class=\"p\">)</span>\n                     <span class=\"o\">+</span> <span class=\"nx\">TAB</span> <span class=\"o\">+</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">focus</span><span class=\"p\">();</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">setSelectionRange</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\" class=\"fragment\"></span><a href=\"#markdown%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%9F%E3%81%84%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„</h2>\n\n<p><a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã¨<a href=\"https://github.com/isagalaev/highlight.js\" rel=\"nofollow noopener\" target=\"_blank\">highlight.js</a>ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚<br>\n<a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown-parse.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">hljs</span> <span class=\"k\">from</span> <span class=\"s1\">'highlight.js'</span><span class=\"p\">;</span>\n\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">marked</span><span class=\"p\">.</span><span class=\"nx\">setOptions</span><span class=\"p\">({</span>\n      <span class=\"na\">highlight</span><span class=\"p\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">hljs</span><span class=\"p\">.</span><span class=\"nx\">highlightAuto</span><span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"na\">rawText</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">marked</span><span class=\"p\">(</span><span class=\"nx\">rawText</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./markdown-parse.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span> <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'toMarkdown'</span> <span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParsePipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">markdownParseService</span><span class=\"p\">:</span> <span class=\"nx\">MarkdownParseService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">markdownParseService</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p>HTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚<code>{{}}</code>ã ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§<code>innerHTML</code>å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"err\">[</span><span class=\"na\">innerHTML</span><span class=\"err\">]=\"</span><span class=\"na\">md</span> <span class=\"err\">|</span> <span class=\"na\">toMarkdown</span><span class=\"err\">\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b\" id=\"reference-9001a931765f8f52acaf\">Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹</a></li>\n<li>Github <a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">chjj/marked</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´è¿½åŠ å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8C%E5%A4%89%E6%9B%B4%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AB%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E7%B5%90%E6%9E%9C%E3%82%92%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„</h2>\n\n<p>ãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦<strong>pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã¾ã—ã‚‡ã†ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"err\">#</span><span class=\"na\">searchUserName</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let user of (userList | searchUserFilter: searchUserName.value);\"</span> <span class=\"nt\">&gt;</span>{{user.name}}<span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">search-user.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">User</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./user'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span>\n  <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'searchUserFilter'</span><span class=\"p\">,</span>\n  <span class=\"na\">pure</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SearchFilterPipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">items</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">User</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"nx\">searchUserName</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span><span class=\"p\">[]</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">searchUserName</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">searchUserName</span> <span class=\"o\">=</span> <span class=\"nx\">searchUserName</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span> <span class=\"nx\">item</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">userId</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">().</span><span class=\"nx\">includes</span><span class=\"p\">(</span><span class=\"nx\">searchUserName</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/pipes#pure-and-impure-pipes\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n</ul>\n\n<h2>\n<span id=\"ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’å…±é€šåŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«<strong>ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">app-settings.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppSettings</span> <span class=\"p\">{</span>\n   <span class=\"kr\">public</span> <span class=\"kr\">static</span> <span class=\"nx\">API_ENDPOINT</span><span class=\"o\">=</span><span class=\"s1\">'http://127.0.0.1:6666/api/'</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleService</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">Injectable</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'angular2/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">AppSettings</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app-settings'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleService</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sampleMethod</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">AppSettings</span><span class=\"p\">.</span><span class=\"nx\">API_ENDPOINT</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%94%BB%E5%83%8F%E3%81%8C%E5%A4%9A%E3%81%84%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A1%A8%E7%A4%BA%E3%82%92%E6%97%A9%E3%81%8F%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„</h2>\n\n<p><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a>ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚<br>\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre> <span class=\"nt\">&lt;img</span>\n  <span class=\"err\">[</span><span class=\"na\">defaultImage</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">defaultimage</span><span class=\"err\">\"</span> \n  <span class=\"err\">[</span><span class=\"na\">lazyLoad</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">sampleimage</span><span class=\"err\">\"</span>\n  <span class=\"err\">[</span><span class=\"na\">offset</span><span class=\"err\">]=\"</span><span class=\"na\">30</span><span class=\"err\">\"</span>\n <span class=\"nt\">&gt;</span>\n</pre></div>\n</div>\n\n<p><em>defaultImage</em><br>\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹<br>\n<em>lazyLoad</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL<br>\n<em>offset</em><br>\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹<br>\n<em>errorImage</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a></li>\n</ul>\n\n<h2>\n<span id=\"angular-cliã®ng-serveã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\" class=\"fragment\"></span><a href=\"#angular-cli%E3%81%AEng-serve%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7dist%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%B8%80%E6%97%A6%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%8F%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angular Cliã®<code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„</h2>\n\n<p><code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã¯<code>dist</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚<br>\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€<strong>delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false</strong>ã«æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span></div>\n<div class=\"highlight\"><pre><span class=\"s2\">\"script\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"cp ./resource/* dist &amp;&amp; ng serve --delete-output-path=false\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/issues/4366\" rel=\"nofollow noopener\" target=\"_blank\">angular-cli github issue #4366</a></li>\n</ul>\n\n<h2>\n<span id=\"aotã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\" class=\"fragment\"></span><a href=\"#aot%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%A7%E3%81%AA%E3%82%93%E3%81%A8%E3%81%8B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„</h2>\n\n<p>ãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)<br>\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚<br>\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"2-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%A7%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š</h1>\n\n<h2>\n<span id=\"ciç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\" class=\"fragment\"></span><a href=\"#ci%E7%92%B0%E5%A2%83%E3%81%AA%E3%81%A9%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%89%E3%81%9A%E3%81%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\"><i class=\"fa fa-link\"></i></a>CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†</h2>\n\n<p>CirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯<strong>watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ng test --wtach=false\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong><br>\n<a href=\"https://github.com/angular/angular-cli/issues/362\" rel=\"nofollow noopener\" target=\"_blank\">Github isssue</a></p>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆæ™‚ã«error-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_intervalã‚„failed-to-execute-send-on-xmlhttprequestã®ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E6%99%82%E3%81%ABerror-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_interval%E3%82%84failed-to-execute-send-on-xmlhttprequest%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«<strong><code>-sm=false</code>ã‚’è¿½åŠ </strong>ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%94%A8%E3%81%AB%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E3%83%A2%E3%83%83%E3%82%AF%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„</h2>\n\n<p>æ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§<br>\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚<br>\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\"><div class=\"highlight\"><pre><span class=\"c1\">// â€»importæ–‡ã¯çœç•¥</span>\n\n<span class=\"c1\">// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©</span>\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-child'</span><span class=\"p\">,</span> <span class=\"c1\">// å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©</span>\n  <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"s1\">'&lt;p&gt;Mock Child Component&lt;/p&gt;'</span>\n<span class=\"p\">})</span>\n<span class=\"kd\">class</span> <span class=\"nx\">MockClildComponent</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">Input</span><span class=\"p\">()</span> <span class=\"nx\">childInput</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n  <span class=\"p\">@</span><span class=\"nd\">Output</span><span class=\"p\">()</span> <span class=\"nx\">childOutput</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">EventEmitter</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ...</span>\n\n<span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n    <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"c1\">// ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ </span>\n      <span class=\"nx\">MockProductSettingsComponent</span><span class=\"p\">,</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">});</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«angular-materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABangular-materila%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€<br>\n<code>karma.config.js</code>ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n      <span class=\"c1\">// Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã</span>\n      <span class=\"p\">{</span><span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span><span class=\"p\">,</span> <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">},</span>\n<span class=\"p\">],</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/material2/issues/4056\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«stylesscssã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABstylesscss%E3%82%A2%E3%83%97%E3%83%AA%E5%85%B1%E9%80%9A%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ<br>\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«<code>karma-scss-preprocessor</code>ã¨<code>node-sass</code>ã‚’è¿½åŠ ã—ã¦<code>karma.conf.js</code>ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n<span class=\"err\">ã€€</span> <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ </span>\n  <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'karma-scss-preprocessor'</span><span class=\"p\">)</span>\n<span class=\"p\">],</span>\n\n\n<span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"c1\">// filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ </span>\n  <span class=\"p\">{</span> <span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">served</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span>\n<span class=\"p\">],</span>\n\n<span class=\"c1\">// preprocessorsã‚’è¿½åŠ </span>\n<span class=\"nx\">preprocessors</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'./src/test.ts'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'@angular/cli'</span><span class=\"p\">],</span>\n <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'scss'</span><span class=\"p\">]</span>\n<span class=\"p\">},</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n<li><a href=\"https://github.com/karma-runner/karma/issues/2700\" rel=\"nofollow noopener\" target=\"_blank\">Github karma/issue/2700</a></li>\n</ul>\n\n<h1>\n<span id=\"3-ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´-expressmongodbå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#3-%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89%E5%81%B4-expressmongodb%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š</h1>\n\n<p>â€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯<a href=\"https://github.com/Automattic/mongoose\" rel=\"nofollow noopener\" target=\"_blank\">mongoose</a>ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\" class=\"fragment\"></span><a href=\"#mongoose%E3%81%AEvirtual%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</h2>\n\n<p>ä¾‹ãˆã°<code>è¨˜äº‹</code>,<code>ã‚³ãƒ¡ãƒ³ãƒˆ</code>,<code>ãƒªãƒ—ãƒ©ã‚¤</code>ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€<br>\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  =&gt; è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  =&gt; ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" alt=\"dbæ§‹é€ _è‰¯.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png\"></a></p>\n\n<p>ãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€<strong>mongooseã®virtualã‚’ä½¿ã„ã¾ã™</strong>ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€<br>\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" alt=\"mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png\"></a></p>\n\n<p>å…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">article.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ArticleSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">content</span><span class=\"p\">:</span> <span class=\"nb\">String</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n\n<span class=\"c1\">// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">ArticleSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'articleId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Article</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Article'</span><span class=\"p\">,</span> <span class=\"nx\">ArticleSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Article</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">comment.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">CommentSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">articleId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Article'</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">comment</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n<span class=\"c1\">// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">CommentSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Reply'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'commentId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Comment</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Comment'</span><span class=\"p\">,</span> <span class=\"nx\">CommentSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Comment</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">reply.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ReplySchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">commentId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">reply</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Reply</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Reply'</span><span class=\"p\">,</span> <span class=\"nx\">ReplySchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Reply</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¤œç´¢å‡¦ç†</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">Article</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">()</span>\n<span class=\"p\">.</span><span class=\"nx\">populate</span><span class=\"p\">({</span>\n  <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"c1\">// Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹</span>\n  <span class=\"na\">populate</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"c1\">// Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹</span>\n  <span class=\"p\">}],</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>Expressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚<br>\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n<span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">accessLogHandler</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n  <span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">([</span>\n    <span class=\"s1\">'start'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n    <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'--ms--'</span>\n  <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n\n  <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'finish'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€</span> <span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°</span>\n    <span class=\"nx\">accessLogger</span><span class=\"p\">.</span><span class=\"nx\">info</span><span class=\"p\">([</span>\n      <span class=\"s1\">'end'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"s1\">'--'</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"nx\">start</span><span class=\"p\">.</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"s1\">'ms--'</span>\n    <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">next</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<p>å®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"py3\"><div class=\"highlight\"><pre><span class=\"n\">start</span><span class=\"p\">,</span>  <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">api</span><span class=\"o\">/</span><span class=\"n\">authenticate</span><span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>   <span class=\"o\">-</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span> <span class=\"o\">--</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n<span class=\"n\">end</span><span class=\"p\">,</span>    <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>                  <span class=\"mi\">403</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span>  <span class=\"o\">--</span><span class=\"mi\">47</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n</pre></div></div>\n\n<h2>\n<span id=\"ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%85%A8%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®<code>util.inspect()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">util</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'util'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">myObject</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"s2\">\"a\"</span><span class=\"p\">:</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span>\n   <span class=\"s2\">\"b\"</span><span class=\"p\">:{</span>\n      <span class=\"s2\">\"c\"</span><span class=\"p\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">,</span>\n      <span class=\"s2\">\"d\"</span><span class=\"p\">:{</span>\n         <span class=\"s2\">\"e\"</span><span class=\"p\">:</span><span class=\"s2\">\"e\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"f\"</span><span class=\"p\">:{</span>\n            <span class=\"s2\">\"g\"</span><span class=\"p\">:</span><span class=\"s2\">\"g\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"h\"</span><span class=\"p\">:{</span>\n               <span class=\"s2\">\"i\"</span><span class=\"p\">:</span><span class=\"s2\">\"i\"</span>\n            <span class=\"p\">}</span>\n         <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">};</span> \n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">util</span><span class=\"p\">.</span><span class=\"nx\">inspect</span><span class=\"p\">(</span><span class=\"nx\">myObject</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"kc\">null</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%A7%E3%81%8D%E3%82%8B%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯<br>\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚<br>\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å®šæ•°å®šç¾©</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_PORT</span> <span class=\"o\">||</span> <span class=\"s1\">'3000'</span><span class=\"p\">;</span><span class=\"err\">ã€€</span><span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_HOST</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_HOST</span> <span class=\"o\">||</span> <span class=\"s1\">'localhost'</span><span class=\"p\">;</span> <span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"dbåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#db%E5%88%9D%E5%9B%9E%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„</h2>\n\n<p>mongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br>\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">createConnection</span> <span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">createConnection</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/failed to connect to server .* on first connect/</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Retrying first connect...\"</span><span class=\"p\">);</span>\n                <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">openUri</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">).</span><span class=\"k\">catch</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n            <span class=\"c1\">// 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹</span>\n            <span class=\"p\">},</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'open'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Connection to db established.\"</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">db</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Automattic/mongoose/issues/5169\" rel=\"nofollow noopener\" target=\"_blank\">Github mongooseã®issue5169</a></li>\n</ul>\n","body":"[FUJITSU Advent Calendar 2017](https://qiita.com/advent-calendar/2017/fujitsu) 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\nãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€\nã“ã“ï¼”ãƒ¶æœˆã»ã©**MEAN**ã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB+**E**xpress+**A**ngular+**N**ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚\n\n## ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\næœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)\n\n* [Github](https://github.com/Takumon/mean-blog)\n* [Dockerhub](https://hub.docker.com/r/takumon/mean-blog_auto/)\n* [ãƒ‡ãƒ¢ç’°å¢ƒ](https://material-blog-demo.herokuapp.com/) (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)\n![appdemo_detail.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png](https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png)\n\n# 1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š\n## Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\n1ç³»ã¯`AngularJS`ã€2ç³»ä»¥é™ã¯`Angular`ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯`Angualr2`ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚\u001e`--AngularJS`ã‚’ã¤ã‘ãŸã‚Š\u001dã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚\n\n## HTMLã®DOM\bè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„\nè¦ç´ ã«`#xxxxx`\bã®ã‚ˆã†ã«`#`å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®\bDOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™\n\n```html:HTML\n<input #phone placeholder=\"é›»è©±ç•ªå·\"/>\n<!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ -->\n<button >(click)=\"callPhone\b(phone.value)\">\n```\n\n\bComponentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯`@ViewChild`ã‚’ä½¿ã„ã¾ã™\n\n```typescript:Component\n  // \bViewChildã®å¼•æ•°ã«\b\båå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™\n  @ViewChild('phone') phoneElement: phoneElement;\n\n  showPhoneValue() {\n    console.log(this.phoneElement.value);\n    )\n  }\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/template-syntax#ref-vars)\n* [StackOverFlow](https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template)\n\n\n\n## Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\nURLã”ã¨ã®èªè¨¼ã¯`CanActivate`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªæ™‚ã¯ã€**`CanActivate#canActivate`ã§**booleanã®ä»£ã‚ã‚Šã«**Observable<boolean>ã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹**ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\n\n\n```typescript:SampleAuthGuard\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SampleAuthGuard implements CanActivate {\n\n  constructor(\n    private auth: AuthenticationService,\n  ) { }\n\n  // booleanã§ã¯ãªãObservable<boolean>ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.checkState()\n      .map(res => true)\n      .catch(err => Observable.of(false))\n  }\n}\n\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function)\n\n## FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\nFormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€\nFormArrayã®å ´åˆpatch\bValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨\bã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚\n\bã“ã†ã„ã†å ´åˆã¯ã€**\b\bé…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push**ã—ã¾ã™ã€‚\n\n```typescript:ãƒ€ãƒ¡ãªä¾‹\nngOnInit() {\n  // Formç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName' // FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½\n    students: ['taro', 'jiro', 'saburo']; // FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½\n  });\n}\n```\n\n```typescript:\bè‰¯ã„ä¾‹\nngOnInit() {\n  // Formã‚’ç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName'\n  });\n\n  // ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹\n  ['taro', 'jiro', 'saburo'].forEach(student -> {\n    this.form.controls['students'].push(new FormControll(student));\n  });\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOvereFlow](https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array)\n\n## ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼\næœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚\nå¤§æŠµã®å ´åˆã¯ã€**`*ngIf`ã‚„`*ngForm`ã®`*`ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› **ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)\n`*`ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯`ngIf`ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€\n\bãã‚“ãª\b\bãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§`No provider for TemplateRef!`ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref)\n\n\n## textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\næ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€\u001dTabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€\n\bkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«\bãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n```html:HTML\n<textarea #sampletextarea\n  (keydown)=\"indent($event, sampletextarea)\" ></textarea>\n```\n\n```typescript:Component\n  indent($event, sampleTextAreaElement) {\n    // Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚\n    if ($event.keyCode === 9) {\n      \b// æ¬¡ã®è¦ç´ ã«\bãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹\n      $event.preventDefault();\n\n      // ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—\n      \bconst caretStart = textareaElement.selectionStart;\n      const caretEnd = textareaElement.selectionEnd;\n\n      // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’\bå–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥\n      const TAB = 'Â¥t';\n      sampleTextAreaElement.value = sampleTextAreaElement.value.substring(0, caretStart)\n                     + TAB + sampleTextAreaElement.value.substring(caretStart, value.length);\n\n      // ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™\n      sampleTextAreaElement.focus();\n      sampleTextAreaElement.setSelectionRange(caretStart + TAB.length, caretEnd + TAB.length);\n\n      return;\n    }\n  }\n\n```\n\n\n\n## \bMarkdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’\bè¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\n[marked](https://github.com/chjj/marked)ã¨[highlight.js](https://github.com/isagalaev/highlight.js)ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚\n[marked](https://github.com/chjj/marked)ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```typescript:markdown-parse.service.ts\nimport { Injectable } from '@angular/core';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\n\n@Injectable()\nexport class MarkdownParseService {\n\n  constructor() {\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n  }\n\n  parse(rawText: string) {\n    return marked(rawText);\n  }\n}\n```\n\n\n```typescript:markdown.pipe.ts\nimport marked from 'marked';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MarkdownParseService } from './markdown-parse.service';\n\n@Pipe({ name: 'toMarkdown' })\nexport class MarkdownParsePipe implements PipeTransform {\n  constructor(markdownParseService: MarkdownParseService) {}\n\n  transform(value: string): any {\n    return this.markdownParseService.parse(value);\n  }\n}\n```\n\nHTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚`{{}}`ã ã¨\bã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§\b`innerHTML`å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```html\n<div [innerHTML]=\"md | toMarkdown\"></div>\n```\n\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹](https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b)\n* Github [chjj/marked](https://github.com/chjj/marked)\n\n\n\n\n## çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒ\bå¤‰æ›´ã€è¿½åŠ \bã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\nãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦**pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã¾ã—ã‚‡ã†ã€‚\n\n```html:HTML\n<input type=\"text\" #searchUserName>\n<ul>\n  <li *ngFor=\"let user of (userList | searchUserFilter: searchUserName.value);\" >{{user.name}}</li>\n<ul>\n```\n\n```typescript:search-user.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { User } from './user';\n\n@Pipe({\n  name: 'searchUserFilter',\n  pure: false // pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹\n})\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Array<User>, searchUserName: string): any[] {\n    if (!searchUserName) return items;\n\n    searchUserName = searchUserName.toLowerCase();\n    return items.filter( item => item.user.userId.toLowerCase().includes(searchUserName));\n  }\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/pipes#pure-and-impure-pipes)\n\n\n\n\n## ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’\bå…±é€š\båŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«**ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©**ã—ã¾ã™ã€‚\n\n```typescript:app-settings.ts\nexport class AppSettings {\n   public static API_ENDPOINT='http://127.0.0.1:6666/api/';\n}\n```\n\n```typescript:SampleService\nimport {Injectable} from 'angular2/core';\nimport {AppSettings} from './app-settings';\n\n@Injectable()\nexport class SampleService {\n    \bsampleMethod() {\n      console.log(AppSettings.API_ENDPOINT);\n    }\n}\n```\n\n**å‚è€ƒ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2)\n\n\n## ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\n[ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```html:HTML\n <img\n  [defaultImage]=\"https://images.sample.com/photo/defaultimage\" \n  [lazyLoad]=\"https://images.sample.com/photo/sampleimage\"\n  [offset]=\"30\"\n >\n```\n\n*defaultImage*\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹\n*lazyLoad*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL\n*offset*\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹\n*errorImage*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)\n\n\n## Angular Cliã®`ng serve`ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\n`ng serve`ã‚³ãƒãƒ³ãƒ‰ã¯`dist`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€**delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false**ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```json:package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\n\"script\": {\n  \"build\": \"cp ./resource/* dist && ng serve --delete-output-path=false\"\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [angular-cli github issue #4366](https://github.com/angular/angular-cli/issues/4366)\n\n\n## AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\nãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«[Angular Material](https://material.angular.io/)ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚\n\n\n# 2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\n## CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\nCirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ`ng test`ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯**watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã—ã¾ã™ã€‚\n\n```\nng test --wtach=false\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n[Github isssue](https://github.com/angular/angular-cli/issues/362)\n\n## ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«`ng test`ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«**`-sm=false`ã‚’è¿½åŠ **ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest)\n\n\n## ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\næ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚\n\n\n```typescript\n// â€»importæ–‡ã¯çœç•¥\n\n// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n@Component({\n  selector: 'app-child', // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©\n  template: '<p>Mock Child Component</p>'\n})\nclass MockClildComponent {\n  @Input() childInput: string;\n  @Output() childOutput = new EventEmitter();\n}\n\n// ...\n\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    declarations: [\n      // ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ \n      MockProductSettingsComponent,\n      // ...\n    ],\n    // ...\n  });\n  // ...\n});\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§[Angular Material](https://material.angular.io/)ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€\n`karma.config.js`ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚\n\n```javascript:karma.conf.js\nfiles: [\n      ãƒ»ãƒ»ãƒ»\n      // Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã\n      {pattern: './node_modules/@angular/material/prebuilt-themes/indigo-pink.css', included: true, watched: false},\n],\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackoverflow](https://github.com/angular/material2/issues/4056)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«`karma-scss-preprocessor`ã¨`node-sass`ã‚’è¿½åŠ ã—ã¦`karma.conf.js`ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```javascript:karma.conf.js\nplugins: [\n  ãƒ»ãƒ»ãƒ»\nã€€ // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ \n  require('karma-scss-preprocessor')\n],\n\n\nfiles: [\n  ãƒ»ãƒ»ãƒ»\n  // filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n  { pattern: './src/styles.scss', watched: false,  included: true, served: true }\n],\n\n// preprocessorsã‚’è¿½åŠ \npreprocessors: {\n './src/test.ts': ['@angular/cli'],\n './src/styles.scss': ['scss']\n},\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**:\n\n* [stackOverFlow](https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689)\n* [Github karma/issue/2700](https://github.com/karma-runner/karma/issues/2700)\n\n\n\n\n# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š\nâ€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯[mongoose](https://github.com/Automattic/mongoose)ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚\n\n## mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\nä¾‹ãˆã°`è¨˜äº‹`,`ã‚³ãƒ¡ãƒ³ãƒˆ`,`ãƒªãƒ—ãƒ©ã‚¤`ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  => è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  => ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚\n![dbæ§‹é€ _è‰¯.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png)\n\nãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€**mongooseã®virtualã‚’ä½¿ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png)\n\nå…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n\n```typescript:article.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ArticleSchema = new mongoose.Schema({\n  content: String\n}, { toJSON: { virtuals: true } });\n\n\n// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nArticleSchema.virtual('comments', {\n  ref: 'Comment',\n  localField: '_id',\n  foreignField: 'articleId',\n  justOne: false,\n});\n\nconst Article = mongoose.model('Article', ArticleSchema);\n\nexport { Article };\n```\n\n\n```typescript:comment.model.ts\nimport * as mongoose from 'mongoose';\n\nconst CommentSchema = new mongoose.Schema({\n  articleId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  comment: String;\n}, { toJSON: { virtuals: true } });\n\n// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nCommentSchema.virtual('replies', {\n  ref: 'Reply',\n  localField: '_id',\n  foreignField: 'commentId',\n  justOne: false,\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nexport { Comment };\n```\n\n```typescript:reply.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ReplySchema = new mongoose.Schema({\n  commentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Comment'\n  },\n  reply: String;\n});\n\nconst Reply = mongoose.model('Reply', ReplySchema);\n\nexport { Reply };\n```\n\n```typescript:æ¤œç´¢å‡¦ç†\nArticle.find()\n.populate({\n  path: 'comments', // Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹\n  populate: [{\n    path: 'replies', // Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹\n  }],\n});\n```\n\n\n## ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\nExpressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n\n\n```javascript:ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™\nconst express = express();\nexpress.use(function accessLogHandler (req, res, next) {\n  const start = new Date();\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€\n  console.log([\n    'start',\n    req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n    req.method,\n    req.url,\n    '-',\n    req.headers.referer || '-',\n    req.headers['user-agent'] || '-',\n    '--ms--'\n  ].join(',\\t'));\n\n  res.once('finish', function() {\nã€€ã€€ // ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°\n    accessLogger.info([\n      'end',\n      req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n      req.method,\n      req.url,\n      res.statusCode,\n      req.headers.referer || '-',\n      req.headers['user-agent'] || '-',\n      '--' + (new Date().getMilliseconds() - start.getMilliseconds()) + 'ms--'\n    ].join(',\\t'));\n  });\n\n  next();\n});\n```\n\nå®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```py3\nstart,  ::ffff:127.0.0.1, GET, /api/authenticate/check-state,   -, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36, --ms--\nend,    ::ffff:127.0.0.1, GET, /check-state,                  403, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36,  --47ms--\n```\n\n\n\n## ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®`util.inspect()`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n\n```javascript\nconst util = require('util');\nconst myObject = {\n   \"a\":\"a\",\n   \"b\":{\n      \"c\":\"c\",\n      \"d\":{\n         \"e\":\"e\",\n         \"f\":{\n            \"g\":\"g\",\n            \"h\":{\n               \"i\":\"i\"\n            }\n         }\n      }\n   }\n}; \n\nconsole.log(util.inspect(myObject, false, null));\n```\n\nã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™\n\n```\n{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object)\n\n\n## ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```typescript:å®šæ•°å®šç¾©\nexport const SERVER_PORT: string = process.env.SERVER_PORT || '3000';ã€€// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹\nexport const SERVER_HOST: string = process.env.SERVER_HOST || 'localhost'; // ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹\n```\n\n\n## DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\nmongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n```javascript\nfunction createConnection (dbURL, options) {\n    var db = mongoose.createConnection(dbURL, options);\n\n    db.on('error', function (err) {\n        if (err.message && err.message.match(/failed to connect to server .* on first connect/)) {\n            console.log(new Date(), String(err));\n\n            setTimeout(function () {\n                console.log(\"Retrying first connect...\");\n                db.openUri(dbURL).catch(() => {});\n            // 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹\n            }, 20 * 1000);\n        } else {\n            console.error(new Date(), String(err));\n        }\n    });\n\n    db.once('open', function () {\n        console.log(\"Connection to db established.\");\n    });\n\n    return db;\n}\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Github mongooseã®issue5169](https://github.com/Automattic/mongoose/issues/5169)\n\n","comments_count":0,"created_at":"2017-12-12T03:19:11+09:00","likes_count":46,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/270e2fae-ed90-5539-8c90-a2ed93ebba83/","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","date":"2017-06-26T00:21:37+09:00","excerpt":"Asciidoctorã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚ãã“ã§ä»Šå›ã¯ã€Dockerã§...","tags":["JavaScript","å…¨æ–‡æ¤œç´¢","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","Fess","asciidoctor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"270e2fae-ed90-5539-8c90-a2ed93ebba83","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","rendered_body":"<p><a href=\"http://asciidoctor.org/\" rel=\"nofollow noopener\" target=\"_blank\">Asciidoctor</a>ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®<a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã‚’ç«‹ã¦ã¦ã€<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€<br>\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<p>å°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" alt=\"6æœˆ-24-2017 19-05-32.gif\" title=\"6æœˆ-24-2017 19-05-32.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif\"></a></p>\n\n<h2>\n<span id=\"fessã¨ã¯\" class=\"fragment\"></span><a href=\"#fess%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Fessã¨ã¯</h2>\n\n<p><a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã¯<strong>ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€</strong>ã§ã™ã€‚<br>\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å…¨ä½“åƒ\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å…¨ä½“åƒ</h2>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚<br>\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<p>ã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png\"></a></p>\n\n<h3>\n<span id=\"fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<p>Docker Hubã®<a href=\"https://hub.docker.com/r/codelibs/fess/\" rel=\"nofollow noopener\" target=\"_blank\">codelibs/fess</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯<a href=\"http://fess.codelibs.org/ja/11.2/install/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n</pre></div></div>\n\n<h3>\n<span id=\"fessã®è¨­å®š\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>Fessã®è¨­å®š</h3>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š</h4>\n\n<p><code>http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€<code>admin/admin</code>ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" alt=\"1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png\"></a><br>\n<br></p>\n\n<p>ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚¯ãƒ­ãƒ¼ãƒ©</code> &gt; <code>Web</code>ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" alt=\"2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®<code>+ã€€æ–°è¦ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" title=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png\"></a></p>\n\n<p>è¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<ul>\n<li>åå‰ \n\n<ul>\n<li>ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>URL \n\n<ul>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«<code>/</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜<code>URL</code>ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.*</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.+\\.html$</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>å€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<code>+ã€€ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A1%8C\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã§ã€€<code>ã‚·ã‚¹ãƒ†ãƒ </code> &gt; <code>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©</code> ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚<br>\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ <code>Default Crawler</code>ã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png\"></a><br>\n<br></p>\n\n<p><code>ä»Šã™ãé–‹å§‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" title=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png\"></a><br>\n<br></p>\n\n<p>ã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png\"></a><br>\n<br></p>\n\n<p>ã—ã°ã‚‰ãã—ã¦<code>F5</code>ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚<br>\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ<code>å®Ÿè¡Œä¸­</code>ã‹ã‚‰<code>æœ‰åŠ¹</code>ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</code>&gt;<code>ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±</code>ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png\"></a><br>\n<br></p>\n\n<p>ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png\"></a><br>\n<br></p>\n\n<p>ã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png\"></a><br>\n<br></p>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E7%94%A8web%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%82%92%E9%85%8D%E7%BD%AE\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®</h3>\n\n<p>å…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã®ï¼’ã¤ã§ã™ã€‚<br>\n<code>full-text-search.js</code>ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚<br>\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'use strict'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">=</span> <span class=\"s1\">'http://192.168.1.5:10084/json'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n\n    <span class=\"c1\">// ç›®æ¬¡ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#toc'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form id=\"search-form\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;div class=\"search-input-area\"&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-search left-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" /&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-close right-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-start\" type=\"hidden\" value=\"0\"/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-num\" type=\"hidden\" value=\"'</span> <span class=\"o\">+</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">+</span> <span class=\"s1\">'\"/&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$searchArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-form'</span><span class=\"p\">).</span><span class=\"nx\">submit</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".left-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"#search-query\"</span><span class=\"p\">).</span><span class=\"nx\">keyup</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$rightIcon</span> <span class=\"o\">=</span> <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">);</span>\n\n              <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">().</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#555'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>\n                     <span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n        <span class=\"p\">});</span>\n\n    <span class=\"c1\">// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#header&gt;h1'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">before</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-result-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-subheader\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-content\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s1\">'#remove-search-result'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">delegateTarget</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                    <span class=\"p\">})</span>\n                    <span class=\"c1\">// å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#prevPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#nextPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">doSearch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">){</span>\n      <span class=\"c1\">// æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">searchQuery</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-query'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()),</span>\n          <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-num'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">start</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"nx\">num</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—</span>\n      <span class=\"k\">switch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">navi</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">case</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">-=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"k\">case</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">+=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"nl\">default</span><span class=\"p\">:</span>\n        <span class=\"k\">case</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n          <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// URLã‚’æ§‹ç¯‰</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">+</span> <span class=\"s1\">'?callback=?'</span> <span class=\"o\">+</span> <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n                                     <span class=\"s1\">'&amp;q='</span> <span class=\"o\">+</span> <span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;start='</span> <span class=\"o\">+</span> <span class=\"nx\">start</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;num='</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</span>\n      <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n          <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"nx\">url</span><span class=\"p\">,</span>\n          <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"s1\">'jsonp'</span><span class=\"p\">,</span>\n          <span class=\"na\">success</span><span class=\"p\">:</span> <span class=\"nx\">renderSearchResult</span>\n      <span class=\"p\">});</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#searchNum'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">renderSearchResult</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¤œç´¢çµæœå‡¦ç†</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">dataResponse</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n      <span class=\"c1\">// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">status</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\"</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultSubheader</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">),</span>\n          <span class=\"nx\">$searchResultContent</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">),</span>\n          <span class=\"nx\">record_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">record_count</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœãŒãªã„å ´åˆ</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">record_count</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span>  <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// çµæœé ˜åŸŸã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultContent</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt;ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚'</span><span class=\"p\">;</span>\n\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">page_number</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_number</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_size</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_count</span><span class=\"p\">,</span>\n          <span class=\"nx\">startRange</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nx\">endRange</span> <span class=\"o\">=</span> <span class=\"nx\">page_number</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n          <span class=\"nx\">max</span><span class=\"p\">,</span>\n          <span class=\"nx\">offset</span> <span class=\"o\">=</span> <span class=\"nx\">startRange</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">offset</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n      <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt; ã®æ¤œç´¢çµæœ '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">record_count</span> <span class=\"o\">+</span> <span class=\"s2\">\" ä»¶ä¸­ \"</span> <span class=\"o\">+</span>  <span class=\"nx\">startRange</span> <span class=\"o\">+</span> <span class=\"s1\">' - '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">endRange</span> <span class=\"o\">+</span> <span class=\"s1\">' ä»¶ç›® ('</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">exec_time</span> <span class=\"o\">+</span> <span class=\"s1\">' ç§’)'</span> <span class=\"o\">+</span>\n                               <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢</span>\n      <span class=\"nx\">$searchResultContent</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢çµæœã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$resultBody</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;ol/&gt;\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">results</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">max</span> <span class=\"o\">=</span> <span class=\"nx\">results</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">max</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">element</span> <span class=\"o\">=</span>\n            <span class=\"s1\">'&lt;li&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;h4 class=\"title\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;a href=\"'</span> <span class=\"o\">+</span><span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">url_link</span> <span class=\"o\">+</span> <span class=\"s1\">'\"&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">title</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/a&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/h4&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div class=\"body\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">content_description</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;br/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;cite&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">site</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/cite&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/li&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$resultBody</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">$resultBody</span><span class=\"p\">.</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">pageArea</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div id=\"pageInfo\"&gt;'</span><span class=\"p\">,</span> <span class=\"nx\">page_number</span><span class=\"p\">,</span> <span class=\"s1\">'ãƒšãƒ¼ã‚¸ç›®&lt;br/&gt;'</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"prevPageLink\" href=\"#\"&gt;&amp;lt;&amp;lt;å‰ãƒšãƒ¼ã‚¸ã¸&lt;/a&gt; '</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&lt;</span> <span class=\"nx\">page_count</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"nextPageLink\" href=\"#\"&gt;æ¬¡ãƒšãƒ¼ã‚¸ã¸&amp;gt;&amp;gt;&lt;/a&gt;'</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">);</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.css</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">@charset</span> <span class=\"s1\">\"UTF-8\"</span><span class=\"p\">;</span>\n\n<span class=\"nf\">#search-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">relative</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* å…¥åŠ›é …ç›® */</span>\n<span class=\"nf\">#search-query</span> <span class=\"p\">{</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">100%</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">outline</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nt\">input</span><span class=\"nd\">:focus</span> <span class=\"p\">{</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#4d90fe</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">absolute</span><span class=\"p\">;</span>\n    <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">50%</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n    <span class=\"py\">font-sise</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */</span>\n    <span class=\"nl\">cursor</span><span class=\"p\">:</span><span class=\"nb\">pointer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span><span class=\"m\">#444</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1.4em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */</span>\n<span class=\"nf\">#search-result-area</span><span class=\"nc\">.show</span> <span class=\"p\">{</span>\n    <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#f8f8f7</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0px</span> <span class=\"nb\">solid</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E5%87%A6%E7%90%86%E3%82%92%E8%BF%BD%E5%8A%A0\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ </h3>\n\n<p>å‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã‚’ã€<br>\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\n<code>full-text-search.js</code>ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€<br>\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n</pre></div></div>\n\n<p><code>asciidoctor-sample.adoc</code>ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>++++\n&lt;link rel=\"stylesheet\" href=\"../full-text-search.css\"&gt;&lt;/link&gt;\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"../full-text-search.js\"&gt;&lt;/script&gt;\n++++\n</pre></div></div>\n\n<h3>\n<span id=\"å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª</h3>\n\n<p>ä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png\"></a><br>\n<br></p>\n\n<p>æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png\"></a><br>\n<br></p>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>Fessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"http://fess.codelibs.org/ja/articles/article-4.html#js\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨</a></li>\n<li><a href=\"http://qiita.com/cookienote/items/1f2443be25630a78d946\" id=\"reference-69c989703115d994be84\">å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™</a></li>\n</ul>\n","body":"[Asciidoctor](http://asciidoctor.org/)ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®[Fess](http://fess.codelibs.org/ja/)ã‚’ç«‹ã¦ã¦ã€\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\nå°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![6æœˆ-24-2017 19-05-32.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif \"6æœˆ-24-2017 19-05-32.gif\")\n\n\n## Fessã¨ã¯\n[Fess](http://fess.codelibs.org/ja/)ã¯**ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€**ã§ã™ã€‚\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚\n\n\n## å…¨ä½“åƒ\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\n![0_Fess_å…¨ä½“åƒ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png)\n\n![0_Fess_å…¨ä½“åƒ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png)\n\n## å°å…¥æ‰‹é †\nã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒ\u001cï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚\n\n![0_Fess_å…¨ä½“åƒ_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png)\n\n\n### Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nDocker Hubã®[codelibs/fess](https://hub.docker.com/r/codelibs/fess/)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯[Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](http://fess.codelibs.org/ja/11.2/install/index.html)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\n```\n$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n```\n\n### Fessã®è¨­å®š\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\n`http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€`admin/admin`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚\n![1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png)\n<br/>\n\nãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®`ã‚¯ãƒ­ãƒ¼ãƒ©` > `Web`ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚\n![2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®`+ã€€æ–°è¦ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png \"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\")\n\nè¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚\n\n* åå‰ \n    * ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n* URL \n    * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«`/`ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n* ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n    * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜`URL`ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€`URLã§è¨­å®šã—ãŸå€¤` + `.*` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n* æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n   * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€`URLã§è¨­å®šã—ãŸå€¤` + `.+\\.html$` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br/>\n<br/>\n\n\nå€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦`+ã€€ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\nå·¦ãƒšã‚¤ãƒ³ã§ã€€`ã‚·ã‚¹ãƒ†ãƒ ` > `ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©` ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ `Default Crawler`ã‚’é¸æŠã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png)\n<br/>\n\n`ä»Šã™ãé–‹å§‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png \"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\")\n<br/>\n\nã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png)\n<br/>\n\nã—ã°ã‚‰ãã—ã¦`F5`ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ`å®Ÿè¡Œä¸­`ã‹ã‚‰`æœ‰åŠ¹`ã«ãªã‚Šã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\nå·¦ãƒšã‚¤ãƒ³ã®`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±`>`ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±`ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\")\n<br/>\n\n\nã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\")\n<br/>\n\nã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\")\n<br/>\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\nå…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯`full-text-search.js`ã¨`full-text-search.css`ã®ï¼’ã¤ã§ã™ã€‚\n`full-text-search.js`ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚\n\n```javascript:full-text-search.js\n$(function() {\n    'use strict';\n\n    // FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰\n    var FESS_JSON_ENDPOINT = 'http://192.168.1.5:10084/json';\n\n    // ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°\n    var COUNT_PAR_PAGE = 10;\n\n\n    // ç›®æ¬¡ã®\n    $('#toc')\n        // ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .prepend(\n            '<div id=\"search-area\">' +\n                '<form id=\"search-form\">' +\n                    '<div class=\"search-input-area\">' +\n                        '<i class=\"fa fa-search left-icon\"></i>' +\n                        '<input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" />' +\n                        '<i class=\"fa fa-close right-icon\"></i>' +\n                    '</div>' +\n                    '<input id=\"search-start\" type=\"hidden\" value=\"0\"/>' +\n                    '<input id=\"search-num\" type=\"hidden\" value=\"' + COUNT_PAR_PAGE + '\"/>' +\n                '<form>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            var $searchArea = $(this);\n\n            // å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find('#search-form').submit({navi:0}, doSearch);\n\n            // è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find(\".left-icon\").click({navi:0}, doSearch);\n\n            // æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€\n            $searchArea.find(\"#search-query\").keyup(function(){\n              var $this = $(this);\n              var $rightIcon = $this.parent().find(\".right-icon\");\n\n              if($this.val().length > 0) {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹\n                 $rightIcon.css('color','#555');\n              } else {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹\n                 $rightIcon.css('color','#ccc');\n              }\n            });\n\n            // Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€\n            $searchArea.find(\".right-icon\").click(function(){\n              // Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦\n              $(this).css('color','#ccc')\n                      // æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹\n                     .parent().find(\"input\").val('');\n            });\n        });\n\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®\n    $('#header>h1')\n        // ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .before(\n            '<div id=\"search-result-area\">' +\n                '<div id=\"search-result-subheader\"></div>' +\n                '<div id=\"search-result-content\"></div>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            $(this)\n                .find('#search-result-area')\n                    // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€\n                    .on(\"click\", '#remove-search-result', function(e) {\n                      var $searchResultArea = $(e.delegateTarget)\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹\n                      $searchResultArea.removeClass('show');\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹\n                      $searchResultArea.find('#search-result-subheader').empty();\n                      $searchResultArea.find('#search-result-content').empty();\n                    })\n                    // å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#prevPageLink\", {navi:-1}, doSearch)\n                    // æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#nextPageLink\", {navi:1}, doSearch);\n        });\n\n\n\n    /**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */\n    function doSearch(event){\n      // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—\n      var searchQuery = $.trim($('#search-query').val());\n      // ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„\n      if(searchQuery.length == 0) {\n        return false;\n      }\n\n\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—\n      var start = parseInt($('#search-start').val()),\n          num = parseInt($('#search-num').val());\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯\n      if(start < 0) {\n        start = 0;\n      }\n      // è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯\n      if(num < 1 || num > 100) {\n        num = 20;\n      }\n      // è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—\n      switch(event.data.navi) {\n        case -1:\n          // å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start -= num;\n          break;\n        case 1:\n          // æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start += num;\n          break;\n        default:\n        case 0:\n          start = 0;\n          break;\n      }\n\n\n      // URLã‚’æ§‹ç¯‰\n      var url = FESS_JSON_ENDPOINT + '?callback=?' + // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n                                     '&q=' + encodeURIComponent(searchQuery) +\n                                     '&start=' + start +\n                                     '&num=' + num;\n\n      // æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n      // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n      $.ajax({\n          url: url,\n          dataType: 'jsonp',\n          success: renderSearchResult\n      });\n\n\n      // ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°\n      $('#searchNum').val(num);\n\n      // ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•\n      $(document).scrollTop(0);\n\n      // ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™\n      return false;\n    };\n\n\n    /**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */\n    function renderSearchResult(data) {\n      // æ¤œç´¢çµæœå‡¦ç†\n      var dataResponse = data.response;\n      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n      if(dataResponse.status != 0) {\n        alert(\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n        return;\n      }\n\n      // æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹\n      $('#search-result-area').addClass('show');\n\n      var $searchResultSubheader = $('#search-result-subheader'),\n          $searchResultContent = $('#search-result-content'),\n          record_count = dataResponse.record_count;\n\n      // æ¤œç´¢çµæœãŒãªã„å ´åˆ\n      if(record_count == 0) {\n        // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n        $searchResultSubheader[0].innerHTML =  '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>';\n\n        // çµæœé ˜åŸŸã«å‡ºåŠ›\n        $searchResultContent[0].innerHTML = '<b>' + dataResponse.q + '</b>ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';\n\n        return;\n      }\n\n\n      // æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ\n      var page_number = dataResponse.page_number,\n          page_size = dataResponse.page_size,\n          page_count = dataResponse.page_count,\n          startRange = (page_number - 1) * page_size + 1,\n          endRange = page_number * page_size,\n          i = 0,\n          max,\n          offset = startRange - 1;\n\n      $('#search-start').val(offset);\n\n\n      // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n      $searchResultSubheader[0].innerHTML = '<b>' + dataResponse.q + '</b> ã®æ¤œç´¢çµæœ ' +\n                                record_count + \" ä»¶ä¸­ \" +  startRange + ' - ' +\n                                endRange + ' ä»¶ç›® (' + dataResponse.exec_time + ' ç§’)' +\n                               '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>'\n\n      // æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢\n      $searchResultContent.empty();\n\n\n      // æ¤œç´¢çµæœã®å‡ºåŠ›\n      var $resultBody = $(\"<ol/>\");\n      var results = dataResponse.result;\n      for(i = 0, max = results.length; i < max; i++) {\n        var element =\n            '<li>' +\n                '<h4 class=\"title\">' +\n                    '<a href=\"' +results[i].url_link + '\">' + results[i].title + '</a>' +\n                '</h4>' +\n                '<div class=\"body\">' +\n                    results[i].content_description +\n                    '<br/>' +\n                    '<cite>' + results[i].site + '</cite>' +\n                '</div>' +\n            '</li>';\n\n        $(element).appendTo($resultBody);\n      }\n      $resultBody.appendTo($searchResultContent);\n\n\n      // ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›\n      var pageArea = [];\n      pageArea.push('<div id=\"pageInfo\">', page_number, 'ãƒšãƒ¼ã‚¸ç›®<br/>');\n      if(page_number > 1) {\n        // å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"prevPageLink\" href=\"#\">&lt;&lt;å‰ãƒšãƒ¼ã‚¸ã¸</a> ');\n      }\n      if(page_number < page_count) {\n        // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"nextPageLink\" href=\"#\">æ¬¡ãƒšãƒ¼ã‚¸ã¸&gt;&gt;</a>');\n      }\n      pageArea.push('</div>');\n      $(pageArea.join(\"\")).appendTo($searchResultContent);\n    }\n});\n\n```\n\n\n```css:full-text-search.css\n@charset \"UTF-8\";\n\n#search-area {\n    margin-bottom: 1em;\n}\n\n.search-input-area {\n    position:relative;\n}\n\n/* å…¥åŠ›é …ç›® */\n#search-query {\n    padding: 0.7em 2em;\n    width: 100%;\n    color: black;\n    font-family: arial,sans-serif;\n    font-size: 1em;\n    border: 1px solid #ccc;\n    border-radius: 2em;\n    outline: 0;\n}\n\n.search-input-area input:focus {\n    border: 1px solid #4d90fe;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */\n.search-input-area .left-icon,\n.search-input-area .right-icon {\n    /* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */\n    position:absolute;\n    top: 50%;\n    margin-top: -0.5em;\n    font-sise: 1em;\n    /* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */\n    cursor:pointer;\n}\n\n.search-input-area .left-icon {\n    left: 0.7em;\n    color:#444;\n}\n\n.search-input-area .right-icon {\n    right: 0.7em;\n    /* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */\n    color: #ccc;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */\n.search-input-area .left-icon:hover,\n.search-input-area .right-icon:hover {\n    font-size: 1.4em;\n}\n\n\n.search-input-area .left-icon:hover {\n    left: 0.5em;\n}\n\n\n.search-input-area .right-icon:hover {\n    right: 0.5em;\n}\n\n/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */\n#search-result-area.show {\n    background: #f8f8f7;\n    border: 0px solid;\n    border-radius: 0.5em;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    padding: 1em;\n}\n\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \nå‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ`full-text-search.js`ã¨`full-text-search.css`ã‚’ã€\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\n`full-text-search.js`ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€\n\n```\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n```\n\n\n`asciidoctor-sample.adoc`ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n++++\n<link rel=\"stylesheet\" href=\"../full-text-search.css\"></link>\n<script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"></script>\n<script src=\"../full-text-search.js\"></script>\n++++\n```\n\n### å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\nä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png)\n<br/>\n\næ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png)\n<br/>\n\n\n## ã¾ã¨ã‚\nFessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚\n\n\n## å‚è€ƒ\n* [Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨](http://fess.codelibs.org/ja/articles/article-4.html#js)\n* [å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™](http://qiita.com/cookienote/items/1f2443be25630a78d946)\n\n","comments_count":0,"created_at":"2017-06-26T00:21:37+09:00","likes_count":21,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/bb5bc899-9dfd-5e67-bc4c-bc422ba8d176/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","date":"2017-07-19T02:06:59+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","MongoDB","Express","TypeScript","AngularJS","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"bb5bc899-9dfd-5e67-bc4c-bc422ba8d176","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li><a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\" id=\"reference-b35cd1a7f8ba1daaecd8\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a></li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼‘-ãƒ“ãƒ«ãƒ‰ç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%91-%E3%83%93%E3%83%AB%E3%83%89%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</h2>\n\n<p>Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/build\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€</p>\n\n<h5>\n<span id=\"1-1-distserver\" class=\"fragment\"></span><a href=\"#1-1-distserver\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server</h5>\n\n<p>ã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚<br>\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚<br>\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"1-2-distserverpublic\" class=\"fragment\"></span><a href=\"#1-2-distserverpublic\"><i class=\"fa fa-link\"></i></a>(1-2) dist/server/public</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚<br>\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"2-server\" class=\"fragment\"></span><a href=\"#2-server\"><i class=\"fa fa-link\"></i></a>(2) server</h5>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"3-src\" class=\"fragment\"></span><a href=\"#3-src\"><i class=\"fa fa-link\"></i></a>(3) src</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚<br>\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"4-proxyconfjson\" class=\"fragment\"></span><a href=\"#4-proxyconfjson\"><i class=\"fa fa-link\"></i></a>(4) proxy.conf.json</h5>\n\n<p><code>npm start</code>ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>\n<p>Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g @angular/cli\n</pre></div></div>\n</li>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ ng new sample\n$ cd sample\n$ npm install\n</pre></div></div>\n</li>\n<li>\n<p>Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n</p>\n<dd>\n<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/express\" rel=\"nofollow noopener\" target=\"_blank\"><code>express</code></a><br>\n    </dt>\n<dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noopener\" target=\"_blank\"><code>body-parser</code></a><br>\n    </dt>\n<dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/mongoose\" rel=\"nofollow noopener\" target=\"_blank\"><code>mongoose</code></a><br>\n    </dt>\n<dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/nodemon\" rel=\"nofollow noopener\" target=\"_blank\"><code>nodemon</code></a><br>\n    </dt>\n<dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/npm-run-all\" rel=\"nofollow noopener\" target=\"_blank\"><code>npm-run-all</code></a><br>\n    </dt>\n<dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸<br>\n</dd>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save express body-parser mongoose\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«<code>server</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"servermodelsmessagets\" class=\"fragment\"></span><a href=\"#servermodelsmessagets\"><i class=\"fa fa-link\"></i></a>server/models/message.ts</h4>\n\n<p>MongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Message</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'messages'</span><span class=\"p\">,</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">}</span>\n<span class=\"p\">}));</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverroutesmessagets\" class=\"fragment\"></span><a href=\"#serverroutesmessagets\"><i class=\"fa fa-link\"></i></a>server/routes/message.ts</h4>\n\n<p>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯<code>server/models/message.ts</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../models/message'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">messageRouter</span><span class=\"p\">:</span> <span class=\"nx\">Router</span> <span class=\"o\">=</span> <span class=\"nx\">Router</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">doc</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span><span class=\"na\">messages</span><span class=\"p\">:</span> <span class=\"nx\">doc</span><span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Message</span><span class=\"p\">({</span>\n    <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">((</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n      <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n      <span class=\"na\">obj</span><span class=\"p\">:</span> <span class=\"nx\">result</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverappts\" class=\"fragment\"></span><a href=\"#serverappts\"><i class=\"fa fa-link\"></i></a>server/app.ts</h4>\n\n<p>Expressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯<code>/api/messages</code>ã«è¨­å®šã—ã€<br>\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€<br>\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">express</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">path</span> <span class=\"k\">from</span> <span class=\"s1\">'path'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">bodyParser</span> <span class=\"k\">from</span> <span class=\"s1\">'body-parser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./routes/message'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MONGO_URL</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./config'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">class</span> <span class=\"nx\">App</span> <span class=\"p\">{</span>\n  <span class=\"kr\">public</span> <span class=\"nx\">express</span><span class=\"p\">:</span> <span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">Application</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">middleware</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">routes</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">middleware</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">());</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">urlencoded</span><span class=\"p\">({</span> <span class=\"na\">extended</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"p\">}));</span>\n    <span class=\"c1\">// æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nb\">Promise</span> <span class=\"o\">=</span> <span class=\"nb\">global</span><span class=\"p\">.</span><span class=\"nb\">Promise</span><span class=\"p\">;</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">MONGO_URL</span> <span class=\"o\">||</span> <span class=\"nx\">MONGO_URL</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">useMongoClient</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"p\">});</span>\n    <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'SIGINT'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">disconnect</span><span class=\"p\">();</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">routes</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kr\">static</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public'</span><span class=\"p\">)));</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"nx\">messageRouter</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">sendFile</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public/index.html'</span><span class=\"p\">));</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"k\">new</span> <span class=\"nx\">App</span><span class=\"p\">().</span><span class=\"nx\">express</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverbinwwwts\" class=\"fragment\"></span><a href=\"#serverbinwwwts\"><i class=\"fa fa-link\"></i></a>server/bin/www.ts</h4>\n\n<p>Node.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">www.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../config'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../app'</span><span class=\"p\">;</span>\n\n\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã®è¨­å®š.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">port</span> <span class=\"o\">=</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">PORT</span> <span class=\"o\">||</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">);</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">set</span><span class=\"p\">(</span><span class=\"s1\">'port'</span><span class=\"p\">,</span> <span class=\"nx\">port</span><span class=\"p\">);</span>\n\n\n<span class=\"c1\">// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">server</span> <span class=\"o\">=</span> <span class=\"nx\">http</span><span class=\"p\">.</span><span class=\"nx\">createServer</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"nx\">port</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">`API running on localhost:</span><span class=\"p\">${</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">));</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"nx\">onError</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'listening'</span><span class=\"p\">,</span> <span class=\"nx\">onListening</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">):</span> <span class=\"nx\">number</span><span class=\"o\">|</span><span class=\"nx\">string</span><span class=\"o\">|</span><span class=\"kr\">boolean</span>  <span class=\"p\">{</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">:</span> <span class=\"nx\">number</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">val</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"p\">:</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">isNaN</span><span class=\"p\">(</span><span class=\"nx\">normalizedPort</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">normalizedPort</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onError</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">):</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">syscall</span> <span class=\"o\">!==</span> <span class=\"s1\">'listen'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"k\">typeof</span> <span class=\"nx\">port</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span>\n    <span class=\"p\">?</span> <span class=\"s1\">'Pipe '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span>\n    <span class=\"p\">:</span> <span class=\"s1\">'Port '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span><span class=\"p\">;</span>\n\n  <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EACCES'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' requires elevated privileges'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EADDRINUSE'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' is already in use'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"nl\">default</span><span class=\"p\">:</span>\n      <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onListening</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">addr</span> <span class=\"o\">=</span> <span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">address</span><span class=\"p\">();</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">addr</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"s2\">`pipe </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">}</span><span class=\"s2\">`</span>\n    <span class=\"p\">:</span> <span class=\"s2\">`port </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">.</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverconfigts\" class=\"fragment\"></span><a href=\"#serverconfigts\"><i class=\"fa fa-link\"></i></a>server/config.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚<br>\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">config.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"o\">=</span> <span class=\"mi\">3000</span><span class=\"p\">;</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">MONGO_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'mongodb://localhost:27017/test'</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€<br>\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappmessagemessageservicets\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicets\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MessageService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">http</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n        <span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">regist</span><span class=\"p\">(</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n      <span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">message</span><span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponentts\" class=\"fragment\"></span><a href=\"#srcappappcomponentts\"><i class=\"fa fa-link\"></i></a>src/app/app.component.ts</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-root'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./app.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./app.component.css'</span><span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">MessageService</span> <span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">{</span>\n  <span class=\"nl\">messages</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n  <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">messageService</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">getMessages</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">;</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">registerMessage</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponenthtml\" class=\"fragment\"></span><a href=\"#srcappappcomponenthtml\"><i class=\"fa fa-link\"></i></a>src/app/app.component.html</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">id=</span><span class=\"s\">\"getMessagesButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">getMessages</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–<span class=\"nt\">&lt;/button&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">id=</span><span class=\"s\">\"messageList\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let item of messages\"</span><span class=\"nt\">&gt;</span>\n        {{item.message}}\n      <span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessage\"</span> <span class=\"err\">[(</span><span class=\"na\">ngModel</span><span class=\"err\">)]=\"</span><span class=\"na\">message</span><span class=\"err\">\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessageButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)='</span><span class=\"na\">registerMessage</span><span class=\"err\">()'</span><span class=\"nt\">&gt;</span>ç™»éŒ²<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappmodulets\" class=\"fragment\"></span><a href=\"#srcappappmodulets\"><i class=\"fa fa-link\"></i></a>src/app/app.module.ts</h4>\n\n<p>HttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">BrowserModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/platform-browser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">NgModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">HttpModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">AppComponent</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">BrowserModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">HttpModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">FormsModule</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">],</span>\n  <span class=\"na\">bootstrap</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">AppComponent</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E3%83%93%E3%83%AB%E3%83%89%E3%81%BE%E3%82%8F%E3%82%8A%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"pakcagejson\" class=\"fragment\"></span><a href=\"#pakcagejson\"><i class=\"fa fa-link\"></i></a>pakcage.json</h4>\n\n<p>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">\n  </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server -p start:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p watch:server boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server/bin/www.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build:server build:client\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng build --output-path=./dist/server/public\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"buildRun\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>start</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>start:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚</li>\n<li>\n<strong>start:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server</strong>ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build</strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>build:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹<code>/server/tsconfig.server.json</code>ã‚’ä½¿ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ<code>dist/server/public</code>ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>buildRun</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"servertsconfigserverjson\" class=\"fragment\"></span><a href=\"#servertsconfigserverjson\"><i class=\"fa fa-link\"></i></a>server/tsconfig.server.json</h4>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>outDir</code>ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"proxyconfjson\" class=\"fragment\"></span><a href=\"#proxyconfjson\"><i class=\"fa fa-link\"></i></a>proxy.conf.json</h4>\n\n<p><code>start</code>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©<br>\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>/api</code>å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">proxy.conf.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"/api\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"target\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://localhost:3000\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"secure\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"mongodbã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\" class=\"fragment\"></span><a href=\"#mongodb%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\"><i class=\"fa fa-link\"></i></a>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</h4>\n\n<p>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"5-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#5-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm start \n</pre></div></div>\n</li>\n<li><p>èµ·å‹•ã—ãŸã‚‰<code>http://localhost:4200</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<ul>\n<li>è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build\n</pre></div></div>\n</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯<code>http://localhost:3000</code>ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n<code>\n$ npm run buildRun\n</code>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ<a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a>ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* [ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n\n## ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/build)ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€\n\n##### (1-1) dist/server\nã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (1-2) dist/server/public\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚\n\n##### (2) server\nã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚\n\n##### (3) src\nãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (4) proxy.conf.json\n`npm start`ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚\n\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n* Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ npm install -g @angular/cli\n\t```\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ ng new sample\n\t$ cd sample\n\t$ npm install\n\t```\n\n* Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<dd>\n    <dt>[`express`](https://www.npmjs.com/package/express)\n        <dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n    <dt>[`body-parser`](https://www.npmjs.com/package/body-parser)\n        <dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼\n    <dt>[`mongoose`](https://www.npmjs.com/package/mongoose)\n        <dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API\n    <dt>[`nodemon`](https://www.npmjs.com/package/nodemon)\n        <dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«\n    <dt>[`npm-run-all`](https://www.npmjs.com/package/npm-run-all)\n        <dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n</dd>\n\n\t```\n\t$ npm install --save express body-parser mongoose\n\t$ npm install --save-dev @types/mongoose nodemon npm-run-all\n\t```\n\n\n\n### 2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nAngular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«`server`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n#### server/models/message.ts\nMongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as mongoose from 'mongoose';\n\nconst Message = mongoose.model('messages', new mongoose.Schema({\n  message: {type: String}\n}));\n\nexport { Message };\n```\n\n\n\n#### server/routes/message.ts\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯`server/models/message.ts`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as http from 'http';\nimport { Router, Response } from 'express';\nimport { Message } from '../models/message';\n\nconst messageRouter: Router = Router();\n\n// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹\nmessageRouter.get('/', (req, res, next) => {\n  Message.find(function(err, doc) {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({messages: doc});\n  });\n});\n\n// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹\nmessageRouter.post('/', (req, res, next) => {\n  const message = new Message({\n    message: req.body.message\n  });\n\n  message.save((err, result) => {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({\n      message: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚',\n      obj: result\n    });\n  });\n});\n\nexport { messageRouter };\n```\n\n\n#### server/app.ts\nExpressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯`/api/messages`ã«è¨­å®šã—ã€\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.ts\nimport * as express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as mongoose from 'mongoose';\n\nimport { messageRouter } from './routes/message';\nimport { MONGO_URL } from './config';\n\nclass App {\n  public express: express.Application;\n\n  constructor() {\n    this.express = express();\n    this.middleware();\n    this.routes();\n  }\n\n  private middleware(): void {\n    this.express.use(bodyParser.json());\n    this.express.use(bodyParser.urlencoded({ extended: false }));\n    // æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š\n    mongoose.Promise = global.Promise;\n    mongoose.connect(process.env.MONGO_URL || MONGO_URL, {\n      useMongoClient: true,\n    });\n    process.on('SIGINT', function() { mongoose.disconnect(); });\n  }\n\n  private routes(): void {\n    // é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.use(express.static(path.join(__dirname, 'public')));\n\n    this.express.use('/api/messages', messageRouter);\n\n    // ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'public/index.html'));\n    });\n  }\n}\n\nexport default new App().express;\n```\n\n\n#### server/bin/www\\.ts\nNode.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n```js:www.ts\nimport * as http from 'http';\nimport { SERVER_PORT } from '../config';\nimport app from '../app';\n\n\n\n// ãƒãƒ¼ãƒˆã®è¨­å®š.\nconst port = normalizePort(process.env.PORT || SERVER_PORT);\napp.set('port', port);\n\n\n// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.\nconst server = http.createServer(app);\nserver.listen(port, () => console.log(`API running on localhost:${port}`));\nserver.on('error', onError);\nserver.on('listening', onListening);\n\n// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.\nfunction normalizePort(val): number|string|boolean  {\n\n  const normalizedPort: number = (typeof val === 'string')\n    ? parseInt(val, 10)\n    : val;\n\n  if (isNaN(normalizedPort)) {\n    return val;\n  }\n\n  if (normalizedPort >= 0) {\n    return normalizedPort;\n  }\n\n  return false;\n}\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.\nfunction onError(error): void {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.\nfunction onListening(): void {\n  const addr = server.address();\n  const bind = (typeof addr === 'string')\n    ? `pipe ${addr}`\n    : `port ${addr.port}`;\n}\n```\n\n#### server/config.ts\nã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚\n\n```js:config.ts\nexport const SERVER_PORT = 3000;\nexport const MONGO_URL = 'mongodb://localhost:27017/test';\n```\n\n\n\n### 3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚\n\n\n#### src/app/message/message.service.ts\nã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚\n\n```js:message.service.ts\nimport { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class MessageService {\n\n  constructor(private http: Http) {}\n\n  getAll(): Observable<any> {\n    return this.http\n        .get('/api/messages')\n        .map((response: Response) => {\n            const result = response.json();\n            return result;\n        })\n        .catch((error: Response) => Observable.throw(error.json()));\n  }\n\n  regist(message: string): Observable<any> {\n    return this.http\n      .post('/api/messages', {message: message})\n      .map((response: Response) => {\n            const result = response.json();\n            return result;\n      })\n      .catch((error: Response) => Observable.throw(error.json()));\n  }\n}\n```\n\n\n\n\n\n#### src/app/app.component.ts\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚\n\n```js:app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { MessageService } from './message/message.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [ MessageService ]\n})\nexport class AppComponent {\n  messages: Array<any>;\n  message: string;\n\n  constructor(private messageService: MessageService) {\n    this.getMessages();\n  }\n\n  getMessages(): void {\n    this.messageService\n      .getAll()\n      .subscribe((res: any) => {\n        this.messages = res.messages;\n      });\n  }\n\n  registerMessage(): void {\n    if (!this.message) {\n      return;\n    }\n\n    this.messageService\n      .register(this.message)\n      .subscribe((res: any) => {\n        this.message = '';\n        this.getMessages();\n      });\n  }\n}\n```\n\n\n#### src/app/app.component.html\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚\n\n```html:app.component.html\n<div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</h1>\n    <button id=\"getMessagesButton\" (click)=\"getMessages()\">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–</button>\n    <ul id=\"messageList\">\n      <li *ngFor=\"let item of messages\">\n        {{item.message}}\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²</h1>\n    <input type=\"text\" id=\"registerMessage\" [(ngModel)]=\"message\" placeholder=\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\">\n    <button type=\"submit\" id=\"registerMessageButton\" (click)='registerMessage()'>ç™»éŒ²</button>\n  </div>\n</div>\n```\n#### src/app/app.module.ts\nHttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n\n```js:app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [MessageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n```\n\n\n### 4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\n\n#### pakcage.json\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)\n\n```json:package.json\n\n  \"scripts\": {\n    ...\n    \"start\": \"npm-run-all -s build:server -p start:*\",\n    \"start:client\": \"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\",\n    \"start:server\": \"run-p watch:server boot:server\",\n    \"watch:server\": \"tsc -w -p ./server/tsconfig.server.json\",\n    \"boot:server\": \"nodemon ./dist/server/bin/www.js\",\n    \"build\": \"run-s build:server build:client\",\n    \"build:client\": \"ng build --output-path=./dist/server/public\",\n    \"build:server\": \"tsc -p ./server/tsconfig.server.json\",\n    \"buildRun\": \"run-s build boot:server\",\n    ...\n  },\n```\n\n* **start**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **start:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚\n* **start:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **watch:server**ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\n* **build:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹`/server/tsconfig.server.json`ã‚’ä½¿ã„ã¾ã™ã€‚\n* **build:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ`dist/server/public`ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n* **buildRun**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n\n\n\n#### server/tsconfig.server.json\nã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`outDir`ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```json:tsconfig.server.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist/server\",\n    \"mapRoot\": \"../dist/server\",\n    \"module\": \"commonjs\"\n  }\n}\n```\n\n#### proxy.conf.json\n`start`ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`/api`å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\n\n```json:proxy.conf.json\n{\n  \"/api\": {\n    \"target\": \"http://localhost:3000\",\n    \"secure\": false\n  }\n}\n```\n\n#### MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\nå…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n\n\n### 5. è©¦ã—ã¦ã¿ã‚‹\n#### ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚\n\n\t```\n\t$ npm start \n\t```\n\n* èµ·å‹•ã—ãŸã‚‰`http://localhost:4200`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n* è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n\t```\n\t$ npm run build\n\t```\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯`http://localhost:3000`ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\t```\n\t$ npm run buildRun\n\t```\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ[ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n\n\n","comments_count":0,"created_at":"2017-07-19T02:06:59+09:00","likes_count":27,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/5644c24e-eade-50ca-aa11-83a4eaeba122/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","date":"2017-07-24T07:12:10+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","jasmine","TypeScript","AngularJS","Protractor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"5644c24e-eade-50ca-aa11-83a4eaeba122","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\" id=\"reference-fc6741a6eda3b7ffd9f1\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a></li>\n<li>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼’-ãƒ†ã‚¹ãƒˆç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%92-%E3%83%86%E3%82%B9%E3%83%88%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</h2>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚<br>\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<p>ã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/test\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚</p>\n\n<h5>\n<span id=\"1-1-distserver_test\" class=\"fragment\"></span><a href=\"#1-1-distserver_test\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server_test</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚<br>\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"2-server_test\" class=\"fragment\"></span><a href=\"#2-server_test\"><i class=\"fa fa-link\"></i></a>(2) server_test</h5>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"3-e2e\" class=\"fragment\"></span><a href=\"#3-e2e\"><i class=\"fa fa-link\"></i></a>(3) e2e</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚</p>\n\n<h5>\n<span id=\"4-srcappé…ä¸‹ã®spectsãƒ•ã‚¡ã‚¤ãƒ«\" class=\"fragment\"></span><a href=\"#4-srcapp%E9%85%8D%E4%B8%8B%E3%81%AEspects%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"><i class=\"fa fa-link\"></i></a>(4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"5-protractorconfjs\" class=\"fragment\"></span><a href=\"#5-protractorconfjs\"><i class=\"fa fa-link\"></i></a>(5) protractor.conf.js</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚<br>\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://www.npmjs.com/package/zone.js\" rel=\"nofollow noopener\" target=\"_blank\"><code>zone.js@0.8.12</code></a>\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«<code>Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'</code>ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚<a href=\"https://github.com/angular/zone.js/issues/832\" rel=\"nofollow noopener\" target=\"_blank\">GitHubã®issues</a>ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.npmjs.com/package/supertest\" rel=\"nofollow noopener\" target=\"_blank\"><code>supertest</code></a>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappappcomponentspects\" class=\"fragment\"></span><a href=\"#srcappappcomponentspects\"><i class=\"fa fa-link\"></i></a>src/app/app.component.spec.ts</h4>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚<br>\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€<code>TestBed</code>ã®<code>overrideComponent</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">ComponentFixture</span><span class=\"p\">,</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'AppComponent'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component</span>\n  <span class=\"kd\">let</span> <span class=\"na\">component</span><span class=\"p\">:</span> <span class=\"nx\">AppComponent</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture</span>\n  <span class=\"kd\">let</span> <span class=\"na\">fixture</span><span class=\"p\">:</span> <span class=\"nx\">ComponentFixture</span><span class=\"o\">&lt;</span><span class=\"nx\">AppComponent</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">{</span>\n    <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">response</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n      <span class=\"p\">]};</span>\n\n      <span class=\"k\">return</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">([</span><span class=\"nx\">response</span><span class=\"p\">]);</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(</span><span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">],</span>\n      <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"nx\">AppComponent</span>\n      <span class=\"p\">],</span>\n    <span class=\"p\">})</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š</span>\n    <span class=\"p\">.</span><span class=\"nx\">overrideComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">set</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"na\">useClass</span><span class=\"p\">:</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">},</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">compileComponents</span><span class=\"p\">();</span>\n\n    <span class=\"nx\">fixture</span> <span class=\"o\">=</span> <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">createComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">);</span>\n    <span class=\"nx\">component</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">detectChanges</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">component</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n    <span class=\"p\">]);</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">const</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">nativeElement</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span><span class=\"p\">);</span>\n  <span class=\"p\">}));</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappmessagemessageservicespectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicespects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚<br>\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯<code>MockBackend</code>ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚<br>\nãªãŠ<code>Error</code>ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§<code>register</code>ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">HttpModule</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">,</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span><span class=\"p\">,</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MockConnection</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">RequestMethod</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message.service'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'MessageService'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MockError</span> <span class=\"kd\">extends</span> <span class=\"nx\">Response</span> <span class=\"kr\">implements</span> <span class=\"nb\">Error</span> <span class=\"p\">{</span>\n    <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n    <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">HttpModule</span><span class=\"p\">],</span>\n      <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n        <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">,</span>\n        <span class=\"na\">useFactory</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"k\">new</span> <span class=\"nx\">Http</span><span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">),</span>\n        <span class=\"na\">deps</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n      <span class=\"p\">},</span> <span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">service</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">})));</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'getAll'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">200</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockRespond</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">Response</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockError</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">MockError</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚'</span><span class=\"p\">);</span>\n      <span class=\"p\">},</span> <span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">});</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n  <span class=\"p\">});</span>\n\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚<br>\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚<br>\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯<a href=\"https://mochajs.org/\" rel=\"nofollow noopener\" target=\"_blank\">Mocha</a>ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"server_testappspectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#server_testappspects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚<br>\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®<code>spyOn</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">supertest</span> <span class=\"k\">from</span> <span class=\"s1\">'supertest'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/app'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/models/message'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">request</span> <span class=\"o\">=</span> <span class=\"nx\">supertest</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">endpoint</span> <span class=\"o\">=</span> <span class=\"s1\">'/api/messages'</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">messageAscending</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">,</span> <span class=\"nx\">m2</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&gt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&lt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({},</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'Get'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">);</span>\n        <span class=\"p\">}).</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"kd\">const</span> <span class=\"nx\">testData</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span> <span class=\"p\">},</span>\n      <span class=\"p\">];</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰</span>\n      <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">testData</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">erro</span> <span class=\"p\">,</span> <span class=\"nx\">doc</span> <span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n        <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n          <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">sortedMessages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">sort</span><span class=\"p\">(</span><span class=\"nx\">messageAscending</span><span class=\"p\">);</span>\n\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span><span class=\"p\">);</span>\n          <span class=\"p\">})</span>\n          <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹</span>\n      <span class=\"nx\">spyOn</span><span class=\"p\">(</span><span class=\"nx\">Message</span><span class=\"p\">,</span> <span class=\"s1\">'find'</span><span class=\"p\">).</span><span class=\"nx\">and</span><span class=\"p\">.</span><span class=\"nx\">callFake</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">),</span> <span class=\"kc\">null</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n          <span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">);</span>\n\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">);</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<p>E2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"packagejson\" class=\"fragment\"></span><a href=\"#packagejson\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson\" id=\"reference-fc6741a6eda3b7ffd9f1\">å‰å›</a>ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p test:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server_test/tsconfig.server_test.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server_test/test.server.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>test</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n<li>\n<strong>test:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server_test</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"server_testtestserverts\" class=\"fragment\"></span><a href=\"#server_testtestserverts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚<br>\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯<a href=\"https://www.npmjs.com/package/jasmine-spec-reporter\" rel=\"nofollow noopener\" target=\"_blank\">jasmine-spec-reporter</a>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">,</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'jasmine-spec-reporter'</span><span class=\"p\">;</span>\n<span class=\"kd\">const</span> <span class=\"nx\">Jasmine</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'jasmine'</span><span class=\"p\">);</span>\n<span class=\"k\">import</span> <span class=\"nx\">SuiteInfo</span> <span class=\"o\">=</span> <span class=\"nx\">jasmine</span><span class=\"p\">.</span><span class=\"nx\">SuiteInfo</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">config</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./test.server.conf'</span><span class=\"p\">;</span>\n\n\n<span class=\"kd\">class</span> <span class=\"nx\">CustomProcessor</span> <span class=\"kd\">extends</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">{</span>\n    <span class=\"kr\">public</span> <span class=\"nx\">displayJasmineStarted</span><span class=\"p\">(</span><span class=\"nx\">info</span><span class=\"p\">:</span> <span class=\"nx\">SuiteInfo</span><span class=\"p\">,</span> <span class=\"nx\">log</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">string</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"s2\">`TypeScript </span><span class=\"p\">${</span><span class=\"nx\">log</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">runner</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Jasmine</span><span class=\"p\">();</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">);</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">addReporter</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">({</span>\n    <span class=\"na\">customProcessors</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">CustomProcessor</span><span class=\"p\">],</span>\n<span class=\"p\">}));</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">onComplete</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">passed</span><span class=\"p\">){</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">passed</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Success'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"s1\">'Failed'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">execute</span><span class=\"p\">();</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtestserverconfts\" class=\"fragment\"></span><a href=\"#server_testtestserverconfts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.conf.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚<br>\næ³¨æ„ç‚¹ã¨ã—ã¦<code>spec_files</code>ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚<code>__dirname</code>ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.conf.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"na\">spec_dir</span><span class=\"p\">:</span> <span class=\"s1\">'.'</span><span class=\"p\">,</span>\n  <span class=\"na\">spec_files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">__dirname</span><span class=\"p\">}</span><span class=\"s2\">/*spec.js`</span>\n  <span class=\"p\">],</span>\n  <span class=\"s1\">'stopSpecOnExpectationFailure'</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"s1\">'random'</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtsconfigserver_testjson\" class=\"fragment\"></span><a href=\"#server_testtsconfigserver_testjson\"><i class=\"fa fa-link\"></i></a>server_test/tsconfig.server_test.json</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server_test.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"include\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"s2\">\"**/*.spec.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.conf.ts\"</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><code>outDir</code>ãŒ<code>../dist/server_test</code>ã§ã¯ãªã<code>../dist</code>ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br>\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯<code>server</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€<code>../dist/server_test</code>ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<h3>\n<span id=\"5-e2eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#5-e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ</h3>\n\n<p>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚<br>\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"e2eappe2e-spects\" class=\"fragment\"></span><a href=\"#e2eappe2e-spects\"><i class=\"fa fa-link\"></i></a>e2e/app.e2e-spec.ts</h4>\n\n<p>åŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.e2e-spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.po'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">browser</span><span class=\"p\">,</span> <span class=\"nx\">element</span><span class=\"p\">,</span> <span class=\"nx\">by</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'protractor'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'E2Eãƒ†ã‚¹ãƒˆ'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">let</span> <span class=\"na\">page</span><span class=\"p\">:</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">();</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">getParagraphText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§'</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">newMessage</span> <span class=\"o\">=</span> <span class=\"s2\">`ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ </span><span class=\"p\">${</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">toString</span><span class=\"p\">()}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">sendKeys</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessageButton'</span><span class=\"p\">)).</span><span class=\"nx\">click</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'messageList'</span><span class=\"p\">)).</span><span class=\"nx\">all</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">tagName</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">));</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">last</span><span class=\"p\">().</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"6-e2eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#6-e2e%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"packagejson-1\" class=\"fragment\"></span><a href=\"#packagejson-1\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p>Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"e2e\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s  webdriver:update -p webdriver:start protractor\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:update\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager update\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager start\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"protractor\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"protractor protractor.conf.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>e2e</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®<code>e2e</code>ã‚³ãƒãƒ³ãƒ‰(= <code>ng e2e</code>ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚<code>ngã€€e2e</code>ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:update</strong>ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:start</strong>ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>\n<li>\n<strong>protractor</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"protractorconfjs\" class=\"fragment\"></span><a href=\"#protractorconfjs\"><i class=\"fa fa-link\"></i></a>protractor.conf.js</h4>\n\n<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">protractor.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"p\">...</span>\n  <span class=\"na\">baseUrl</span><span class=\"p\">:</span> <span class=\"s1\">'http://localhost:3000/'</span><span class=\"p\">,</span>\n  <span class=\"p\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"7-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#7-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>7. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</li>\n</ul>\n</li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<h4>\n<span id=\"e2eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹</p>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run buildRun</code>ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>npm run e2e</code>ã™ã‚‹</p>\n\n<ul>\n<li>åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* [ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)\n* ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n## ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`npm test`ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\nã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/test)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»\u001c(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»\u001c(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»\u001c(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚\n\n##### (1-1) dist/server_test\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (2) server_test\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚\n\n##### (3) e2e\nE2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\n\n##### (4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«\nãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (5) protractor.conf.js\nE2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```\n$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n```\n\n* [`zone.js@0.8.12`](https://www.npmjs.com/package/zone.js)\n    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«`Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'`ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚[GitHubã®issues](https://github.com/angular/zone.js/issues/832)ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n* [`supertest`](https://www.npmjs.com/package/supertest)\n    * ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚\n\n### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯`ng test`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚\n\n#### src/app/app.component.spec.ts\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€`TestBed`ã®`overrideComponent`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚\n\n\n```js:app.component.spec.ts\nimport { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\nimport { FormsModule } from '@angular/forms';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\ndescribe('AppComponent', () => {\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component\n  let component: AppComponent;\n\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture\n  let fixture: ComponentFixture<AppComponent>;\n\n  // MessageServiceã®ãƒ¢ãƒƒã‚¯\n  class MessageServiceMock {\n    getAll(): Observable<any> {\n      const response =  { messages : [\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n      ]};\n\n      return Observable.from([response]);\n    }\n  }\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [ FormsModule ],\n      declarations: [\n        AppComponent\n      ],\n    })\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š\n    .overrideComponent(AppComponent, {\n      set: {\n        providers: [\n          { provide: MessageService, useClass: MessageServiceMock },\n        ]\n      }\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  }));\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(() => {\n    const app = fixture.debugElement.componentInstance;\n    expect(app).toBeTruthy();\n  }));\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹', async(() => {\n    expect(component.messages).toEqual([\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n    ]);\n  }));\n\n\n  it('ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹', async(() => {\n\n    const el = fixture.debugElement.nativeElement;\n\n    expect(el.querySelectorAll('li').length).toEqual(3);\n    expect(el.querySelectorAll('li')[0].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1');\n    expect(el.querySelectorAll('li')[1].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2');\n    expect(el.querySelectorAll('li')[2].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3');\n  }));\n});\n\n```\n\n\n#### src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯`MockBackend`ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚\nãªãŠ`Error`ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§`register`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport { TestBed, async, inject } from '@angular/core/testing';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from '@angular/http';\nimport {MockBackend, MockConnection} from '@angular/http/testing';\nimport { RequestMethod } from '@angular/http';\n\nimport { MessageService } from './message.service';\n\n\ndescribe('MessageService', () => {\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯\n  class MockError extends Response implements Error {\n    name: any;\n    message: any;\n  }\n\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [MessageService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\n    expect(service).toBeTruthy();\n  })));\n\n\n  describe('getAll', () => {\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  { messages : [\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]};\n\n        const ops = new ResponseOptions({\n          status: 200,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockRespond(new Response(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe((res) => {\n        expect(res.messages.length).toEqual(3);\n        expect(res.messages).toEqual([\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]);\n      });\n    })));\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  {\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        };\n\n        const ops = new ResponseOptions({\n          status: 500,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockError(new MockError(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe(() => {\n        fail('ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚');\n      }, res => {\n        expect(res).toEqual({\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        });\n      });\n    })));\n\n  });\n\n\n});\n```\n\n\n\n### 3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯[Mocha](https://mochajs.org/)ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\n\n#### server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®`spyOn`ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport * as supertest from 'supertest';\n\nimport app from '../server/app';\nimport { Message } from '../server/models/message';\n\n\ndescribe('/api/messages', () => {\n  const request = supertest(app);\n  const endpoint = '/api/messages';\n\n  const messageAscending = (m1, m2) => {\n    if (m1.message > m2.message) {\n      return 1;\n    }\n\n    if (m1.message < m2.message) {\n      return -1;\n    }\n\n    return 0;\n  };\n\n  // ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹\n  beforeEach(() => {\n    Message.remove({}, () => {});\n  });\n\n\n  describe('Get', () => {\n\n    it('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹', (done) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(200);\n        }).end(done);\n    });\n\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹', (done) => {\n\n      const testData = [\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“' },\n      ];\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰\n      Message.create(testData, (erro , doc ) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n        request.get(endpoint)\n          .expect((res) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n            const sortedMessages = res.body.messages.sort(messageAscending);\n\n            expect(sortedMessages.length).toEqual(3);\n            expect(sortedMessages[0].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘');\n            expect(sortedMessages[1].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’');\n            expect(sortedMessages[2].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“');\n          })\n          .end(done);\n      });\n    });\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', (done) => {\n\n      // ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹\n      spyOn(Message, 'find').and.callFake(function(callback) {\n        callback(new Error('ã‚¨ãƒ©ãƒ¼'), null);\n      });\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\n          // æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(500);\n\n          expect(res.body.title).toEqual('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');\n          expect(res.body.error).toEqual('ã‚¨ãƒ©ãƒ¼');\n        })\n        .end(done);\n    });\n\n  });\n});\n```\n\n\n\n### 4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\nE2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚\n\n\n#### package.json\n[å‰å›](http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson)ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"test\": \"run-p test:*\",\n    \"test:client\": \"ng test\",\n    \"test:server\": \"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\",\n    \"watch:server_test\": \"tsc -w -p ./server_test/tsconfig.server_test.json\",\n    \"boot:server_test\": \"nodemon ./dist/server_test/test.server.js\",\n    \"build:server_test\": \"tsc -p ./server/tsconfig.server.json\",\n    ...\n  },\n```\n\n\n* **test**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n* **test:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚\n* **watch:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server_test**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### server_test/test.server.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯[jasmine-spec-reporter](https://www.npmjs.com/package/jasmine-spec-reporter)ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚\n\n```js:test.server.ts\nimport { SpecReporter, DisplayProcessor } from 'jasmine-spec-reporter';\nconst Jasmine = require('jasmine');\nimport SuiteInfo = jasmine.SuiteInfo;\n\nimport { config } from './test.server.conf';\n\n\nclass CustomProcessor extends DisplayProcessor {\n    public displayJasmineStarted(info: SuiteInfo, log: string): string {\n        return `TypeScript ${log}`;\n    }\n}\n\nconst runner = new Jasmine();\nrunner.loadConfig(config);\nrunner.addReporter(new SpecReporter({\n    customProcessors: [CustomProcessor],\n}));\nrunner.onComplete(function(passed){\n  if ( passed ) {\n    console.log('Success');\n  } else {\n    console.error('Failed');\n  }\n});\n\nrunner.execute();\n```\n\n\n#### server_test/test.server.conf.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚\næ³¨æ„ç‚¹ã¨ã—ã¦`spec_files`ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚`__dirname`ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n\n```js:test.server.conf.ts\nexport const config = {\n  spec_dir: '.',\n  spec_files: [\n    `${__dirname}/*spec.js`\n  ],\n  'stopSpecOnExpectationFailure': false,\n  'random': false\n};\n```\n\n\n\n#### server_test/tsconfig.server_test.json\n\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\n\n```json:tsconfig.server_test.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist\",\n    \"mapRoot\": \"../dist\",\n    \"module\": \"commonjs\"\n  } ,\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"./test.server.ts\",\n    \"./test.server.conf.ts\"\n  ]\n}\n```\n\n`outDir`ãŒ`../dist/server_test`ã§ã¯ãªã`../dist`ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯`server`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€`../dist/server_test`ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\n\n```:\u001cï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n```\n```:\u001cï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n```\n\n\n### 5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\nå˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n#### e2e/app.e2e-spec.ts\nåŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚\n\n```js:app.e2e-spec.ts\nimport { Angular4Express4Typescritp2Page } from './app.po';\nimport { browser, element, by } from 'protractor';\n\n\ndescribe('E2Eãƒ†ã‚¹ãƒˆ', () => {\n  let page: Angular4Express4Typescritp2Page;\n\n  beforeEach(() => {\n    page = new Angular4Express4Typescritp2Page();\n  });\n\n  it('ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹', () => {\n    page.navigateTo();\n    expect(page.getParagraphText()).toEqual('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§');\n  });\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹', () => {\n    page.navigateTo();\n    const newMessage = `ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ${new Date().toString()}`;\n    element(by.id('registerMessage')).sendKeys(newMessage);\n\n    element(by.id('registerMessageButton')).click();\n\n    // ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹\n    expect(element(by.id('registerMessage')).getText()).toEqual('');\n\n    // ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹\n    const messages = element(by.id('messageList')).all(by.tagName('li'));\n    expect(messages.last().getText()).toEqual(newMessage);\n  });\n\n});\n```\n\n### 6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\n\n#### package.json\nAngular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"e2e\": \"npm-run-all -s  webdriver:update -p webdriver:start protractor\",\n    \"webdriver:update\": \"webdriver-manager update\",\n    \"webdriver:start\": \"webdriver-manager start\",\n    \"protractor\": \"protractor protractor.conf.js\",\n    ...\n  },\n```\n\n* **e2e**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®`e2e`ã‚³ãƒãƒ³ãƒ‰(= `ng e2e`ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚`ngã€€e2e`ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\n* **webdriver:update**ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚\n* **webdriver:start**ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n* **protractor**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### protractor.conf.js\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```js:protractor.conf.js\nexports.config = {\n  ...\n  baseUrl: 'http://localhost:3000/',\n  ...\n}\n```\n\n### 7. è©¦ã—ã¦ã¿ã‚‹\n#### å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm test`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\n\n\n#### E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚\n \n* ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹\n    * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run buildRun`ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n\n* `npm run e2e`ã™ã‚‹\n    * åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n","comments_count":0,"created_at":"2017-07-24T07:12:10+09:00","likes_count":9,"reactions_count":0},"matches":5,"weight":300,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"TypeScript"},{"weight":50,"keyword":"AngularJS"},{"weight":50,"keyword":"Qiita"}],"avgWeight":60,"totalWeight":56,"threshold":10,"isRelated":true},{"node":{"fields":{"slug":"/b4c7d1b9-428f-569a-af40-527d89794a77/","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","date":"2017-12-20T02:36:27+09:00","excerpt":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!å¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚ã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€è‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?...","tags":["JavaScript","GitHub","TypeScript","chrome-extension","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"b4c7d1b9-428f-569a-af40-527d89794a77","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","rendered_body":"<p>Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!<br>\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚<br>\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€<br>\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„<br>\n<a href=\"https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension</a>ã‚’ä½œã‚Šã¾ã—ãŸã€‚<br>\n<strong>ãã®æ™‚ã«<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚</strong></p>\n\n<h2>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E9%9B%9B%E5%BD%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹</h2>\n\n<p>yomanã¨<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚</p>\n\n<ul>\n<li>\n<code>yoman</code>ã¨<code>generator-chrome-extension-kickstart-typescript</code>ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g yo generator-chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦<code>yo</code>ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n\n<ul>\n<li>\n<strong>What would you like to call this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å</li>\n</ul>\n</li>\n<li>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>How would you like to describe this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use UI Action?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€<code>No</code>,<code>Browser</code>,<code>Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>No</code> ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ</li>\n<li>\n<code>Browser</code> ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n<li>\n<code>Page</code> ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to override a chrome page?</strong>\n\n<ul>\n<li>Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€<code>No</code>,<code>Bookmarks Page</code>,<code>History Page</code>,<code>Newtab Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like more UI Features?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>Options Page</code> ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ</li>\n<li>\n<code>Devtools Page</code> ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ</li>\n<li>\n<code>Content Scripts</code> ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ</li>\n<li>\n<code>Omnibox</code> ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use permissions?</strong>\n\n<ul>\n<li>ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong>\n\n<ul>\n<li>Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>â€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ<br>\n<strong>What would you like to call this extension?</strong> =&gt; github-contributions-paint<br>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong> =&gt;  github-paint<br>\n<strong>How would you like to describe this extension?</strong> =&gt;  You can paint github contributions!<br>\n<strong>Would you like to use UI Action?</strong> =&gt; Browser<br>\n<strong>Would you like to override a chrome page?</strong> =&gt;  No<br>\n<strong>Would you like more UI Features?</strong> =&gt;  Content Scripts<br>\n<strong>Would you like to use permissions?</strong> =&gt;  Tabs<br>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong> =&gt;  Yes</p>\n\n<ul>\n<li>ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ</span></div>\n<div class=\"highlight\"><pre>github-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n</pre></div>\n</div>\n\n<ul>\n<li>æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install typescript --save-dev\n</pre></div></div>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==</p>\n\n<ul>\n<li>ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install gulp@3.9.0 --save-dev\n</pre></div></div>\n\n<p>â€»é–¢é€£ã™ã‚‹<a href=\"https://github.com/gulpjs/gulp/issues/1631\" rel=\"nofollow noopener\" target=\"_blank\">issue</a>ã€<a href=\"https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></p>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==</p>\n\n<h2>\n<span id=\"2-ä½œã£ãŸchrome-extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#2-%E4%BD%9C%E3%81%A3%E3%81%9Fchrome-extension%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹</h2>\n\n<p>é››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™</p>\n\n<ul>\n<li>ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run dev:chrome\n</pre></div></div>\n\n<ul>\n<li><p>Chromeã§<code>chrome://extensions</code>ã‚’é–‹ã„ã¦<code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" alt=\"æ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png\"></a></p></li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®<code>chrome</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" alt=\"æ“ä½œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png\"></a></p></li>\n<li><p>ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" alt=\"å‹•ä½œç¢ºèª1_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png\"></a></p></li>\n<li><p>ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" alt=\"å‹•ä½œç¢ºèª_11.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png\"></a></p></li>\n</ul>\n\n<h2>\n<span id=\"3-é–‹ç™ºä¸­ã«chrome-extensionã®å‹•ä½œç¢ºèªã™ã‚‹\" class=\"fragment\"></span><a href=\"#3-%E9%96%8B%E7%99%BA%E4%B8%AD%E3%81%ABchrome-extension%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹</h2>\n\n<p>é››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚<br>\n<code>npm run dev:chrome</code>ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚</p>\n\n<ul>\n<li>è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰</li>\n<li>æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n<a href=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" alt=\"é–‹ç™ºæ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png\"></a>\n</li>\n<li>Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹</li>\n</ul>\n\n<h2>\n<span id=\"4-ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\" class=\"fragment\"></span><a href=\"#4-%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F%E3%82%92%E4%BD%9C%E3%82%8B\"><i class=\"fa fa-link\"></i></a>4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹</h2>\n\n<p>ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚<br>\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚<br>\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"ã‚¢ã‚¤ã‚³ãƒ³\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\"><i class=\"fa fa-link\"></i></a>ã‚¢ã‚¤ã‚³ãƒ³</h3>\n\n<ul>\n<li>128x128\n\n<ul>\n<li>å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>48x48\n\n<ul>\n<li>æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>16x16\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"å®£ä¼ç”¨ç”»åƒ\" class=\"fragment\"></span><a href=\"#%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å®£ä¼ç”¨ç”»åƒ</h3>\n\n<ul>\n<li>440x280\n\n<ul>\n<li>å¿…é ˆ</li>\n</ul>\n</li>\n<li>920x680\n\n<ul>\n<li>å¤§ãã‚ã®ç”»åƒ</li>\n</ul>\n</li>\n<li>1400x560\n\n<ul>\n<li>ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"5-chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#5-chrome%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B9%E3%83%88%E3%82%A2%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹</h2>\n\n<ul>\n<li>é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€<code>manifest.json</code>ã¨<code>package.json</code>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">manifest.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build:chrome\n</pre></div></div>\n\n<ul>\n<li><p><a href=\"https://chrome.google.com/webstore/category/extensions\" rel=\"nofollow noopener\" target=\"_blank\">Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢</a>ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png\"></a></p></li>\n<li><p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§<code>æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png\"></a></p></li>\n<li><p><code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ </code>ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€<code>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png\"></a></p></li>\n<li><p>èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦<code>å¤‰æ›´ã‚’å…¬é–‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" alt=\"ç™»éŒ²_5.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png\"></a></p></li>\n<li><p>ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™</p></li>\n</ul>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚<br>\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€<br>\n<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚<br>\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„\n[è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension](https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja)ã‚’ä½œã‚Šã¾ã—ãŸã€‚\n**ãã®æ™‚ã«[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚**\n\n## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\nyomanã¨[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚\n\n* `yoman`ã¨`generator-chrome-extension-kickstart-typescript`ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install -g yo generator-chrome-extension-kickstart-typescript \n```\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦`yo`ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™\n\n```\n$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n```\n\n* ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n    * **What would you like to call this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å\n    * **And how would you call it if you only had 12 characters (short_name)?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™\n    * **How would you like to describe this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™\n    * **Would you like to use UI Action?**\n        * ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€`No`,`Browser`,`Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n            * `No` ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ\n            * `Browser` ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n            * `Page` ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n    * **Would you like to override a chrome page?**\n        * Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€`No`,`Bookmarks Page`,`History Page`,`Newtab Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n    * **Would you like more UI Features?**\n        * ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n            * `Options Page` ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ\n            * `Devtools Page` ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ\n            * `Content Scripts` ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ\n            * `Omnibox` ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ\n    * **Would you like to use permissions?**\n        * ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n    * **Would you like to install promo images for the Chrome Web Store?**\n        * Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™\n\n\nâ€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ\n**What would you like to call this extension?** => github-contributions-paint\n**And how would you call it if you only had 12 characters (short_name)?** =>  github-paint\n**How would you like to describe this extension?** =>  You can paint github contributions!\n**Would you like to use UI Action?** => Browser\n**Would you like to override a chrome page?** =>  No\n**Would you like more UI Features?** =>  Content Scripts\n**Would you like to use permissions?** =>  Tabs\n**Would you like to install promo images for the Chrome Web Store?** =>  Yes\n\n* ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™\n\n```:ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ\ngithub-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n```\n\n* æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install typescript --save-dev\n```\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==\n\n* ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚\n\n```\n$ npm install gulp@3.9.0 --save-dev\n```\n\n<small>â€»é–¢é€£ã™ã‚‹[issue](https://github.com/gulpjs/gulp/issues/1631)ã€[stackoverflow](https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp)</small>\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==\n## 2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\né››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™\n\n* ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™\n\n```\n$ npm run dev:chrome\n```\n\n* Chromeã§`chrome://extensions`ã‚’é–‹ã„ã¦`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![æ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png)\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®`chrome`ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ\n![æ“ä½œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png)\n\n* ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\n![å‹•ä½œç¢ºèª1_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png)\n\n\n* ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™\n![å‹•ä½œç¢ºèª_11.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png)\n\n\n## 3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹\né››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n`npm run dev:chrome`ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚\n\n* è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰\n* æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![é–‹ç™ºæ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png)\n* Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹\n\n## 4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\nã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚\n\n### ã‚¢ã‚¤ã‚³ãƒ³\n* 128x128\n    * å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 48x48\n    * æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 16x16\n    * ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨\n  \n### å®£ä¼ç”¨ç”»åƒ\n* 440x280\n    * å¿…é ˆ\n* 920x680\n    * å¤§ãã‚ã®ç”»åƒ\n* 1400x560\n    * ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ\n\n## 5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\n* é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€`manifest.json`ã¨`package.json`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™\n\n```json:manifest.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n```json:package.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n* ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™\n\n```\n$ npm run build:chrome\n```\n\n* [Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chrome.google.com/webstore/category/extensions)ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png)\n\n* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§`æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png)\n\n* `ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ `ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png)\n\n* èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦`å¤‰æ›´ã‚’å…¬é–‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![ç™»éŒ²_5.png](https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png)\n\n* ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€\n[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n","comments_count":5,"created_at":"2017-12-20T02:36:27+09:00","likes_count":48,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"TypeScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/e0ec0869-f368-5083-bdc2-cdba9d59427a/","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","date":"2017-12-12T03:19:11+09:00","excerpt":"FUJITSU Advent Calendar 2017 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€ã“ã“ï¼”ãƒ¶æœˆã»ã©MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œ...","tags":["JavaScript","Node.js","Express","mongoose","Angular","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"e0ec0869-f368-5083-bdc2-cdba9d59427a","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","rendered_body":"<p><a href=\"https://qiita.com/advent-calendar/2017/fujitsu\">FUJITSU Advent Calendar 2017</a> 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>\n\n<p>ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€<br>\nã“ã“ï¼”ãƒ¶æœˆã»ã©<strong>MEAN</strong>ã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB+<strong>E</strong>xpress+<strong>A</strong>ngular+<strong>N</strong>ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚<br>\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\n\n<p>ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%B4%B9%E4%BB%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®ç´¹ä»‹</h2>\n\n<p>æœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)</p>\n\n<ul>\n<li><a href=\"https://github.com/Takumon/mean-blog\" rel=\"nofollow noopener\" target=\"_blank\">Github</a></li>\n<li><a href=\"https://hub.docker.com/r/takumon/mean-blog_auto/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerhub</a></li>\n<li>\n<a href=\"https://material-blog-demo.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‡ãƒ¢ç’°å¢ƒ</a> (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)</li>\n</ul>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)<br>\n<a href=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" alt=\"appdemo_detail.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)<br>\n<a href=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)<br>\n<a href=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png\"></a></p>\n\n<h1>\n<span id=\"1-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã¾ã‚ã‚Š\" class=\"fragment\"></span><a href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%BE%E3%82%8F%E3%82%8A\"><i class=\"fa fa-link\"></i></a>1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š</h1>\n\n<h2>\n<span id=\"angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#angular%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%82%8B%E6%99%82%E3%81%AB%E5%8F%A4%E3%81%84%E6%83%85%E5%A0%B1%E3%82%92%E9%99%A4%E5%A4%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„</h2>\n\n<p>1ç³»ã¯<code>AngularJS</code>ã€2ç³»ä»¥é™ã¯<code>Angular</code>ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚<br>\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯<code>Angualr2</code>ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚<code>--AngularJS</code>ã‚’ã¤ã‘ãŸã‚Šã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"htmlã®domè¦ç´ ã‚’åˆ¥ã®domè¦ç´ ã¾ãŸã¯componentã‹ã‚‰æ‰±ã„ãŸã„\" class=\"fragment\"></span><a href=\"#html%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%82%92%E5%88%A5%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%81%BE%E3%81%9F%E3%81%AFcomponent%E3%81%8B%E3%82%89%E6%89%B1%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>HTMLã®DOMè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„</h2>\n\n<p>è¦ç´ ã«<code>#xxxxx</code>ã®ã‚ˆã†ã«<code>#</code>å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®DOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"err\">#</span><span class=\"na\">phone</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"é›»è©±ç•ªå·\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"c\">&lt;!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"nt\">&gt;</span>(click)=\"callPhone(phone.value)\"&gt;\n</pre></div>\n</div>\n\n<p>Componentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯<code>@ViewChild</code>ã‚’ä½¿ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"c1\">// ViewChildã®å¼•æ•°ã«åå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™</span>\n  <span class=\"p\">@</span><span class=\"nd\">ViewChild</span><span class=\"p\">(</span><span class=\"s1\">'phone'</span><span class=\"p\">)</span> <span class=\"nx\">phoneElement</span><span class=\"p\">:</span> <span class=\"nx\">phoneElement</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">showPhoneValue</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">phoneElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n    <span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/template-syntax#ref-vars\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\" class=\"fragment\"></span><a href=\"#routing%E6%99%82%E3%81%AE%E8%AA%8D%E8%A8%BC%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„</h2>\n\n<p>URLã”ã¨ã®èªè¨¼ã¯<code>CanActivate</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€<br>\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚<br>\nãã®ã‚ˆã†ãªæ™‚ã¯ã€<strong><code>CanActivate#canActivate</code>ã§</strong>booleanã®ä»£ã‚ã‚Šã«<strong>Observableã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹</strong>ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleAuthGuard</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">CanActivate</span><span class=\"p\">,</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">RouterStateSnapshot</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/router'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AuthenticationService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./authentication.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleAuthGuard</span> <span class=\"kr\">implements</span> <span class=\"nx\">CanActivate</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span>\n    <span class=\"kr\">private</span> <span class=\"nx\">auth</span><span class=\"p\">:</span> <span class=\"nx\">AuthenticationService</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\">// booleanã§ã¯ãªãObservable&lt;boolean&gt;ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™</span>\n  <span class=\"nx\">canActivate</span><span class=\"p\">(</span><span class=\"nx\">route</span><span class=\"p\">:</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">state</span><span class=\"p\">:</span> <span class=\"nx\">RouterStateSnapshot</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"kr\">boolean</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">auth</span><span class=\"p\">.</span><span class=\"nx\">checkState</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">true</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">err</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">of</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">))</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"formarrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#formarray%E3%81%AE%E5%80%A4%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„</h2>\n\n<p>FormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€<br>\nFormArrayã®å ´åˆpatchValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚<br>\nã“ã†ã„ã†å ´åˆã¯ã€<strong>é…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ€ãƒ¡ãªä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span> <span class=\"c1\">// FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">];</span> <span class=\"c1\">// FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">è‰¯ã„ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formã‚’ç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹</span>\n  <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">student</span> <span class=\"o\">-&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">controls</span><span class=\"p\">[</span><span class=\"s1\">'students'</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">FormControll</span><span class=\"p\">(</span><span class=\"nx\">student</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array\" rel=\"nofollow noopener\" target=\"_blank\">StackOvereFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"error-error-no-provider-for-templaterefã¨ã„ã†ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#error-error-no-provider-for-templateref%E3%81%A8%E3%81%84%E3%81%86%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>æœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚<br>\nå¤§æŠµã®å ´åˆã¯ã€<strong><code>*ngIf</code>ã‚„<code>*ngForm</code>ã®<code>*</code>ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› </strong>ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)<br>\n<code>*</code>ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯<code>ngIf</code>ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€<br>\nãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§<code>No provider for TemplateRef!</code>ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"textareaã«ãŠã„ã¦tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\" class=\"fragment\"></span><a href=\"#textarea%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6tab%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%A4%E3%83%B3%E3%83%87%E3%83%B3%E3%83%88%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„</h2>\n\n<p>æ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€Tabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€<br>\nkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;textarea</span> <span class=\"err\">#</span><span class=\"na\">sampletextarea</span>\n  <span class=\"err\">(</span><span class=\"na\">keydown</span><span class=\"err\">)=\"</span><span class=\"na\">indent</span><span class=\"err\">($</span><span class=\"na\">event</span><span class=\"err\">,</span> <span class=\"na\">sampletextarea</span><span class=\"err\">)\"</span> <span class=\"nt\">&gt;&lt;/textarea&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"nx\">indent</span><span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">,</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">===</span> <span class=\"mi\">9</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¬¡ã®è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹</span>\n      <span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n\n      <span class=\"c1\">// ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretStart</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionStart</span><span class=\"p\">;</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionEnd</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">TAB</span> <span class=\"o\">=</span> <span class=\"s1\">'Â¥t'</span><span class=\"p\">;</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span> <span class=\"o\">=</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">caretStart</span><span class=\"p\">)</span>\n                     <span class=\"o\">+</span> <span class=\"nx\">TAB</span> <span class=\"o\">+</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">focus</span><span class=\"p\">();</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">setSelectionRange</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\" class=\"fragment\"></span><a href=\"#markdown%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%9F%E3%81%84%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„</h2>\n\n<p><a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã¨<a href=\"https://github.com/isagalaev/highlight.js\" rel=\"nofollow noopener\" target=\"_blank\">highlight.js</a>ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚<br>\n<a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown-parse.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">hljs</span> <span class=\"k\">from</span> <span class=\"s1\">'highlight.js'</span><span class=\"p\">;</span>\n\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">marked</span><span class=\"p\">.</span><span class=\"nx\">setOptions</span><span class=\"p\">({</span>\n      <span class=\"na\">highlight</span><span class=\"p\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">hljs</span><span class=\"p\">.</span><span class=\"nx\">highlightAuto</span><span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"na\">rawText</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">marked</span><span class=\"p\">(</span><span class=\"nx\">rawText</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./markdown-parse.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span> <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'toMarkdown'</span> <span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParsePipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">markdownParseService</span><span class=\"p\">:</span> <span class=\"nx\">MarkdownParseService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">markdownParseService</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p>HTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚<code>{{}}</code>ã ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§<code>innerHTML</code>å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"err\">[</span><span class=\"na\">innerHTML</span><span class=\"err\">]=\"</span><span class=\"na\">md</span> <span class=\"err\">|</span> <span class=\"na\">toMarkdown</span><span class=\"err\">\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b\" id=\"reference-9001a931765f8f52acaf\">Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹</a></li>\n<li>Github <a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">chjj/marked</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´è¿½åŠ å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8C%E5%A4%89%E6%9B%B4%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AB%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E7%B5%90%E6%9E%9C%E3%82%92%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„</h2>\n\n<p>ãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦<strong>pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã¾ã—ã‚‡ã†ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"err\">#</span><span class=\"na\">searchUserName</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let user of (userList | searchUserFilter: searchUserName.value);\"</span> <span class=\"nt\">&gt;</span>{{user.name}}<span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">search-user.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">User</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./user'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span>\n  <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'searchUserFilter'</span><span class=\"p\">,</span>\n  <span class=\"na\">pure</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SearchFilterPipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">items</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">User</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"nx\">searchUserName</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span><span class=\"p\">[]</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">searchUserName</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">searchUserName</span> <span class=\"o\">=</span> <span class=\"nx\">searchUserName</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span> <span class=\"nx\">item</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">userId</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">().</span><span class=\"nx\">includes</span><span class=\"p\">(</span><span class=\"nx\">searchUserName</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/pipes#pure-and-impure-pipes\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n</ul>\n\n<h2>\n<span id=\"ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’å…±é€šåŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«<strong>ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">app-settings.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppSettings</span> <span class=\"p\">{</span>\n   <span class=\"kr\">public</span> <span class=\"kr\">static</span> <span class=\"nx\">API_ENDPOINT</span><span class=\"o\">=</span><span class=\"s1\">'http://127.0.0.1:6666/api/'</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleService</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">Injectable</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'angular2/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">AppSettings</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app-settings'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleService</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sampleMethod</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">AppSettings</span><span class=\"p\">.</span><span class=\"nx\">API_ENDPOINT</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%94%BB%E5%83%8F%E3%81%8C%E5%A4%9A%E3%81%84%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A1%A8%E7%A4%BA%E3%82%92%E6%97%A9%E3%81%8F%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„</h2>\n\n<p><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a>ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚<br>\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre> <span class=\"nt\">&lt;img</span>\n  <span class=\"err\">[</span><span class=\"na\">defaultImage</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">defaultimage</span><span class=\"err\">\"</span> \n  <span class=\"err\">[</span><span class=\"na\">lazyLoad</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">sampleimage</span><span class=\"err\">\"</span>\n  <span class=\"err\">[</span><span class=\"na\">offset</span><span class=\"err\">]=\"</span><span class=\"na\">30</span><span class=\"err\">\"</span>\n <span class=\"nt\">&gt;</span>\n</pre></div>\n</div>\n\n<p><em>defaultImage</em><br>\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹<br>\n<em>lazyLoad</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL<br>\n<em>offset</em><br>\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹<br>\n<em>errorImage</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a></li>\n</ul>\n\n<h2>\n<span id=\"angular-cliã®ng-serveã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\" class=\"fragment\"></span><a href=\"#angular-cli%E3%81%AEng-serve%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7dist%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%B8%80%E6%97%A6%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%8F%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angular Cliã®<code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„</h2>\n\n<p><code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã¯<code>dist</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚<br>\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€<strong>delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false</strong>ã«æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span></div>\n<div class=\"highlight\"><pre><span class=\"s2\">\"script\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"cp ./resource/* dist &amp;&amp; ng serve --delete-output-path=false\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/issues/4366\" rel=\"nofollow noopener\" target=\"_blank\">angular-cli github issue #4366</a></li>\n</ul>\n\n<h2>\n<span id=\"aotã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\" class=\"fragment\"></span><a href=\"#aot%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%A7%E3%81%AA%E3%82%93%E3%81%A8%E3%81%8B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„</h2>\n\n<p>ãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)<br>\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚<br>\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"2-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%A7%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š</h1>\n\n<h2>\n<span id=\"ciç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\" class=\"fragment\"></span><a href=\"#ci%E7%92%B0%E5%A2%83%E3%81%AA%E3%81%A9%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%89%E3%81%9A%E3%81%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\"><i class=\"fa fa-link\"></i></a>CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†</h2>\n\n<p>CirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯<strong>watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ng test --wtach=false\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong><br>\n<a href=\"https://github.com/angular/angular-cli/issues/362\" rel=\"nofollow noopener\" target=\"_blank\">Github isssue</a></p>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆæ™‚ã«error-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_intervalã‚„failed-to-execute-send-on-xmlhttprequestã®ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E6%99%82%E3%81%ABerror-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_interval%E3%82%84failed-to-execute-send-on-xmlhttprequest%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«<strong><code>-sm=false</code>ã‚’è¿½åŠ </strong>ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%94%A8%E3%81%AB%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E3%83%A2%E3%83%83%E3%82%AF%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„</h2>\n\n<p>æ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§<br>\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚<br>\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\"><div class=\"highlight\"><pre><span class=\"c1\">// â€»importæ–‡ã¯çœç•¥</span>\n\n<span class=\"c1\">// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©</span>\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-child'</span><span class=\"p\">,</span> <span class=\"c1\">// å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©</span>\n  <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"s1\">'&lt;p&gt;Mock Child Component&lt;/p&gt;'</span>\n<span class=\"p\">})</span>\n<span class=\"kd\">class</span> <span class=\"nx\">MockClildComponent</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">Input</span><span class=\"p\">()</span> <span class=\"nx\">childInput</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n  <span class=\"p\">@</span><span class=\"nd\">Output</span><span class=\"p\">()</span> <span class=\"nx\">childOutput</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">EventEmitter</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ...</span>\n\n<span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n    <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"c1\">// ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ </span>\n      <span class=\"nx\">MockProductSettingsComponent</span><span class=\"p\">,</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">});</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«angular-materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABangular-materila%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€<br>\n<code>karma.config.js</code>ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n      <span class=\"c1\">// Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã</span>\n      <span class=\"p\">{</span><span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span><span class=\"p\">,</span> <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">},</span>\n<span class=\"p\">],</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/material2/issues/4056\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«stylesscssã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABstylesscss%E3%82%A2%E3%83%97%E3%83%AA%E5%85%B1%E9%80%9A%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ<br>\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«<code>karma-scss-preprocessor</code>ã¨<code>node-sass</code>ã‚’è¿½åŠ ã—ã¦<code>karma.conf.js</code>ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n<span class=\"err\">ã€€</span> <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ </span>\n  <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'karma-scss-preprocessor'</span><span class=\"p\">)</span>\n<span class=\"p\">],</span>\n\n\n<span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"c1\">// filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ </span>\n  <span class=\"p\">{</span> <span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">served</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span>\n<span class=\"p\">],</span>\n\n<span class=\"c1\">// preprocessorsã‚’è¿½åŠ </span>\n<span class=\"nx\">preprocessors</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'./src/test.ts'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'@angular/cli'</span><span class=\"p\">],</span>\n <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'scss'</span><span class=\"p\">]</span>\n<span class=\"p\">},</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n<li><a href=\"https://github.com/karma-runner/karma/issues/2700\" rel=\"nofollow noopener\" target=\"_blank\">Github karma/issue/2700</a></li>\n</ul>\n\n<h1>\n<span id=\"3-ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´-expressmongodbå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#3-%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89%E5%81%B4-expressmongodb%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š</h1>\n\n<p>â€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯<a href=\"https://github.com/Automattic/mongoose\" rel=\"nofollow noopener\" target=\"_blank\">mongoose</a>ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\" class=\"fragment\"></span><a href=\"#mongoose%E3%81%AEvirtual%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</h2>\n\n<p>ä¾‹ãˆã°<code>è¨˜äº‹</code>,<code>ã‚³ãƒ¡ãƒ³ãƒˆ</code>,<code>ãƒªãƒ—ãƒ©ã‚¤</code>ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€<br>\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  =&gt; è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  =&gt; ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" alt=\"dbæ§‹é€ _è‰¯.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png\"></a></p>\n\n<p>ãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€<strong>mongooseã®virtualã‚’ä½¿ã„ã¾ã™</strong>ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€<br>\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" alt=\"mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png\"></a></p>\n\n<p>å…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">article.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ArticleSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">content</span><span class=\"p\">:</span> <span class=\"nb\">String</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n\n<span class=\"c1\">// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">ArticleSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'articleId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Article</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Article'</span><span class=\"p\">,</span> <span class=\"nx\">ArticleSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Article</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">comment.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">CommentSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">articleId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Article'</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">comment</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n<span class=\"c1\">// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">CommentSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Reply'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'commentId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Comment</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Comment'</span><span class=\"p\">,</span> <span class=\"nx\">CommentSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Comment</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">reply.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ReplySchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">commentId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">reply</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Reply</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Reply'</span><span class=\"p\">,</span> <span class=\"nx\">ReplySchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Reply</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¤œç´¢å‡¦ç†</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">Article</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">()</span>\n<span class=\"p\">.</span><span class=\"nx\">populate</span><span class=\"p\">({</span>\n  <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"c1\">// Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹</span>\n  <span class=\"na\">populate</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"c1\">// Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹</span>\n  <span class=\"p\">}],</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>Expressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚<br>\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n<span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">accessLogHandler</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n  <span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">([</span>\n    <span class=\"s1\">'start'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n    <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'--ms--'</span>\n  <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n\n  <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'finish'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€</span> <span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°</span>\n    <span class=\"nx\">accessLogger</span><span class=\"p\">.</span><span class=\"nx\">info</span><span class=\"p\">([</span>\n      <span class=\"s1\">'end'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"s1\">'--'</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"nx\">start</span><span class=\"p\">.</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"s1\">'ms--'</span>\n    <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">next</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<p>å®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"py3\"><div class=\"highlight\"><pre><span class=\"n\">start</span><span class=\"p\">,</span>  <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">api</span><span class=\"o\">/</span><span class=\"n\">authenticate</span><span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>   <span class=\"o\">-</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span> <span class=\"o\">--</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n<span class=\"n\">end</span><span class=\"p\">,</span>    <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>                  <span class=\"mi\">403</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span>  <span class=\"o\">--</span><span class=\"mi\">47</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n</pre></div></div>\n\n<h2>\n<span id=\"ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%85%A8%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®<code>util.inspect()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">util</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'util'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">myObject</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"s2\">\"a\"</span><span class=\"p\">:</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span>\n   <span class=\"s2\">\"b\"</span><span class=\"p\">:{</span>\n      <span class=\"s2\">\"c\"</span><span class=\"p\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">,</span>\n      <span class=\"s2\">\"d\"</span><span class=\"p\">:{</span>\n         <span class=\"s2\">\"e\"</span><span class=\"p\">:</span><span class=\"s2\">\"e\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"f\"</span><span class=\"p\">:{</span>\n            <span class=\"s2\">\"g\"</span><span class=\"p\">:</span><span class=\"s2\">\"g\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"h\"</span><span class=\"p\">:{</span>\n               <span class=\"s2\">\"i\"</span><span class=\"p\">:</span><span class=\"s2\">\"i\"</span>\n            <span class=\"p\">}</span>\n         <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">};</span> \n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">util</span><span class=\"p\">.</span><span class=\"nx\">inspect</span><span class=\"p\">(</span><span class=\"nx\">myObject</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"kc\">null</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%A7%E3%81%8D%E3%82%8B%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯<br>\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚<br>\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å®šæ•°å®šç¾©</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_PORT</span> <span class=\"o\">||</span> <span class=\"s1\">'3000'</span><span class=\"p\">;</span><span class=\"err\">ã€€</span><span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_HOST</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_HOST</span> <span class=\"o\">||</span> <span class=\"s1\">'localhost'</span><span class=\"p\">;</span> <span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"dbåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#db%E5%88%9D%E5%9B%9E%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„</h2>\n\n<p>mongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br>\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">createConnection</span> <span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">createConnection</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/failed to connect to server .* on first connect/</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Retrying first connect...\"</span><span class=\"p\">);</span>\n                <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">openUri</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">).</span><span class=\"k\">catch</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n            <span class=\"c1\">// 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹</span>\n            <span class=\"p\">},</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'open'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Connection to db established.\"</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">db</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Automattic/mongoose/issues/5169\" rel=\"nofollow noopener\" target=\"_blank\">Github mongooseã®issue5169</a></li>\n</ul>\n","body":"[FUJITSU Advent Calendar 2017](https://qiita.com/advent-calendar/2017/fujitsu) 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\nãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€\nã“ã“ï¼”ãƒ¶æœˆã»ã©**MEAN**ã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB+**E**xpress+**A**ngular+**N**ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚\n\n## ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\næœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)\n\n* [Github](https://github.com/Takumon/mean-blog)\n* [Dockerhub](https://hub.docker.com/r/takumon/mean-blog_auto/)\n* [ãƒ‡ãƒ¢ç’°å¢ƒ](https://material-blog-demo.herokuapp.com/) (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)\n![appdemo_detail.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png](https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png)\n\n# 1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š\n## Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\n1ç³»ã¯`AngularJS`ã€2ç³»ä»¥é™ã¯`Angular`ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯`Angualr2`ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚\u001e`--AngularJS`ã‚’ã¤ã‘ãŸã‚Š\u001dã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚\n\n## HTMLã®DOM\bè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„\nè¦ç´ ã«`#xxxxx`\bã®ã‚ˆã†ã«`#`å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®\bDOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™\n\n```html:HTML\n<input #phone placeholder=\"é›»è©±ç•ªå·\"/>\n<!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ -->\n<button >(click)=\"callPhone\b(phone.value)\">\n```\n\n\bComponentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯`@ViewChild`ã‚’ä½¿ã„ã¾ã™\n\n```typescript:Component\n  // \bViewChildã®å¼•æ•°ã«\b\båå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™\n  @ViewChild('phone') phoneElement: phoneElement;\n\n  showPhoneValue() {\n    console.log(this.phoneElement.value);\n    )\n  }\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/template-syntax#ref-vars)\n* [StackOverFlow](https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template)\n\n\n\n## Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\nURLã”ã¨ã®èªè¨¼ã¯`CanActivate`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªæ™‚ã¯ã€**`CanActivate#canActivate`ã§**booleanã®ä»£ã‚ã‚Šã«**Observable<boolean>ã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹**ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\n\n\n```typescript:SampleAuthGuard\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SampleAuthGuard implements CanActivate {\n\n  constructor(\n    private auth: AuthenticationService,\n  ) { }\n\n  // booleanã§ã¯ãªãObservable<boolean>ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.checkState()\n      .map(res => true)\n      .catch(err => Observable.of(false))\n  }\n}\n\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function)\n\n## FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\nFormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€\nFormArrayã®å ´åˆpatch\bValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨\bã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚\n\bã“ã†ã„ã†å ´åˆã¯ã€**\b\bé…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push**ã—ã¾ã™ã€‚\n\n```typescript:ãƒ€ãƒ¡ãªä¾‹\nngOnInit() {\n  // Formç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName' // FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½\n    students: ['taro', 'jiro', 'saburo']; // FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½\n  });\n}\n```\n\n```typescript:\bè‰¯ã„ä¾‹\nngOnInit() {\n  // Formã‚’ç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName'\n  });\n\n  // ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹\n  ['taro', 'jiro', 'saburo'].forEach(student -> {\n    this.form.controls['students'].push(new FormControll(student));\n  });\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOvereFlow](https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array)\n\n## ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼\næœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚\nå¤§æŠµã®å ´åˆã¯ã€**`*ngIf`ã‚„`*ngForm`ã®`*`ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› **ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)\n`*`ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯`ngIf`ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€\n\bãã‚“ãª\b\bãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§`No provider for TemplateRef!`ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref)\n\n\n## textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\næ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€\u001dTabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€\n\bkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«\bãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n```html:HTML\n<textarea #sampletextarea\n  (keydown)=\"indent($event, sampletextarea)\" ></textarea>\n```\n\n```typescript:Component\n  indent($event, sampleTextAreaElement) {\n    // Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚\n    if ($event.keyCode === 9) {\n      \b// æ¬¡ã®è¦ç´ ã«\bãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹\n      $event.preventDefault();\n\n      // ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—\n      \bconst caretStart = textareaElement.selectionStart;\n      const caretEnd = textareaElement.selectionEnd;\n\n      // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’\bå–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥\n      const TAB = 'Â¥t';\n      sampleTextAreaElement.value = sampleTextAreaElement.value.substring(0, caretStart)\n                     + TAB + sampleTextAreaElement.value.substring(caretStart, value.length);\n\n      // ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™\n      sampleTextAreaElement.focus();\n      sampleTextAreaElement.setSelectionRange(caretStart + TAB.length, caretEnd + TAB.length);\n\n      return;\n    }\n  }\n\n```\n\n\n\n## \bMarkdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’\bè¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\n[marked](https://github.com/chjj/marked)ã¨[highlight.js](https://github.com/isagalaev/highlight.js)ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚\n[marked](https://github.com/chjj/marked)ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```typescript:markdown-parse.service.ts\nimport { Injectable } from '@angular/core';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\n\n@Injectable()\nexport class MarkdownParseService {\n\n  constructor() {\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n  }\n\n  parse(rawText: string) {\n    return marked(rawText);\n  }\n}\n```\n\n\n```typescript:markdown.pipe.ts\nimport marked from 'marked';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MarkdownParseService } from './markdown-parse.service';\n\n@Pipe({ name: 'toMarkdown' })\nexport class MarkdownParsePipe implements PipeTransform {\n  constructor(markdownParseService: MarkdownParseService) {}\n\n  transform(value: string): any {\n    return this.markdownParseService.parse(value);\n  }\n}\n```\n\nHTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚`{{}}`ã ã¨\bã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§\b`innerHTML`å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```html\n<div [innerHTML]=\"md | toMarkdown\"></div>\n```\n\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹](https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b)\n* Github [chjj/marked](https://github.com/chjj/marked)\n\n\n\n\n## çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒ\bå¤‰æ›´ã€è¿½åŠ \bã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\nãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦**pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã¾ã—ã‚‡ã†ã€‚\n\n```html:HTML\n<input type=\"text\" #searchUserName>\n<ul>\n  <li *ngFor=\"let user of (userList | searchUserFilter: searchUserName.value);\" >{{user.name}}</li>\n<ul>\n```\n\n```typescript:search-user.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { User } from './user';\n\n@Pipe({\n  name: 'searchUserFilter',\n  pure: false // pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹\n})\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Array<User>, searchUserName: string): any[] {\n    if (!searchUserName) return items;\n\n    searchUserName = searchUserName.toLowerCase();\n    return items.filter( item => item.user.userId.toLowerCase().includes(searchUserName));\n  }\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/pipes#pure-and-impure-pipes)\n\n\n\n\n## ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’\bå…±é€š\båŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«**ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©**ã—ã¾ã™ã€‚\n\n```typescript:app-settings.ts\nexport class AppSettings {\n   public static API_ENDPOINT='http://127.0.0.1:6666/api/';\n}\n```\n\n```typescript:SampleService\nimport {Injectable} from 'angular2/core';\nimport {AppSettings} from './app-settings';\n\n@Injectable()\nexport class SampleService {\n    \bsampleMethod() {\n      console.log(AppSettings.API_ENDPOINT);\n    }\n}\n```\n\n**å‚è€ƒ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2)\n\n\n## ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\n[ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```html:HTML\n <img\n  [defaultImage]=\"https://images.sample.com/photo/defaultimage\" \n  [lazyLoad]=\"https://images.sample.com/photo/sampleimage\"\n  [offset]=\"30\"\n >\n```\n\n*defaultImage*\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹\n*lazyLoad*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL\n*offset*\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹\n*errorImage*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)\n\n\n## Angular Cliã®`ng serve`ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\n`ng serve`ã‚³ãƒãƒ³ãƒ‰ã¯`dist`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€**delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false**ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```json:package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\n\"script\": {\n  \"build\": \"cp ./resource/* dist && ng serve --delete-output-path=false\"\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [angular-cli github issue #4366](https://github.com/angular/angular-cli/issues/4366)\n\n\n## AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\nãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«[Angular Material](https://material.angular.io/)ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚\n\n\n# 2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\n## CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\nCirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ`ng test`ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯**watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã—ã¾ã™ã€‚\n\n```\nng test --wtach=false\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n[Github isssue](https://github.com/angular/angular-cli/issues/362)\n\n## ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«`ng test`ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«**`-sm=false`ã‚’è¿½åŠ **ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest)\n\n\n## ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\næ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚\n\n\n```typescript\n// â€»importæ–‡ã¯çœç•¥\n\n// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n@Component({\n  selector: 'app-child', // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©\n  template: '<p>Mock Child Component</p>'\n})\nclass MockClildComponent {\n  @Input() childInput: string;\n  @Output() childOutput = new EventEmitter();\n}\n\n// ...\n\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    declarations: [\n      // ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ \n      MockProductSettingsComponent,\n      // ...\n    ],\n    // ...\n  });\n  // ...\n});\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§[Angular Material](https://material.angular.io/)ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€\n`karma.config.js`ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚\n\n```javascript:karma.conf.js\nfiles: [\n      ãƒ»ãƒ»ãƒ»\n      // Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã\n      {pattern: './node_modules/@angular/material/prebuilt-themes/indigo-pink.css', included: true, watched: false},\n],\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackoverflow](https://github.com/angular/material2/issues/4056)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«`karma-scss-preprocessor`ã¨`node-sass`ã‚’è¿½åŠ ã—ã¦`karma.conf.js`ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```javascript:karma.conf.js\nplugins: [\n  ãƒ»ãƒ»ãƒ»\nã€€ // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ \n  require('karma-scss-preprocessor')\n],\n\n\nfiles: [\n  ãƒ»ãƒ»ãƒ»\n  // filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n  { pattern: './src/styles.scss', watched: false,  included: true, served: true }\n],\n\n// preprocessorsã‚’è¿½åŠ \npreprocessors: {\n './src/test.ts': ['@angular/cli'],\n './src/styles.scss': ['scss']\n},\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**:\n\n* [stackOverFlow](https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689)\n* [Github karma/issue/2700](https://github.com/karma-runner/karma/issues/2700)\n\n\n\n\n# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š\nâ€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯[mongoose](https://github.com/Automattic/mongoose)ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚\n\n## mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\nä¾‹ãˆã°`è¨˜äº‹`,`ã‚³ãƒ¡ãƒ³ãƒˆ`,`ãƒªãƒ—ãƒ©ã‚¤`ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  => è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  => ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚\n![dbæ§‹é€ _è‰¯.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png)\n\nãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€**mongooseã®virtualã‚’ä½¿ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png)\n\nå…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n\n```typescript:article.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ArticleSchema = new mongoose.Schema({\n  content: String\n}, { toJSON: { virtuals: true } });\n\n\n// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nArticleSchema.virtual('comments', {\n  ref: 'Comment',\n  localField: '_id',\n  foreignField: 'articleId',\n  justOne: false,\n});\n\nconst Article = mongoose.model('Article', ArticleSchema);\n\nexport { Article };\n```\n\n\n```typescript:comment.model.ts\nimport * as mongoose from 'mongoose';\n\nconst CommentSchema = new mongoose.Schema({\n  articleId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  comment: String;\n}, { toJSON: { virtuals: true } });\n\n// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nCommentSchema.virtual('replies', {\n  ref: 'Reply',\n  localField: '_id',\n  foreignField: 'commentId',\n  justOne: false,\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nexport { Comment };\n```\n\n```typescript:reply.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ReplySchema = new mongoose.Schema({\n  commentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Comment'\n  },\n  reply: String;\n});\n\nconst Reply = mongoose.model('Reply', ReplySchema);\n\nexport { Reply };\n```\n\n```typescript:æ¤œç´¢å‡¦ç†\nArticle.find()\n.populate({\n  path: 'comments', // Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹\n  populate: [{\n    path: 'replies', // Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹\n  }],\n});\n```\n\n\n## ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\nExpressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n\n\n```javascript:ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™\nconst express = express();\nexpress.use(function accessLogHandler (req, res, next) {\n  const start = new Date();\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€\n  console.log([\n    'start',\n    req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n    req.method,\n    req.url,\n    '-',\n    req.headers.referer || '-',\n    req.headers['user-agent'] || '-',\n    '--ms--'\n  ].join(',\\t'));\n\n  res.once('finish', function() {\nã€€ã€€ // ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°\n    accessLogger.info([\n      'end',\n      req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n      req.method,\n      req.url,\n      res.statusCode,\n      req.headers.referer || '-',\n      req.headers['user-agent'] || '-',\n      '--' + (new Date().getMilliseconds() - start.getMilliseconds()) + 'ms--'\n    ].join(',\\t'));\n  });\n\n  next();\n});\n```\n\nå®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```py3\nstart,  ::ffff:127.0.0.1, GET, /api/authenticate/check-state,   -, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36, --ms--\nend,    ::ffff:127.0.0.1, GET, /check-state,                  403, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36,  --47ms--\n```\n\n\n\n## ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®`util.inspect()`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n\n```javascript\nconst util = require('util');\nconst myObject = {\n   \"a\":\"a\",\n   \"b\":{\n      \"c\":\"c\",\n      \"d\":{\n         \"e\":\"e\",\n         \"f\":{\n            \"g\":\"g\",\n            \"h\":{\n               \"i\":\"i\"\n            }\n         }\n      }\n   }\n}; \n\nconsole.log(util.inspect(myObject, false, null));\n```\n\nã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™\n\n```\n{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object)\n\n\n## ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```typescript:å®šæ•°å®šç¾©\nexport const SERVER_PORT: string = process.env.SERVER_PORT || '3000';ã€€// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹\nexport const SERVER_HOST: string = process.env.SERVER_HOST || 'localhost'; // ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹\n```\n\n\n## DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\nmongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n```javascript\nfunction createConnection (dbURL, options) {\n    var db = mongoose.createConnection(dbURL, options);\n\n    db.on('error', function (err) {\n        if (err.message && err.message.match(/failed to connect to server .* on first connect/)) {\n            console.log(new Date(), String(err));\n\n            setTimeout(function () {\n                console.log(\"Retrying first connect...\");\n                db.openUri(dbURL).catch(() => {});\n            // 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹\n            }, 20 * 1000);\n        } else {\n            console.error(new Date(), String(err));\n        }\n    });\n\n    db.once('open', function () {\n        console.log(\"Connection to db established.\");\n    });\n\n    return db;\n}\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Github mongooseã®issue5169](https://github.com/Automattic/mongoose/issues/5169)\n\n","comments_count":0,"created_at":"2017-12-12T03:19:11+09:00","likes_count":46,"reactions_count":0},"matches":4,"weight":250,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Express"},{"weight":50,"keyword":"Qiita"}],"avgWeight":62.5,"totalWeight":58,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/7780e313-8bda-5534-99aa-37bf47e9deb3/","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","date":"2017-12-31T23:49:04+09:00","excerpt":"== 2018/4/7 è¿½è¨˜ ==========================================æœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€ãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚gitb...","tags":["JavaScript","chrome-extension","Docker","GitBucket","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"7780e313-8bda-5534-99aa-37bf47e9deb3","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","rendered_body":"<p>== 2018/4/7 è¿½è¨˜ ==========================================<br>\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€<br>\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚</p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-plugin</a></p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦<code>&lt;GITBUCKET_HOME&gt;/plugins/</code>ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚<br>\n== =======================================================</p>\n\n<p>Git Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€<br>\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>\n\n<p>Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>\n\n<ul>\n<li>\n<em>Chromeæ‹¡å¼µ</em>\n\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a></li>\n</ul>\n</li>\n<li>\n<em>Dockerã‚¤ãƒ¡ãƒ¼ã‚¸</em>\n\n<ul>\n<li><a href=\"https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-server</a></li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å°å…¥ã™ã‚‹ã¨\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B%E3%81%A8\"><i class=\"fa fa-link\"></i></a>å°å…¥ã™ã‚‹ã¨</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€<br>\n<a href=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png\"></a></p>\n\n<p>ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" alt=\"å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png\"></a></p>\n\n<p>ã¾ãŸissueä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-dockerå´\" class=\"fragment\"></span><a href=\"#1-docker%E5%81%B4\"><i class=\"fa fa-link\"></i></a>1. Dockerå´</h3>\n\n<p>GitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡ä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚</p>\n\n<ul>\n<li>docker-compose.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"docker\">\n<div class=\"code-lang\"><span class=\"bold\">docker-compose.yml</span></div>\n<div class=\"highlight\"><pre>version: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n</pre></div>\n</div>\n\n<ul>\n<li>docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span>docker-compose up <span class=\"nt\">-d</span>\n</pre></div></div>\n\n<h3>\n<span id=\"2-gitbucketå´\" class=\"fragment\"></span><a href=\"#2-gitbucket%E5%81%B4\"><i class=\"fa fa-link\"></i></a>2. GitBucketå´</h3>\n\n<p>Chromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li><p>GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ &gt; Account Setting ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png\"></a><br>\n<br></p></li>\n<li><p>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ<code>Generate token</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png\"></a><br>\n<br></p></li>\n<li><p>ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰<br>\n<a href=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png\"></a></p></li>\n</ul>\n\n<h3>\n<span id=\"3-chrome-extensionå´\" class=\"fragment\"></span><a href=\"#3-chrome-extension%E5%81%B4\"><i class=\"fa fa-link\"></i></a>3. Chrome Extensionå´</h3>\n\n<ul>\n<li><p>Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§<a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n<a href=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png\"></a><br>\n<br></p></li>\n<li>\n<p>å³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—<code>Save</code>ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯</p>\n\n<ul>\n<li>\n<strong>gitbucket-issue-estimation-server URL</strong>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š <code>http://127.0.0.1:3000</code> </li>\n</ul>\n</li>\n<li>\n<strong>GitBucket Token</strong>\n\n<ul>\n<li>GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n<a href=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png\"></a>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å…·ä½“çš„ãªä»•çµ„ã¿\" class=\"fragment\"></span><a href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BB%95%E7%B5%84%E3%81%BF\"><i class=\"fa fa-link\"></i></a>å…·ä½“çš„ãªä»•çµ„ã¿</h2>\n\n<p>Dockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚<br>\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<p><strong>(1)</strong> ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥<br>\n<strong>(2)</strong> ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—<br>\n<strong>(3)</strong> ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" alt=\"å…¨ä½“åƒ.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png\"></a></p>\n\n<h2>\n<span id=\"chromeæ‹¡å¼µä½œæˆæ™‚ã«gitbucket-apiã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#chrome%E6%8B%A1%E5%BC%B5%E4%BD%9C%E6%88%90%E6%99%82%E3%81%ABgitbucket-api%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%A7%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨</h2>\n\n<p><a href=\"https://github.com/gitbucket/gitbucket/wiki/API-WebHook\" rel=\"nofollow noopener\" target=\"_blank\">GitBucketã®API</a>ã¯<a href=\"https://developer.github.com/v3/\" rel=\"nofollow noopener\" target=\"_blank\">Githubã®REST API v3</a>ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚</p>\n\n<h3>\n<span id=\"stateallãŒåŠ¹ã‹ãªã„\" class=\"fragment\"></span><a href=\"#stateall%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>state=all</code>ãŒåŠ¹ã‹ãªã„</h3>\n\n<p>æœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯<code>state=all</code>ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚<code>state=open</code>ã¨<code>state=closed</code>ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"per_pageãŒåŠ¹ã‹ãªã„1åº¦ã«25ä»¶ãŒæœ€å¤§\" class=\"fragment\"></span><a href=\"#per_page%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%841%E5%BA%A6%E3%81%AB25%E4%BB%B6%E3%81%8C%E6%9C%80%E5%A4%A7\"><i class=\"fa fa-link\"></i></a><code>per_page</code>ãŒåŠ¹ã‹ãªã„ï¼ˆ1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰</h4>\n\n<p>GitBucketã®APIã§ã¯<code>per_page</code>ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br>\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"closed_atã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—ã§ããªã„\" class=\"fragment\"></span><a href=\"#closed_at%E3%82%AF%E3%83%AD%E3%83%BC%E3%82%BA%E6%97%A5%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>closed_at</code>ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„</h4>\n\n<p>Chromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"-å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\" class=\"fragment\"></span><a href=\"#-%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"><i class=\"fa fa-link\"></i></a>â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ</h4>\n\n<ul>\n<li><a href=\"https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\" id=\"reference-1c197ca99a2ee070efac\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰</a></li>\n<li><a href=\"https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\" id=\"reference-7d56ea50a58cb24addc5\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰</a></li>\n</ul>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>æœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚</p>\n","body":"== 2018/4/7 è¿½è¨˜ ==========================================\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚\n\n[gitbucket-issue-estimation-plugin](https://github.com/Takumon/gitbucket-issue-estimation-plugin)\n\n[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1)ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦`<GITBUCKET_HOME>/plugins/`ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚\n== =======================================================\n\n\nGit Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n\n## ã¯ã˜ã‚ã«\n[GitBucket](https://gitbucket.github.io/)ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯\bChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\nChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n\n* *Chromeæ‹¡å¼µ*\n    * [gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)\n* *Dockerã‚¤ãƒ¡ãƒ¼ã‚¸*\n    * [gitbucket-issue-estimation-server](https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/)\n\n## å°å…¥ã™ã‚‹ã¨\n[GitBucket](https://gitbucket.github.io/)ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png)\n\n\bãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png)\n\nã¾ãŸ\bissue\bä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png)\n\n\n\n\n## å°å…¥æ‰‹é †\n### 1. Dockerå´\nGitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡\bä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚\n\n* \u001edocker-compose\b.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰\n\n```docker:docker-compose.yml\nversion: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n```\n\n* docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ\n\n```bash:\n$ docker-compose up -d\n```\n\n\n### 2. GitBucketå´\nChromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®\bãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\n\n* GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ > Account Setting\b ã‚’é¸æŠ\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png)\n<br>\n\n* å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ`Generate token`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png)\n<br>\n\n* ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png)\n\n\n### 3. Chrome Extensionå´\n* Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§[gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png)\n<br>\n\n* \bå³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—`Save`ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n    * **gitbucket-issue-estimation-server URL**\n        * ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š `http://127.0.0.1:3000` \n    * **GitBucket Token**\n        * GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png)\n<br>\n\n## å…·ä½“çš„ãªä»•çµ„ã¿\nDockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\n\n**(1)** ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥\n**(2)** ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—\n**(3)** ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤\n\n![å…¨ä½“åƒ.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png)\n\n\n\n## Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\n[GitBucketã®API](https://github.com/gitbucket/gitbucket/wiki/API-WebHook)ã¯[Githubã®REST API v3](https://developer.github.com/v3/)ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚\n\n### `state=all`ãŒåŠ¹ã‹ãªã„\næœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯`state=all`ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚`state=open`ã¨`state=closed`ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `per_page`ãŒåŠ¹ã‹ãªã„ï¼ˆ\b1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰\nGitBucketã®APIã§ã¯`per_page`ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `closed_at`ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„\nChromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚\n\n#### â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰](https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84)\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰](https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0)\n\n\n## ã¾ã¨ã‚\næœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚\n\n","comments_count":0,"created_at":"2017-12-31T23:49:04+09:00","likes_count":6,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/270e2fae-ed90-5539-8c90-a2ed93ebba83/","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","date":"2017-06-26T00:21:37+09:00","excerpt":"Asciidoctorã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚ãã“ã§ä»Šå›ã¯ã€Dockerã§...","tags":["JavaScript","å…¨æ–‡æ¤œç´¢","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","Fess","asciidoctor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"270e2fae-ed90-5539-8c90-a2ed93ebba83","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","rendered_body":"<p><a href=\"http://asciidoctor.org/\" rel=\"nofollow noopener\" target=\"_blank\">Asciidoctor</a>ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®<a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã‚’ç«‹ã¦ã¦ã€<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€<br>\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<p>å°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" alt=\"6æœˆ-24-2017 19-05-32.gif\" title=\"6æœˆ-24-2017 19-05-32.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif\"></a></p>\n\n<h2>\n<span id=\"fessã¨ã¯\" class=\"fragment\"></span><a href=\"#fess%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Fessã¨ã¯</h2>\n\n<p><a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã¯<strong>ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€</strong>ã§ã™ã€‚<br>\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å…¨ä½“åƒ\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å…¨ä½“åƒ</h2>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚<br>\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<p>ã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png\"></a></p>\n\n<h3>\n<span id=\"fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<p>Docker Hubã®<a href=\"https://hub.docker.com/r/codelibs/fess/\" rel=\"nofollow noopener\" target=\"_blank\">codelibs/fess</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯<a href=\"http://fess.codelibs.org/ja/11.2/install/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n</pre></div></div>\n\n<h3>\n<span id=\"fessã®è¨­å®š\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>Fessã®è¨­å®š</h3>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š</h4>\n\n<p><code>http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€<code>admin/admin</code>ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" alt=\"1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png\"></a><br>\n<br></p>\n\n<p>ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚¯ãƒ­ãƒ¼ãƒ©</code> &gt; <code>Web</code>ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" alt=\"2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®<code>+ã€€æ–°è¦ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" title=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png\"></a></p>\n\n<p>è¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<ul>\n<li>åå‰ \n\n<ul>\n<li>ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>URL \n\n<ul>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«<code>/</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜<code>URL</code>ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.*</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.+\\.html$</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>å€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<code>+ã€€ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A1%8C\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã§ã€€<code>ã‚·ã‚¹ãƒ†ãƒ </code> &gt; <code>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©</code> ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚<br>\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ <code>Default Crawler</code>ã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png\"></a><br>\n<br></p>\n\n<p><code>ä»Šã™ãé–‹å§‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" title=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png\"></a><br>\n<br></p>\n\n<p>ã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png\"></a><br>\n<br></p>\n\n<p>ã—ã°ã‚‰ãã—ã¦<code>F5</code>ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚<br>\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ<code>å®Ÿè¡Œä¸­</code>ã‹ã‚‰<code>æœ‰åŠ¹</code>ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</code>&gt;<code>ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±</code>ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png\"></a><br>\n<br></p>\n\n<p>ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png\"></a><br>\n<br></p>\n\n<p>ã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png\"></a><br>\n<br></p>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E7%94%A8web%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%82%92%E9%85%8D%E7%BD%AE\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®</h3>\n\n<p>å…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã®ï¼’ã¤ã§ã™ã€‚<br>\n<code>full-text-search.js</code>ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚<br>\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'use strict'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">=</span> <span class=\"s1\">'http://192.168.1.5:10084/json'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n\n    <span class=\"c1\">// ç›®æ¬¡ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#toc'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form id=\"search-form\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;div class=\"search-input-area\"&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-search left-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" /&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-close right-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-start\" type=\"hidden\" value=\"0\"/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-num\" type=\"hidden\" value=\"'</span> <span class=\"o\">+</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">+</span> <span class=\"s1\">'\"/&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$searchArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-form'</span><span class=\"p\">).</span><span class=\"nx\">submit</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".left-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"#search-query\"</span><span class=\"p\">).</span><span class=\"nx\">keyup</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$rightIcon</span> <span class=\"o\">=</span> <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">);</span>\n\n              <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">().</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#555'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>\n                     <span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n        <span class=\"p\">});</span>\n\n    <span class=\"c1\">// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#header&gt;h1'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">before</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-result-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-subheader\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-content\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s1\">'#remove-search-result'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">delegateTarget</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                    <span class=\"p\">})</span>\n                    <span class=\"c1\">// å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#prevPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#nextPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">doSearch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">){</span>\n      <span class=\"c1\">// æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">searchQuery</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-query'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()),</span>\n          <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-num'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">start</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"nx\">num</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—</span>\n      <span class=\"k\">switch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">navi</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">case</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">-=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"k\">case</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">+=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"nl\">default</span><span class=\"p\">:</span>\n        <span class=\"k\">case</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n          <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// URLã‚’æ§‹ç¯‰</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">+</span> <span class=\"s1\">'?callback=?'</span> <span class=\"o\">+</span> <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n                                     <span class=\"s1\">'&amp;q='</span> <span class=\"o\">+</span> <span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;start='</span> <span class=\"o\">+</span> <span class=\"nx\">start</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;num='</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</span>\n      <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n          <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"nx\">url</span><span class=\"p\">,</span>\n          <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"s1\">'jsonp'</span><span class=\"p\">,</span>\n          <span class=\"na\">success</span><span class=\"p\">:</span> <span class=\"nx\">renderSearchResult</span>\n      <span class=\"p\">});</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#searchNum'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">renderSearchResult</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¤œç´¢çµæœå‡¦ç†</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">dataResponse</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n      <span class=\"c1\">// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">status</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\"</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultSubheader</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">),</span>\n          <span class=\"nx\">$searchResultContent</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">),</span>\n          <span class=\"nx\">record_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">record_count</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœãŒãªã„å ´åˆ</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">record_count</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span>  <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// çµæœé ˜åŸŸã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultContent</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt;ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚'</span><span class=\"p\">;</span>\n\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">page_number</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_number</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_size</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_count</span><span class=\"p\">,</span>\n          <span class=\"nx\">startRange</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nx\">endRange</span> <span class=\"o\">=</span> <span class=\"nx\">page_number</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n          <span class=\"nx\">max</span><span class=\"p\">,</span>\n          <span class=\"nx\">offset</span> <span class=\"o\">=</span> <span class=\"nx\">startRange</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">offset</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n      <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt; ã®æ¤œç´¢çµæœ '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">record_count</span> <span class=\"o\">+</span> <span class=\"s2\">\" ä»¶ä¸­ \"</span> <span class=\"o\">+</span>  <span class=\"nx\">startRange</span> <span class=\"o\">+</span> <span class=\"s1\">' - '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">endRange</span> <span class=\"o\">+</span> <span class=\"s1\">' ä»¶ç›® ('</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">exec_time</span> <span class=\"o\">+</span> <span class=\"s1\">' ç§’)'</span> <span class=\"o\">+</span>\n                               <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢</span>\n      <span class=\"nx\">$searchResultContent</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢çµæœã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$resultBody</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;ol/&gt;\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">results</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">max</span> <span class=\"o\">=</span> <span class=\"nx\">results</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">max</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">element</span> <span class=\"o\">=</span>\n            <span class=\"s1\">'&lt;li&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;h4 class=\"title\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;a href=\"'</span> <span class=\"o\">+</span><span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">url_link</span> <span class=\"o\">+</span> <span class=\"s1\">'\"&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">title</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/a&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/h4&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div class=\"body\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">content_description</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;br/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;cite&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">site</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/cite&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/li&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$resultBody</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">$resultBody</span><span class=\"p\">.</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">pageArea</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div id=\"pageInfo\"&gt;'</span><span class=\"p\">,</span> <span class=\"nx\">page_number</span><span class=\"p\">,</span> <span class=\"s1\">'ãƒšãƒ¼ã‚¸ç›®&lt;br/&gt;'</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"prevPageLink\" href=\"#\"&gt;&amp;lt;&amp;lt;å‰ãƒšãƒ¼ã‚¸ã¸&lt;/a&gt; '</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&lt;</span> <span class=\"nx\">page_count</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"nextPageLink\" href=\"#\"&gt;æ¬¡ãƒšãƒ¼ã‚¸ã¸&amp;gt;&amp;gt;&lt;/a&gt;'</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">);</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.css</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">@charset</span> <span class=\"s1\">\"UTF-8\"</span><span class=\"p\">;</span>\n\n<span class=\"nf\">#search-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">relative</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* å…¥åŠ›é …ç›® */</span>\n<span class=\"nf\">#search-query</span> <span class=\"p\">{</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">100%</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">outline</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nt\">input</span><span class=\"nd\">:focus</span> <span class=\"p\">{</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#4d90fe</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">absolute</span><span class=\"p\">;</span>\n    <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">50%</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n    <span class=\"py\">font-sise</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */</span>\n    <span class=\"nl\">cursor</span><span class=\"p\">:</span><span class=\"nb\">pointer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span><span class=\"m\">#444</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1.4em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */</span>\n<span class=\"nf\">#search-result-area</span><span class=\"nc\">.show</span> <span class=\"p\">{</span>\n    <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#f8f8f7</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0px</span> <span class=\"nb\">solid</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E5%87%A6%E7%90%86%E3%82%92%E8%BF%BD%E5%8A%A0\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ </h3>\n\n<p>å‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã‚’ã€<br>\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\n<code>full-text-search.js</code>ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€<br>\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n</pre></div></div>\n\n<p><code>asciidoctor-sample.adoc</code>ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>++++\n&lt;link rel=\"stylesheet\" href=\"../full-text-search.css\"&gt;&lt;/link&gt;\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"../full-text-search.js\"&gt;&lt;/script&gt;\n++++\n</pre></div></div>\n\n<h3>\n<span id=\"å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª</h3>\n\n<p>ä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png\"></a><br>\n<br></p>\n\n<p>æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png\"></a><br>\n<br></p>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>Fessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"http://fess.codelibs.org/ja/articles/article-4.html#js\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨</a></li>\n<li><a href=\"http://qiita.com/cookienote/items/1f2443be25630a78d946\" id=\"reference-69c989703115d994be84\">å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™</a></li>\n</ul>\n","body":"[Asciidoctor](http://asciidoctor.org/)ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®[Fess](http://fess.codelibs.org/ja/)ã‚’ç«‹ã¦ã¦ã€\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\nå°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![6æœˆ-24-2017 19-05-32.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif \"6æœˆ-24-2017 19-05-32.gif\")\n\n\n## Fessã¨ã¯\n[Fess](http://fess.codelibs.org/ja/)ã¯**ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€**ã§ã™ã€‚\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚\n\n\n## å…¨ä½“åƒ\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\n![0_Fess_å…¨ä½“åƒ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png)\n\n![0_Fess_å…¨ä½“åƒ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png)\n\n## å°å…¥æ‰‹é †\nã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒ\u001cï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚\n\n![0_Fess_å…¨ä½“åƒ_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png)\n\n\n### Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nDocker Hubã®[codelibs/fess](https://hub.docker.com/r/codelibs/fess/)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯[Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](http://fess.codelibs.org/ja/11.2/install/index.html)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\n```\n$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n```\n\n### Fessã®è¨­å®š\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\n`http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€`admin/admin`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚\n![1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png)\n<br/>\n\nãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®`ã‚¯ãƒ­ãƒ¼ãƒ©` > `Web`ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚\n![2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®`+ã€€æ–°è¦ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png \"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\")\n\nè¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚\n\n* åå‰ \n    * ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n* URL \n    * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«`/`ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n* ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n    * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜`URL`ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€`URLã§è¨­å®šã—ãŸå€¤` + `.*` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n* æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n   * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€`URLã§è¨­å®šã—ãŸå€¤` + `.+\\.html$` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br/>\n<br/>\n\n\nå€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦`+ã€€ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\nå·¦ãƒšã‚¤ãƒ³ã§ã€€`ã‚·ã‚¹ãƒ†ãƒ ` > `ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©` ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ `Default Crawler`ã‚’é¸æŠã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png)\n<br/>\n\n`ä»Šã™ãé–‹å§‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png \"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\")\n<br/>\n\nã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png)\n<br/>\n\nã—ã°ã‚‰ãã—ã¦`F5`ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ`å®Ÿè¡Œä¸­`ã‹ã‚‰`æœ‰åŠ¹`ã«ãªã‚Šã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\nå·¦ãƒšã‚¤ãƒ³ã®`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±`>`ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±`ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\")\n<br/>\n\n\nã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\")\n<br/>\n\nã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\")\n<br/>\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\nå…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯`full-text-search.js`ã¨`full-text-search.css`ã®ï¼’ã¤ã§ã™ã€‚\n`full-text-search.js`ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚\n\n```javascript:full-text-search.js\n$(function() {\n    'use strict';\n\n    // FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰\n    var FESS_JSON_ENDPOINT = 'http://192.168.1.5:10084/json';\n\n    // ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°\n    var COUNT_PAR_PAGE = 10;\n\n\n    // ç›®æ¬¡ã®\n    $('#toc')\n        // ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .prepend(\n            '<div id=\"search-area\">' +\n                '<form id=\"search-form\">' +\n                    '<div class=\"search-input-area\">' +\n                        '<i class=\"fa fa-search left-icon\"></i>' +\n                        '<input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" />' +\n                        '<i class=\"fa fa-close right-icon\"></i>' +\n                    '</div>' +\n                    '<input id=\"search-start\" type=\"hidden\" value=\"0\"/>' +\n                    '<input id=\"search-num\" type=\"hidden\" value=\"' + COUNT_PAR_PAGE + '\"/>' +\n                '<form>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            var $searchArea = $(this);\n\n            // å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find('#search-form').submit({navi:0}, doSearch);\n\n            // è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find(\".left-icon\").click({navi:0}, doSearch);\n\n            // æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€\n            $searchArea.find(\"#search-query\").keyup(function(){\n              var $this = $(this);\n              var $rightIcon = $this.parent().find(\".right-icon\");\n\n              if($this.val().length > 0) {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹\n                 $rightIcon.css('color','#555');\n              } else {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹\n                 $rightIcon.css('color','#ccc');\n              }\n            });\n\n            // Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€\n            $searchArea.find(\".right-icon\").click(function(){\n              // Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦\n              $(this).css('color','#ccc')\n                      // æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹\n                     .parent().find(\"input\").val('');\n            });\n        });\n\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®\n    $('#header>h1')\n        // ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .before(\n            '<div id=\"search-result-area\">' +\n                '<div id=\"search-result-subheader\"></div>' +\n                '<div id=\"search-result-content\"></div>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            $(this)\n                .find('#search-result-area')\n                    // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€\n                    .on(\"click\", '#remove-search-result', function(e) {\n                      var $searchResultArea = $(e.delegateTarget)\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹\n                      $searchResultArea.removeClass('show');\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹\n                      $searchResultArea.find('#search-result-subheader').empty();\n                      $searchResultArea.find('#search-result-content').empty();\n                    })\n                    // å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#prevPageLink\", {navi:-1}, doSearch)\n                    // æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#nextPageLink\", {navi:1}, doSearch);\n        });\n\n\n\n    /**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */\n    function doSearch(event){\n      // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—\n      var searchQuery = $.trim($('#search-query').val());\n      // ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„\n      if(searchQuery.length == 0) {\n        return false;\n      }\n\n\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—\n      var start = parseInt($('#search-start').val()),\n          num = parseInt($('#search-num').val());\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯\n      if(start < 0) {\n        start = 0;\n      }\n      // è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯\n      if(num < 1 || num > 100) {\n        num = 20;\n      }\n      // è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—\n      switch(event.data.navi) {\n        case -1:\n          // å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start -= num;\n          break;\n        case 1:\n          // æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start += num;\n          break;\n        default:\n        case 0:\n          start = 0;\n          break;\n      }\n\n\n      // URLã‚’æ§‹ç¯‰\n      var url = FESS_JSON_ENDPOINT + '?callback=?' + // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n                                     '&q=' + encodeURIComponent(searchQuery) +\n                                     '&start=' + start +\n                                     '&num=' + num;\n\n      // æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n      // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n      $.ajax({\n          url: url,\n          dataType: 'jsonp',\n          success: renderSearchResult\n      });\n\n\n      // ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°\n      $('#searchNum').val(num);\n\n      // ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•\n      $(document).scrollTop(0);\n\n      // ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™\n      return false;\n    };\n\n\n    /**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */\n    function renderSearchResult(data) {\n      // æ¤œç´¢çµæœå‡¦ç†\n      var dataResponse = data.response;\n      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n      if(dataResponse.status != 0) {\n        alert(\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n        return;\n      }\n\n      // æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹\n      $('#search-result-area').addClass('show');\n\n      var $searchResultSubheader = $('#search-result-subheader'),\n          $searchResultContent = $('#search-result-content'),\n          record_count = dataResponse.record_count;\n\n      // æ¤œç´¢çµæœãŒãªã„å ´åˆ\n      if(record_count == 0) {\n        // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n        $searchResultSubheader[0].innerHTML =  '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>';\n\n        // çµæœé ˜åŸŸã«å‡ºåŠ›\n        $searchResultContent[0].innerHTML = '<b>' + dataResponse.q + '</b>ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';\n\n        return;\n      }\n\n\n      // æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ\n      var page_number = dataResponse.page_number,\n          page_size = dataResponse.page_size,\n          page_count = dataResponse.page_count,\n          startRange = (page_number - 1) * page_size + 1,\n          endRange = page_number * page_size,\n          i = 0,\n          max,\n          offset = startRange - 1;\n\n      $('#search-start').val(offset);\n\n\n      // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n      $searchResultSubheader[0].innerHTML = '<b>' + dataResponse.q + '</b> ã®æ¤œç´¢çµæœ ' +\n                                record_count + \" ä»¶ä¸­ \" +  startRange + ' - ' +\n                                endRange + ' ä»¶ç›® (' + dataResponse.exec_time + ' ç§’)' +\n                               '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>'\n\n      // æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢\n      $searchResultContent.empty();\n\n\n      // æ¤œç´¢çµæœã®å‡ºåŠ›\n      var $resultBody = $(\"<ol/>\");\n      var results = dataResponse.result;\n      for(i = 0, max = results.length; i < max; i++) {\n        var element =\n            '<li>' +\n                '<h4 class=\"title\">' +\n                    '<a href=\"' +results[i].url_link + '\">' + results[i].title + '</a>' +\n                '</h4>' +\n                '<div class=\"body\">' +\n                    results[i].content_description +\n                    '<br/>' +\n                    '<cite>' + results[i].site + '</cite>' +\n                '</div>' +\n            '</li>';\n\n        $(element).appendTo($resultBody);\n      }\n      $resultBody.appendTo($searchResultContent);\n\n\n      // ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›\n      var pageArea = [];\n      pageArea.push('<div id=\"pageInfo\">', page_number, 'ãƒšãƒ¼ã‚¸ç›®<br/>');\n      if(page_number > 1) {\n        // å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"prevPageLink\" href=\"#\">&lt;&lt;å‰ãƒšãƒ¼ã‚¸ã¸</a> ');\n      }\n      if(page_number < page_count) {\n        // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"nextPageLink\" href=\"#\">æ¬¡ãƒšãƒ¼ã‚¸ã¸&gt;&gt;</a>');\n      }\n      pageArea.push('</div>');\n      $(pageArea.join(\"\")).appendTo($searchResultContent);\n    }\n});\n\n```\n\n\n```css:full-text-search.css\n@charset \"UTF-8\";\n\n#search-area {\n    margin-bottom: 1em;\n}\n\n.search-input-area {\n    position:relative;\n}\n\n/* å…¥åŠ›é …ç›® */\n#search-query {\n    padding: 0.7em 2em;\n    width: 100%;\n    color: black;\n    font-family: arial,sans-serif;\n    font-size: 1em;\n    border: 1px solid #ccc;\n    border-radius: 2em;\n    outline: 0;\n}\n\n.search-input-area input:focus {\n    border: 1px solid #4d90fe;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */\n.search-input-area .left-icon,\n.search-input-area .right-icon {\n    /* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */\n    position:absolute;\n    top: 50%;\n    margin-top: -0.5em;\n    font-sise: 1em;\n    /* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */\n    cursor:pointer;\n}\n\n.search-input-area .left-icon {\n    left: 0.7em;\n    color:#444;\n}\n\n.search-input-area .right-icon {\n    right: 0.7em;\n    /* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */\n    color: #ccc;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */\n.search-input-area .left-icon:hover,\n.search-input-area .right-icon:hover {\n    font-size: 1.4em;\n}\n\n\n.search-input-area .left-icon:hover {\n    left: 0.5em;\n}\n\n\n.search-input-area .right-icon:hover {\n    right: 0.5em;\n}\n\n/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */\n#search-result-area.show {\n    background: #f8f8f7;\n    border: 0px solid;\n    border-radius: 0.5em;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    padding: 1em;\n}\n\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \nå‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ`full-text-search.js`ã¨`full-text-search.css`ã‚’ã€\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\n`full-text-search.js`ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€\n\n```\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n```\n\n\n`asciidoctor-sample.adoc`ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n++++\n<link rel=\"stylesheet\" href=\"../full-text-search.css\"></link>\n<script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"></script>\n<script src=\"../full-text-search.js\"></script>\n++++\n```\n\n### å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\nä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png)\n<br/>\n\næ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png)\n<br/>\n\n\n## ã¾ã¨ã‚\nFessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚\n\n\n## å‚è€ƒ\n* [Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨](http://fess.codelibs.org/ja/articles/article-4.html#js)\n* [å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™](http://qiita.com/cookienote/items/1f2443be25630a78d946)\n\n","comments_count":0,"created_at":"2017-06-26T00:21:37+09:00","likes_count":21,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/270e2fae-ed90-5539-8c90-a2ed93ebba83/","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","date":"2017-06-26T00:21:37+09:00","excerpt":"Asciidoctorã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚ãã“ã§ä»Šå›ã¯ã€Dockerã§...","tags":["JavaScript","å…¨æ–‡æ¤œç´¢","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","Fess","asciidoctor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"270e2fae-ed90-5539-8c90-a2ed93ebba83","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","rendered_body":"<p><a href=\"http://asciidoctor.org/\" rel=\"nofollow noopener\" target=\"_blank\">Asciidoctor</a>ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®<a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã‚’ç«‹ã¦ã¦ã€<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€<br>\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<p>å°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" alt=\"6æœˆ-24-2017 19-05-32.gif\" title=\"6æœˆ-24-2017 19-05-32.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif\"></a></p>\n\n<h2>\n<span id=\"fessã¨ã¯\" class=\"fragment\"></span><a href=\"#fess%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Fessã¨ã¯</h2>\n\n<p><a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã¯<strong>ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€</strong>ã§ã™ã€‚<br>\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å…¨ä½“åƒ\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å…¨ä½“åƒ</h2>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚<br>\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<p>ã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png\"></a></p>\n\n<h3>\n<span id=\"fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<p>Docker Hubã®<a href=\"https://hub.docker.com/r/codelibs/fess/\" rel=\"nofollow noopener\" target=\"_blank\">codelibs/fess</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯<a href=\"http://fess.codelibs.org/ja/11.2/install/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n</pre></div></div>\n\n<h3>\n<span id=\"fessã®è¨­å®š\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>Fessã®è¨­å®š</h3>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š</h4>\n\n<p><code>http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€<code>admin/admin</code>ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" alt=\"1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png\"></a><br>\n<br></p>\n\n<p>ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚¯ãƒ­ãƒ¼ãƒ©</code> &gt; <code>Web</code>ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" alt=\"2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®<code>+ã€€æ–°è¦ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" title=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png\"></a></p>\n\n<p>è¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<ul>\n<li>åå‰ \n\n<ul>\n<li>ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>URL \n\n<ul>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«<code>/</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜<code>URL</code>ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.*</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.+\\.html$</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>å€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<code>+ã€€ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A1%8C\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã§ã€€<code>ã‚·ã‚¹ãƒ†ãƒ </code> &gt; <code>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©</code> ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚<br>\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ <code>Default Crawler</code>ã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png\"></a><br>\n<br></p>\n\n<p><code>ä»Šã™ãé–‹å§‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" title=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png\"></a><br>\n<br></p>\n\n<p>ã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png\"></a><br>\n<br></p>\n\n<p>ã—ã°ã‚‰ãã—ã¦<code>F5</code>ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚<br>\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ<code>å®Ÿè¡Œä¸­</code>ã‹ã‚‰<code>æœ‰åŠ¹</code>ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</code>&gt;<code>ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±</code>ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png\"></a><br>\n<br></p>\n\n<p>ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png\"></a><br>\n<br></p>\n\n<p>ã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png\"></a><br>\n<br></p>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E7%94%A8web%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%82%92%E9%85%8D%E7%BD%AE\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®</h3>\n\n<p>å…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã®ï¼’ã¤ã§ã™ã€‚<br>\n<code>full-text-search.js</code>ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚<br>\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'use strict'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">=</span> <span class=\"s1\">'http://192.168.1.5:10084/json'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n\n    <span class=\"c1\">// ç›®æ¬¡ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#toc'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form id=\"search-form\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;div class=\"search-input-area\"&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-search left-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" /&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-close right-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-start\" type=\"hidden\" value=\"0\"/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-num\" type=\"hidden\" value=\"'</span> <span class=\"o\">+</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">+</span> <span class=\"s1\">'\"/&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$searchArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-form'</span><span class=\"p\">).</span><span class=\"nx\">submit</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".left-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"#search-query\"</span><span class=\"p\">).</span><span class=\"nx\">keyup</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$rightIcon</span> <span class=\"o\">=</span> <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">);</span>\n\n              <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">().</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#555'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>\n                     <span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n        <span class=\"p\">});</span>\n\n    <span class=\"c1\">// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#header&gt;h1'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">before</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-result-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-subheader\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-content\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s1\">'#remove-search-result'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">delegateTarget</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                    <span class=\"p\">})</span>\n                    <span class=\"c1\">// å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#prevPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#nextPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">doSearch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">){</span>\n      <span class=\"c1\">// æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">searchQuery</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-query'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()),</span>\n          <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-num'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">start</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"nx\">num</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—</span>\n      <span class=\"k\">switch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">navi</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">case</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">-=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"k\">case</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">+=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"nl\">default</span><span class=\"p\">:</span>\n        <span class=\"k\">case</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n          <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// URLã‚’æ§‹ç¯‰</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">+</span> <span class=\"s1\">'?callback=?'</span> <span class=\"o\">+</span> <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n                                     <span class=\"s1\">'&amp;q='</span> <span class=\"o\">+</span> <span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;start='</span> <span class=\"o\">+</span> <span class=\"nx\">start</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;num='</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</span>\n      <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n          <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"nx\">url</span><span class=\"p\">,</span>\n          <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"s1\">'jsonp'</span><span class=\"p\">,</span>\n          <span class=\"na\">success</span><span class=\"p\">:</span> <span class=\"nx\">renderSearchResult</span>\n      <span class=\"p\">});</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#searchNum'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">renderSearchResult</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¤œç´¢çµæœå‡¦ç†</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">dataResponse</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n      <span class=\"c1\">// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">status</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\"</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultSubheader</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">),</span>\n          <span class=\"nx\">$searchResultContent</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">),</span>\n          <span class=\"nx\">record_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">record_count</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœãŒãªã„å ´åˆ</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">record_count</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span>  <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// çµæœé ˜åŸŸã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultContent</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt;ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚'</span><span class=\"p\">;</span>\n\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">page_number</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_number</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_size</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_count</span><span class=\"p\">,</span>\n          <span class=\"nx\">startRange</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nx\">endRange</span> <span class=\"o\">=</span> <span class=\"nx\">page_number</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n          <span class=\"nx\">max</span><span class=\"p\">,</span>\n          <span class=\"nx\">offset</span> <span class=\"o\">=</span> <span class=\"nx\">startRange</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">offset</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n      <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt; ã®æ¤œç´¢çµæœ '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">record_count</span> <span class=\"o\">+</span> <span class=\"s2\">\" ä»¶ä¸­ \"</span> <span class=\"o\">+</span>  <span class=\"nx\">startRange</span> <span class=\"o\">+</span> <span class=\"s1\">' - '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">endRange</span> <span class=\"o\">+</span> <span class=\"s1\">' ä»¶ç›® ('</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">exec_time</span> <span class=\"o\">+</span> <span class=\"s1\">' ç§’)'</span> <span class=\"o\">+</span>\n                               <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢</span>\n      <span class=\"nx\">$searchResultContent</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢çµæœã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$resultBody</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;ol/&gt;\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">results</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">max</span> <span class=\"o\">=</span> <span class=\"nx\">results</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">max</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">element</span> <span class=\"o\">=</span>\n            <span class=\"s1\">'&lt;li&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;h4 class=\"title\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;a href=\"'</span> <span class=\"o\">+</span><span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">url_link</span> <span class=\"o\">+</span> <span class=\"s1\">'\"&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">title</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/a&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/h4&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div class=\"body\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">content_description</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;br/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;cite&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">site</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/cite&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/li&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$resultBody</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">$resultBody</span><span class=\"p\">.</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">pageArea</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div id=\"pageInfo\"&gt;'</span><span class=\"p\">,</span> <span class=\"nx\">page_number</span><span class=\"p\">,</span> <span class=\"s1\">'ãƒšãƒ¼ã‚¸ç›®&lt;br/&gt;'</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"prevPageLink\" href=\"#\"&gt;&amp;lt;&amp;lt;å‰ãƒšãƒ¼ã‚¸ã¸&lt;/a&gt; '</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&lt;</span> <span class=\"nx\">page_count</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"nextPageLink\" href=\"#\"&gt;æ¬¡ãƒšãƒ¼ã‚¸ã¸&amp;gt;&amp;gt;&lt;/a&gt;'</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">);</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.css</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">@charset</span> <span class=\"s1\">\"UTF-8\"</span><span class=\"p\">;</span>\n\n<span class=\"nf\">#search-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">relative</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* å…¥åŠ›é …ç›® */</span>\n<span class=\"nf\">#search-query</span> <span class=\"p\">{</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">100%</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">outline</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nt\">input</span><span class=\"nd\">:focus</span> <span class=\"p\">{</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#4d90fe</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">absolute</span><span class=\"p\">;</span>\n    <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">50%</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n    <span class=\"py\">font-sise</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */</span>\n    <span class=\"nl\">cursor</span><span class=\"p\">:</span><span class=\"nb\">pointer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span><span class=\"m\">#444</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1.4em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */</span>\n<span class=\"nf\">#search-result-area</span><span class=\"nc\">.show</span> <span class=\"p\">{</span>\n    <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#f8f8f7</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0px</span> <span class=\"nb\">solid</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E5%87%A6%E7%90%86%E3%82%92%E8%BF%BD%E5%8A%A0\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ </h3>\n\n<p>å‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã‚’ã€<br>\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\n<code>full-text-search.js</code>ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€<br>\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n</pre></div></div>\n\n<p><code>asciidoctor-sample.adoc</code>ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>++++\n&lt;link rel=\"stylesheet\" href=\"../full-text-search.css\"&gt;&lt;/link&gt;\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"../full-text-search.js\"&gt;&lt;/script&gt;\n++++\n</pre></div></div>\n\n<h3>\n<span id=\"å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª</h3>\n\n<p>ä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png\"></a><br>\n<br></p>\n\n<p>æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png\"></a><br>\n<br></p>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>Fessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"http://fess.codelibs.org/ja/articles/article-4.html#js\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨</a></li>\n<li><a href=\"http://qiita.com/cookienote/items/1f2443be25630a78d946\" id=\"reference-69c989703115d994be84\">å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™</a></li>\n</ul>\n","body":"[Asciidoctor](http://asciidoctor.org/)ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®[Fess](http://fess.codelibs.org/ja/)ã‚’ç«‹ã¦ã¦ã€\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\nå°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![6æœˆ-24-2017 19-05-32.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif \"6æœˆ-24-2017 19-05-32.gif\")\n\n\n## Fessã¨ã¯\n[Fess](http://fess.codelibs.org/ja/)ã¯**ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€**ã§ã™ã€‚\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚\n\n\n## å…¨ä½“åƒ\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\n![0_Fess_å…¨ä½“åƒ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png)\n\n![0_Fess_å…¨ä½“åƒ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png)\n\n## å°å…¥æ‰‹é †\nã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒ\u001cï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚\n\n![0_Fess_å…¨ä½“åƒ_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png)\n\n\n### Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nDocker Hubã®[codelibs/fess](https://hub.docker.com/r/codelibs/fess/)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯[Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](http://fess.codelibs.org/ja/11.2/install/index.html)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\n```\n$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n```\n\n### Fessã®è¨­å®š\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\n`http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€`admin/admin`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚\n![1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png)\n<br/>\n\nãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®`ã‚¯ãƒ­ãƒ¼ãƒ©` > `Web`ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚\n![2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®`+ã€€æ–°è¦ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png \"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\")\n\nè¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚\n\n* åå‰ \n    * ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n* URL \n    * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«`/`ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n* ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n    * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜`URL`ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€`URLã§è¨­å®šã—ãŸå€¤` + `.*` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n* æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n   * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€`URLã§è¨­å®šã—ãŸå€¤` + `.+\\.html$` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br/>\n<br/>\n\n\nå€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦`+ã€€ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\nå·¦ãƒšã‚¤ãƒ³ã§ã€€`ã‚·ã‚¹ãƒ†ãƒ ` > `ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©` ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ `Default Crawler`ã‚’é¸æŠã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png)\n<br/>\n\n`ä»Šã™ãé–‹å§‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png \"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\")\n<br/>\n\nã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png)\n<br/>\n\nã—ã°ã‚‰ãã—ã¦`F5`ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ`å®Ÿè¡Œä¸­`ã‹ã‚‰`æœ‰åŠ¹`ã«ãªã‚Šã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\nå·¦ãƒšã‚¤ãƒ³ã®`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±`>`ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±`ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\")\n<br/>\n\n\nã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\")\n<br/>\n\nã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\")\n<br/>\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\nå…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯`full-text-search.js`ã¨`full-text-search.css`ã®ï¼’ã¤ã§ã™ã€‚\n`full-text-search.js`ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚\n\n```javascript:full-text-search.js\n$(function() {\n    'use strict';\n\n    // FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰\n    var FESS_JSON_ENDPOINT = 'http://192.168.1.5:10084/json';\n\n    // ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°\n    var COUNT_PAR_PAGE = 10;\n\n\n    // ç›®æ¬¡ã®\n    $('#toc')\n        // ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .prepend(\n            '<div id=\"search-area\">' +\n                '<form id=\"search-form\">' +\n                    '<div class=\"search-input-area\">' +\n                        '<i class=\"fa fa-search left-icon\"></i>' +\n                        '<input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" />' +\n                        '<i class=\"fa fa-close right-icon\"></i>' +\n                    '</div>' +\n                    '<input id=\"search-start\" type=\"hidden\" value=\"0\"/>' +\n                    '<input id=\"search-num\" type=\"hidden\" value=\"' + COUNT_PAR_PAGE + '\"/>' +\n                '<form>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            var $searchArea = $(this);\n\n            // å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find('#search-form').submit({navi:0}, doSearch);\n\n            // è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find(\".left-icon\").click({navi:0}, doSearch);\n\n            // æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€\n            $searchArea.find(\"#search-query\").keyup(function(){\n              var $this = $(this);\n              var $rightIcon = $this.parent().find(\".right-icon\");\n\n              if($this.val().length > 0) {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹\n                 $rightIcon.css('color','#555');\n              } else {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹\n                 $rightIcon.css('color','#ccc');\n              }\n            });\n\n            // Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€\n            $searchArea.find(\".right-icon\").click(function(){\n              // Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦\n              $(this).css('color','#ccc')\n                      // æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹\n                     .parent().find(\"input\").val('');\n            });\n        });\n\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®\n    $('#header>h1')\n        // ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .before(\n            '<div id=\"search-result-area\">' +\n                '<div id=\"search-result-subheader\"></div>' +\n                '<div id=\"search-result-content\"></div>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            $(this)\n                .find('#search-result-area')\n                    // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€\n                    .on(\"click\", '#remove-search-result', function(e) {\n                      var $searchResultArea = $(e.delegateTarget)\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹\n                      $searchResultArea.removeClass('show');\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹\n                      $searchResultArea.find('#search-result-subheader').empty();\n                      $searchResultArea.find('#search-result-content').empty();\n                    })\n                    // å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#prevPageLink\", {navi:-1}, doSearch)\n                    // æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#nextPageLink\", {navi:1}, doSearch);\n        });\n\n\n\n    /**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */\n    function doSearch(event){\n      // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—\n      var searchQuery = $.trim($('#search-query').val());\n      // ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„\n      if(searchQuery.length == 0) {\n        return false;\n      }\n\n\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—\n      var start = parseInt($('#search-start').val()),\n          num = parseInt($('#search-num').val());\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯\n      if(start < 0) {\n        start = 0;\n      }\n      // è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯\n      if(num < 1 || num > 100) {\n        num = 20;\n      }\n      // è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—\n      switch(event.data.navi) {\n        case -1:\n          // å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start -= num;\n          break;\n        case 1:\n          // æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start += num;\n          break;\n        default:\n        case 0:\n          start = 0;\n          break;\n      }\n\n\n      // URLã‚’æ§‹ç¯‰\n      var url = FESS_JSON_ENDPOINT + '?callback=?' + // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n                                     '&q=' + encodeURIComponent(searchQuery) +\n                                     '&start=' + start +\n                                     '&num=' + num;\n\n      // æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n      // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n      $.ajax({\n          url: url,\n          dataType: 'jsonp',\n          success: renderSearchResult\n      });\n\n\n      // ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°\n      $('#searchNum').val(num);\n\n      // ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•\n      $(document).scrollTop(0);\n\n      // ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™\n      return false;\n    };\n\n\n    /**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */\n    function renderSearchResult(data) {\n      // æ¤œç´¢çµæœå‡¦ç†\n      var dataResponse = data.response;\n      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n      if(dataResponse.status != 0) {\n        alert(\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n        return;\n      }\n\n      // æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹\n      $('#search-result-area').addClass('show');\n\n      var $searchResultSubheader = $('#search-result-subheader'),\n          $searchResultContent = $('#search-result-content'),\n          record_count = dataResponse.record_count;\n\n      // æ¤œç´¢çµæœãŒãªã„å ´åˆ\n      if(record_count == 0) {\n        // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n        $searchResultSubheader[0].innerHTML =  '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>';\n\n        // çµæœé ˜åŸŸã«å‡ºåŠ›\n        $searchResultContent[0].innerHTML = '<b>' + dataResponse.q + '</b>ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';\n\n        return;\n      }\n\n\n      // æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ\n      var page_number = dataResponse.page_number,\n          page_size = dataResponse.page_size,\n          page_count = dataResponse.page_count,\n          startRange = (page_number - 1) * page_size + 1,\n          endRange = page_number * page_size,\n          i = 0,\n          max,\n          offset = startRange - 1;\n\n      $('#search-start').val(offset);\n\n\n      // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n      $searchResultSubheader[0].innerHTML = '<b>' + dataResponse.q + '</b> ã®æ¤œç´¢çµæœ ' +\n                                record_count + \" ä»¶ä¸­ \" +  startRange + ' - ' +\n                                endRange + ' ä»¶ç›® (' + dataResponse.exec_time + ' ç§’)' +\n                               '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>'\n\n      // æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢\n      $searchResultContent.empty();\n\n\n      // æ¤œç´¢çµæœã®å‡ºåŠ›\n      var $resultBody = $(\"<ol/>\");\n      var results = dataResponse.result;\n      for(i = 0, max = results.length; i < max; i++) {\n        var element =\n            '<li>' +\n                '<h4 class=\"title\">' +\n                    '<a href=\"' +results[i].url_link + '\">' + results[i].title + '</a>' +\n                '</h4>' +\n                '<div class=\"body\">' +\n                    results[i].content_description +\n                    '<br/>' +\n                    '<cite>' + results[i].site + '</cite>' +\n                '</div>' +\n            '</li>';\n\n        $(element).appendTo($resultBody);\n      }\n      $resultBody.appendTo($searchResultContent);\n\n\n      // ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›\n      var pageArea = [];\n      pageArea.push('<div id=\"pageInfo\">', page_number, 'ãƒšãƒ¼ã‚¸ç›®<br/>');\n      if(page_number > 1) {\n        // å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"prevPageLink\" href=\"#\">&lt;&lt;å‰ãƒšãƒ¼ã‚¸ã¸</a> ');\n      }\n      if(page_number < page_count) {\n        // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"nextPageLink\" href=\"#\">æ¬¡ãƒšãƒ¼ã‚¸ã¸&gt;&gt;</a>');\n      }\n      pageArea.push('</div>');\n      $(pageArea.join(\"\")).appendTo($searchResultContent);\n    }\n});\n\n```\n\n\n```css:full-text-search.css\n@charset \"UTF-8\";\n\n#search-area {\n    margin-bottom: 1em;\n}\n\n.search-input-area {\n    position:relative;\n}\n\n/* å…¥åŠ›é …ç›® */\n#search-query {\n    padding: 0.7em 2em;\n    width: 100%;\n    color: black;\n    font-family: arial,sans-serif;\n    font-size: 1em;\n    border: 1px solid #ccc;\n    border-radius: 2em;\n    outline: 0;\n}\n\n.search-input-area input:focus {\n    border: 1px solid #4d90fe;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */\n.search-input-area .left-icon,\n.search-input-area .right-icon {\n    /* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */\n    position:absolute;\n    top: 50%;\n    margin-top: -0.5em;\n    font-sise: 1em;\n    /* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */\n    cursor:pointer;\n}\n\n.search-input-area .left-icon {\n    left: 0.7em;\n    color:#444;\n}\n\n.search-input-area .right-icon {\n    right: 0.7em;\n    /* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */\n    color: #ccc;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */\n.search-input-area .left-icon:hover,\n.search-input-area .right-icon:hover {\n    font-size: 1.4em;\n}\n\n\n.search-input-area .left-icon:hover {\n    left: 0.5em;\n}\n\n\n.search-input-area .right-icon:hover {\n    right: 0.5em;\n}\n\n/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */\n#search-result-area.show {\n    background: #f8f8f7;\n    border: 0px solid;\n    border-radius: 0.5em;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    padding: 1em;\n}\n\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \nå‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ`full-text-search.js`ã¨`full-text-search.css`ã‚’ã€\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\n`full-text-search.js`ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€\n\n```\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n```\n\n\n`asciidoctor-sample.adoc`ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n++++\n<link rel=\"stylesheet\" href=\"../full-text-search.css\"></link>\n<script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"></script>\n<script src=\"../full-text-search.js\"></script>\n++++\n```\n\n### å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\nä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png)\n<br/>\n\næ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png)\n<br/>\n\n\n## ã¾ã¨ã‚\nFessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚\n\n\n## å‚è€ƒ\n* [Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨](http://fess.codelibs.org/ja/articles/article-4.html#js)\n* [å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™](http://qiita.com/cookienote/items/1f2443be25630a78d946)\n\n","comments_count":0,"created_at":"2017-06-26T00:21:37+09:00","likes_count":21,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/7780e313-8bda-5534-99aa-37bf47e9deb3/","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","date":"2017-12-31T23:49:04+09:00","excerpt":"== 2018/4/7 è¿½è¨˜ ==========================================æœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€ãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚gitb...","tags":["JavaScript","chrome-extension","Docker","GitBucket","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"7780e313-8bda-5534-99aa-37bf47e9deb3","title":"GitBucketã®issueã§ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³","rendered_body":"<p>== 2018/4/7 è¿½è¨˜ ==========================================<br>\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€<br>\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚</p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-plugin</a></p>\n\n<p><a href=\"https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸</a>ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦<code>&lt;GITBUCKET_HOME&gt;/plugins/</code>ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚<br>\n== =======================================================</p>\n\n<p>Git Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"ã¯ã˜ã‚ã«\" class=\"fragment\"></span><a href=\"#%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB\"><i class=\"fa fa-link\"></i></a>ã¯ã˜ã‚ã«</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€<br>\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚</p>\n\n<p>Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚</p>\n\n<ul>\n<li>\n<em>Chromeæ‹¡å¼µ</em>\n\n<ul>\n<li><a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a></li>\n</ul>\n</li>\n<li>\n<em>Dockerã‚¤ãƒ¡ãƒ¼ã‚¸</em>\n\n<ul>\n<li><a href=\"https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-server</a></li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å°å…¥ã™ã‚‹ã¨\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E3%81%99%E3%82%8B%E3%81%A8\"><i class=\"fa fa-link\"></i></a>å°å…¥ã™ã‚‹ã¨</h2>\n\n<p><a href=\"https://gitbucket.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">GitBucket</a>ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€<br>\n<a href=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f13706aedeb42c177c1f4f57975596b5ff002407/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36313030366263392d326438322d663062302d363461322d3037393233633737333963372e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png\"></a></p>\n\n<p>ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b86e2b23bc0f4b9fae45b07bfd568b11bc005121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36613462383664382d323937332d656338342d383662632d3632383965343262643636362e706e67\" alt=\"å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png\"></a></p>\n\n<p>ã¾ãŸissueä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7c2ee31427698b7fe01b30f25b8e31b7e3115e2d/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39633835386533622d356463312d313432342d663334662d3562323661633665323066642e706e67\" alt=\"å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-dockerå´\" class=\"fragment\"></span><a href=\"#1-docker%E5%81%B4\"><i class=\"fa fa-link\"></i></a>1. Dockerå´</h3>\n\n<p>GitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡ä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚</p>\n\n<ul>\n<li>docker-compose.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"docker\">\n<div class=\"code-lang\"><span class=\"bold\">docker-compose.yml</span></div>\n<div class=\"highlight\"><pre>version: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n</pre></div>\n</div>\n\n<ul>\n<li>docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"bash\"><div class=\"highlight\"><pre><span class=\"nv\">$ </span>docker-compose up <span class=\"nt\">-d</span>\n</pre></div></div>\n\n<h3>\n<span id=\"2-gitbucketå´\" class=\"fragment\"></span><a href=\"#2-gitbucket%E5%81%B4\"><i class=\"fa fa-link\"></i></a>2. GitBucketå´</h3>\n\n<p>Chromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®ãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li><p>GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ &gt; Account Setting ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b06f383ce5768cc2c9b84b7bcd92537cbd0f94ef/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34323637363166372d633139392d653139652d633631392d6131383264643035623065612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png\"></a><br>\n<br></p></li>\n<li><p>å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ<code>Generate token</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e21ff3f5214f3833cc66ed4d9cf2037b31c6d02f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f64313836663730322d663764622d353231652d366436642d6564636133313836643931352e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png\"></a><br>\n<br></p></li>\n<li><p>ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰<br>\n<a href=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d46de4cb3222a8304001bbc2f89abc1e14b2cba8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30633830346661662d666431332d383064322d386365392d6535303439323262623534612e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png\"></a></p></li>\n</ul>\n\n<h3>\n<span id=\"3-chrome-extensionå´\" class=\"fragment\"></span><a href=\"#3-chrome-extension%E5%81%B4\"><i class=\"fa fa-link\"></i></a>3. Chrome Extensionå´</h3>\n\n<ul>\n<li><p>Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§<a href=\"https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">gitbucket-issue-estimation-client</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n<a href=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b7b7e21c6391cd1436ad73eb356bdec6f93bb3b4/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63336365666639382d313731372d626566302d306465392d3836313736303638613635632e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png\"></a><br>\n<br></p></li>\n<li>\n<p>å³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—<code>Save</code>ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯</p>\n\n<ul>\n<li>\n<strong>gitbucket-issue-estimation-server URL</strong>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š <code>http://127.0.0.1:3000</code> </li>\n</ul>\n</li>\n<li>\n<strong>GitBucket Token</strong>\n\n<ul>\n<li>GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n<a href=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/be5ab7568b1a4eee506be3546cae994189e34d15/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66366162333739622d613835322d366562342d663634382d6131346437353139663365622e706e67\" alt=\"å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png\"></a>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"å…·ä½“çš„ãªä»•çµ„ã¿\" class=\"fragment\"></span><a href=\"#%E5%85%B7%E4%BD%93%E7%9A%84%E3%81%AA%E4%BB%95%E7%B5%84%E3%81%BF\"><i class=\"fa fa-link\"></i></a>å…·ä½“çš„ãªä»•çµ„ã¿</h2>\n\n<p>Dockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚<br>\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<p><strong>(1)</strong> ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥<br>\n<strong>(2)</strong> ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—<br>\n<strong>(3)</strong> ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d5736e48c469204a17566c6cfb4003420add2c8e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63616435323063332d376439632d666134372d326262302d3732633534663638383233362e706e67\" alt=\"å…¨ä½“åƒ.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png\"></a></p>\n\n<h2>\n<span id=\"chromeæ‹¡å¼µä½œæˆæ™‚ã«gitbucket-apiã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#chrome%E6%8B%A1%E5%BC%B5%E4%BD%9C%E6%88%90%E6%99%82%E3%81%ABgitbucket-api%E3%81%BE%E3%82%8F%E3%82%8A%E3%81%A7%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨</h2>\n\n<p><a href=\"https://github.com/gitbucket/gitbucket/wiki/API-WebHook\" rel=\"nofollow noopener\" target=\"_blank\">GitBucketã®API</a>ã¯<a href=\"https://developer.github.com/v3/\" rel=\"nofollow noopener\" target=\"_blank\">Githubã®REST API v3</a>ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚</p>\n\n<h3>\n<span id=\"stateallãŒåŠ¹ã‹ãªã„\" class=\"fragment\"></span><a href=\"#stateall%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>state=all</code>ãŒåŠ¹ã‹ãªã„</h3>\n\n<p>æœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯<code>state=all</code>ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚<code>state=open</code>ã¨<code>state=closed</code>ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"per_pageãŒåŠ¹ã‹ãªã„1åº¦ã«25ä»¶ãŒæœ€å¤§\" class=\"fragment\"></span><a href=\"#per_page%E3%81%8C%E5%8A%B9%E3%81%8B%E3%81%AA%E3%81%841%E5%BA%A6%E3%81%AB25%E4%BB%B6%E3%81%8C%E6%9C%80%E5%A4%A7\"><i class=\"fa fa-link\"></i></a><code>per_page</code>ãŒåŠ¹ã‹ãªã„ï¼ˆ1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰</h4>\n\n<p>GitBucketã®APIã§ã¯<code>per_page</code>ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚<br>\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"closed_atã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—ã§ããªã„\" class=\"fragment\"></span><a href=\"#closed_at%E3%82%AF%E3%83%AD%E3%83%BC%E3%82%BA%E6%97%A5%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a><code>closed_at</code>ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„</h4>\n\n<p>Chromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚</p>\n\n<h4>\n<span id=\"-å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\" class=\"fragment\"></span><a href=\"#-%E5%8F%82%E8%80%83%E3%81%AB%E3%81%95%E3%81%9B%E3%81%A6%E3%81%84%E3%81%9F%E3%81%A0%E3%81%84%E3%81%9F%E3%82%B5%E3%82%A4%E3%83%88\"><i class=\"fa fa-link\"></i></a>â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ</h4>\n\n<ul>\n<li><a href=\"https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84\" id=\"reference-1c197ca99a2ee070efac\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰</a></li>\n<li><a href=\"https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0\" id=\"reference-7d56ea50a58cb24addc5\">Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰</a></li>\n</ul>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>æœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚</p>\n","body":"== 2018/4/7 è¿½è¨˜ ==========================================\næœ¬è¨˜äº‹ã§ã¯Chromeæ‹¡å¼µã¨Dockerã«ã‚ˆã£ã¦å®Ÿç¾ã—ã¦ã„ã¾ã—ãŸãŒã€\nãã®å¾ŒGitBucket PluginåŒ–ã—ã¾ã—ãŸã€‚\n\n[gitbucket-issue-estimation-plugin](https://github.com/Takumon/gitbucket-issue-estimation-plugin)\n\n[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/Takumon/gitbucket-issue-estimation-plugin/releases/tag/0.1)ã‹ã‚‰jarãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦`<GITBUCKET_HOME>/plugins/`ã«ç½®ãã ã‘ã§å°å…¥å¯èƒ½ã§ã™ã€‚\n== =======================================================\n\n\nGit Advent CalendarãŒåŸ‹ã¾ã£ã¦ã„ãªã‹ã£ãŸã®ã§ã€å¤§æ™¦æ—¥ã§ã™ãŒä»£ã‚ã‚Šã«æŠ•ç¨¿ã•ã›ã¦ã„ãŸã ãã¾ã—ãŸã€‚\n\n## ã¯ã˜ã‚ã«\n[GitBucket](https://gitbucket.github.io/)ã®ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®é€²æ—ç‡ã¯issueã®ä»¶æ•°ãƒ™ãƒ¼ã‚¹ãªã®ã§ã€issueã”ã¨ã«ä½œæ¥­é‡ã®ãƒãƒ©ã¤ããŒã‚ã£ãŸã‚Šã™ã‚‹ã¨ç¾å®Ÿçš„ãªé€²æ—ç‡ã¨ä¹–é›¢ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯\bChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œæˆã—ã¦ã€\nissueã«ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ã—ã¦ã€ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç¢ºèªã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã—ãŸã€‚\n\nChromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã¯ã©ã¡ã‚‰ã‚‚å…¬é–‹ã—ã¦ã„ã‚‹ã®ã§ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚æ˜¯éè©¦ã—ã¦ã¿ã¦ãã ã•ã„ã€‚\n\n\n* *Chromeæ‹¡å¼µ*\n    * [gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)\n* *Dockerã‚¤ãƒ¡ãƒ¼ã‚¸*\n    * [gitbucket-issue-estimation-server](https://hub.docker.com/r/takumon/gitbucket-issue-estimation-server/)\n\n## å°å…¥ã™ã‚‹ã¨\n[GitBucket](https://gitbucket.github.io/)ã®issueã§ä½œæ¥­é‡ãŒè¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã€\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61006bc9-2d82-f0b0-64a2-07923c7739c7.png)\n\n\bãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã§ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ãŒè¦‹ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6a4b86d8-2973-ec84-86bc-6289e42bd666.png)\n\nã¾ãŸ\bissue\bä¸€è¦§ç”»é¢ã§ã‚‚ä½œæ¥­é‡ã‚’è¨­å®šã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![å°å…¥å¾Œ_ã‚¤ã‚·ãƒ¥ãƒ¼ä¸€è¦§ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/9c858e3b-5dc1-1424-f34f-5b26ac6e20fd.png)\n\n\n\n\n## å°å…¥æ‰‹é †\n### 1. Dockerå´\nGitBucketã¨åŒã˜ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ç’°å¢ƒã«ä½œæ¥­é‡\bä¿å­˜ç”¨ã®ã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚DockerãŒå°å…¥ã•ã‚Œã¦ã„ã‚‹ã“ã¨ãŒå‰æã§ã™ã€‚\n\n* \u001edocker-compose\b.ymlã‚’ä½œæˆï¼ˆMongoDBã®ãƒœãƒªãƒ¥ãƒ¼ãƒ ç”¨ã«docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã¨åŒéšå±¤ã«dbãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼‰\n\n```docker:docker-compose.yml\nversion: \"3.3\"\nservices:\n  server:\n    image: takumon/gitbucket-issue-estimation-server\n    ports:\n      - 3000:3000\n    depends_on:\n      - mongo\n    links:\n      - mongo\n    environment:\n      MONGO_URL: mongodb://mongo:27017/test\n  mongo:\n    image: mongo:3.5.12\n    ports:\n      - 27017:27017\n    volumes:\n      - ./db:/data/db\n```\n\n* docker-conpose.ymlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã§ä¸‹è¨˜ã‚’å®Ÿè¡Œ\n\n```bash:\n$ docker-compose up -d\n```\n\n\n### 2. GitBucketå´\nChromeæ‹¡å¼µã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å‰ã«ã€GitBucketã®\bãƒˆãƒ¼ã‚¯ãƒ³ã‚’ç™ºè¡Œã—ã¦ãƒ¡ãƒ¢ã—ã¦ãŠãã¾ã™ã€‚\n\n* GitBucketãƒ˜ãƒƒãƒ€ãƒ¼å³ä¸Šã‚¢ã‚¤ã‚³ãƒ³ > Account Setting\b ã‚’é¸æŠ\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/426761f7-c199-e19e-c619-a182dd05b0ea.png)\n<br>\n\n* å·¦ãƒ¡ãƒ‹ãƒ¥ãƒ¼ Applicationsã‚’é¸æŠã—ã€Generate new tokenã®Token descriptionã«ãƒˆãƒ¼ã‚¯ãƒ³ã®æ¦‚è¦ã‚’è¨˜è¼‰ã€ãã®å¾Œ`Generate token`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/d186f702-f7db-521e-6d6d-edca3186d915.png)\n<br>\n\n* ç™ºè¡Œã•ã‚ŒãŸãƒˆãƒ¼ã‚¯ãƒ³ã‚’ã‚³ãƒ”ãƒ¼ï¼ˆå¾Œã®æ‰‹é †ã§ä½¿ã„ã¾ã™ï¼‰\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_ï¼“.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0c804faf-fd13-80d2-8ce9-e504922bb54a.png)\n\n\n### 3. Chrome Extensionå´\n* Chromeã‚’é–‹ãChromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§[gitbucket-issue-estimation-client](https://chrome.google.com/webstore/detail/gitbucket-issue-estimatio/hfnjaoikgpephpfbniemgfpkcbafgidj?hl=ja)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n![å°å…¥æ‰‹é †_GitBucket_æ‹¡å¼µã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/c3ceff98-1717-bef0-0de9-86176068a65c.png)\n<br>\n\n* \bå³ä¸Šã®ã€ŒEã€ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€ä¸‹è¨˜æƒ…å ±ã‚’å…¥åŠ›ã—`Save`ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯\n    * **gitbucket-issue-estimation-server URL**\n        * ã‚µãƒ¼ãƒå´ã®æ‰‹é †ã§ç«‹ã¦ãŸã‚µãƒ¼ãƒã®URL ä¾‹ï¼š `http://127.0.0.1:3000` \n    * **GitBucket Token**\n        * GitBucketå´ã®æ‰‹é †ã§ãƒ¡ãƒ¢ã—ãŸãƒˆãƒ¼ã‚¯ãƒ³\n![å°å…¥æ‰‹é †_GitBucketãƒˆãƒ¼ã‚¯ãƒ³ç™ºè¡Œ_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f6ab379b-a852-6eb4-f648-a14d7519f3eb.png)\n<br>\n\n## å…·ä½“çš„ãªä»•çµ„ã¿\nDockerå´ã¯MongoDBã¨Node.jsã‚’ä½¿ã£ã¦ã„ã¦ã€issueã®ä½œæ¥­é‡ã®æ¤œç´¢ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤APIã‚’æä¾›ã—ã¦ã„ã‚‹ã ã‘ã§ã™ã€‚\nChromeæ‹¡å¼µå´ã§ä¸‹è¨˜ã®ã‚ˆã†ã«å…¨ä½“ã‚’ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ã—ã¦ã„ã¾ã™ã€‚\n\n**(1)** ãƒ»ãƒ»ãƒ»ã€€GitBucketã®ç”»é¢ã‹ã‚‰issueã¨ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã®æƒ…å ±ã‚’å–å¾—ã€issueã®ä½œæ¥­é‡ã€ä½œæ¥­é‡ãƒ™ãƒ¼ã‚¹ã®é€²æ—ç‡ã‚’ç”»é¢ã«æŒ¿å…¥\n**(2)** ãƒ»ãƒ»ãƒ»ã€€ç”»é¢ã‹ã‚‰å–å¾—ã—ãŸissueã®æƒ…å ±ã‚’ã‚‚ã¨ã«è©³ç´°æƒ…å ±ã‚’å–å¾—\n**(3)** ãƒ»ãƒ»ãƒ»ã€€issueã®ä½œæ¥­é‡ã‚’æ¤œç´¢ãƒ»ç™»éŒ²ãƒ»æ›´æ–°ãƒ»å‰Šé™¤\n\n![å…¨ä½“åƒ.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cad520c3-7d9c-fa47-2bb0-72c54f688236.png)\n\n\n\n## Chromeæ‹¡å¼µä½œæˆæ™‚ã«GitBucket APIã¾ã‚ã‚Šã§èº“ã„ãŸã“ã¨\n[GitBucketã®API](https://github.com/gitbucket/gitbucket/wiki/API-WebHook)ã¯[Githubã®REST API v3](https://developer.github.com/v3/)ã«æº–æ‹ ã—ã¦ã„ã¾ã™ãŒã€ä¸€éƒ¨å®Ÿè£…ã•ã‚Œã¦ã„ãªã„éƒ¨åˆ†ãŒã‚ã£ãŸã®ã§ã€Chromeæ‹¡å¼µä½œæˆæ™‚ã«èº“ãã¾ã—ãŸã€‚\n\n### `state=all`ãŒåŠ¹ã‹ãªã„\næœªè§£æ±ºissueã¨è§£æ±ºæ¸ˆissueä¸¡æ–¹ã‚’ã„ã£ãºã‚“ã«å–å¾—ã—ãŸã‹ã£ãŸã®ã§ã™ãŒã€GitBucketã®APIã§ã¯`state=all`ãŒåŠ¹ãã¾ã›ã‚“ã€‚ãã®ãŸã‚`state=open`ã¨`state=closed`ã‚’æŒ‡å®šã—ã¦ï¼’å›ã«åˆ†ã‘ã¦å–å¾—ã™ã‚‹å®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `per_page`ãŒåŠ¹ã‹ãªã„ï¼ˆ\b1åº¦ã«25ä»¶ãŒæœ€å¤§ï¼‰\nGitBucketã®APIã§ã¯`per_page`ï¼ˆæ¤œç´¢æ™‚ã®ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°ï¼‰ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã¾ã›ã‚“ã€‚\nãã®ãŸã‚ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ã«ç´ã¥ãissueå–å¾—æ™‚ã¯ã€ï¼‘ãƒšãƒ¼ã‚¸ç›®ã‚’æ¤œç´¢ã—ã¦å–å¾—çµæœãŒ25ä»¶ã®å ´åˆã¯æ¬¡ã®ãƒšãƒ¼ã‚¸ã‚‚æ¤œç´¢ã™ã‚‹ã‚ˆã†ãªå®Ÿè£…ã«ã—ã¾ã—ãŸã€‚\n\n#### `closed_at`ï¼ˆã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ï¼‰ãŒå–å¾—ã§ããªã„\nChromeæ‹¡å¼µä½œæˆå½“åˆã¯ã€ãƒãƒ¼ãƒ³ãƒ€ã‚¦ãƒ³ãƒãƒ£ãƒ¼ãƒˆã‚’è¡¨ç¤ºã—ã‚ˆã†ã¨æ€ã£ã¦ã„ãŸã®ã§ã™ãŒã€issueã®ã‚¯ãƒ­ãƒ¼ã‚ºæ—¥ãŒå–å¾—å‡ºæ¥ãªã„ã®ã§æ–­å¿µã—ã¾ã—ãŸã€‚\n\n#### â€» å‚è€ƒã«ã•ã›ã¦ã„ãŸã ã„ãŸã‚µã‚¤ãƒˆ\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆãã®å¾Œï¼‰](https://qiita.com/5zm/items/b0b620cdeb9596108418#1%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%8C%E6%9C%80%E5%A4%A725%E4%BB%B6%E3%81%A7%E5%85%A8issue%E3%81%8C%E5%8F%96%E5%BE%97%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84)\n* [Pythonã§GitBucketã®Issueã‚’Excelå‡ºåŠ›ã™ã‚‹ï¼ˆAPIå‘¼ã³å‡ºã—ç·¨ï¼‰](https://qiita.com/5zm/items/57d7abca8e0d447e326d#2-gitbucket%E3%81%AEapi%E3%82%92%E5%88%A9%E7%94%A8%E3%81%97%E3%81%A6issues%E3%82%92%E5%8F%96%E5%BE%97%E3%81%99%E3%82%8B%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%A0)\n\n\n## ã¾ã¨ã‚\næœ¬æ¥ã“ã†ã„ã†è¿½åŠ æ©Ÿèƒ½ã¯GitBucketãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ä½œã‚‹ã¹ããªã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ä»Šå›ã¯Chromeæ‹¡å¼µã¨Dockerã‚¤ãƒ¡ãƒ¼ã‚¸ã§å®Ÿç¾ã—ã¦ã¿ã¾ã—ãŸã€‚\nChromeæ‹¡å¼µã¯ä»»æ„ã®ç”»é¢ã«JavaScriptã‚„CSSã‚’å·®ã—è¾¼ã‚ã‚‹ã®ã§ã€æ—¢å­˜ã®Webã‚µãƒ¼ãƒ“ã‚¹ã‚’ã‚’ã¡ã‚‡ã£ã¨ä¾¿åˆ©ã«ã™ã‚‹ã®ã«ã¯ã†ã£ã¦ã¤ã‘ã§ã™ã­ã€‚\n\n","comments_count":0,"created_at":"2017-12-31T23:49:04+09:00","likes_count":6,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/b4c7d1b9-428f-569a-af40-527d89794a77/","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","date":"2017-12-20T02:36:27+09:00","excerpt":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!å¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚ã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€è‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?...","tags":["JavaScript","GitHub","TypeScript","chrome-extension","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"b4c7d1b9-428f-569a-af40-527d89794a77","title":"TypeScriptã§ç°¡å˜ã«Chrome Extensionã‚’ä½œã‚‹æ–¹æ³•","rendered_body":"<p>Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!<br>\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚<br>\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€<br>\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„<br>\n<a href=\"https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension</a>ã‚’ä½œã‚Šã¾ã—ãŸã€‚<br>\n<strong>ãã®æ™‚ã«<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚</strong></p>\n\n<h2>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E9%9B%9B%E5%BD%A2%E3%82%92%E7%94%9F%E6%88%90%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹</h2>\n\n<p>yomanã¨<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚</p>\n\n<ul>\n<li>\n<code>yoman</code>ã¨<code>generator-chrome-extension-kickstart-typescript</code>ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g yo generator-chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦<code>yo</code>ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n</pre></div></div>\n\n<ul>\n<li>ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n\n<ul>\n<li>\n<strong>What would you like to call this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å</li>\n</ul>\n</li>\n<li>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>How would you like to describe this extension?</strong>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use UI Action?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€<code>No</code>,<code>Browser</code>,<code>Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>No</code> ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ</li>\n<li>\n<code>Browser</code> ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n<li>\n<code>Page</code> ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to override a chrome page?</strong>\n\n<ul>\n<li>Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€<code>No</code>,<code>Bookmarks Page</code>,<code>History Page</code>,<code>Newtab Page</code>ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like more UI Features?</strong>\n\n<ul>\n<li>ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n\n<ul>\n<li>\n<code>Options Page</code> ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ</li>\n<li>\n<code>Devtools Page</code> ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ</li>\n<li>\n<code>Content Scripts</code> ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ</li>\n<li>\n<code>Omnibox</code> ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to use permissions?</strong>\n\n<ul>\n<li>ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n<li>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong>\n\n<ul>\n<li>Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>â€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ<br>\n<strong>What would you like to call this extension?</strong> =&gt; github-contributions-paint<br>\n<strong>And how would you call it if you only had 12 characters (short_name)?</strong> =&gt;  github-paint<br>\n<strong>How would you like to describe this extension?</strong> =&gt;  You can paint github contributions!<br>\n<strong>Would you like to use UI Action?</strong> =&gt; Browser<br>\n<strong>Would you like to override a chrome page?</strong> =&gt;  No<br>\n<strong>Would you like more UI Features?</strong> =&gt;  Content Scripts<br>\n<strong>Would you like to use permissions?</strong> =&gt;  Tabs<br>\n<strong>Would you like to install promo images for the Chrome Web Store?</strong> =&gt;  Yes</p>\n\n<ul>\n<li>ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ</span></div>\n<div class=\"highlight\"><pre>github-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n</pre></div>\n</div>\n\n<ul>\n<li>æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install typescript --save-dev\n</pre></div></div>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==</p>\n\n<ul>\n<li>ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install gulp@3.9.0 --save-dev\n</pre></div></div>\n\n<p>â€»é–¢é€£ã™ã‚‹<a href=\"https://github.com/gulpjs/gulp/issues/1631\" rel=\"nofollow noopener\" target=\"_blank\">issue</a>ã€<a href=\"https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></p>\n\n<p>==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==</p>\n\n<h2>\n<span id=\"2-ä½œã£ãŸchrome-extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#2-%E4%BD%9C%E3%81%A3%E3%81%9Fchrome-extension%E3%82%92%E5%8B%95%E3%81%8B%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹</h2>\n\n<p>é››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™</p>\n\n<ul>\n<li>ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run dev:chrome\n</pre></div></div>\n\n<ul>\n<li><p>Chromeã§<code>chrome://extensions</code>ã‚’é–‹ã„ã¦<code>ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯<br>\n<a href=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/88e144ea0fc880ccec17978afc9ec782fb0d62c1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35613534396134352d386563342d383935352d623733332d3837353534396638616433312e706e67\" alt=\"æ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png\"></a></p></li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®<code>chrome</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ<br>\n<a href=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/53813821851801eddbed514961987f9070733381/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393161313636652d366532652d336633372d373130652d6565373532306339336563322e706e67\" alt=\"æ“ä½œ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png\"></a></p></li>\n<li><p>ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e2e0fba31b666b0fea44ded1ded106236dd280e8/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36316232653131332d653532302d376566382d633437652d3432366265393361613834622e706e67\" alt=\"å‹•ä½œç¢ºèª1_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png\"></a></p></li>\n<li><p>ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/909be0f655c64c11846b9b3ca31630357ddd7121/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33666631316537332d383162332d636435612d386537302d3961373534613661393936352e706e67\" alt=\"å‹•ä½œç¢ºèª_11.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png\"></a></p></li>\n</ul>\n\n<h2>\n<span id=\"3-é–‹ç™ºä¸­ã«chrome-extensionã®å‹•ä½œç¢ºèªã™ã‚‹\" class=\"fragment\"></span><a href=\"#3-%E9%96%8B%E7%99%BA%E4%B8%AD%E3%81%ABchrome-extension%E3%81%AE%E5%8B%95%E4%BD%9C%E7%A2%BA%E8%AA%8D%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹</h2>\n\n<p>é››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚<br>\n<code>npm run dev:chrome</code>ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚</p>\n\n<ul>\n<li>è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰</li>\n<li>æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚<a>Chrome Extensionç®¡ç†ç”»é¢</a>ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n<a href=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/090a13aa3e617e29329421ec4c5fba4a56e1fb9e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35663936353163362d373337662d643664622d383062662d3434613731363662323030352e706e67\" alt=\"é–‹ç™ºæ‰‹é †_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png\"></a>\n</li>\n<li>Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹</li>\n</ul>\n\n<h2>\n<span id=\"4-ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\" class=\"fragment\"></span><a href=\"#4-%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3%E3%81%A8%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F%E3%82%92%E4%BD%9C%E3%82%8B\"><i class=\"fa fa-link\"></i></a>4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹</h2>\n\n<p>ã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚<br>\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚<br>\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"ã‚¢ã‚¤ã‚³ãƒ³\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%82%A4%E3%82%B3%E3%83%B3\"><i class=\"fa fa-link\"></i></a>ã‚¢ã‚¤ã‚³ãƒ³</h3>\n\n<ul>\n<li>128x128\n\n<ul>\n<li>å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>48x48\n\n<ul>\n<li>æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n<li>16x16\n\n<ul>\n<li>ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"å®£ä¼ç”¨ç”»åƒ\" class=\"fragment\"></span><a href=\"#%E5%AE%A3%E4%BC%9D%E7%94%A8%E7%94%BB%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å®£ä¼ç”¨ç”»åƒ</h3>\n\n<ul>\n<li>440x280\n\n<ul>\n<li>å¿…é ˆ</li>\n</ul>\n</li>\n<li>920x680\n\n<ul>\n<li>å¤§ãã‚ã®ç”»åƒ</li>\n</ul>\n</li>\n<li>1400x560\n\n<ul>\n<li>ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"5-chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\" class=\"fragment\"></span><a href=\"#5-chrome%E3%82%A6%E3%82%A7%E3%83%96%E3%82%B9%E3%83%88%E3%82%A2%E3%81%AB%E5%85%AC%E9%96%8B%E3%81%99%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹</h2>\n\n<ul>\n<li>é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€<code>manifest.json</code>ã¨<code>package.json</code>ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">manifest.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n  </span><span class=\"s2\">\"version\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"0.0.1\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"err\">&lt;-</span><span class=\"w\"> </span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">0</span><span class=\"err\">ã‹ã‚‰</span><span class=\"mf\">0.0</span><span class=\"err\">.</span><span class=\"mi\">1</span><span class=\"err\">ã«ã‚ã’ã‚‹</span><span class=\"w\">\n  </span><span class=\"err\">ãƒ»ãƒ»ãƒ»</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™</li>\n</ul>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build:chrome\n</pre></div></div>\n\n<ul>\n<li><p><a href=\"https://chrome.google.com/webstore/category/extensions\" rel=\"nofollow noopener\" target=\"_blank\">Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢</a>ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d0db218423075317e350940d46d6510353fc81bd/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65646234386163392d303138312d316437382d633761642d6130383237313261663031632e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png\"></a></p></li>\n<li><p>ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§<code>æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/70b8f467a4819f7fd2251cf96abf3749b7626eeb/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37383761336132352d326539332d363138362d313765642d3662313962626233626162352e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png\"></a></p></li>\n<li><p><code>ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ </code>ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€<code>ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰</code>ã‚’é¸æŠã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2bc72004e70eb79c898506904f452d396754f39f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32323362343632342d643839322d336562382d356561382d3733633461616632623562382e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png\"></a></p></li>\n<li><p>èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦<code>å¤‰æ›´ã‚’å…¬é–‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™<br>\n<a href=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/efa7c9ab0ced7326af8c7cb2d03fe9c2282e7f11/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323466303335352d666537622d373931382d326437352d3039633333636365356530302e706e67\" alt=\"ç™»éŒ²_5.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png\"></a></p></li>\n<li><p>ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™</p></li>\n</ul>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚<br>\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€<br>\n<a href=\"https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript\" rel=\"nofollow noopener\" target=\"_blank\">generator-chrome-extension-kickstart-typescript</a>ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚<br>\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"Githubã§è‰ã‚’ç”Ÿã‚„ã™æ´»å‹•ã¯æ¥½ã—ã„ã§ã™ã­!\nå¢—ãˆã¦ãã¦èŠã¿ãŸã„ã«ãªã‚‹ã¨é”æˆæ„ŸãŒã‚ã£ã¦ã€ãƒ¢ãƒãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã‚‚ä¸ŠãŒã‚Šã¾ã™ã€‚\nã¨ã“ã‚ã§ã€ã“ã®å‰ã®10/30ã«è‰ãŒãƒãƒ­ã‚¦ã‚£ãƒ³ä»•æ§˜ã«ãªã£ã¦ã„ãŸã®ã‚’è¦‹ã¦ã€\nè‰ã‚’è‡ªåˆ†ã®å¥½ã¿ã®è‰²ã‚’å¤‰æ›´ã§ãã‚Œã°ã‚‚ã£ã¨æ¥½ã—ããªã‚‹ã®ã§ã¯?ã¨æ€ã„\n[è‰ã®è‰²ãŒå¤‰æ›´ã§ãã‚‹ï¼ˆã¤ã„ã§ã«ãŠçµµæãã‚‚ã§ãã‚‹ï¼‰Chrome Extension](https://chrome.google.com/webstore/detail/github-contributions-pain/bdibnecenojddgmjplnfehpjdmkiddok?hl=ja)ã‚’ä½œã‚Šã¾ã—ãŸã€‚\n**ãã®æ™‚ã«[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§ç°¡å˜ã«Chrome ExtensionãŒä½œã‚ŒãŸã®ã§ã€ã‚¢ãƒ—ãƒªä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§ã®æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã™ã€‚**\n\n## 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®é››å½¢ã‚’ç”Ÿæˆã™ã‚‹\nyomanã¨[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã§ç°¡å˜ã«é››å½¢ãŒä½œã‚Œã‚‹ã®ã§ã‚³ãƒ¬ã‚‰ã‚’ä½¿ã£ã¦ã„ãã¾ã™ã€‚\n\n* `yoman`ã¨`generator-chrome-extension-kickstart-typescript`ã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install -g yo generator-chrome-extension-kickstart-typescript \n```\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆå¾Œã€ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¦`yo`ã‚³ãƒãƒ³ãƒ‰ã§é››å½¢ã‚’ç”Ÿæˆã—ã¾ã™\n\n```\n$ mkdir project\n$ cd project\n$ yo chrome-extension-kickstart-typescript \n```\n\n* ã„ãã¤ã‹è³ªå•ã•ã‚Œã‚‹ã®ã§é©å½“ã«ç­”ãˆã¾ã™\n    * **What would you like to call this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ã—ã¾ã™ã€‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ•ã‚©ãƒ«ãƒ€å\n    * **And how would you call it if you only had 12 characters (short_name)?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç•¥ç§°ã‚’12æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¾ã™\n    * **How would you like to describe this extension?**\n        * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ¦‚è¦ã‚’å…¥åŠ›ã—ã¾ã™\n    * **Would you like to use UI Action?**\n        * ä½œã‚ŠãŸã„UI Actionã«å¿œã˜ã¦ã€`No`,`Browser`,`Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n            * `No` ãƒ»ãƒ»ãƒ» UI Actionã‚’ä½¿ã‚ãªã„å ´åˆ\n            * `Browser` ãƒ»ãƒ»ãƒ» ãƒ„ãƒ¼ãƒ«ãƒãƒ¼ã®å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒå¸¸é§ã™ã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n            * `Page` ãƒ»ãƒ»ãƒ» ç‰¹å®šã®Webã‚µã‚¤ãƒˆè¦³è¦§æ™‚ã®ã¿ã«ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼å³ã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‚¿ã‚¤ãƒ—ã®Chromeæ‹¡å¼µã‚’ä½œæˆã™ã‚‹å ´åˆ\n    * **Would you like to override a chrome page?**\n        * Chromeã®å†…éƒ¨ãƒšãƒ¼ã‚¸ã‚’æ›¸ãæ›ãˆã‚‹ã‹ã©ã†ã‹ã§ã€`No`,`Bookmarks Page`,`History Page`,`Newtab Page`ã®ã„ãšã‚Œã‹ã‚’é¸æŠã—ã¾ã™\n    * **Would you like more UI Features?**\n        * ä½œã‚ŠãŸã„UIã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n            * `Options Page` ãƒ»ãƒ»ãƒ» ã‚ªãƒ—ã‚·ãƒ§ãƒ³ç”»é¢ã‚’ä½œã‚ŠãŸã„å ´åˆ\n            * `Devtools Page` ãƒ»ãƒ»ãƒ» é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’æ‹¡å¼µã—ãŸã„å ´åˆ\n            * `Content Scripts` ãƒ»ãƒ»ãƒ» Webã§è¡¨ç¤ºã—ã¦ã„ã‚‹ç”»é¢ã«JavaScriptã‚’å·®ã—è¾¼ã‚“ã§ä½•ã‹å‡¦ç†ã‚’ã—ãŸã„å ´åˆ\n            * `Omnibox` ãƒ»ãƒ»ãƒ» ã‚¢ãƒ‰ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ‹¡å¼µã—ãŸã„æ™‚ã«é¸æŠ\n    * **Would you like to use permissions?**\n        * ä½¿ç”¨ã™ã‚‹ãƒ‘ãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’è¤‡æ•°é¸æŠã—ã¾ã™\n    * **Would you like to install promo images for the Chrome Web Store?**\n        * Chromeã‚¹ãƒˆã‚¢ã§ä½¿ã†å®£ä¼ç”¨ç”»åƒã‚’è‡ªå‹•ã§ç”Ÿæˆã™ã‚‹ã‹ã‚’é¸æŠã—ã¾ã™\n\n\nâ€»è‡ªåˆ†ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«ç­”ãˆã¾ã—ãŸ\n**What would you like to call this extension?** => github-contributions-paint\n**And how would you call it if you only had 12 characters (short_name)?** =>  github-paint\n**How would you like to describe this extension?** =>  You can paint github contributions!\n**Would you like to use UI Action?** => Browser\n**Would you like to override a chrome page?** =>  No\n**Would you like more UI Features?** =>  Content Scripts\n**Would you like to use permissions?** =>  Tabs\n**Would you like to install promo images for the Chrome Web Store?** =>  Yes\n\n* ã™ã‚‹ã¨é››å½¢ãŒç”Ÿæˆã•ã‚Œã¾ã™\n\n```:ç”Ÿæˆã•ã‚ŒãŸé››å½¢ã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ\ngithub-contributions-paint\nâ”œâ”€â”€ README.md\nâ”œâ”€â”€ app\nâ”‚Â Â  â”œâ”€â”€ images       ã€€ã€€ã€€    ã€€ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªã‚¢ã‚¤ã‚³ãƒ³æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-128.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-16.png\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ icon-19.png\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ icon-38.png\nâ”‚Â Â  â”œâ”€â”€ manifest.json          ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®è¨­å®šã‚’å®šç¾©ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”œâ”€â”€ pages                  ãƒ»ãƒ»ãƒ»HTMLãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.html         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ scripts                ãƒ»ãƒ»ãƒ»TSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ background.ts      ãƒ»ãƒ»ãƒ»ãƒãƒƒã‚¯ã‚°ãƒ©ãƒ³ãƒ‰å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ popup.ts           ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ styles                 ãƒ»ãƒ»ãƒ»CSSãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”‚   â””â”€â”€ popup.scss         ãƒ»ãƒ»ãƒ»Chromeæ‹¡å¼µã®ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸæ™‚ã«è¡¨ç¤ºã™ã‚‹ãƒãƒƒãƒ—ã‚¢ãƒƒãƒ—ç”»é¢ç”¨è³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ _locales\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ en\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ messages.json ãƒ»ãƒ»ãƒ»ã‚¢ãƒ—ãƒªã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”‚Â Â  â””â”€â”€ fonts\nâ”œâ”€â”€ promo                     ãƒ»ãƒ»ãƒ»Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢å…¬é–‹æ™‚ã«å¿…è¦ãªå®£ä¼ç”¨ç”»åƒã®æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€\nâ”‚Â Â  â”œâ”€â”€ Chrome-Webstore-Icon_128x128.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Large_920x680.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Marquee_1400x560.png\nâ”‚Â Â  â”œâ”€â”€ Promo-Image-Small_440x280.png\nâ”‚Â Â  â”œâ”€â”€ Screenshot_1280x800.png\nâ”‚Â Â  â””â”€â”€ Screenshot_640x400.png\nâ”œâ”€â”€ dist\nâ”œâ”€â”€ gulpfile.babel.js\nâ”œâ”€â”€ node_modules\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ tasks\nâ”œâ”€â”€ tsconfig.json\nâ””â”€â”€ tslint.json\n\n```\n\n* æœ€å¾Œã«TypeScriptã‚’ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã„ãªã„å ´åˆã¯ã€ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™\n\n```\n$ npm install typescript --save-dev\n```\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã‹ã‚‰)==\n\n* ã“ã®ã¾ã¾æ¬¡æ‰‹é †ã«ã„ãã¨è­¦å‘ŠãŒã§ã‚‹ã®ã§ãã‚Œã‚’é˜²ããŸã‚ã«gulpã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’ä¸‹ã’ã¾ã™ã€‚\n\n```\n$ npm install gulp@3.9.0 --save-dev\n```\n\n<small>â€»é–¢é€£ã™ã‚‹[issue](https://github.com/gulpjs/gulp/issues/1631)ã€[stackoverflow](https://stackoverflow.com/questions/48568942/failed-to-load-external-module-babel-register-while-gulp)</small>\n\n==2018/11/24 è¿½è¨˜(ã“ã“ã¾ã§)==\n## 2. ä½œã£ãŸChrome Extensionã‚’å‹•ã‹ã—ã¦ã¿ã‚‹\né››å½¢ã‚’ä½œæˆã—ãŸã‚‰æ—©é€Ÿå‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™\n\n* ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™\n\n```\n$ npm run dev:chrome\n```\n\n* Chromeã§`chrome://extensions`ã‚’é–‹ã„ã¦`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–ã•ã‚Œã¦ã„ãªã„æ‹¡å¼µæ©Ÿèƒ½ã‚’èª­ã¿è¾¼ã‚€`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯\n![æ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5a549a45-8ec4-8955-b733-875549f8ad31.png)\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/disté…ä¸‹ã®`chrome`ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¸æŠ\n![æ“ä½œ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f91a166e-6e2e-3f37-710e-ee7520c93ec2.png)\n\n* ã™ã‚‹ã¨ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒ[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã«è¿½åŠ ã•ã‚Œã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«ã‚¢ã‚¤ã‚³ãƒ³ãŒè¡¨ç¤ºã•ã‚Œã¾ã™\n![å‹•ä½œç¢ºèª1_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/61b2e113-e520-7ef8-c47e-426be93aa84b.png)\n\n\n* ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™\n![å‹•ä½œç¢ºèª_11.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3ff11e73-81b3-cd5a-8e70-9a754a6a9965.png)\n\n\n## 3. é–‹ç™ºä¸­ã«Chrome Extensionã®å‹•ä½œç¢ºèªã™ã‚‹\né››å½¢ã®å‹•ä½œæ¤œè¨¼ãŒã§ããŸã‚‰TypeScriptãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã—ã¦å‡¦ç†ã‚’è¿½åŠ ã—ã¦ã„ãã¾ã™ã€‚\n`npm run dev:chrome`ã‚’å®Ÿè¡Œã—ãŸå¾Œã€ä¸‹è¨˜æ‰‹é †ç¹°ã‚Šè¿”ã™ã“ã¨ã§ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã—ãªãŒã‚‰éšæ™‚å‹•ä½œæ¤œè¨¼ãŒã§ãã¾ã™ã€‚\n\n* è³‡ç”£ï¼ˆTypeScriptã‚„HTML,CSSï¼‰ã‚’ä¿®æ­£ã™ã‚‹ï¼ˆå‹æ‰‹ã«ãƒ“ãƒ«ãƒ‰ãŒèµ°ã‚Šã¾ã™ï¼‰\n* æœ€æ–°ã®ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’å–ã‚Šè¾¼ã‚€ãŸã‚[Chrome Extensionç®¡ç†ç”»é¢](chrome://extensions/)ã§ãƒªãƒ­ãƒ¼ãƒ‰ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![é–‹ç™ºæ‰‹é †_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5f9651c6-737f-d6db-80bf-44a7166b2005.png)\n* Chrome Extensionã®å‹•ä½œç¢ºèªã‚’ã™ã‚‹\n\n## 4. ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œã‚‹\nã‚¢ãƒ—ãƒªã‚’å…¬é–‹ã™ã‚‹å‰ã«ã€ã‚¢ã‚¤ã‚³ãƒ³ã¨å®£ä¼ç”¨ç”»åƒã‚’ä½œæˆã—ã€é››å½¢ç”Ÿæˆæ™‚ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè³‡ç”£ã¨å·®ã—æ›¿ãˆã¾ã™ã€‚\nãƒ‡ã‚¶ã‚¤ãƒŠãƒ¼ã•ã‚“ãªã‚‰è‹¦åŠ´ã—ãªã„ã§ã—ã‚‡ã†ãŒã€è‡ªåˆ†ã¯ã“ã‚ŒãŒä¸€ç•ªå¤§å¤‰ã§ã—ãŸã€‚\n3ã¤ã®ã‚¢ã‚¤ã‚³ãƒ³ã¨3ã¤ã®å®£ä¼ç”¨ç”»åƒãŒå¿…è¦ã§ã™ã€‚\n\n### ã‚¢ã‚¤ã‚³ãƒ³\n* 128x128\n    * å¿…é ˆã€‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã‚„Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 48x48\n    * æ‹¡å¼µæ©Ÿèƒ½ã®ç®¡ç†ãƒšãƒ¼ã‚¸ã§è¡¨ç¤ºã™ã‚‹ç”¨\n* 16x16\n    * ãƒ–ãƒ©ã‚¦ã‚¶å³ä¸Šã«è¡¨ç¤ºã™ã‚‹ç”¨\n  \n### å®£ä¼ç”¨ç”»åƒ\n* 440x280\n    * å¿…é ˆ\n* 920x680\n    * å¤§ãã‚ã®ç”»åƒ\n* 1400x560\n    * ChromeExtensionã‚’Chrome Storeã§é¸æŠã—ãŸæ™‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ç”»åƒ\n\n## 5. Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã™ã‚‹\n* é››å½¢ç”Ÿæˆæ™‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒ0.0.0ã«ãªã£ã¦ãŠã‚Šã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒä½ã™ãã¦å…¬é–‹ã§ããªã„çŠ¶æ…‹ãªã®ã§ã€`manifest.json`ã¨`package.json`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã‚’0.0.1ã«ã‚ã’ã¾ã™\n\n```json:manifest.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n```json:package.json\n{\n  ãƒ»ãƒ»ãƒ»\n  \"version\": \"0.0.1\", <- 0.0.0ã‹ã‚‰0.0.1ã«ã‚ã’ã‚‹\n  ãƒ»ãƒ»ãƒ»\n}\n```\n\n* ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã§å…¬é–‹ç”¨ã®zipãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™\n\n```\n$ npm run build:chrome\n```\n\n* [Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢](https://chrome.google.com/webstore/category/extensions)ã®ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ãã¾ã™ã€‚Chromeã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/edb48ac9-0181-1d78-c7ad-a082712af01c.png)\n\n* ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã§`æ–°ã—ã„ã‚¢ã‚¤ãƒ†ãƒ ã‚’è¿½åŠ ã™ã‚‹`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/787a3a25-2e93-6186-17ed-6b19bbb3bab5.png)\n\n* `ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ `ã§ä½œæˆã—ãŸzipãƒ•ã‚¡ã‚¤ãƒ«(ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ«ãƒ¼ãƒˆ/packagesé…ä¸‹ã«ã‚ã‚Šã¾ã™)ã‚’é¸æŠå¾Œã€`ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰`ã‚’é¸æŠã—ã¾ã™\n![ã‚¢ãƒ•ã‚šãƒªç™»éŒ²_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/223b4624-d892-3eb8-5ea8-73c4aaf2b5b8.png)\n\n* èª¬æ˜ã€ã‚¢ã‚¤ã‚³ãƒ³ã€å®£ä¼ç”¨ç”»åƒã€ã‚«ãƒ†ã‚´ãƒªã‚’å…¥åŠ›ã—ã¦`å¤‰æ›´ã‚’å…¬é–‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™\n![ç™»éŒ²_5.png](https://qiita-image-store.s3.amazonaws.com/0/49915/724f0355-fe7b-7918-2d75-09c33cce5e00.png)\n\n* ã“ã‚Œã§å…¬é–‹ä½œæ¥­ã¯å®Œäº†ã§ã™ã€‚ã—ã°ã‚‰ãã™ã‚‹ã¨Chromeã‚¦ã‚§ãƒ–ã‚¹ãƒˆã‚¢ã«å…¬é–‹ã•ã‚Œã¾ã™\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã£ã¦ã€TypeScriptã§Chrome Extensionã‚’ä½œæˆã€å…¬é–‹ã™ã‚‹æ‰‹é †ã‚’ã¾ã¨ã‚ã¾ã—ãŸã€‚\næœ€åˆã¯TypeScriptã§Chrome Extensionã‚’ä½œã‚‹ã®ã¯ã€ãƒ“ãƒ«ãƒ‰ã®è¨­å®šãªã©è‰²ã€…ã‚ã‚“ã©ãã•ãã†ã ãã¨æ€ã£ã¦ã„ã¾ã—ãŸãŒã€\n[generator-chrome-extension-kickstart-typescript](https://github.com/mazamachi/generator-chrome-extension-kickstart-typescript)ã‚’ä½¿ã†ã“ã¨ã§ã€ç°¡å˜ã«ä½œæˆã‹ã‚‰å…¬é–‹ã¾ã§å®Ÿç¾ã§ãã¾ã—ãŸã€‚\nãƒ–ãƒ©ã‚¦ã‚¶ã§ã®ã¡ã‚‡ã£ã¨ã—ãŸä½œæ¥­ã‚’åŠ¹ç‡åŒ–ã™ã‚‹ã®ã«Chrome Extentionã¯éå¸¸ã«å¼·åŠ›ãªãƒ„ãƒ¼ãƒ«ãªã®ã§ã€ä»Šå¾Œãªã«ã‹ã‚¢ã‚¤ãƒ‡ã‚£ã‚¢ãŒã‚ã‚Œã°ã¾ãŸä½œã£ã¦ã¿ãŸã„ã¨æ€ã„ã¾ã™ã€‚\n\n","comments_count":5,"created_at":"2017-12-20T02:36:27+09:00","likes_count":48,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/e0ec0869-f368-5083-bdc2-cdba9d59427a/","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","date":"2017-12-12T03:19:11+09:00","excerpt":"FUJITSU Advent Calendar 2017 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€ã“ã“ï¼”ãƒ¶æœˆã»ã©MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œ...","tags":["JavaScript","Node.js","Express","mongoose","Angular","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"e0ec0869-f368-5083-bdc2-cdba9d59427a","title":"ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ãŒMEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB+Express+Angular+Node.js)ã§ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã¿ã¦èº“ã„ãŸã“ã¨","rendered_body":"<p><a href=\"https://qiita.com/advent-calendar/2017/fujitsu\">FUJITSU Advent Calendar 2017</a> 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚</p>\n\n<p>ãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€<br>\nã“ã“ï¼”ãƒ¶æœˆã»ã©<strong>MEAN</strong>ã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB+<strong>E</strong>xpress+<strong>A</strong>ngular+<strong>N</strong>ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚<br>\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</p>\n\n<p>ã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%81%AE%E7%B4%B9%E4%BB%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã®ç´¹ä»‹</h2>\n\n<p>æœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)</p>\n\n<ul>\n<li><a href=\"https://github.com/Takumon/mean-blog\" rel=\"nofollow noopener\" target=\"_blank\">Github</a></li>\n<li><a href=\"https://hub.docker.com/r/takumon/mean-blog_auto/\" rel=\"nofollow noopener\" target=\"_blank\">Dockerhub</a></li>\n<li>\n<a href=\"https://material-blog-demo.herokuapp.com/\" rel=\"nofollow noopener\" target=\"_blank\">ãƒ‡ãƒ¢ç’°å¢ƒ</a> (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)</li>\n</ul>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)<br>\n<a href=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/4d64d8bd315bcf330d1ac6de1cfe8bb53f280992/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62383133333331372d666163322d626239622d386632642d3133646238393662656366352e706e67\" alt=\"appdemo_detail.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)<br>\n<a href=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/96927cda50e8df84b0c5415e996246c6d720b607/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39353064313036322d316261342d363366362d666535332d6366653664343634333061342e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png\"></a></p>\n\n<p>ã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)<br>\n<a href=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/46aab6c2add74ca826b1dbe730d1a82eb481e295/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33323563373934382d636531362d396330382d306236362d6433383932653034366165642e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png\"></a></p>\n\n<h1>\n<span id=\"1-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã¾ã‚ã‚Š\" class=\"fragment\"></span><a href=\"#1-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%BE%E3%82%8F%E3%82%8A\"><i class=\"fa fa-link\"></i></a>1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š</h1>\n\n<h2>\n<span id=\"angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#angular%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6%E8%AA%BF%E3%81%B9%E3%82%8B%E6%99%82%E3%81%AB%E5%8F%A4%E3%81%84%E6%83%85%E5%A0%B1%E3%82%92%E9%99%A4%E5%A4%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„</h2>\n\n<p>1ç³»ã¯<code>AngularJS</code>ã€2ç³»ä»¥é™ã¯<code>Angular</code>ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚<br>\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯<code>Angualr2</code>ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚<code>--AngularJS</code>ã‚’ã¤ã‘ãŸã‚Šã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"htmlã®domè¦ç´ ã‚’åˆ¥ã®domè¦ç´ ã¾ãŸã¯componentã‹ã‚‰æ‰±ã„ãŸã„\" class=\"fragment\"></span><a href=\"#html%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%82%92%E5%88%A5%E3%81%AEdom%E8%A6%81%E7%B4%A0%E3%81%BE%E3%81%9F%E3%81%AFcomponent%E3%81%8B%E3%82%89%E6%89%B1%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>HTMLã®DOMè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„</h2>\n\n<p>è¦ç´ ã«<code>#xxxxx</code>ã®ã‚ˆã†ã«<code>#</code>å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®DOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"err\">#</span><span class=\"na\">phone</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"é›»è©±ç•ªå·\"</span><span class=\"nt\">/&gt;</span>\n<span class=\"c\">&lt;!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ --&gt;</span>\n<span class=\"nt\">&lt;button</span> <span class=\"nt\">&gt;</span>(click)=\"callPhone(phone.value)\"&gt;\n</pre></div>\n</div>\n\n<p>Componentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯<code>@ViewChild</code>ã‚’ä½¿ã„ã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"c1\">// ViewChildã®å¼•æ•°ã«åå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™</span>\n  <span class=\"p\">@</span><span class=\"nd\">ViewChild</span><span class=\"p\">(</span><span class=\"s1\">'phone'</span><span class=\"p\">)</span> <span class=\"nx\">phoneElement</span><span class=\"p\">:</span> <span class=\"nx\">phoneElement</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">showPhoneValue</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">phoneElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n    <span class=\"p\">)</span>\n  <span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/template-syntax#ref-vars\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n<li><a href=\"https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\" class=\"fragment\"></span><a href=\"#routing%E6%99%82%E3%81%AE%E8%AA%8D%E8%A8%BC%E3%82%92%E9%9D%9E%E5%90%8C%E6%9C%9F%E3%81%A7%E8%A1%8C%E3%81%84%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„</h2>\n\n<p>URLã”ã¨ã®èªè¨¼ã¯<code>CanActivate</code>ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€<br>\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚<br>\nãã®ã‚ˆã†ãªæ™‚ã¯ã€<strong><code>CanActivate#canActivate</code>ã§</strong>booleanã®ä»£ã‚ã‚Šã«<strong>Observableã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹</strong>ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleAuthGuard</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">CanActivate</span><span class=\"p\">,</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">RouterStateSnapshot</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/router'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AuthenticationService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./authentication.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleAuthGuard</span> <span class=\"kr\">implements</span> <span class=\"nx\">CanActivate</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span>\n    <span class=\"kr\">private</span> <span class=\"nx\">auth</span><span class=\"p\">:</span> <span class=\"nx\">AuthenticationService</span><span class=\"p\">,</span>\n  <span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n  <span class=\"c1\">// booleanã§ã¯ãªãObservable&lt;boolean&gt;ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™</span>\n  <span class=\"nx\">canActivate</span><span class=\"p\">(</span><span class=\"nx\">route</span><span class=\"p\">:</span> <span class=\"nx\">ActivatedRouteSnapshot</span><span class=\"p\">,</span> <span class=\"nx\">state</span><span class=\"p\">:</span> <span class=\"nx\">RouterStateSnapshot</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"kr\">boolean</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">auth</span><span class=\"p\">.</span><span class=\"nx\">checkState</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">(</span><span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"kc\">true</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">(</span><span class=\"nx\">err</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">of</span><span class=\"p\">(</span><span class=\"kc\">false</span><span class=\"p\">))</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"formarrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#formarray%E3%81%AE%E5%80%A4%E3%82%92%E5%88%9D%E6%9C%9F%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„</h2>\n\n<p>FormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€<br>\nFormArrayã®å ´åˆpatchValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨ã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚<br>\nã“ã†ã„ã†å ´åˆã¯ã€<strong>é…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ€ãƒ¡ãªä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span> <span class=\"c1\">// FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">];</span> <span class=\"c1\">// FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">è‰¯ã„ä¾‹</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">ngOnInit</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// Formã‚’ç”Ÿæˆ</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span> <span class=\"o\">=</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">group</span><span class=\"p\">({</span>\n    <span class=\"na\">schoolName</span><span class=\"p\">:</span> <span class=\"s1\">''</span><span class=\"p\">,</span>\n    <span class=\"na\">students</span><span class=\"p\">:</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">formBuilder</span><span class=\"p\">.</span><span class=\"nx\">array</span><span class=\"p\">([])</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// Formã«åˆæœŸå€¤ã‚’è¨­å®š</span>\n  <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">pathValue</span><span class=\"p\">({</span>\n    <span class=\"na\">schooleName</span><span class=\"p\">:</span> <span class=\"s1\">'SampleSchoolName'</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"c1\">// ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹</span>\n  <span class=\"p\">[</span><span class=\"s1\">'taro'</span><span class=\"p\">,</span> <span class=\"s1\">'jiro'</span><span class=\"p\">,</span> <span class=\"s1\">'saburo'</span><span class=\"p\">].</span><span class=\"nx\">forEach</span><span class=\"p\">(</span><span class=\"nx\">student</span> <span class=\"o\">-&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">form</span><span class=\"p\">.</span><span class=\"nx\">controls</span><span class=\"p\">[</span><span class=\"s1\">'students'</span><span class=\"p\">].</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">FormControll</span><span class=\"p\">(</span><span class=\"nx\">student</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array\" rel=\"nofollow noopener\" target=\"_blank\">StackOvereFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"error-error-no-provider-for-templaterefã¨ã„ã†ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#error-error-no-provider-for-templateref%E3%81%A8%E3%81%84%E3%81%86%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>æœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚<br>\nå¤§æŠµã®å ´åˆã¯ã€<strong><code>*ngIf</code>ã‚„<code>*ngForm</code>ã®<code>*</code>ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› </strong>ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)<br>\n<code>*</code>ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯<code>ngIf</code>ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€<br>\nãã‚“ãªãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§<code>No provider for TemplateRef!</code>ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"textareaã«ãŠã„ã¦tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\" class=\"fragment\"></span><a href=\"#textarea%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6tab%E3%82%AD%E3%83%BC%E3%81%A7%E3%82%A4%E3%83%B3%E3%83%87%E3%83%B3%E3%83%88%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„</h2>\n\n<p>æ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€Tabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€<br>\nkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;textarea</span> <span class=\"err\">#</span><span class=\"na\">sampletextarea</span>\n  <span class=\"err\">(</span><span class=\"na\">keydown</span><span class=\"err\">)=\"</span><span class=\"na\">indent</span><span class=\"err\">($</span><span class=\"na\">event</span><span class=\"err\">,</span> <span class=\"na\">sampletextarea</span><span class=\"err\">)\"</span> <span class=\"nt\">&gt;&lt;/textarea&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">Component</span></div>\n<div class=\"highlight\"><pre>  <span class=\"nx\">indent</span><span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">,</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">keyCode</span> <span class=\"o\">===</span> <span class=\"mi\">9</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¬¡ã®è¦ç´ ã«ãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹</span>\n      <span class=\"nx\">$event</span><span class=\"p\">.</span><span class=\"nx\">preventDefault</span><span class=\"p\">();</span>\n\n      <span class=\"c1\">// ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretStart</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionStart</span><span class=\"p\">;</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">=</span> <span class=\"nx\">textareaElement</span><span class=\"p\">.</span><span class=\"nx\">selectionEnd</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’å–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">TAB</span> <span class=\"o\">=</span> <span class=\"s1\">'Â¥t'</span><span class=\"p\">;</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span> <span class=\"o\">=</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">caretStart</span><span class=\"p\">)</span>\n                     <span class=\"o\">+</span> <span class=\"nx\">TAB</span> <span class=\"o\">+</span> <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">substring</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span><span class=\"p\">,</span> <span class=\"nx\">value</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">focus</span><span class=\"p\">();</span>\n      <span class=\"nx\">sampleTextAreaElement</span><span class=\"p\">.</span><span class=\"nx\">setSelectionRange</span><span class=\"p\">(</span><span class=\"nx\">caretStart</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">,</span> <span class=\"nx\">caretEnd</span> <span class=\"o\">+</span> <span class=\"nx\">TAB</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">);</span>\n\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h2>\n<span id=\"markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\" class=\"fragment\"></span><a href=\"#markdown%E3%83%97%E3%83%AC%E3%83%93%E3%83%A5%E3%83%BC%E3%82%92%E8%A1%A8%E7%A4%BA%E3%81%97%E3%81%9F%E3%81%84%E3%82%BD%E3%83%BC%E3%82%B9%E3%82%B3%E3%83%BC%E3%83%89%E3%81%AF%E3%82%B7%E3%83%B3%E3%82%BF%E3%83%83%E3%82%AF%E3%82%B9%E3%83%8F%E3%82%A4%E3%83%A9%E3%82%A4%E3%83%88%E3%81%95%E3%81%9B%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>Markdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„</h2>\n\n<p><a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã¨<a href=\"https://github.com/isagalaev/highlight.js\" rel=\"nofollow noopener\" target=\"_blank\">highlight.js</a>ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚<br>\n<a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">marked</a>ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown-parse.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">hljs</span> <span class=\"k\">from</span> <span class=\"s1\">'highlight.js'</span><span class=\"p\">;</span>\n\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"nx\">marked</span><span class=\"p\">.</span><span class=\"nx\">setOptions</span><span class=\"p\">({</span>\n      <span class=\"na\">highlight</span><span class=\"p\">:</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"nx\">hljs</span><span class=\"p\">.</span><span class=\"nx\">highlightAuto</span><span class=\"p\">(</span><span class=\"nx\">code</span><span class=\"p\">).</span><span class=\"nx\">value</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"na\">rawText</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">marked</span><span class=\"p\">(</span><span class=\"nx\">rawText</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">markdown.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"nx\">marked</span> <span class=\"k\">from</span> <span class=\"s1\">'marked'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MarkdownParseService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./markdown-parse.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span> <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'toMarkdown'</span> <span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MarkdownParsePipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"nx\">markdownParseService</span><span class=\"p\">:</span> <span class=\"nx\">MarkdownParseService</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">markdownParseService</span><span class=\"p\">.</span><span class=\"nx\">parse</span><span class=\"p\">(</span><span class=\"nx\">value</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p>HTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚<code>{{}}</code>ã ã¨ã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§<code>innerHTML</code>å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\"><div class=\"highlight\"><pre><span class=\"nt\">&lt;div</span> <span class=\"err\">[</span><span class=\"na\">innerHTML</span><span class=\"err\">]=\"</span><span class=\"na\">md</span> <span class=\"err\">|</span> <span class=\"na\">toMarkdown</span><span class=\"err\">\"</span><span class=\"nt\">&gt;&lt;/div&gt;</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b\" id=\"reference-9001a931765f8f52acaf\">Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹</a></li>\n<li>Github <a href=\"https://github.com/chjj/marked\" rel=\"nofollow noopener\" target=\"_blank\">chjj/marked</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´è¿½åŠ å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E6%9D%A1%E4%BB%B6%E4%BB%98%E3%81%8D%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AB%E3%81%8A%E3%81%84%E3%81%A6%E3%83%AA%E3%82%B9%E3%83%88%E3%81%AE%E8%A6%81%E7%B4%A0%E3%81%8C%E5%A4%89%E6%9B%B4%E8%BF%BD%E5%8A%A0%E5%89%8A%E9%99%A4%E3%81%95%E3%82%8C%E3%81%9F%E6%99%82%E3%81%AB%E7%B5%9E%E3%82%8A%E8%BE%BC%E3%81%BF%E7%B5%90%E6%9E%9C%E3%82%92%E3%83%AA%E3%83%95%E3%83%AC%E3%83%83%E3%82%B7%E3%83%A5%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„</h2>\n\n<p>ãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦<strong>pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã¾ã—ã‚‡ã†ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"err\">#</span><span class=\"na\">searchUserName</span><span class=\"nt\">&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n  <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let user of (userList | searchUserFilter: searchUserName.value);\"</span> <span class=\"nt\">&gt;</span>{{user.name}}<span class=\"nt\">&lt;/li&gt;</span>\n<span class=\"nt\">&lt;ul&gt;</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">search-user.pipe.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Pipe</span><span class=\"p\">,</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">User</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./user'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Pipe</span><span class=\"p\">({</span>\n  <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"s1\">'searchUserFilter'</span><span class=\"p\">,</span>\n  <span class=\"na\">pure</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"c1\">// pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SearchFilterPipe</span> <span class=\"kr\">implements</span> <span class=\"nx\">PipeTransform</span> <span class=\"p\">{</span>\n  <span class=\"nx\">transform</span><span class=\"p\">(</span><span class=\"nx\">items</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">User</span><span class=\"o\">&gt;</span><span class=\"p\">,</span> <span class=\"nx\">searchUserName</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">any</span><span class=\"p\">[]</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"nx\">searchUserName</span><span class=\"p\">)</span> <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">searchUserName</span> <span class=\"o\">=</span> <span class=\"nx\">searchUserName</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">();</span>\n    <span class=\"k\">return</span> <span class=\"nx\">items</span><span class=\"p\">.</span><span class=\"nx\">filter</span><span class=\"p\">(</span> <span class=\"nx\">item</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">item</span><span class=\"p\">.</span><span class=\"nx\">user</span><span class=\"p\">.</span><span class=\"nx\">userId</span><span class=\"p\">.</span><span class=\"nx\">toLowerCase</span><span class=\"p\">().</span><span class=\"nx\">includes</span><span class=\"p\">(</span><span class=\"nx\">searchUserName</span><span class=\"p\">));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://angular.io/guide/pipes#pure-and-impure-pipes\" rel=\"nofollow noopener\" target=\"_blank\">Angularå…¬å¼ã‚µã‚¤ãƒˆ</a></li>\n</ul>\n\n<h2>\n<span id=\"ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%82%B0%E3%83%AD%E3%83%BC%E3%83%90%E3%83%AB%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’å…±é€šåŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«<strong>ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">app-settings.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppSettings</span> <span class=\"p\">{</span>\n   <span class=\"kr\">public</span> <span class=\"kr\">static</span> <span class=\"nx\">API_ENDPOINT</span><span class=\"o\">=</span><span class=\"s1\">'http://127.0.0.1:6666/api/'</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">SampleService</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">Injectable</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'angular2/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">AppSettings</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app-settings'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">SampleService</span> <span class=\"p\">{</span>\n    <span class=\"nx\">sampleMethod</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">AppSettings</span><span class=\"p\">.</span><span class=\"nx\">API_ENDPOINT</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%94%BB%E5%83%8F%E3%81%8C%E5%A4%9A%E3%81%84%E7%94%BB%E9%9D%A2%E3%81%AE%E5%88%9D%E6%9C%9F%E8%A1%A8%E7%A4%BA%E3%82%92%E6%97%A9%E3%81%8F%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„</h2>\n\n<p><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a>ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚<br>\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">HTML</span></div>\n<div class=\"highlight\"><pre> <span class=\"nt\">&lt;img</span>\n  <span class=\"err\">[</span><span class=\"na\">defaultImage</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">defaultimage</span><span class=\"err\">\"</span> \n  <span class=\"err\">[</span><span class=\"na\">lazyLoad</span><span class=\"err\">]=\"</span><span class=\"na\">https:</span><span class=\"err\">//</span><span class=\"na\">images</span><span class=\"err\">.</span><span class=\"na\">sample</span><span class=\"err\">.</span><span class=\"na\">com</span><span class=\"err\">/</span><span class=\"na\">photo</span><span class=\"err\">/</span><span class=\"na\">sampleimage</span><span class=\"err\">\"</span>\n  <span class=\"err\">[</span><span class=\"na\">offset</span><span class=\"err\">]=\"</span><span class=\"na\">30</span><span class=\"err\">\"</span>\n <span class=\"nt\">&gt;</span>\n</pre></div>\n</div>\n\n<p><em>defaultImage</em><br>\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹<br>\n<em>lazyLoad</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL<br>\n<em>offset</em><br>\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹<br>\n<em>errorImage</em><br>\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/tjoskar/ng-lazyload-image\" rel=\"nofollow noopener\" target=\"_blank\">ng-lazyload-image</a></li>\n</ul>\n\n<h2>\n<span id=\"angular-cliã®ng-serveã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\" class=\"fragment\"></span><a href=\"#angular-cli%E3%81%AEng-serve%E3%82%B3%E3%83%9E%E3%83%B3%E3%83%89%E3%81%A7dist%E3%83%95%E3%82%A9%E3%83%AB%E3%83%80%E3%82%92%E4%B8%80%E6%97%A6%E5%89%8A%E9%99%A4%E3%81%97%E3%81%9F%E3%81%8F%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>Angular Cliã®<code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„</h2>\n\n<p><code>ng serve</code>ã‚³ãƒãƒ³ãƒ‰ã¯<code>dist</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚<br>\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€<strong>delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false</strong>ã«æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ</span></div>\n<div class=\"highlight\"><pre><span class=\"s2\">\"script\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"cp ./resource/* dist &amp;&amp; ng serve --delete-output-path=false\"</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/angular-cli/issues/4366\" rel=\"nofollow noopener\" target=\"_blank\">angular-cli github issue #4366</a></li>\n</ul>\n\n<h2>\n<span id=\"aotã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\" class=\"fragment\"></span><a href=\"#aot%E3%82%B3%E3%83%B3%E3%83%91%E3%82%A4%E3%83%AB%E3%81%8C%E9%81%85%E3%81%84%E3%81%AE%E3%81%A7%E3%81%AA%E3%82%93%E3%81%A8%E3%81%8B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„</h2>\n\n<p>ãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)<br>\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚<br>\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚</p>\n\n<h1>\n<span id=\"2-ãƒ•ãƒ­ãƒ³ãƒˆå´angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#2-%E3%83%95%E3%83%AD%E3%83%B3%E3%83%88%E5%81%B4angular%E3%81%A7%E3%81%AE%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š</h1>\n\n<h2>\n<span id=\"ciç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\" class=\"fragment\"></span><a href=\"#ci%E7%92%B0%E5%A2%83%E3%81%AA%E3%81%A9%E3%81%A7%E3%83%86%E3%82%B9%E3%83%88%E3%81%8C%E7%B5%82%E3%82%8F%E3%82%89%E3%81%9A%E3%81%AB%E3%82%BF%E3%82%A4%E3%83%A0%E3%82%A2%E3%82%A6%E3%83%88%E3%81%97%E3%81%A6%E3%81%97%E3%81%BE%E3%81%86\"><i class=\"fa fa-link\"></i></a>CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†</h2>\n\n<p>CirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯<strong>watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š</strong>ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ng test --wtach=false\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong><br>\n<a href=\"https://github.com/angular/angular-cli/issues/362\" rel=\"nofollow noopener\" target=\"_blank\">Github isssue</a></p>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆæ™‚ã«error-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_intervalã‚„failed-to-execute-send-on-xmlhttprequestã®ã‚¨ãƒ©ãƒ¼\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E6%99%82%E3%81%ABerror-timeout---async-callback-was-not-invoked-within-timeout-specified-by-jasminedefault_timeout_interval%E3%82%84failed-to-execute-send-on-xmlhttprequest%E3%81%AE%E3%82%A8%E3%83%A9%E3%83%BC\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼</h2>\n\n<p>ã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«<strong><code>-sm=false</code>ã‚’è¿½åŠ </strong>ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚</p>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%94%A8%E3%81%AB%E5%AD%90%E3%82%B3%E3%83%B3%E3%83%9D%E3%83%BC%E3%83%8D%E3%83%B3%E3%83%88%E3%82%92%E3%83%A2%E3%83%83%E3%82%AF%E5%8C%96%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„</h2>\n\n<p>æ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§<br>\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚<br>\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\"><div class=\"highlight\"><pre><span class=\"c1\">// â€»importæ–‡ã¯çœç•¥</span>\n\n<span class=\"c1\">// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©</span>\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-child'</span><span class=\"p\">,</span> <span class=\"c1\">// å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©</span>\n  <span class=\"na\">template</span><span class=\"p\">:</span> <span class=\"s1\">'&lt;p&gt;Mock Child Component&lt;/p&gt;'</span>\n<span class=\"p\">})</span>\n<span class=\"kd\">class</span> <span class=\"nx\">MockClildComponent</span> <span class=\"p\">{</span>\n  <span class=\"p\">@</span><span class=\"nd\">Input</span><span class=\"p\">()</span> <span class=\"nx\">childInput</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n  <span class=\"p\">@</span><span class=\"nd\">Output</span><span class=\"p\">()</span> <span class=\"nx\">childOutput</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">EventEmitter</span><span class=\"p\">();</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ...</span>\n\n<span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n    <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"c1\">// ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ </span>\n      <span class=\"nx\">MockProductSettingsComponent</span><span class=\"p\">,</span>\n      <span class=\"c1\">// ...</span>\n    <span class=\"p\">],</span>\n    <span class=\"c1\">// ...</span>\n  <span class=\"p\">});</span>\n  <span class=\"c1\">// ...</span>\n<span class=\"p\">});</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«angular-materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABangular-materila%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>UIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§<a href=\"https://material.angular.io/\" rel=\"nofollow noopener\" target=\"_blank\">Angular Material</a>ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€<br>\n<code>karma.config.js</code>ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n      <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n      <span class=\"c1\">// Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã</span>\n      <span class=\"p\">{</span><span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./node_modules/@angular/material/prebuilt-themes/indigo-pink.css'</span><span class=\"p\">,</span> <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">},</span>\n<span class=\"p\">],</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/angular/material2/issues/4056\" rel=\"nofollow noopener\" target=\"_blank\">stackoverflow</a></li>\n</ul>\n\n<h2>\n<span id=\"ãƒ†ã‚¹ãƒˆçµæœã«stylesscssã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#%E3%83%86%E3%82%B9%E3%83%88%E7%B5%90%E6%9E%9C%E3%81%ABstylesscss%E3%82%A2%E3%83%97%E3%83%AA%E5%85%B1%E9%80%9A%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E5%AE%9A%E7%BE%A9%E3%81%AE%E3%82%B9%E3%82%BF%E3%82%A4%E3%83%AB%E3%81%8C%E5%8F%8D%E6%98%A0%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„</h2>\n\n<p>ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ<br>\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«<code>karma-scss-preprocessor</code>ã¨<code>node-sass</code>ã‚’è¿½åŠ ã—ã¦<code>karma.conf.js</code>ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">karma.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">plugins</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n<span class=\"err\">ã€€</span> <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ </span>\n  <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'karma-scss-preprocessor'</span><span class=\"p\">)</span>\n<span class=\"p\">],</span>\n\n\n<span class=\"nx\">files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n  <span class=\"err\">ãƒ»ãƒ»ãƒ»</span>\n  <span class=\"c1\">// filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ </span>\n  <span class=\"p\">{</span> <span class=\"nl\">pattern</span><span class=\"p\">:</span> <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">,</span> <span class=\"nx\">watched</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>  <span class=\"nx\">included</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span> <span class=\"nx\">served</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span>\n<span class=\"p\">],</span>\n\n<span class=\"c1\">// preprocessorsã‚’è¿½åŠ </span>\n<span class=\"nx\">preprocessors</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n <span class=\"s1\">'./src/test.ts'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'@angular/cli'</span><span class=\"p\">],</span>\n <span class=\"s1\">'./src/styles.scss'</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'scss'</span><span class=\"p\">]</span>\n<span class=\"p\">},</span>\n</pre></div>\n</div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong>:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689\" rel=\"nofollow noopener\" target=\"_blank\">stackOverFlow</a></li>\n<li><a href=\"https://github.com/karma-runner/karma/issues/2700\" rel=\"nofollow noopener\" target=\"_blank\">Github karma/issue/2700</a></li>\n</ul>\n\n<h1>\n<span id=\"3-ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´-expressmongodbå‘¨ã‚Š\" class=\"fragment\"></span><a href=\"#3-%E3%83%90%E3%83%83%E3%82%AF%E3%82%A8%E3%83%B3%E3%83%89%E5%81%B4-expressmongodb%E5%91%A8%E3%82%8A\"><i class=\"fa fa-link\"></i></a>3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š</h1>\n\n<p>â€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯<a href=\"https://github.com/Automattic/mongoose\" rel=\"nofollow noopener\" target=\"_blank\">mongoose</a>ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\" class=\"fragment\"></span><a href=\"#mongoose%E3%81%AEvirtual%E3%83%A1%E3%82%BD%E3%83%83%E3%83%89%E3%82%92%E4%BD%BF%E3%81%86\"><i class=\"fa fa-link\"></i></a>mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</h2>\n\n<p>ä¾‹ãˆã°<code>è¨˜äº‹</code>,<code>ã‚³ãƒ¡ãƒ³ãƒˆ</code>,<code>ãƒªãƒ—ãƒ©ã‚¤</code>ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€<br>\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  =&gt; è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  =&gt; ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/129a84bd908d87c7fcbda29704ad50ac10529129/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66393361633065362d333137652d316364662d626662612d3133353331653234353562612e706e67\" alt=\"dbæ§‹é€ _è‰¯.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png\"></a></p>\n\n<p>ãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€<strong>mongooseã®virtualã‚’ä½¿ã„ã¾ã™</strong>ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€<br>\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/bd8d4eedcb08eeaca13290e8dc91b8b2e10c5dae/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34616162376633382d316631392d653030622d623335642d3233626162663336613735622e706e67\" alt=\"mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png\"></a></p>\n\n<p>å…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">article.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ArticleSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">content</span><span class=\"p\">:</span> <span class=\"nb\">String</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n\n<span class=\"c1\">// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">ArticleSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'articleId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Article</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Article'</span><span class=\"p\">,</span> <span class=\"nx\">ArticleSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Article</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">comment.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">CommentSchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">articleId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Article'</span><span class=\"p\">,</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">comment</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">},</span> <span class=\"p\">{</span> <span class=\"na\">toJSON</span><span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"na\">virtuals</span><span class=\"p\">:</span> <span class=\"kc\">true</span> <span class=\"p\">}</span> <span class=\"p\">});</span>\n\n<span class=\"c1\">// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹</span>\n<span class=\"nx\">CommentSchema</span><span class=\"p\">.</span><span class=\"nx\">virtual</span><span class=\"p\">(</span><span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n  <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Reply'</span><span class=\"p\">,</span>\n  <span class=\"na\">localField</span><span class=\"p\">:</span> <span class=\"s1\">'_id'</span><span class=\"p\">,</span>\n  <span class=\"na\">foreignField</span><span class=\"p\">:</span> <span class=\"s1\">'commentId'</span><span class=\"p\">,</span>\n  <span class=\"na\">justOne</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Comment</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Comment'</span><span class=\"p\">,</span> <span class=\"nx\">CommentSchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Comment</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">reply.model.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">ReplySchema</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">commentId</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n    <span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">.</span><span class=\"nx\">Types</span><span class=\"p\">.</span><span class=\"nx\">ObjectId</span><span class=\"p\">,</span>\n    <span class=\"na\">ref</span><span class=\"p\">:</span> <span class=\"s1\">'Comment'</span>\n  <span class=\"p\">},</span>\n  <span class=\"na\">reply</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">;</span>\n<span class=\"p\">});</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Reply</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'Reply'</span><span class=\"p\">,</span> <span class=\"nx\">ReplySchema</span><span class=\"p\">);</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Reply</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">æ¤œç´¢å‡¦ç†</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">Article</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">()</span>\n<span class=\"p\">.</span><span class=\"nx\">populate</span><span class=\"p\">({</span>\n  <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'comments'</span><span class=\"p\">,</span> <span class=\"c1\">// Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹</span>\n  <span class=\"na\">populate</span><span class=\"p\">:</span> <span class=\"p\">[{</span>\n    <span class=\"na\">path</span><span class=\"p\">:</span> <span class=\"s1\">'replies'</span><span class=\"p\">,</span> <span class=\"c1\">// Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹</span>\n  <span class=\"p\">}],</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AA%E3%82%AF%E3%82%A8%E3%82%B9%E3%83%88%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B9%E3%81%AE%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>Expressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚<br>\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™</span></div>\n<div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n<span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"nx\">accessLogHandler</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">();</span>\n  <span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€</span>\n  <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">([</span>\n    <span class=\"s1\">'start'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n    <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n    <span class=\"s1\">'--ms--'</span>\n  <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n\n  <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'finish'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€</span> <span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°</span>\n    <span class=\"nx\">accessLogger</span><span class=\"p\">.</span><span class=\"nx\">info</span><span class=\"p\">([</span>\n      <span class=\"s1\">'end'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'x-forwarded-for'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">connection</span><span class=\"p\">.</span><span class=\"nx\">remoteAddress</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">,</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">.</span><span class=\"nx\">referer</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">headers</span><span class=\"p\">[</span><span class=\"s1\">'user-agent'</span><span class=\"p\">]</span> <span class=\"o\">||</span> <span class=\"s1\">'-'</span><span class=\"p\">,</span>\n      <span class=\"s1\">'--'</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"nx\">start</span><span class=\"p\">.</span><span class=\"nx\">getMilliseconds</span><span class=\"p\">())</span> <span class=\"o\">+</span> <span class=\"s1\">'ms--'</span>\n    <span class=\"p\">].</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s1\">',</span><span class=\"err\">\\</span><span class=\"s1\">t'</span><span class=\"p\">));</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">next</span><span class=\"p\">();</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<p>å®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"py3\"><div class=\"highlight\"><pre><span class=\"n\">start</span><span class=\"p\">,</span>  <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">api</span><span class=\"o\">/</span><span class=\"n\">authenticate</span><span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>   <span class=\"o\">-</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span> <span class=\"o\">--</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n<span class=\"n\">end</span><span class=\"p\">,</span>    <span class=\"p\">::</span><span class=\"n\">ffff</span><span class=\"p\">:</span><span class=\"mf\">127.0</span><span class=\"o\">.</span><span class=\"mf\">0.1</span><span class=\"p\">,</span> <span class=\"n\">GET</span><span class=\"p\">,</span> <span class=\"o\">/</span><span class=\"n\">check</span><span class=\"o\">-</span><span class=\"n\">state</span><span class=\"p\">,</span>                  <span class=\"mi\">403</span><span class=\"p\">,</span> <span class=\"n\">http</span><span class=\"p\">:</span><span class=\"o\">//</span><span class=\"n\">localhost</span><span class=\"p\">:</span><span class=\"mi\">4200</span><span class=\"o\">/</span><span class=\"p\">,</span> <span class=\"n\">Mozilla</span><span class=\"o\">/</span><span class=\"mf\">5.0</span> <span class=\"p\">(</span><span class=\"n\">Macintosh</span><span class=\"p\">;</span> <span class=\"n\">Intel</span> <span class=\"n\">Mac</span> <span class=\"n\">OS</span> <span class=\"n\">X</span> <span class=\"mi\">10</span><span class=\"n\">_12_6</span><span class=\"p\">)</span> <span class=\"n\">AppleWebKit</span><span class=\"o\">/</span><span class=\"mf\">537.36</span> <span class=\"p\">(</span><span class=\"n\">KHTML</span><span class=\"p\">,</span> <span class=\"n\">like</span> <span class=\"n\">Gecko</span><span class=\"p\">)</span> <span class=\"n\">Chrome</span><span class=\"o\">/</span><span class=\"mf\">62.0</span><span class=\"o\">.</span><span class=\"mf\">3202.94</span> <span class=\"n\">Safari</span><span class=\"o\">/</span><span class=\"mf\">537.36</span><span class=\"p\">,</span>  <span class=\"o\">--</span><span class=\"mi\">47</span><span class=\"n\">ms</span><span class=\"o\">--</span>\n</pre></div></div>\n\n<h2>\n<span id=\"ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E3%83%AD%E3%82%B0%E5%87%BA%E5%8A%9B%E3%81%A7%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E3%81%AE%E5%85%A8%E3%83%97%E3%83%AD%E3%83%91%E3%83%86%E3%82%A3%E3%82%92%E5%87%BA%E5%8A%9B%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„</h2>\n\n<p>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®<code>util.inspect()</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">const</span> <span class=\"nx\">util</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'util'</span><span class=\"p\">);</span>\n<span class=\"kd\">const</span> <span class=\"nx\">myObject</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n   <span class=\"s2\">\"a\"</span><span class=\"p\">:</span><span class=\"s2\">\"a\"</span><span class=\"p\">,</span>\n   <span class=\"s2\">\"b\"</span><span class=\"p\">:{</span>\n      <span class=\"s2\">\"c\"</span><span class=\"p\">:</span><span class=\"s2\">\"c\"</span><span class=\"p\">,</span>\n      <span class=\"s2\">\"d\"</span><span class=\"p\">:{</span>\n         <span class=\"s2\">\"e\"</span><span class=\"p\">:</span><span class=\"s2\">\"e\"</span><span class=\"p\">,</span>\n         <span class=\"s2\">\"f\"</span><span class=\"p\">:{</span>\n            <span class=\"s2\">\"g\"</span><span class=\"p\">:</span><span class=\"s2\">\"g\"</span><span class=\"p\">,</span>\n            <span class=\"s2\">\"h\"</span><span class=\"p\">:{</span>\n               <span class=\"s2\">\"i\"</span><span class=\"p\">:</span><span class=\"s2\">\"i\"</span>\n            <span class=\"p\">}</span>\n         <span class=\"p\">}</span>\n      <span class=\"p\">}</span>\n   <span class=\"p\">}</span>\n<span class=\"p\">};</span> \n\n<span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"nx\">util</span><span class=\"p\">.</span><span class=\"nx\">inspect</span><span class=\"p\">(</span><span class=\"nx\">myObject</span><span class=\"p\">,</span> <span class=\"kc\">false</span><span class=\"p\">,</span> <span class=\"kc\">null</span><span class=\"p\">));</span>\n</pre></div></div>\n\n<p>ã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object\" rel=\"nofollow noopener\" target=\"_blank\">StackOverFlow</a></li>\n</ul>\n\n<h2>\n<span id=\"ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\" class=\"fragment\"></span><a href=\"#%E7%92%B0%E5%A2%83%E5%A4%89%E6%95%B0%E3%81%A7%E4%B8%8A%E6%9B%B8%E3%81%8D%E3%81%A7%E3%81%8D%E3%82%8B%E5%AE%9A%E6%95%B0%E3%82%92%E5%AE%9A%E7%BE%A9%E3%81%97%E3%81%9F%E3%81%84\"><i class=\"fa fa-link\"></i></a>ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„</h2>\n\n<p>ä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯<br>\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚<br>\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"typescript\">\n<div class=\"code-lang\"><span class=\"bold\">å®šæ•°å®šç¾©</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_PORT</span> <span class=\"o\">||</span> <span class=\"s1\">'3000'</span><span class=\"p\">;</span><span class=\"err\">ã€€</span><span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_HOST</span><span class=\"p\">:</span> <span class=\"nx\">string</span> <span class=\"o\">=</span> <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">SERVER_HOST</span> <span class=\"o\">||</span> <span class=\"s1\">'localhost'</span><span class=\"p\">;</span> <span class=\"c1\">// ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹</span>\n</pre></div>\n</div>\n\n<h2>\n<span id=\"dbåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\" class=\"fragment\"></span><a href=\"#db%E5%88%9D%E5%9B%9E%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%81%AB%E5%A4%B1%E6%95%97%E3%81%97%E3%81%9F%E5%A0%B4%E5%90%88%E3%81%AB%E3%83%AA%E3%83%88%E3%83%A9%E3%82%A4%E3%81%95%E3%82%8C%E3%81%AA%E3%81%84\"><i class=\"fa fa-link\"></i></a>DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„</h2>\n\n<p>mongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚<br>\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\"><div class=\"highlight\"><pre><span class=\"kd\">function</span> <span class=\"nx\">createConnection</span> <span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">db</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">createConnection</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&amp;&amp;</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">match</span><span class=\"p\">(</span><span class=\"sr\">/failed to connect to server .* on first connect/</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n\n            <span class=\"nx\">setTimeout</span><span class=\"p\">(</span><span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n                <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Retrying first connect...\"</span><span class=\"p\">);</span>\n                <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">openUri</span><span class=\"p\">(</span><span class=\"nx\">dbURL</span><span class=\"p\">).</span><span class=\"k\">catch</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n            <span class=\"c1\">// 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹</span>\n            <span class=\"p\">},</span> <span class=\"mi\">20</span> <span class=\"o\">*</span> <span class=\"mi\">1000</span><span class=\"p\">);</span>\n        <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n            <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">(),</span> <span class=\"nb\">String</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">));</span>\n        <span class=\"p\">}</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"nx\">db</span><span class=\"p\">.</span><span class=\"nx\">once</span><span class=\"p\">(</span><span class=\"s1\">'open'</span><span class=\"p\">,</span> <span class=\"kd\">function</span> <span class=\"p\">()</span> <span class=\"p\">{</span>\n        <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">\"Connection to db established.\"</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">db</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div></div>\n\n<p><strong>å‚è€ƒã‚µã‚¤ãƒˆ</strong></p>\n\n<ul>\n<li><a href=\"https://github.com/Automattic/mongoose/issues/5169\" rel=\"nofollow noopener\" target=\"_blank\">Github mongooseã®issue5169</a></li>\n</ul>\n","body":"[FUJITSU Advent Calendar 2017](https://qiita.com/advent-calendar/2017/fujitsu) 12æ—¥ç›®ã®è¨˜äº‹ã§ã™ã€‚\n\nãƒªãƒƒãƒã§ã‚¤ãƒãƒ‰ã‚­ãªãƒ‡ã‚¶ã‚¤ãƒ³ã®ã‚¢ãƒ—ãƒªãŒä½œã‚ŠãŸãã¦ã€\nã“ã“ï¼”ãƒ¶æœˆã»ã©**MEAN**ã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB+**E**xpress+**A**ngular+**N**ode.js)ã§ãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã„ã¾ã™ã€‚\nçŸ¥è­˜ã‚¼ãƒ­ã‹ã‚‰ã®ã‚¹ã‚¿ãƒ¼ãƒˆã§ã—ãŸãŒã€å¤šãã®æ–¹ã€…ãŒãƒ–ãƒ­ã‚°ã‚„StackOverFlowã«æƒ…å ±ã‚’è¼‰ã›ã¦ãã‚Œã¦ã„ã‚‹ã®ã§ã€èº“ããªãŒã‚‰ã‚‚ãªã‚“ã¨ã‹ã‚¢ãƒ—ãƒªé–‹ç™ºã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚\n\nã“ã®è¨˜äº‹ã§ã¯ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰åˆå¿ƒè€…ã®è‡ªåˆ†ãŒMEANã‚¹ã‚¿ãƒƒã‚¯ã§ã‚¢ãƒ—ãƒªã‚’ä½œã‚‹æ™‚ã«èº“ã„ãŸã“ã¨ã‚„ã€ã“ã†ã„ã†æ©Ÿèƒ½ã‚’å®Ÿç¾ã™ã‚‹ã«ã¯ã©ã†ã™ã‚Œã°ã„ã„ã‹?ãªã©ã‚’ã¾ã¨ã‚ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰ã‚’Angularã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã€Expressã‚„MongoDBãªã©ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰JavaScriptã‚’å­¦ã¼ã†ã¨ã—ã¦ã„ã‚‹æ–¹ã®å‚è€ƒã«ãªã‚Œã°ã†ã‚Œã—ã„ã§ã™ã€‚\n\n## ã‚¢ãƒ—ãƒªã®ç´¹ä»‹\næœ¬ç·šã‹ã‚‰è„±ç·šã—ã¾ã™ãŒã€ã‚¤ãƒ³ãƒˆãƒ©ã§ã®ä½¿ç”¨ã‚’æƒ³å®šã—ãŸQiitaã®ã‚ˆã†ãªãƒ–ãƒ­ã‚°ã‚¢ãƒ—ãƒªã§ã™ã€‚ãƒ‡ãƒ¢ç’°å¢ƒã‚‚ã‚ã‚‹ã®ã§ã‚ˆã‘ã‚Œã°è§¦ã£ã¦ã¿ã¦ãã ã•ã„(ãƒ¢ãƒã‚¤ãƒ«ã«ã¯æœªå¯¾å¿œã§ã™ãŒã€‚ã€‚ã€‚)\n\n* [Github](https://github.com/Takumon/mean-blog)\n* [Dockerhub](https://hub.docker.com/r/takumon/mean-blog_auto/)\n* [ãƒ‡ãƒ¢ç’°å¢ƒ](https://material-blog-demo.herokuapp.com/) (ãƒ¦ãƒ¼ã‚¶ID/ãƒ‘ã‚¹ã¯ DemoUser / DemoUser1234# ã§ã™)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼‘ (è¨˜äº‹è©³ç´°)\n![appdemo_detail.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b8133317-fac2-bb9b-8f2d-13db896becf5.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼’ (è¨˜äº‹ä¸€è¦§)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_è¨˜äº‹ä¸€è¦§.png](https://qiita-image-store.s3.amazonaws.com/0/49915/950d1062-1ba4-63f6-fe53-cfe6d46430a4.png)\n\nã‚¢ãƒ—ãƒªã‚­ãƒ£ãƒ—ãƒãƒ£ ãã®ï¼“ (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«)\n![ã‚¢ãƒ•ã‚šãƒª_ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚­ãƒ£ãƒ•ã‚šãƒãƒ£_ ãƒ¦ãƒ¼ã‚µã‚™ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/325c7948-ce16-9c08-0b66-d3892e046aed.png)\n\n# 1. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã¾ã‚ã‚Š\n## Angularã«ã¤ã„ã¦èª¿ã¹ã‚‹æ™‚ã«å¤ã„æƒ…å ±ã‚’é™¤å¤–ã—ãŸã„\n1ç³»ã¯`AngularJS`ã€2ç³»ä»¥é™ã¯`Angular`ã¨å‘¼ã°ã‚Œã¦ãŠã‚Šã€1ç³»ã¨2ç³»ä»¥é™ã§ã¯å¤§ããä»•æ§˜ãŒç•°ãªã‚Šã¾ã™ã€‚\nãã®ãŸã‚æ¤œç´¢ã™ã‚‹æ™‚ã¯`Angualr2`ãªã©ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ãŸã‚Šã€1ç³»ã‚’é™¤å¤–ã™ã‚‹ãŸã‚\u001e`--AngularJS`ã‚’ã¤ã‘ãŸã‚Š\u001dã™ã‚‹ã¨æ¤œç´¢ã—ã‚„ã™ã„ã§ã™ã€‚\n\n## HTMLã®DOM\bè¦ç´ ã‚’ã€åˆ¥ã®DOMè¦ç´ ã¾ãŸã¯Componentã‹ã‚‰æ‰±ã„ãŸã„\nè¦ç´ ã«`#xxxxx`\bã®ã‚ˆã†ã«`#`å§‹ã¾ã‚Šã®åå‰ã‚’ã¤ã‘ã‚‹ã¨ã€åˆ¥ã®\bDOMè¦ç´ ã‹ã‚‰å‚ç…§ã§ãã¾ã™\n\n```html:HTML\n<input #phone placeholder=\"é›»è©±ç•ªå·\"/>\n<!--  ä»–ã®DOMè¦ç´ ã‹ã‚‰phonã¨ã„ã†å¤‰æ•°åã§DOMè¦ç´ ã‚’å‚ç…§ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ -->\n<button >(click)=\"callPhone\b(phone.value)\">\n```\n\n\bComponentã‹ã‚‰å‚ç…§ã™ã‚‹å ´åˆã¯`@ViewChild`ã‚’ä½¿ã„ã¾ã™\n\n```typescript:Component\n  // \bViewChildã®å¼•æ•°ã«\b\båå‰ã‚’æ–‡å­—åˆ—ã§æŒ‡å®šã—ã¾ã™\n  @ViewChild('phone') phoneElement: phoneElement;\n\n  showPhoneValue() {\n    console.log(this.phoneElement.value);\n    )\n  }\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/template-syntax#ref-vars)\n* [StackOverFlow](https://stackoverflow.com/questions/32693061/how-can-i-select-an-element-in-a-component-template)\n\n\n\n## Routingæ™‚ã®èªè¨¼ã‚’éåŒæœŸã§è¡Œã„ãŸã„\nURLã”ã¨ã®èªè¨¼ã¯`CanActivate`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®Ÿè£…ã™ã‚Œã°ã§ãã¾ã™ãŒã€\nã‚µãƒ¼ãƒã‹ã‚‰èªè¨¼æƒ…å ±ã‚’å–å¾—ã—ã¦éåŒæœŸã§èªè¨¼ã—ãŸã„å ´åˆã‚‚ã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚\nãã®ã‚ˆã†ãªæ™‚ã¯ã€**`CanActivate#canActivate`ã§**booleanã®ä»£ã‚ã‚Šã«**Observable<boolean>ã‚’æˆ»ã‚Šå€¤ã«æŒ‡å®šã™ã‚‹**ã“ã¨ã§å®Ÿç¾ã§ãã¾ã™ã€‚\n\n\n```typescript:SampleAuthGuard\nimport { Injectable } from '@angular/core';\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\nimport { Observable } from 'rxjs/Rx';\n\nimport { AuthenticationService } from './authentication.service';\n\n@Injectable()\nexport class SampleAuthGuard implements CanActivate {\n\n  constructor(\n    private auth: AuthenticationService,\n  ) { }\n\n  // booleanã§ã¯ãªãObservable<boolean>ã‚’æˆ»ã‚Šå€¤ã§è¿”ã™\n  canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<boolean> {\n    return this.auth.checkState()\n      .map(res => true)\n      .catch(err => Observable.of(false))\n  }\n}\n\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/38425461/angular2-canactivate-calling-async-function)\n\n## FormArrayã®å€¤ã‚’åˆæœŸåŒ–ã—ãŸã„\nFormControlã¯patchValueã§åˆæœŸå€¤ã‚’è¨­å®šã§ãã¾ã™ãŒã€\nFormArrayã®å ´åˆpatch\bValueã§é…åˆ—ã®å€¤ã‚’è¨­å®šã—ã‚ˆã†ã¨\bã—ã¦ã‚‚è¨­å®šã§ãã¾ã›ã‚“ã€‚\n\bã“ã†ã„ã†å ´åˆã¯ã€**\b\bé…åˆ—1ã¤ï¼‘ã¤ã®å€¤ã‚’ã‚‚ã¨ã«FormControlã‚’ç”Ÿæˆã—ã¦FormArrayã«push**ã—ã¾ã™ã€‚\n\n```typescript:ãƒ€ãƒ¡ãªä¾‹\nngOnInit() {\n  // Formç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName' // FormControlã®å€¤ã®åˆæœŸåŒ–ã¯patchValueã§å¯èƒ½\n    students: ['taro', 'jiro', 'saburo']; // FormArrayã«è¦ç´ ã‚’è¿½åŠ ã™ã‚‹å ´åˆpatchValueã§ã¯ä¸å¯èƒ½\n  });\n}\n```\n\n```typescript:\bè‰¯ã„ä¾‹\nngOnInit() {\n  // Formã‚’ç”Ÿæˆ\n  this.form = this.formBuilder.group({\n    schoolName: '',\n    students: this.formBuilder.array([])\n  });\n\n  // Formã«åˆæœŸå€¤ã‚’è¨­å®š\n  this.form.pathValue({\n    schooleName: 'SampleSchoolName'\n  });\n\n  // ãƒ‡ãƒ¼ã‚¿ã‹ã‚‰FormControlã‚’ç”Ÿæˆã—ï¼‘ä»¶ï¼‘ä»¶FormArrayã«pushã™ã‚‹\n  ['taro', 'jiro', 'saburo'].forEach(student -> {\n    this.form.controls['students'].push(new FormControll(student));\n  });\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOvereFlow](https://stackoverflow.com/questions/40916084/angular2-patchvalue-push-value-into-array)\n\n## ã€ŒERROR Error: No provider for TemplateRef!ã€ã¨ã„ã†ã‚¨ãƒ©ãƒ¼\næœ€åˆã“ã®ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸæ™‚ã¯ã€ä½•ãŒåŸå› ãªã®ã‹ã‚ã‹ã‚‰ãšã«å›°ã‚Šã¾ã—ãŸã€‚ã€‚ã€‚\nå¤§æŠµã®å ´åˆã¯ã€**`*ngIf`ã‚„`*ngForm`ã®`*`ãŒæŠœã‘ã¦ã‚‹ã“ã¨ãŒåŸå› **ã§ã™(è¦ã™ã‚‹ã«ãŸã ã®ã‚¿ã‚¤ãƒã§ã™ã€‚ã€‚ã€‚)\n`*`ãŒæŠœã‘ã‚‹ã¨ã€Angularã¯`ngIf`ã‚’ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¨ã—ã¦è§£é‡ˆã—ã‚ˆã†ã¨ã—ã¾ã™ãŒã€\n\bãã‚“ãª\b\bãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã¯å­˜åœ¨ã—ãªã„ã®ã§`No provider for TemplateRef!`ã¨è¨€ã‚ã‚Œã¦ã—ã¾ã†ãã†ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/35932074/angular2-no-provider-for-templateref-ngif-templateref)\n\n\n## textareaã«ãŠã„ã¦Tabã‚­ãƒ¼ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„\næ–‡æ›¸ã‚’å…¥åŠ›ã™ã‚‹ã‚ˆã†ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å ´åˆã«ã€\u001dTabã‚­ãƒ¼ã§ã®ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã—ãŸã„å ´åˆã¯ã€\n\bkyedownã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿæ™‚ã«\bãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã¨ã‚­ãƒ£ãƒ¬ãƒƒãƒˆã®ä½ç½®ã‚’æ“ä½œã™ã‚‹ã“ã¨ã§å®Ÿç¾å¯èƒ½ã§ã™ã€‚\n\n```html:HTML\n<textarea #sampletextarea\n  (keydown)=\"indent($event, sampletextarea)\" ></textarea>\n```\n\n```typescript:Component\n  indent($event, sampleTextAreaElement) {\n    // Tabã‚­ãƒ¼æŠ¼ä¸‹æ™‚\n    if ($event.keyCode === 9) {\n      \b// æ¬¡ã®è¦ç´ ã«\bãƒ•ã‚©ãƒ¼ã‚«ã‚¹ãŒç§»ã‚‰ãªã„ã‚ˆã†ã«ã™ã‚‹\n      $event.preventDefault();\n\n      // ç¾åœ¨ã®ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’å–å¾—\n      \bconst caretStart = textareaElement.selectionStart;\n      const caretEnd = textareaElement.selectionEnd;\n\n      // ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢ã®å€¤ã‚’\bå–å¾—ã—ã€ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã«Tabã‚’æŒ¿å…¥\n      const TAB = 'Â¥t';\n      sampleTextAreaElement.value = sampleTextAreaElement.value.substring(0, caretStart)\n                     + TAB + sampleTextAreaElement.value.substring(caretStart, value.length);\n\n      // ã‚­ãƒ£ãƒ¬ãƒƒãƒˆä½ç½®ã‚’Tabåˆ†ãšã‚‰ã™\n      sampleTextAreaElement.focus();\n      sampleTextAreaElement.setSelectionRange(caretStart + TAB.length, caretEnd + TAB.length);\n\n      return;\n    }\n  }\n\n```\n\n\n\n## \bMarkdownãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’\bè¡¨ç¤ºã—ãŸã„ã€ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆã•ã›ãŸã„\n[marked](https://github.com/chjj/marked)ã¨[highlight.js](https://github.com/isagalaev/highlight.js)ã‚’çµ„ã¿åˆã‚ã›ã¦ä½¿ã„ã¾ã™ã€‚\n[marked](https://github.com/chjj/marked)ã®Readmeã‚’è¦‹ã‚Œã°ãªã‚“ã¨ãªãã‚ã‹ã‚Šã¾ã™ãŒã€Angularã®ä»•çµ„ã¿ã«ä¹—ã›ã‚‹å¿…è¦ãŒã‚ã‚‹ã®ã§Pipeã‚„ã‚‰Serviceã‚„ã‚‰ã‚’ä½œã‚Šã¾ã™ã€‚\n\n```typescript:markdown-parse.service.ts\nimport { Injectable } from '@angular/core';\nimport marked from 'marked';\nimport hljs from 'highlight.js';\n\n\n@Injectable()\nexport class MarkdownParseService {\n\n  constructor() {\n    marked.setOptions({\n      highlight: function (code) {\n        return hljs.highlightAuto(code).value;\n      }\n    });\n  }\n\n  parse(rawText: string) {\n    return marked(rawText);\n  }\n}\n```\n\n\n```typescript:markdown.pipe.ts\nimport marked from 'marked';\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { MarkdownParseService } from './markdown-parse.service';\n\n@Pipe({ name: 'toMarkdown' })\nexport class MarkdownParsePipe implements PipeTransform {\n  constructor(markdownParseService: MarkdownParseService) {}\n\n  transform(value: string): any {\n    return this.markdownParseService.parse(value);\n  }\n}\n```\n\nHTMLã§ä¸‹è¨˜ã®ã‚ˆã†ã«æŒ‡å®šã—ã¾ã™ã€‚`{{}}`ã ã¨\bã‚µãƒ‹ã‚¿ã‚¤ã‚ºã•ã‚Œã¦ã—ã¾ã†ã®ã§\b`innerHTML`å±æ€§ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```html\n<div [innerHTML]=\"md | toMarkdown\"></div>\n```\n\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Qiita Angularã§Markdownã‚’HTMLã¨ã—ã¦è¡¨ç¤ºã™ã‚‹ã‚«ã‚¹ã‚¿ãƒ pipeã‚’ä½œæˆã™ã‚‹](https://qiita.com/daikiojm/items/e02e2aeb0231b3620a0b)\n* Github [chjj/marked](https://github.com/chjj/marked)\n\n\n\n\n## çµã‚Šè¾¼ã¿æ¡ä»¶ä»˜ããƒªã‚¹ãƒˆã«ãŠã„ã¦ã€ãƒªã‚¹ãƒˆã®è¦ç´ ãŒ\bå¤‰æ›´ã€è¿½åŠ \bã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«çµã‚Šè¾¼ã¿çµæœã‚’ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã—ãŸã„\nãƒªã‚¹ãƒˆã®çµã‚Šè¾¼ã¿ã¯Pipeã§å®Ÿç¾ã—ã¾ã™ãŒã€é€šå¸¸Pipeã¯ãƒªã‚¹ãƒˆã®è¦ç´ ãŒå¤‰æ›´ã•ã‚Œã¦ã‚‚å†ã³çµã‚Šè¾¼ã¿ãŒå®Ÿæ–½ã•ã‚Œã‚‹ã“ã¨ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯Pipeã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã«ã¦**pureã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã¾ã—ã‚‡ã†ã€‚\n\n```html:HTML\n<input type=\"text\" #searchUserName>\n<ul>\n  <li *ngFor=\"let user of (userList | searchUserFilter: searchUserName.value);\" >{{user.name}}</li>\n<ul>\n```\n\n```typescript:search-user.pipe.ts\nimport { Pipe, PipeTransform } from '@angular/core';\nimport { User } from './user';\n\n@Pipe({\n  name: 'searchUserFilter',\n  pure: false // pureã‚’falseã«ã™ã‚‹ã“ã¨ã§ãƒ¦ãƒ¼ã‚¶ãŒå¤‰æ›´ã€è¿½åŠ ã€å‰Šé™¤ã•ã‚ŒãŸæ™‚ã«ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã§ãã‚‹\n})\nexport class SearchFilterPipe implements PipeTransform {\n  transform(items: Array<User>, searchUserName: string): any[] {\n    if (!searchUserName) return items;\n\n    searchUserName = searchUserName.toLowerCase();\n    return items.filter( item => item.user.userId.toLowerCase().includes(searchUserName));\n  }\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Angularå…¬å¼ã‚µã‚¤ãƒˆ](https://angular.io/guide/pipes#pure-and-impure-pipes)\n\n\n\n\n## ã‚°ãƒ­ãƒ¼ãƒãƒ«å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nã„ã‚ã‚“ãªã‚¯ãƒ©ã‚¹ã§ä½¿ã†å®šæ•°ã‚’\bå…±é€š\båŒ–ã™ã‚‹æ™‚ã¯ã€å˜ç´”ã«**ã‚¯ãƒ©ã‚¹ã‚’ä½œã£ã¦staticãªãƒ¡ãƒ³ãƒã¨ã—ã¦å®šæ•°ã‚’å®šç¾©**ã—ã¾ã™ã€‚\n\n```typescript:app-settings.ts\nexport class AppSettings {\n   public static API_ENDPOINT='http://127.0.0.1:6666/api/';\n}\n```\n\n```typescript:SampleService\nimport {Injectable} from 'angular2/core';\nimport {AppSettings} from './app-settings';\n\n@Injectable()\nexport class SampleService {\n    \bsampleMethod() {\n      console.log(AppSettings.API_ENDPOINT);\n    }\n}\n```\n\n**å‚è€ƒ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/34986922/define-global-constants-in-angular-2)\n\n\n## ç”»åƒãŒå¤šã„ç”»é¢ã®åˆæœŸè¡¨ç¤ºã‚’æ—©ãã—ãŸã„\n[ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)ã‚’ä½¿ãˆã°ç”»åƒã®é…å»¶ãƒ­ãƒ¼ãƒ‰ã‚’å®Ÿç¾ã§ãã¾ã™ã€‚\nä½¿ã„æ–¹ã‚‚ã¨ã¦ã‚‚ç°¡å˜ã§imgã‚¿ã‚°ã«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒ†ã‚£ãƒ–ã‚’æŒ‡å®šã™ã‚‹ã ã‘ã§ã™ã€‚\n\n```html:HTML\n <img\n  [defaultImage]=\"https://images.sample.com/photo/defaultimage\" \n  [lazyLoad]=\"https://images.sample.com/photo/sampleimage\"\n  [offset]=\"30\"\n >\n```\n\n*defaultImage*\nã€€å³æ™‚ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã‚‹ç”»åƒã®URLã€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã‚’èª­ã¿è¾¼ã‚€é–“ã€è¡¨ç¤ºã•ã‚Œã‚‹\n*lazyLoad*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰ã™ã‚‹ç”»åƒã®URL\n*offset*\nã€€ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãŒç™ºç”Ÿã™ã‚‹å ´åˆã«ç”»é¢ä¸‹éƒ¨ã®ä½•ãƒ”ã‚¯ã‚»ãƒ«ä¸‹ã«æ¥ãŸæ™‚ã«ãƒ­ãƒ¼ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹\n*errorImage*\nã€€é…å»¶ãƒ­ãƒ¼ãƒ‰å¤±æ•—æ™‚ã«è¡¨ç¤ºã™ã‚‹ç”»åƒURL\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [ng-lazyload-image](https://github.com/tjoskar/ng-lazyload-image)\n\n\n## Angular Cliã®`ng serve`ã‚³ãƒãƒ³ãƒ‰ã§distãƒ•ã‚©ãƒ«ãƒ€ã‚’ä¸€æ—¦å‰Šé™¤ã—ãŸããªã„\n`ng serve`ã‚³ãƒãƒ³ãƒ‰ã¯`dist`ãƒ•ã‚©ãƒ«ãƒ€ã‚’å‰Šé™¤ã—ã¦ã‹ã‚‰tsãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\nãã‚Œã‚’é˜²ããŸã‚ã«ã¯ã€**delete-output-pathã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’false**ã«æŒ‡å®šã—ã¾ã™ã€‚\n\n```json:package.jsonã€€ãƒ“ãƒ«ãƒ‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆ\n\"script\": {\n  \"build\": \"cp ./resource/* dist && ng serve --delete-output-path=false\"\n}\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [angular-cli github issue #4366](https://github.com/angular/angular-cli/issues/4366)\n\n\n## AOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒé…ã„ã®ã§ãªã‚“ã¨ã‹ã—ãŸã„\nãªã‚“ã¨ã‹ã§ãã¾ã›ã‚“ã§ã—ãŸã€‚ã€‚ã€‚(ã‚‚ã—ã‹ã—ãŸã‚‰æ–¹æ³•ãŒã‚ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚èª°ã‹æ•™ãˆã¦ãã ã•ã„!!!)\nAOTã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¯JITã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ãŒæ¤œå‡ºã—ã¦ãã‚Œãªã„HTMLã®ã‚¨ãƒ©ãƒ¼ã‚’è­¦å‘Šã—ã¦ãã‚Œã¾ã™ãŒã€ãã®åé¢é…ã„ã§ã™ã€‚ç‰¹ã«[Angular Material](https://material.angular.io/)ã‚’ä½¿ã†å ´åˆã¯é¡•è‘—ã§ã™ã€‚\nãã®ãŸã‚ã€è‡ªåˆ†ã®å ´åˆã¯åŸºæœ¬çš„ã«JITãƒ“ãƒ«ãƒ‰ã‚’ä½¿ã„ã€issueã®ãƒ—ãƒ«ãƒªã‚¯ã‚’ã™ã‚‹å‰ãªã©åŒºåˆ‡ã‚Šã®ã„ã„ã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§AOTãƒ“ãƒ«ãƒ‰ã—ã¦ã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹ç¢ºèªã™ã‚‹ã¨ã„ã†ã‚ˆã†ã«ä½¿ã„åˆ†ã‘ã¦ã¾ã—ãŸã€‚\n\n\n# 2. ãƒ•ãƒ­ãƒ³ãƒˆå´Angularã§ã®ãƒ†ã‚¹ãƒˆå‘¨ã‚Š\n## CIç’°å¢ƒãªã©ã§ãƒ†ã‚¹ãƒˆãŒçµ‚ã‚ã‚‰ãšã«ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ã¦ã—ã¾ã†\nCirleCiãªã©ã§ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹å ´åˆ`ng test`ã‚³ãƒãƒ³ãƒ‰ã ã¨ãƒ—ãƒ­ã‚»ã‚¹ãŒçµ‚äº†ã—ãªã„ãŸã‚ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã§å¤±æ•—ã—ã¦ã—ã¾ã„ã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯**watchã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’falseã«è¨­å®š**ã—ã¾ã™ã€‚\n\n```\nng test --wtach=false\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n[Github isssue](https://github.com/angular/angular-cli/issues/362)\n\n## ãƒ†ã‚¹ãƒˆæ™‚ã«ã€ŒError: Timeout - Async callback was not invoked within timeout specified by jasmine.DEFAULT_TIMEOUT_INTERVAL.ã€ã‚„ã€ŒFailed to execute 'send' on 'XMLHttpRequest'ã€ã®ã‚¨ãƒ©ãƒ¼\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ä¸€æ™‚çš„ã«`ng test`ã‚³ãƒãƒ³ãƒ‰ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã«**`-sm=false`ã‚’è¿½åŠ **ã—ã¦ãƒ†ã‚¹ãƒˆã—ç›´ã™ã¨æ ¹æœ¬åŸå› ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nå¤§æŠµã®å ´åˆã¯è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã‚¯ãƒ©ã‚¹ã«å¿…è¦ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒãªã„ã“ã¨ãŒåŸå› ã§ã™ã€‚\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/45399079/angular-tests-failing-with-failed-to-execute-send-on-xmlhttprequest)\n\n\n## ãƒ†ã‚¹ãƒˆç”¨ã«å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ãƒ¢ãƒƒã‚¯åŒ–ã—ãŸã„\næ„å¤–ã¨ç°¡å˜ã§ã€TestBed#configureTestingModuleã§\ndeclarationsã«è‡ªä½œã—ãŸãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã™ã‚‹ã ã‘ã§ã™ã€‚\ninput,outputãŒã‚ã‚Œã°å¿…è¦ã«å¿œã˜ã¦ãƒ¡ãƒ³ãƒå®šç¾©ã—ã¾ã™ã€‚\n\n\n```typescript\n// â€»importæ–‡ã¯çœç•¥\n\n// ãƒ¢ãƒƒã‚¯ã®å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’å®šç¾©\n@Component({\n  selector: 'app-child', // å­ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¨åŒã˜ã‚‚ã®ã‚’å®šç¾©\n  template: '<p>Mock Child Component</p>'\n})\nclass MockClildComponent {\n  @Input() childInput: string;\n  @Output() childOutput = new EventEmitter();\n}\n\n// ...\n\nbeforeEach(() => {\n  TestBed.configureTestingModule({\n    declarations: [\n      // ãƒ†ã‚¹ãƒˆæ™‚ã®declarationsã«ãƒ¢ãƒƒã‚¯ã®å®šç¾©ã‚’è¿½åŠ \n      MockProductSettingsComponent,\n      // ...\n    ],\n    // ...\n  });\n  // ...\n});\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackOverFlow](https://stackoverflow.com/questions/41240163/mocking-child-components-angular-2)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«Angular Materilaã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nUIãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§[Angular Material](https://material.angular.io/)ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã€\n`karma.config.js`ã§Angular Materilaã®cssã‚’ç›´æ¥èª­ã¿è¾¼ã‚“ã§ã‚ã’ã‚‹å¿…è¦ã‚ã‚Šã¾ã™ã€‚\n\n```javascript:karma.conf.js\nfiles: [\n      ãƒ»ãƒ»ãƒ»\n      // Angular Materialã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’ãƒ†ã‚¹ãƒˆé–‹å§‹æ™‚ã«èª­ã¿è¾¼ã‚“ã§ãŠã\n      {pattern: './node_modules/@angular/material/prebuilt-themes/indigo-pink.css', included: true, watched: false},\n],\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [stackoverflow](https://github.com/angular/material2/issues/4056)\n\n\n## ãƒ†ã‚¹ãƒˆçµæœã«styles.scss(ã‚¢ãƒ—ãƒªå…±é€šã®ã‚¹ã‚¿ã‚¤ãƒ«å®šç¾©)ã®ã‚¹ã‚¿ã‚¤ãƒ«ãŒåæ˜ ã•ã‚Œãªã„\nã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’SASSå½¢å¼ã«ã—ã¦ã„ã‚‹å ´åˆ\né–‹ç™ºç”¨ãƒ©ã‚¤ãƒ–ãƒ©ã‚¤ã«`karma-scss-preprocessor`ã¨`node-sass`ã‚’è¿½åŠ ã—ã¦`karma.conf.js`ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«è¨­å®šã—ã¾ã™ã€‚\n\n```javascript:karma.conf.js\nplugins: [\n  ãƒ»ãƒ»ãƒ»\nã€€ // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã«`karma-scss-preprocessor`ã‚’è¿½åŠ \n  require('karma-scss-preprocessor')\n],\n\n\nfiles: [\n  ãƒ»ãƒ»ãƒ»\n  // filesã«ã‚¢ãƒ—ãƒªå…±é€šã‚¹ã‚¿ã‚¤ãƒ«ã‚’è¿½åŠ \n  { pattern: './src/styles.scss', watched: false,  included: true, served: true }\n],\n\n// preprocessorsã‚’è¿½åŠ \npreprocessors: {\n './src/test.ts': ['@angular/cli'],\n './src/styles.scss': ['scss']\n},\n```\n\n\b**å‚è€ƒã‚µã‚¤ãƒˆ**:\n\n* [stackOverFlow](https://stackoverflow.com/questions/44460733/how-to-configure-karma-to-include-global-scss-files-for-an-angular-cli-project/44498689#44498689)\n* [Github karma/issue/2700](https://github.com/karma-runner/karma/issues/2700)\n\n\n\n\n# 3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å´ Expressã€MongoDBå‘¨ã‚Š\nâ€»MongDBã‚’Node.jsã§æ‰±ã†å ´åˆã¯[mongoose](https://github.com/Automattic/mongoose)ã¨ã„ã†ä¾¿åˆ©ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã®ã§ãã‚Œã‚’ä½¿ã†å‰æã®ãŠè©±ã§ã™ã€‚\n\n## mongooseã®virtualãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\nä¾‹ãˆã°`è¨˜äº‹`,`ã‚³ãƒ¡ãƒ³ãƒˆ`,`ãƒªãƒ—ãƒ©ã‚¤`ãªã©ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã™ã‚‹å ´åˆã€\nï¼“ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ã¯ã€è¨˜äº‹è¿½åŠ  => è¨˜äº‹ã«å¯¾ã™ã‚‹ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  => ã‚³ãƒ¡ãƒ³ãƒˆã«å¯¾ã™ã‚‹ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ ã€€ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nã“ã®ã‚ˆã†ãªå ´åˆã¯ã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜äº‹ã®å‚ç…§ã‚’æŒã¡ã€ãƒªãƒ—ãƒ©ã‚¤ãŒã‚³ãƒ¡ãƒ³ãƒˆã®å‚ç…§ã‚’æŒã¤ãƒ¢ãƒ‡ãƒ«æ§‹é€ ãŒæœ›ã¾ã—ã„ã§ã™ã€‚ã‚³ãƒ¡ãƒ³ãƒˆã‚„ãƒªãƒ—ãƒ©ã‚¤è¿½åŠ æ™‚ã«ï¼‘ã¤ã®ãƒ¢ãƒ‡ãƒ«ã®æ›´æ–°ã ã‘ã§ã™ã‚€ã‹ã‚‰ã§ã™ã€‚\n![dbæ§‹é€ _è‰¯.png](https://qiita-image-store.s3.amazonaws.com/0/49915/f93ac0e6-317e-1cdf-bfba-13531e2455ba.png)\n\nãŸã è¨˜äº‹ã®æ¤œç´¢ã¯å°‘ã—å·¥å¤«ãŒå¿…è¦ã§ã€**mongooseã®virtualã‚’ä½¿ã„ã¾ã™**ã€‚ã“ã‚Œã«ã‚ˆã£ã¦è¨˜äº‹ã‹ã‚‰ã‚³ãƒ¡ãƒ³ãƒˆã¸ã®å‚ç…§ã€ã‚³ãƒ¡ãƒ³ãƒˆã‹ã‚‰ãƒªãƒ—ãƒ©ã‚¤ã¸ã®å‚ç…§ã‚’æ“¬ä¼¼çš„ã«å®šç¾©ã§ãã‚‹ãŸã‚ã€\næ¤œç´¢æ™‚ã«æ“¬ä¼¼è¦ç´ ã‚’populateã™ã‚‹ã ã‘ã§ã€è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆã¨ãƒªãƒ—ãƒ©ã‚¤ã‚’å–å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![mongoose virtualã®ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4aab7f38-1f19-e00b-b35d-23babf36a75b.png)\n\nå…·ä½“çš„ãªã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¤ºã—ã¾ã™ã€‚\n\n```typescript:article.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ArticleSchema = new mongoose.Schema({\n  content: String\n}, { toJSON: { virtuals: true } });\n\n\n// è¨˜äº‹ã«ç´ä»˜ãã‚³ãƒ¡ãƒ³ãƒˆãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’commentsã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nArticleSchema.virtual('comments', {\n  ref: 'Comment',\n  localField: '_id',\n  foreignField: 'articleId',\n  justOne: false,\n});\n\nconst Article = mongoose.model('Article', ArticleSchema);\n\nexport { Article };\n```\n\n\n```typescript:comment.model.ts\nimport * as mongoose from 'mongoose';\n\nconst CommentSchema = new mongoose.Schema({\n  articleId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Article',\n  },\n  comment: String;\n}, { toJSON: { virtuals: true } });\n\n// ã‚³ãƒ¡ãƒ³ãƒˆã«ç´ä»˜ããƒªãƒ—ãƒ©ã‚¤ãƒ¢ãƒ‡ãƒ«ã®é…åˆ—ã‚’repliesã¨ã„ã†æ“¬ä¼¼è¦ç´ ã§å®šç¾©ã™ã‚‹\nCommentSchema.virtual('replies', {\n  ref: 'Reply',\n  localField: '_id',\n  foreignField: 'commentId',\n  justOne: false,\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nexport { Comment };\n```\n\n```typescript:reply.model.ts\nimport * as mongoose from 'mongoose';\n\nconst ReplySchema = new mongoose.Schema({\n  commentId: {\n    type: mongoose.Schema.Types.ObjectId,\n    ref: 'Comment'\n  },\n  reply: String;\n});\n\nconst Reply = mongoose.model('Reply', ReplySchema);\n\nexport { Reply };\n```\n\n```typescript:æ¤œç´¢å‡¦ç†\nArticle.find()\n.populate({\n  path: 'comments', // Articleãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ commentsã‚’populateã™ã‚‹\n  populate: [{\n    path: 'replies', // Commentãƒ¢ãƒ‡ãƒ«ã§å®šç¾©ã—ãŸæ“¬ä¼¼è¦ç´ repliesã‚’populateã™ã‚‹\n  }],\n});\n```\n\n\n## ãƒªã‚¯ã‚¨ã‚¹ãƒˆã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã—ãŸã„\nExpressã®useã«ã¦å®Ÿç¾ã—ã¾ã™ã€‚\nãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®finishã‚¤ãƒ™ãƒ³ãƒˆã‚’ç›£è¦–ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã«ãƒ­ã‚°ã‚’å‡ºåŠ›ã—ã¦ã„ã¾ã™ã€‚\n\n\n```javascript:ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®ãƒ­ã‚°å‡ºåŠ›ã€€â€»ã“ã“ã§ã¯ç°¡å˜ã®ãŸã‚ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›ã—ã¦ã„ã¾ã™\nconst express = express();\nexpress.use(function accessLogHandler (req, res, next) {\n  const start = new Date();\n  // ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ™‚ã®ãƒ­ã‚°ã€€\n  console.log([\n    'start',\n    req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n    req.method,\n    req.url,\n    '-',\n    req.headers.referer || '-',\n    req.headers['user-agent'] || '-',\n    '--ms--'\n  ].join(',\\t'));\n\n  res.once('finish', function() {\nã€€ã€€ // ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚ã®ãƒ­ã‚°\n    accessLogger.info([\n      'end',\n      req.headers['x-forwarded-for'] || req.connection.remoteAddress,\n      req.method,\n      req.url,\n      res.statusCode,\n      req.headers.referer || '-',\n      req.headers['user-agent'] || '-',\n      '--' + (new Date().getMilliseconds() - start.getMilliseconds()) + 'ms--'\n    ].join(',\\t'));\n  });\n\n  next();\n});\n```\n\nå®Ÿéš›ã®ãƒ­ã‚°ã¯ã“ã‚“ãªæ„Ÿã˜ã§å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```py3\nstart,  ::ffff:127.0.0.1, GET, /api/authenticate/check-state,   -, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36, --ms--\nend,    ::ffff:127.0.0.1, GET, /check-state,                  403, http://localhost:4200/, Mozilla/5.0 (Macintosh; Intel Mac OS X 10_12_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/62.0.3202.94 Safari/537.36,  --47ms--\n```\n\n\n\n## ãƒ­ã‚°å‡ºåŠ›ã§ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å…¨ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’å‡ºåŠ›ã—ãŸã„\nã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä¸­èº«ã‚’ãƒ­ã‚°ã§ç¢ºèªã™ã‚‹æ™‚ã¯Node.jsã®`util.inspect()`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n\n```javascript\nconst util = require('util');\nconst myObject = {\n   \"a\":\"a\",\n   \"b\":{\n      \"c\":\"c\",\n      \"d\":{\n         \"e\":\"e\",\n         \"f\":{\n            \"g\":\"g\",\n            \"h\":{\n               \"i\":\"i\"\n            }\n         }\n      }\n   }\n}; \n\nconsole.log(util.inspect(myObject, false, null));\n```\n\nã“ã®ã‚ˆã†ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™\n\n```\n{ a: 'a', b: { c: 'c', d: { e: 'e', f: [Object] } } }\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [StackOverFlow](https://stackoverflow.com/questions/10729276/how-can-i-get-the-full-object-in-node-jss-console-log-rather-than-object)\n\n\n## ç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã‚’å®šç¾©ã—ãŸã„\nä¾‹ãˆã°ã‚µãƒ¼ãƒã®ãƒãƒ¼ãƒˆãªã©ç’°å¢ƒå€‹åˆ¥ã«è¨­å®šã—ãŸããªã‚‹ã‚ˆã†ãªã‚‚ã®ã¯\nç’°å¢ƒå¤‰æ•°ã§ä¸Šæ›¸ãã§ãã‚‹å®šæ•°ã«ã—ã¦ãŠãã¨ä¾¿åˆ©ã§ã™ã€‚\nNode.jsã§ã¯process.env.å¤‰æ•°åã§ç’°å¢ƒå¤‰æ•°ãŒå‚ç…§ã§ãã‚‹ã®ã§ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚\n\n```typescript:å®šæ•°å®šç¾©\nexport const SERVER_PORT: string = process.env.SERVER_PORT || '3000';ã€€// ç’°å¢ƒå¤‰æ•°SERVER_PORTãŒæœªæŒ‡å®šã®å ´åˆã¯3000ã¨ãªã‚‹\nexport const SERVER_HOST: string = process.env.SERVER_HOST || 'localhost'; // ç’°å¢ƒå¤‰æ•°SERVER_HOSTãŒæœªæŒ‡å®šã®å ´åˆã¯localhostã¨ãªã‚‹\n```\n\n\n## DBåˆå›ã‚¢ã‚¯ã‚»ã‚¹ã«å¤±æ•—ã—ãŸå ´åˆã«ãƒªãƒˆãƒ©ã‚¤ã•ã‚Œãªã„\nmongooseã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ã€DBåˆå›æ¥ç¶šæ™‚ã«ã‚¨ãƒ©ãƒ¼ãŒèµ·ããŸæ™‚ã«ã€ãªãœã‹å†æ¥ç¶šå‡¦ç†ã—ã¦ãã‚Œã¾ã›ã‚“ã€‚\nDockerã§ã‚¢ãƒ—ãƒªã‚’é…å¸ƒã™ã‚‹å ´åˆã€ã‚¢ãƒ—ãƒªã¨MongoDBã‚’docker-composeã§åŒæ™‚ã«ç«‹ã¡ä¸Šã’ã‚‹ã“ã¨ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ãŒã€ã¾ã MongoDBãŒèµ·å‹•ã—ãã£ã¦ãªã„çŠ¶æ…‹ã§ã‚¢ãƒ—ãƒªã‹ã‚‰DBã«æ¥ç¶šã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã‚¢ãƒ—ãƒªãŒç•°å¸¸çµ‚äº†ã—ã¦ã—ã¾ã„ã¾ã™ã€‚ã“ã‚Œã‚’é˜²ãã«ã¯è‡ªåŠ›ã§å†æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n```javascript\nfunction createConnection (dbURL, options) {\n    var db = mongoose.createConnection(dbURL, options);\n\n    db.on('error', function (err) {\n        if (err.message && err.message.match(/failed to connect to server .* on first connect/)) {\n            console.log(new Date(), String(err));\n\n            setTimeout(function () {\n                console.log(\"Retrying first connect...\");\n                db.openUri(dbURL).catch(() => {});\n            // 20ç§’å¾Œã«å†æ¥ç¶šã™ã‚‹\n            }, 20 * 1000);\n        } else {\n            console.error(new Date(), String(err));\n        }\n    });\n\n    db.once('open', function () {\n        console.log(\"Connection to db established.\");\n    });\n\n    return db;\n}\n```\n\n**å‚è€ƒã‚µã‚¤ãƒˆ**\n\n* [Github mongooseã®issue5169](https://github.com/Automattic/mongoose/issues/5169)\n\n","comments_count":0,"created_at":"2017-12-12T03:19:11+09:00","likes_count":46,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/5644c24e-eade-50ca-aa11-83a4eaeba122/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","date":"2017-07-24T07:12:10+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","jasmine","TypeScript","AngularJS","Protractor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"5644c24e-eade-50ca-aa11-83a4eaeba122","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\" id=\"reference-fc6741a6eda3b7ffd9f1\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a></li>\n<li>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼’-ãƒ†ã‚¹ãƒˆç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%92-%E3%83%86%E3%82%B9%E3%83%88%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</h2>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚<br>\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚<br>\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<p>ã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"http://qiita.com/Takumon/items/572438809384e2e11792\">ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</a>ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/test\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚</p>\n\n<h5>\n<span id=\"1-1-distserver_test\" class=\"fragment\"></span><a href=\"#1-1-distserver_test\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server_test</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚<br>\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"2-server_test\" class=\"fragment\"></span><a href=\"#2-server_test\"><i class=\"fa fa-link\"></i></a>(2) server_test</h5>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"3-e2e\" class=\"fragment\"></span><a href=\"#3-e2e\"><i class=\"fa fa-link\"></i></a>(3) e2e</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚</p>\n\n<h5>\n<span id=\"4-srcappé…ä¸‹ã®spectsãƒ•ã‚¡ã‚¤ãƒ«\" class=\"fragment\"></span><a href=\"#4-srcapp%E9%85%8D%E4%B8%8B%E3%81%AEspects%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB\"><i class=\"fa fa-link\"></i></a>(4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚<br>\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"5-protractorconfjs\" class=\"fragment\"></span><a href=\"#5-protractorconfjs\"><i class=\"fa fa-link\"></i></a>(5) protractor.conf.js</h5>\n\n<p>E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚<br>\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%BF%85%E8%A6%81%E3%81%AA%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n\n<ul>\n<li>\n<a href=\"https://www.npmjs.com/package/zone.js\" rel=\"nofollow noopener\" target=\"_blank\"><code>zone.js@0.8.12</code></a>\n\n<ul>\n<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«<code>Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'</code>ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚<a href=\"https://github.com/angular/zone.js/issues/832\" rel=\"nofollow noopener\" target=\"_blank\">GitHubã®issues</a>ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<a href=\"https://www.npmjs.com/package/supertest\" rel=\"nofollow noopener\" target=\"_blank\"><code>supertest</code></a>\n\n<ul>\n<li>ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚</li>\n</ul>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯<code>ng test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappappcomponentspects\" class=\"fragment\"></span><a href=\"#srcappappcomponentspects\"><i class=\"fa fa-link\"></i></a>src/app/app.component.spec.ts</h4>\n\n<p>ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚<br>\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€<code>TestBed</code>ã®<code>overrideComponent</code>ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">ComponentFixture</span><span class=\"p\">,</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'AppComponent'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component</span>\n  <span class=\"kd\">let</span> <span class=\"na\">component</span><span class=\"p\">:</span> <span class=\"nx\">AppComponent</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture</span>\n  <span class=\"kd\">let</span> <span class=\"na\">fixture</span><span class=\"p\">:</span> <span class=\"nx\">ComponentFixture</span><span class=\"o\">&lt;</span><span class=\"nx\">AppComponent</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">{</span>\n    <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n      <span class=\"kd\">const</span> <span class=\"nx\">response</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n      <span class=\"p\">]};</span>\n\n      <span class=\"k\">return</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">from</span><span class=\"p\">([</span><span class=\"nx\">response</span><span class=\"p\">]);</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(</span><span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">],</span>\n      <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n        <span class=\"nx\">AppComponent</span>\n      <span class=\"p\">],</span>\n    <span class=\"p\">})</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š</span>\n    <span class=\"p\">.</span><span class=\"nx\">overrideComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">set</span><span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"na\">useClass</span><span class=\"p\">:</span> <span class=\"nx\">MessageServiceMock</span> <span class=\"p\">},</span>\n        <span class=\"p\">]</span>\n      <span class=\"p\">}</span>\n    <span class=\"p\">})</span>\n    <span class=\"p\">.</span><span class=\"nx\">compileComponents</span><span class=\"p\">();</span>\n\n    <span class=\"nx\">fixture</span> <span class=\"o\">=</span> <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">createComponent</span><span class=\"p\">(</span><span class=\"nx\">AppComponent</span><span class=\"p\">);</span>\n    <span class=\"nx\">component</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">detectChanges</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">app</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">componentInstance</span><span class=\"p\">;</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">component</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n    <span class=\"p\">]);</span>\n  <span class=\"p\">}));</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"kd\">const</span> <span class=\"nx\">el</span> <span class=\"o\">=</span> <span class=\"nx\">fixture</span><span class=\"p\">.</span><span class=\"nx\">debugElement</span><span class=\"p\">.</span><span class=\"nx\">nativeElement</span><span class=\"p\">;</span>\n\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">).</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span><span class=\"p\">);</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">el</span><span class=\"p\">.</span><span class=\"nx\">querySelectorAll</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">)[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">textContent</span><span class=\"p\">).</span><span class=\"nx\">toContain</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span><span class=\"p\">);</span>\n  <span class=\"p\">}));</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappmessagemessageservicespectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicespects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚<br>\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯<code>MockBackend</code>ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚<br>\nãªãŠ<code>Error</code>ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§<code>register</code>ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">TestBed</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">,</span> <span class=\"nx\">inject</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">HttpModule</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">,</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span><span class=\"p\">,</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MockConnection</span><span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http/testing'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">RequestMethod</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message.service'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'MessageService'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯</span>\n  <span class=\"kd\">class</span> <span class=\"nx\">MockError</span> <span class=\"kd\">extends</span> <span class=\"nx\">Response</span> <span class=\"kr\">implements</span> <span class=\"nb\">Error</span> <span class=\"p\">{</span>\n    <span class=\"na\">name</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n    <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">TestBed</span><span class=\"p\">.</span><span class=\"nx\">configureTestingModule</span><span class=\"p\">({</span>\n      <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">HttpModule</span><span class=\"p\">],</span>\n      <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n        <span class=\"na\">provide</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">,</span>\n        <span class=\"na\">useFactory</span><span class=\"p\">:</span> <span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"k\">new</span> <span class=\"nx\">Http</span><span class=\"p\">(</span><span class=\"nx\">backend</span><span class=\"p\">,</span> <span class=\"nx\">options</span><span class=\"p\">),</span>\n        <span class=\"na\">deps</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n      <span class=\"p\">},</span> <span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">BaseRequestOptions</span><span class=\"p\">]</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">service</span><span class=\"p\">).</span><span class=\"nx\">toBeTruthy</span><span class=\"p\">();</span>\n  <span class=\"p\">})));</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'getAll'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span> <span class=\"na\">messages</span> <span class=\"p\">:</span> <span class=\"p\">[</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">200</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockRespond</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">Response</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">([</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2'</span> <span class=\"p\">},</span>\n          <span class=\"p\">{</span> <span class=\"na\">message</span> <span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3'</span> <span class=\"p\">}</span>\n        <span class=\"p\">]);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"k\">async</span><span class=\"p\">(</span><span class=\"nx\">inject</span><span class=\"p\">([</span><span class=\"nx\">MockBackend</span><span class=\"p\">,</span> <span class=\"nx\">MessageService</span><span class=\"p\">],</span> <span class=\"p\">(</span><span class=\"na\">backend</span><span class=\"p\">:</span> <span class=\"nx\">MockBackend</span> <span class=\"p\">,</span> <span class=\"na\">service</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"kd\">const</span> <span class=\"nx\">body</span> <span class=\"o\">=</span>  <span class=\"p\">{</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"kd\">const</span> <span class=\"nx\">ops</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">ResponseOptions</span><span class=\"p\">({</span>\n          <span class=\"na\">status</span><span class=\"p\">:</span> <span class=\"mi\">500</span><span class=\"p\">,</span>\n          <span class=\"na\">body</span><span class=\"p\">:</span> <span class=\"nx\">JSON</span><span class=\"p\">.</span><span class=\"nx\">stringify</span><span class=\"p\">(</span><span class=\"nx\">body</span><span class=\"p\">)</span>\n        <span class=\"p\">});</span>\n\n        <span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">mockError</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">MockError</span><span class=\"p\">(</span><span class=\"nx\">ops</span><span class=\"p\">));</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">backend</span><span class=\"p\">.</span><span class=\"nx\">connections</span><span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">conn</span><span class=\"p\">:</span> <span class=\"nx\">MockConnection</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">url</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">);</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">conn</span><span class=\"p\">.</span><span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"nx\">method</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">RequestMethod</span><span class=\"p\">.</span><span class=\"nx\">Get</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼</span>\n      <span class=\"nx\">service</span><span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">().</span><span class=\"nx\">subscribe</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">fail</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚'</span><span class=\"p\">);</span>\n      <span class=\"p\">},</span> <span class=\"nx\">res</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span> <span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span>\n        <span class=\"p\">});</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">})));</span>\n\n  <span class=\"p\">});</span>\n\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚<br>\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚<br>\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯<a href=\"https://mochajs.org/\" rel=\"nofollow noopener\" target=\"_blank\">Mocha</a>ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯<a href=\"https://jasmine.github.io/\" rel=\"nofollow noopener\" target=\"_blank\">Jasmine</a>ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"server_testappspectsä¸€éƒ¨æŠœç²‹\" class=\"fragment\"></span><a href=\"#server_testappspects%E4%B8%80%E9%83%A8%E6%8A%9C%E7%B2%8B\"><i class=\"fa fa-link\"></i></a>server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)</h4>\n\n<p>ãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚<br>\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®<code>spyOn</code>ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚<br>\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.spec.ts(ä¸€éƒ¨æŠœç²‹)</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">supertest</span> <span class=\"k\">from</span> <span class=\"s1\">'supertest'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/app'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../server/models/message'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">request</span> <span class=\"o\">=</span> <span class=\"nx\">supertest</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">endpoint</span> <span class=\"o\">=</span> <span class=\"s1\">'/api/messages'</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">messageAscending</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">,</span> <span class=\"nx\">m2</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&gt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">m1</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">&lt;</span> <span class=\"nx\">m2</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"c1\">// ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹</span>\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">remove</span><span class=\"p\">({},</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{});</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'Get'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">);</span>\n        <span class=\"p\">}).</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"kd\">const</span> <span class=\"nx\">testData</span> <span class=\"o\">=</span> <span class=\"p\">[</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span> <span class=\"p\">},</span>\n        <span class=\"p\">{</span> <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span> <span class=\"p\">},</span>\n      <span class=\"p\">];</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰</span>\n      <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">create</span><span class=\"p\">(</span><span class=\"nx\">testData</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">erro</span> <span class=\"p\">,</span> <span class=\"nx\">doc</span> <span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n        <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n          <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// æ¤œè¨¼</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">sortedMessages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">sort</span><span class=\"p\">(</span><span class=\"nx\">messageAscending</span><span class=\"p\">);</span>\n\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">3</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">1</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’'</span><span class=\"p\">);</span>\n            <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">sortedMessages</span><span class=\"p\">[</span><span class=\"mi\">2</span><span class=\"p\">].</span><span class=\"nx\">message</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“'</span><span class=\"p\">);</span>\n          <span class=\"p\">})</span>\n          <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">});</span>\n\n\n    <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n      <span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹</span>\n      <span class=\"nx\">spyOn</span><span class=\"p\">(</span><span class=\"nx\">Message</span><span class=\"p\">,</span> <span class=\"s1\">'find'</span><span class=\"p\">).</span><span class=\"nx\">and</span><span class=\"p\">.</span><span class=\"nx\">callFake</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">callback</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">callback</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nb\">Error</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">),</span> <span class=\"kc\">null</span><span class=\"p\">);</span>\n      <span class=\"p\">});</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span>\n<span class=\"err\">ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€</span><span class=\"c1\">// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹</span>\n      <span class=\"nx\">request</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"nx\">endpoint</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">expect</span><span class=\"p\">((</span><span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n\n          <span class=\"c1\">// æ¤œè¨¼</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">type</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'application/json'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">statusCode</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">);</span>\n\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">title</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">);</span>\n          <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ã‚¨ãƒ©ãƒ¼'</span><span class=\"p\">);</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"nx\">end</span><span class=\"p\">(</span><span class=\"nx\">done</span><span class=\"p\">);</span>\n    <span class=\"p\">});</span>\n\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<p>E2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"packagejson\" class=\"fragment\"></span><a href=\"#packagejson\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p><a href=\"http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson\" id=\"reference-fc6741a6eda3b7ffd9f1\">å‰å›</a>ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p test:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"test:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server_test/tsconfig.server_test.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server_test/test.server.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server_test\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>test</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</li>\n<li>\n<strong>test:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server_test</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:server_test</strong>ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"server_testtestserverts\" class=\"fragment\"></span><a href=\"#server_testtestserverts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚<br>\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯<a href=\"https://www.npmjs.com/package/jasmine-spec-reporter\" rel=\"nofollow noopener\" target=\"_blank\">jasmine-spec-reporter</a>ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">,</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'jasmine-spec-reporter'</span><span class=\"p\">;</span>\n<span class=\"kd\">const</span> <span class=\"nx\">Jasmine</span> <span class=\"o\">=</span> <span class=\"nx\">require</span><span class=\"p\">(</span><span class=\"s1\">'jasmine'</span><span class=\"p\">);</span>\n<span class=\"k\">import</span> <span class=\"nx\">SuiteInfo</span> <span class=\"o\">=</span> <span class=\"nx\">jasmine</span><span class=\"p\">.</span><span class=\"nx\">SuiteInfo</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">config</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./test.server.conf'</span><span class=\"p\">;</span>\n\n\n<span class=\"kd\">class</span> <span class=\"nx\">CustomProcessor</span> <span class=\"kd\">extends</span> <span class=\"nx\">DisplayProcessor</span> <span class=\"p\">{</span>\n    <span class=\"kr\">public</span> <span class=\"nx\">displayJasmineStarted</span><span class=\"p\">(</span><span class=\"nx\">info</span><span class=\"p\">:</span> <span class=\"nx\">SuiteInfo</span><span class=\"p\">,</span> <span class=\"nx\">log</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">string</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"s2\">`TypeScript </span><span class=\"p\">${</span><span class=\"nx\">log</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">runner</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Jasmine</span><span class=\"p\">();</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">loadConfig</span><span class=\"p\">(</span><span class=\"nx\">config</span><span class=\"p\">);</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">addReporter</span><span class=\"p\">(</span><span class=\"k\">new</span> <span class=\"nx\">SpecReporter</span><span class=\"p\">({</span>\n    <span class=\"na\">customProcessors</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">CustomProcessor</span><span class=\"p\">],</span>\n<span class=\"p\">}));</span>\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">onComplete</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">passed</span><span class=\"p\">){</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span> <span class=\"nx\">passed</span> <span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s1\">'Success'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n    <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"s1\">'Failed'</span><span class=\"p\">);</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n<span class=\"nx\">runner</span><span class=\"p\">.</span><span class=\"nx\">execute</span><span class=\"p\">();</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtestserverconfts\" class=\"fragment\"></span><a href=\"#server_testtestserverconfts\"><i class=\"fa fa-link\"></i></a>server_test/test.server.conf.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚<br>\næ³¨æ„ç‚¹ã¨ã—ã¦<code>spec_files</code>ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚<code>__dirname</code>ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">test.server.conf.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"na\">spec_dir</span><span class=\"p\">:</span> <span class=\"s1\">'.'</span><span class=\"p\">,</span>\n  <span class=\"na\">spec_files</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"s2\">`</span><span class=\"p\">${</span><span class=\"nx\">__dirname</span><span class=\"p\">}</span><span class=\"s2\">/*spec.js`</span>\n  <span class=\"p\">],</span>\n  <span class=\"s1\">'stopSpecOnExpectationFailure'</span><span class=\"p\">:</span> <span class=\"kc\">false</span><span class=\"p\">,</span>\n  <span class=\"s1\">'random'</span><span class=\"p\">:</span> <span class=\"kc\">false</span>\n<span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"server_testtsconfigserver_testjson\" class=\"fragment\"></span><a href=\"#server_testtsconfigserver_testjson\"><i class=\"fa fa-link\"></i></a>server_test/tsconfig.server_test.json</h4>\n\n<p>ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server_test.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\"> </span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"include\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">[</span><span class=\"w\">\n    </span><span class=\"s2\">\"**/*.spec.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.ts\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"./test.server.conf.ts\"</span><span class=\"w\">\n  </span><span class=\"p\">]</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<p><code>outDir</code>ãŒ<code>../dist/server_test</code>ã§ã¯ãªã<code>../dist</code>ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚<br>\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯<code>server</code>ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€<code>../dist/server_test</code>ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ</span></div>\n<div class=\"highlight\"><pre>.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n</pre></div>\n</div>\n\n<h3>\n<span id=\"5-e2eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#5-e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ</h3>\n\n<p>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚<br>\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹<a href=\"http://www.protractortest.org/#/\" rel=\"nofollow noopener\" target=\"_blank\">Protractor</a>ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"e2eappe2e-spects\" class=\"fragment\"></span><a href=\"#e2eappe2e-spects\"><i class=\"fa fa-link\"></i></a>e2e/app.e2e-spec.ts</h4>\n\n<p>åŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.e2e-spec.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.po'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">browser</span><span class=\"p\">,</span> <span class=\"nx\">element</span><span class=\"p\">,</span> <span class=\"nx\">by</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'protractor'</span><span class=\"p\">;</span>\n\n\n<span class=\"nx\">describe</span><span class=\"p\">(</span><span class=\"s1\">'E2Eãƒ†ã‚¹ãƒˆ'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">let</span> <span class=\"na\">page</span><span class=\"p\">:</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">;</span>\n\n  <span class=\"nx\">beforeEach</span><span class=\"p\">(()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Angular4Express4Typescritp2Page</span><span class=\"p\">();</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">getParagraphText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§'</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n\n  <span class=\"nx\">it</span><span class=\"p\">(</span><span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹'</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"nx\">page</span><span class=\"p\">.</span><span class=\"nx\">navigateTo</span><span class=\"p\">();</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">newMessage</span> <span class=\"o\">=</span> <span class=\"s2\">`ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ </span><span class=\"p\">${</span><span class=\"k\">new</span> <span class=\"nb\">Date</span><span class=\"p\">().</span><span class=\"nx\">toString</span><span class=\"p\">()}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">sendKeys</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n\n    <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessageButton'</span><span class=\"p\">)).</span><span class=\"nx\">click</span><span class=\"p\">();</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'registerMessage'</span><span class=\"p\">)).</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹</span>\n    <span class=\"kd\">const</span> <span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">element</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">id</span><span class=\"p\">(</span><span class=\"s1\">'messageList'</span><span class=\"p\">)).</span><span class=\"nx\">all</span><span class=\"p\">(</span><span class=\"nx\">by</span><span class=\"p\">.</span><span class=\"nx\">tagName</span><span class=\"p\">(</span><span class=\"s1\">'li'</span><span class=\"p\">));</span>\n    <span class=\"nx\">expect</span><span class=\"p\">(</span><span class=\"nx\">messages</span><span class=\"p\">.</span><span class=\"nx\">last</span><span class=\"p\">().</span><span class=\"nx\">getText</span><span class=\"p\">()).</span><span class=\"nx\">toEqual</span><span class=\"p\">(</span><span class=\"nx\">newMessage</span><span class=\"p\">);</span>\n  <span class=\"p\">});</span>\n\n<span class=\"p\">});</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"6-e2eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#6-e2e%E3%83%86%E3%82%B9%E3%83%88%E5%91%A8%E3%82%8A%E3%81%AE%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"packagejson-1\" class=\"fragment\"></span><a href=\"#packagejson-1\"><i class=\"fa fa-link\"></i></a>package.json</h4>\n\n<p>Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\"> </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"e2e\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s  webdriver:update -p webdriver:start protractor\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:update\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager update\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"webdriver:start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"webdriver-manager start\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"protractor\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"protractor protractor.conf.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>e2e</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®<code>e2e</code>ã‚³ãƒãƒ³ãƒ‰(= <code>ng e2e</code>ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚<code>ngã€€e2e</code>ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:update</strong>ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚</li>\n<li>\n<strong>webdriver:start</strong>ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</li>\n<li>\n<strong>protractor</strong>ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"protractorconfjs\" class=\"fragment\"></span><a href=\"#protractorconfjs\"><i class=\"fa fa-link\"></i></a>protractor.conf.js</h4>\n\n<p>ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">protractor.conf.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">exports</span><span class=\"p\">.</span><span class=\"nx\">config</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n  <span class=\"p\">...</span>\n  <span class=\"na\">baseUrl</span><span class=\"p\">:</span> <span class=\"s1\">'http://localhost:3000/'</span><span class=\"p\">,</span>\n  <span class=\"p\">...</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"7-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#7-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>7. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E5%8D%98%E4%BD%93%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</li>\n</ul>\n</li>\n<li><p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm test</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7f33351fc11e7394a52bb31fa317136827ea0735/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36343161363631662d333632342d633466312d333733662d6362343331393330346530322e706e67\" alt=\"10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png\"></a></p>\n\n<h4>\n<span id=\"e2eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#e2e%E3%83%86%E3%82%B9%E3%83%88%E3%82%92%E5%AE%9F%E8%A1%8C%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</p>\n\n<ul>\n<li>ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>\n<p>ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹</p>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run buildRun</code>ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n</ul>\n</li>\n<li>\n<p><code>npm run e2e</code>ã™ã‚‹</p>\n\n<ul>\n<li>åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§<code>npm run e2e</code>ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n<a href=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/7ed95d4b7e245fbb593b4c8c2895d30013489715/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35616438346136612d306538652d613830622d633763352d3533386237306161393235392e706e67\" alt=\"20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png\"></a>\n</li>\n</ul>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* [ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)\n* ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n## ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ã¯ã€Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ã¦ã„ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¾ã—ãŸã€‚\nä»Šå›ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã£ãŸå˜ä½“ãƒ†ã‚¹ãƒˆã€[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸE2Eãƒ†ã‚¹ãƒˆã€ãã‚Œã‚‰ã‚’å®Ÿè¡Œã™ã‚‹npm scriptsã‚’ä½œæˆã—ã¾ã™ã€‚\næœ€çµ‚çš„ã«ã¯ä¸‹è¨˜ã®ã‚ˆã†ã«`npm test`ã‚³ãƒãƒ³ãƒ‰ã§å˜ä½“ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\nã¾ãŸE2Eãƒ†ã‚¹ãƒˆã¯`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨](http://qiita.com/Takumon/items/572438809384e2e11792)ã§ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«ãƒ†ã‚¹ãƒˆç”¨ã®è³‡ç”£ã‚’è¿½åŠ ã—ã¾ã™ã€‚è©³ç´°ã¯[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/test)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                              ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚   â”œâ”€â”€ server\nâ”‚   â”‚   â”œâ”€â”€ ...\nâ”‚   â”‚   ...\nâ”‚   â”‚ \nâ”‚Â Â  â””â”€â”€ server_test                      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.spec.js\nâ”‚Â Â      â”œâ”€â”€ app.spec.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js\nâ”‚Â Â      â”œâ”€â”€ test.server.conf.js.map\nâ”‚Â Â      â”œâ”€â”€ test.server.js\nâ”‚Â Â      â””â”€â”€ test.server.js.map\nâ”œâ”€â”€ e2e                                ãƒ»ãƒ»ãƒ»\u001c(2)ã€€E2Eãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ node_modules\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server\nâ”‚   â”œâ”€â”€ ...\nâ”‚   ...\nâ”‚\nâ”œâ”€â”€ server_test                         ãƒ»ãƒ»ãƒ»\u001c(3)ã€€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.spec.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.conf.ts\nâ”‚Â Â  â”œâ”€â”€ test.server.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server_test.json\nâ”œâ”€â”€ src\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts      ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ message.service.spec.ts ãƒ»ãƒ»ãƒ»\u001c(4)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js                   ãƒ»ãƒ»ãƒ»\u001c(5)ã€€E2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«\nâ”œâ”€â”€ proxy.conf.json\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆã€‚\n\n##### (1-1) dist/server_test\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£(JSãƒ•ã‚¡ã‚¤ãƒ«)ã®å‡ºåŠ›å…ˆã€‚\nãƒ‡ãƒ—ãƒ­ã‚¤ã‚’è€ƒæ…®ã—ã¦æœ¬è³‡ç”£(dist/server)ã¨ã¯åˆ¥ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (2) server_test\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ãƒ†ã‚¹ãƒˆç”¨ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ã‚³ã‚³ã«æ ¼ç´ã—ã¾ã™ã€‚\n\n##### (3) e2e\nE2Eãƒ†ã‚¹ãƒˆç”¨è³‡ç”£ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\n\n##### (4) src/appé…ä¸‹ã®spec.tsãƒ•ã‚¡ã‚¤ãƒ«\nãƒ•ãƒ­ãƒ³ãƒˆå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã€‚\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã‚„ãƒ†ã‚¹ãƒˆã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (5) protractor.conf.js\nE2Eãƒ†ã‚¹ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã€‚\nä»Šå›ã¯Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒä½œæˆã™ã‚‹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‹ã‚‰å°‘ã—ã ã‘ä¿®æ­£ã—ã¾ã™ã€‚\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ†ã‚¹ãƒˆã«å¿…è¦ãªãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n```\n$ npm install --save zone.js@0.8.12\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n```\n\n* [`zone.js@0.8.12`](https://www.npmjs.com/package/zone.js)\n    * ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ãŸæ™‚ç‚¹ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã¾ã™ãŒã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œæ™‚ã«`Failed: Cannot create property '__creationTrace__' on string '__zone_symbol__optimizedZoneEventTask'`ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºã¾ã™ã€‚[GitHubã®issues](https://github.com/angular/zone.js/issues/832)ã«ã‚ˆã‚‹ã¨v0.8.12ã¯ã‚¨ãƒ©ãƒ¼ãŒå‡ºãªã„ãã†ãªã®ã§ã€v0.8.12ã‚’å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã™ã€‚\n* [`supertest`](https://www.npmjs.com/package/supertest)\n    * ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã§ä½¿ç”¨ã—ã¾ã™ã€‚APIãƒ†ã‚¹ãƒˆã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã¾ã™ã€‚\n\n### 2. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ(app.component.ts)ã¨ã‚µãƒ¼ãƒ“ã‚¹(message.service.ts)ã«å¯¾ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã«ã¯`ng test`ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã†ã®ã§ã€ãƒ“ãƒ«ãƒ‰å‘¨ã‚Šã®è¨­å®šã¯ä¸è¦ã§ã™ã€‚\n\n#### src/app/app.component.spec.ts\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ç”»é¢æç”»ã«ã¤ã„ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\nã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ä½¿ã†ã‚µãƒ¼ãƒ“ã‚¹ã¯ã€`TestBed`ã®`overrideComponent`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¾ã™ã€‚\n\n\n```js:app.component.spec.ts\nimport { async, ComponentFixture, TestBed, inject } from '@angular/core/testing';\nimport { FormsModule } from '@angular/forms';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\ndescribe('AppComponent', () => {\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Component\n  let component: AppComponent;\n\n  // ãƒ†ã‚¹ãƒˆå¯¾è±¡ã®Fixture\n  let fixture: ComponentFixture<AppComponent>;\n\n  // MessageServiceã®ãƒ¢ãƒƒã‚¯\n  class MessageServiceMock {\n    getAll(): Observable<any> {\n      const response =  { messages : [\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n      ]};\n\n      return Observable.from([response]);\n    }\n  }\n\n  beforeEach(async(() => {\n    TestBed.configureTestingModule({\n      imports: [ FormsModule ],\n      declarations: [\n        AppComponent\n      ],\n    })\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// MessageServiceã®ãƒ¢ãƒƒã‚¯ã‚’è¨­å®š\n    .overrideComponent(AppComponent, {\n      set: {\n        providers: [\n          { provide: MessageService, useClass: MessageServiceMock },\n        ]\n      }\n    })\n    .compileComponents();\n\n    fixture = TestBed.createComponent(AppComponent);\n    component = fixture.componentInstance;\n    fixture.detectChanges();\n  }));\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(() => {\n    const app = fixture.debugElement.componentInstance;\n    expect(app).toBeTruthy();\n  }));\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ï¼“ä»¶ä¿æŒã—ã¦ã„ã‚‹ã‹', async(() => {\n    expect(component.messages).toEqual([\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n        { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n    ]);\n  }));\n\n\n  it('ç”»é¢ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒï¼“ä»¶è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹', async(() => {\n\n    const el = fixture.debugElement.nativeElement;\n\n    expect(el.querySelectorAll('li').length).toEqual(3);\n    expect(el.querySelectorAll('li')[0].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1');\n    expect(el.querySelectorAll('li')[1].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2');\n    expect(el.querySelectorAll('li')[2].textContent).toContain('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3');\n  }));\n});\n\n```\n\n\n#### src/app/message/message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nã‚µãƒ¼ãƒ“ã‚¹ã®ãƒ†ã‚¹ãƒˆã§ã™ã€‚\nã‚µãƒ¼ãƒã¨ã®ã‚„ã‚Šã¨ã‚Š(HTTPé€šä¿¡)ã«ã¤ã„ã¦ã¯`MockBackend`ã‚’ä½¿ã£ã¦ãƒ¢ãƒƒã‚¯åŒ–ã—ã¦ã„ã¾ã™ã€‚\nãªãŠ`Error`ã¯åˆ¥é€”ãƒ¢ãƒƒã‚¯ã‚’ä½œã‚‰ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§`register`ãƒ¡ã‚½ãƒƒãƒ‰ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:message.service.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport { TestBed, async, inject } from '@angular/core/testing';\nimport {HttpModule, BaseRequestOptions, Http, Response, ResponseOptions} from '@angular/http';\nimport {MockBackend, MockConnection} from '@angular/http/testing';\nimport { RequestMethod } from '@angular/http';\n\nimport { MessageService } from './message.service';\n\n\ndescribe('MessageService', () => {\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã‚¨ãƒ©ãƒ¼ç”¨ã®ãƒ¢ãƒƒã‚¯\n  class MockError extends Response implements Error {\n    name: any;\n    message: any;\n  }\n\nã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã¯MockBackendã§ãƒ¢ãƒƒã‚¯åŒ–\n  beforeEach(() => {\n    TestBed.configureTestingModule({\n      imports: [HttpModule],\n      providers: [MessageService, {\n        provide: Http,\n        useFactory: (backend, options) => new Http(backend, options),\n        deps: [MockBackend, BaseRequestOptions]\n      }, MockBackend, BaseRequestOptions]\n    });\n  });\n\n  it('ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãŒç”Ÿæˆã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\n    expect(service).toBeTruthy();\n  })));\n\n\n  describe('getAll', () => {\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå–å¾—ã§ãã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  { messages : [\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]};\n\n        const ops = new ResponseOptions({\n          status: 200,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockRespond(new Response(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe((res) => {\n        expect(res.messages.length).toEqual(3);\n        expect(res.messages).toEqual([\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸1' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸2' },\n          { message : 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸3' }\n        ]);\n      });\n    })));\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', async(inject([MockBackend, MessageService], (backend: MockBackend , service: MessageService) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// HTTPé€šä¿¡ã®ãƒ¢ãƒƒã‚¯ã§è¿”ã™å…·ä½“çš„ãªå€¤ã®è¨­å®š\n      backend.connections.subscribe((conn: MockConnection) => {\n        const body =  {\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        };\n\n        const ops = new ResponseOptions({\n          status: 500,\n          body: JSON.stringify(body)\n        });\n\n        conn.mockError(new MockError(ops));\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®å†…å®¹ã‚’æ¤œè¨¼\n      backend.connections.subscribe((conn: MockConnection) => {\n        expect(conn.request.url).toEqual('/api/messages');\n        expect(conn.request.method).toEqual(RequestMethod.Get);\n      });\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã®å†…å®¹ã‚’æ¤œè¨¼\n      service.getAll().subscribe(() => {\n        fail('ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œãªã‹ã£ãŸã€‚');\n      }, res => {\n        expect(res).toEqual({\n          title : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: 'ã‚¨ãƒ©ãƒ¼'\n        });\n      });\n    })));\n\n  });\n\n\n});\n```\n\n\n\n### 3. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«server_testãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’ä½œã£ã¦ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\nã©ã¡ã‚‰ã‹ã¨ã„ã†ã¨çµåˆãƒ†ã‚¹ãƒˆã‚ˆã‚Šã§ã€ï¼‘ã¤ï¼‘ã¤ã®è³‡ç”£ã«å¯¾ã—ã¦ã§ã¯ãªãapp.tsã«å¯¾ã—ã¦ã€å®Ÿéš›ã«DBã«æ¥ç¶šã—ãªãŒã‚‰APIãƒ†ã‚¹ãƒˆã‚’è¡Œã„ã¾ã™ã€‚è¦æ¨¡ãŒå°ã•ã„å ´åˆã¯ã‚³ãƒ¬ã§å……åˆ†ã ã¨æ€ã„ã¾ã™ã€‚\nã¾ãŸExpressã®ãƒ†ã‚¹ãƒˆãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¯[Mocha](https://mochajs.org/)ãŒä¸€èˆ¬çš„ã§ã™ãŒã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨çµ±ä¸€ã—ãŸã„ã®ã§ã€ä»Šå›ã¯[Jasmine](https://jasmine.github.io/)ã‚’ä½¿ã†ã“ã¨ã«ã—ã¾ã™ã€‚\n\n#### server_test/app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nãƒã‚¤ãƒ³ãƒˆã¨ã—ã¦ã¯ãƒ†ã‚¹ãƒˆå®Ÿè¡Œå‰ã«Messageãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ã£ã¦DBã‚’åˆæœŸåŒ–ã—ã¦ã„ã‚‹ã“ã¨ã§ã™ã€‚\nãã‚Œã«ã‚ˆã‚Šãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ãŒãƒ†ã‚¹ãƒˆãƒ¡ã‚½ãƒƒãƒ‰ã”ã¨ã«æƒ³å®šã™ã‚‹å½¢ã«ãªã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nç•°å¸¸æ™‚ã®ãƒ†ã‚¹ãƒˆã¯ã€Messsageã®findãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‚ˆã†ã«Jasmineã®`spyOn`ãƒ¡ã‚½ãƒƒãƒ‰ã§å‡¦ç†ã‚’ç½®ãæ›ãˆã¾ã™ã€‚\nå…¨ã¦è¼‰ã›ã‚‹ã¨å†—é•·ãªã®ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²ã®ãƒ†ã‚¹ãƒˆã¯å‰²æ„›ã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.spec.ts(ä¸€éƒ¨æŠœç²‹)\nimport * as supertest from 'supertest';\n\nimport app from '../server/app';\nimport { Message } from '../server/models/message';\n\n\ndescribe('/api/messages', () => {\n  const request = supertest(app);\n  const endpoint = '/api/messages';\n\n  const messageAscending = (m1, m2) => {\n    if (m1.message > m2.message) {\n      return 1;\n    }\n\n    if (m1.message < m2.message) {\n      return -1;\n    }\n\n    return 0;\n  };\n\n  // ãƒ†ã‚¹ãƒˆå‰ã«DBã®messagesã‚’åˆæœŸåŒ–ã™ã‚‹\n  beforeEach(() => {\n    Message.remove({}, () => {});\n  });\n\n\n  describe('Get', () => {\n\n    it('ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒjsonå½¢å¼ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ãŒ200ã‹', (done) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(200);\n        }).end(done);\n    });\n\n\n    it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ãŒå–å¾—ã§ãã‚‹ã‹', (done) => {\n\n      const testData = [\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’' },\n        { message: 'ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“' },\n      ];\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// äº‹å‰æº–å‚™ï¼ˆãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆï¼‰\n      Message.create(testData, (erro , doc ) => {\n\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n        request.get(endpoint)\n          .expect((res) => {\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// æ¤œè¨¼\n            const sortedMessages = res.body.messages.sort(messageAscending);\n\n            expect(sortedMessages.length).toEqual(3);\n            expect(sortedMessages[0].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‘');\n            expect(sortedMessages[1].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼’');\n            expect(sortedMessages[2].message).toEqual('ãƒ†ã‚¹ãƒˆç”¨ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼“');\n          })\n          .end(done);\n      });\n    });\n\n\n    it('ç•°å¸¸æ™‚ã«ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ã‹', (done) => {\n\n      // ã‚¨ãƒ©ãƒ¼ã¨ãªã‚‹ã‚ˆã†ã«Messageã®findãƒ¡ã‚½ãƒƒãƒ‰ã‚’ç½®ãæ›ãˆã‚‹\n      spyOn(Message, 'find').and.callFake(function(callback) {\n        callback(new Error('ã‚¨ãƒ©ãƒ¼'), null);\n      });\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€\nã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€// ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’æŠ•ã’ã‚‹\n      request.get(endpoint)\n        .expect((res) => {\n\n          // æ¤œè¨¼\n          expect(res.type).toEqual('application/json');\n          expect(res.statusCode).toEqual(500);\n\n          expect(res.body.title).toEqual('ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');\n          expect(res.body.error).toEqual('ã‚¨ãƒ©ãƒ¼');\n        })\n        .end(done);\n    });\n\n  });\n});\n```\n\n\n\n### 4. å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\nE2Eã®èª¬æ˜ã«å…¥ã‚‹å‰ã«ã€ã„ã£ãŸã‚“å˜ä½“ãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™ã—ã¾ã™ã€‚\n\n\n#### package.json\n[å‰å›](http://qiita.com/Takumon/items/572438809384e2e11792#pakcagejson)ä½œæˆã—ãŸã‚‚ã®ã‚’ãƒ™ãƒ¼ã‚¹ã«å˜ä½“ãƒ†ã‚¹ãƒˆã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"test\": \"run-p test:*\",\n    \"test:client\": \"ng test\",\n    \"test:server\": \"npm-run-all -s build:server_test -p watch:server_test  boot:server_test\",\n    \"watch:server_test\": \"tsc -w -p ./server_test/tsconfig.server_test.json\",\n    \"boot:server_test\": \"nodemon ./dist/server_test/test.server.js\",\n    \"build:server_test\": \"tsc -p ./server/tsconfig.server.json\",\n    ...\n  },\n```\n\n\n* **test**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚\n* **test:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚\n* **watch:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server_test**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§è³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build:server_test**ã§ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹server_test/test.server.conf.tsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### server_test/test.server.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆã®èµ·å‹•å‡¦ç†ã‚’æ›¸ãã¾ã™ã€‚\nãƒ¬ãƒãƒ¼ã‚¿ãƒ¼ã«ã¯[jasmine-spec-reporter](https://www.npmjs.com/package/jasmine-spec-reporter)ã‚’ä½¿ã„ã¾ã—ã‚‡ã†ã€‚ã“ã®ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã™ã€‚\n\n```js:test.server.ts\nimport { SpecReporter, DisplayProcessor } from 'jasmine-spec-reporter';\nconst Jasmine = require('jasmine');\nimport SuiteInfo = jasmine.SuiteInfo;\n\nimport { config } from './test.server.conf';\n\n\nclass CustomProcessor extends DisplayProcessor {\n    public displayJasmineStarted(info: SuiteInfo, log: string): string {\n        return `TypeScript ${log}`;\n    }\n}\n\nconst runner = new Jasmine();\nrunner.loadConfig(config);\nrunner.addReporter(new SpecReporter({\n    customProcessors: [CustomProcessor],\n}));\nrunner.onComplete(function(passed){\n  if ( passed ) {\n    console.log('Success');\n  } else {\n    console.error('Failed');\n  }\n});\n\nrunner.execute();\n```\n\n\n#### server_test/test.server.conf.ts\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆèµ·å‹•æ™‚ã®è¨­å®šã§ã™ã€‚\næ³¨æ„ç‚¹ã¨ã—ã¦`spec_files`ã«æŒ‡å®šã™ã‚‹ç›¸å¯¾ãƒ‘ã‚¹ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ãŒèµ·ç‚¹ã«ãªã‚Šã¾ã™ã€‚ãã®ãŸã‚`__dirname`ã‚’ä½¿ã£ã¦æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n\n```js:test.server.conf.ts\nexport const config = {\n  spec_dir: '.',\n  spec_files: [\n    `${__dirname}/*spec.js`\n  ],\n  'stopSpecOnExpectationFailure': false,\n  'random': false\n};\n```\n\n\n\n#### server_test/tsconfig.server_test.json\n\nã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹æ™‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚\n\n```json:tsconfig.server_test.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist\",\n    \"mapRoot\": \"../dist\",\n    \"module\": \"commonjs\"\n  } ,\n  \"include\": [\n    \"**/*.spec.ts\",\n    \"./test.server.ts\",\n    \"./test.server.conf.ts\"\n  ]\n}\n```\n\n`outDir`ãŒ`../dist/server_test`ã§ã¯ãªã`../dist`ã§ã‚ã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚\nãƒ†ã‚¹ãƒˆè³‡ç”£ã¯`server`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªé…ä¸‹ã®è³‡ç”£ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŸã‚ã€`../dist/server_test`ã‚’æŒ‡å®šã™ã‚‹ã¨ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸæ™‚ã«ä¸‹è¨˜ã®ã‚ˆã†ã«å‡ºåŠ›ã•ã‚Œã¦ã—ã¾ã„ã¾ã™ã€‚\n\n```:\u001cï¼ˆæ‚ªã„ä¾‹ï¼‰outDirã«\"../dist/server_test\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â””â”€â”€ server_test\n        â”œâ”€â”€ server\n        â””â”€â”€ server_test \n```\n```:\u001cï¼ˆè‰¯ã„ä¾‹ï¼‰outDirã«\"../dist\"ã‚’æŒ‡å®šã—ãŸã¨ãã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«çµæœ\n.\nâ””â”€â”€ dist\n    â”œâ”€â”€ server\n    â””â”€â”€ server_test \n```\n\n\n### 5. E2Eãƒ†ã‚¹ãƒˆã‚’ä½œæˆ\nå˜ä½“ãƒ†ã‚¹ãƒˆã‚’ä½œæˆã—ãŸã®ã§æ¬¡ã¯E2Eãƒ†ã‚¹ãƒˆã‚’ä½œã‚Šã¾ã—ã‚‡ã†ã€‚\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç”¨æ„ã•ã‚Œã¦ã„ã‚‹[Protractor](http://www.protractortest.org/#/)ã‚’ä½¿ã£ãŸãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n#### e2e/app.e2e-spec.ts\nåŸºæœ¬çš„ã«elementãƒ¡ã‚½ãƒƒãƒ‰ã§è¦ç´ ã‚’å–å¾—ã—ã¦ã€sendKeysãƒ¡ã‚½ãƒƒãƒ‰ã‚„clickãƒ¡ã‚½ãƒƒãƒ‰ã§æ“ä½œã‚’è¡Œã„ã¾ã™ã€‚\n\n```js:app.e2e-spec.ts\nimport { Angular4Express4Typescritp2Page } from './app.po';\nimport { browser, element, by } from 'protractor';\n\n\ndescribe('E2Eãƒ†ã‚¹ãƒˆ', () => {\n  let page: Angular4Express4Typescritp2Page;\n\n  beforeEach(() => {\n    page = new Angular4Express4Typescritp2Page();\n  });\n\n  it('ç”»é¢ã‚¿ã‚¤ãƒˆãƒ«ãŒæ­£ã—ã„ã‹', () => {\n    page.navigateTo();\n    expect(page.getParagraphText()).toEqual('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§');\n  });\n\n\n  it('ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒç™»éŒ²ã§ãã‚‹ã‹', () => {\n    page.navigateTo();\n    const newMessage = `ã‚µãƒ³ãƒ—ãƒ«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ ${new Date().toString()}`;\n    element(by.id('registerMessage')).sendKeys(newMessage);\n\n    element(by.id('registerMessageButton')).click();\n\n    // ç™»éŒ²å¾Œãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å…¥åŠ›é …ç›®ãŒåˆæœŸåŒ–ã•ã‚Œã¦ã„ã‚‹ã‹\n    expect(element(by.id('registerMessage')).getText()).toEqual('');\n\n    // ç™»éŒ²å¾Œä¸€è¦§ã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹\n    const messages = element(by.id('messageList')).all(by.tagName('li'));\n    expect(messages.last().getText()).toEqual(newMessage);\n  });\n\n});\n```\n\n### 6. E2Eãƒ†ã‚¹ãƒˆå‘¨ã‚Šã®ç’°å¢ƒã‚’æ•´å‚™\n\n#### package.json\nAngular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®\"e2e\"ã‚³ãƒãƒ³ãƒ‰ã¯å‰Šé™¤ã—ã¦ã€ã‚¹ã‚¯ãƒªãƒ—ãƒˆã«ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\n```json:package.json\n \"scripts\": {\n    ...\n    \"e2e\": \"npm-run-all -s  webdriver:update -p webdriver:start protractor\",\n    \"webdriver:update\": \"webdriver-manager update\",\n    \"webdriver:start\": \"webdriver-manager start\",\n    \"protractor\": \"protractor protractor.conf.js\",\n    ...\n  },\n```\n\n* **e2e**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚Angular CILãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®`e2e`ã‚³ãƒãƒ³ãƒ‰(= `ng e2e`ã‚³ãƒãƒ³ãƒ‰)ã¯ä½¿ã„ã¾ã›ã‚“ã€‚`ngã€€e2e`ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã ã‘ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã™ã‚‹å‡¦ç†ãŒå…¥ã£ã¦ã„ã‚‹ã‹ã‚‰ã§ã™ã€‚ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒª(ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒãŒï¼‘ã¤ã«ã¾ã¨ã¾ã£ãŸã‚¢ãƒ—ãƒª)ã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ã€‚\n* **webdriver:update**ã§E2Eãƒ†ã‚¹ãƒˆã«å¿…è¦ãªWebDriverã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã¾ãŸã¯æ›´æ–°ã—ã¾ã™ã€‚\n* **webdriver:start**ã§WebDriverã‚’èµ·å‹•ã—ã¾ã™ã€‚Protractorã®ãƒ†ã‚¹ãƒˆã¯äº‹å‰ã«WebDriverã‚’èµ·å‹•ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n* **protractor**ã§E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¾ã™ã€‚èµ·å‹•æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹protractor.conf.jsã‚’ä½¿ã„ã¾ã™ã€‚\n\n#### protractor.conf.js\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§baseUrlã®ãƒãƒ¼ãƒˆã¯4200ã«ãªã£ã¦ã„ã¾ã™ãŒã€ä»Šå›ã¯ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã«å¯¾ã—ã¦ãƒ†ã‚¹ãƒˆã™ã‚‹ã®ã§3000ã‚’æŒ‡å®šã—ã¾ã™ã€‚\n\n```js:protractor.conf.js\nexports.config = {\n  ...\n  baseUrl: 'http://localhost:3000/',\n  ...\n}\n```\n\n### 7. è©¦ã—ã¦ã¿ã‚‹\n#### å˜ä½“ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm test`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã®ãƒ†ã‚¹ãƒˆçµæœã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ã€ã‚µãƒ¼ãƒå´ã¯ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ï¼‰ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚è³‡ç”£ã¯ã‚¦ã‚©ãƒƒãƒã—ã¦ã„ã‚‹ã®ã§ã€ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã‚’ä¿®æ­£ã™ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œå†åº¦ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ã§ã—ã‚‡ã†ã€‚\n\n![10_å˜ä½“ãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/641a661f-3624-c4f1-373f-cb4319304e02.png)\n\n\n\n#### E2Eãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹\n* MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\n    * ã“ã‚Œã‚‚å˜ä½“ãƒ†ã‚¹ãƒˆã¨åŒã˜ã§DBã‚’äº‹å‰ã«èµ·å‹•ã—ã¦ãŠã„ã¦ãã ã•ã„ã€‚\n \n* ãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹\n    * ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run buildRun`ã‚’å®Ÿè¡Œã—ã€ãƒ“ãƒ«ãƒ‰è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n\n* `npm run e2e`ã™ã‚‹\n    * åˆ¥ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼ˆã¾ãŸã¯ã‚³ãƒãƒ³ãƒ‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’é–‹ãã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§`npm run e2e`ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ãŒç«‹ã¡ä¸ŠãŒã‚Šãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![20_E2Eãƒ†ã‚¹ãƒˆå®Ÿæ–½ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/5ad84a6a-0e8e-a80b-c7c5-538b70aa9259.png)\n\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯MEANã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã®å˜ä½“ãƒ†ã‚¹ãƒˆã€E2Eãƒ†ã‚¹ãƒˆã«ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nã“ã‚Œã§ãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆãŒã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œãã®3. Dockerãƒ‡ãƒ—ãƒ­ã‚¤ç·¨ã€ã§ã¯ã€Dockerã§ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã™ã‚‹æ–¹æ³•ã¨Dockerã§ã‚¢ãƒ—ãƒªã®ã‚¤ãƒ¡ãƒ¼ã‚¸ã‚’ä½œã£ã¦ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹æ–¹æ³•ã¤ã„ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n","comments_count":0,"created_at":"2017-07-24T07:12:10+09:00","likes_count":9,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/bb5bc899-9dfd-5e67-bc4c-bc422ba8d176/","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","date":"2017-07-19T02:06:59+09:00","excerpt":"ã‚„ã‚ŠãŸã„ã“ã¨Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(MongoDB + Express + Angular + NodeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’web...","tags":["JavaScript","MongoDB","Express","TypeScript","AngularJS","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"bb5bc899-9dfd-5e67-bc4c-bc422ba8d176","title":"Angular4 + Express4 + MongoDB3 + TypeScript2 ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’Angular CLIãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã™ã‚‹ã€‚(ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã€Dockerãƒ‡ãƒ—ãƒ­ã‚¤ã¾ã§)ã€€ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨","rendered_body":"\n<h2>\n<span id=\"ã‚„ã‚ŠãŸã„ã“ã¨\" class=\"fragment\"></span><a href=\"#%E3%82%84%E3%82%8A%E3%81%9F%E3%81%84%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>ã‚„ã‚ŠãŸã„ã“ã¨</h2>\n\n<ul>\n<li>Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(<strong>M</strong>ongoDB + <strong>E</strong>xpress + <strong>A</strong>ngular + <strong>N</strong>odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚</li>\n<li>ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚</li>\n<li>Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚</li>\n</ul>\n\n<p>ã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<ul>\n<li>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³</li>\n<li><a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\" id=\"reference-b35cd1a7f8ba1daaecd8\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a></li>\n<li>ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨</li>\n</ul>\n\n<h2>\n<span id=\"ãã®ï¼‘-ãƒ“ãƒ«ãƒ‰ç·¨\" class=\"fragment\"></span><a href=\"#%E3%81%9D%E3%81%AE%EF%BC%91-%E3%83%93%E3%83%AB%E3%83%89%E7%B7%A8\"><i class=\"fa fa-link\"></i></a>ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨</h2>\n\n<p>Angular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€<br>\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<h3>\n<span id=\"ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\" class=\"fragment\"></span><a href=\"#%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%A7%8B%E6%88%90\"><i class=\"fa fa-link\"></i></a>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ</h3>\n\n<p>ä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://github.com/Takumon/angular4-express4-typescritp2/tree/build\" rel=\"nofollow noopener\" target=\"_blank\">ãƒªãƒã‚¸ãƒˆãƒª</a>ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰</span></div>\n<div class=\"highlight\"><pre>.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n</pre></div>\n</div>\n\n<h4>\n<span id=\"å„è³‡ç”£ã«ã¤ã„ã¦\" class=\"fragment\"></span><a href=\"#%E5%90%84%E8%B3%87%E7%94%A3%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6\"><i class=\"fa fa-link\"></i></a>å„è³‡ç”£ã«ã¤ã„ã¦</h4>\n\n<h5>\n<span id=\"1-dist\" class=\"fragment\"></span><a href=\"#1-dist\"><i class=\"fa fa-link\"></i></a>(1) dist</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€</p>\n\n<h5>\n<span id=\"1-1-distserver\" class=\"fragment\"></span><a href=\"#1-1-distserver\"><i class=\"fa fa-link\"></i></a>(1-1) dist/server</h5>\n\n<p>ã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚<br>\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚<br>\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"1-2-distserverpublic\" class=\"fragment\"></span><a href=\"#1-2-distserverpublic\"><i class=\"fa fa-link\"></i></a>(1-2) dist/server/public</h5>\n\n<p>ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚<br>\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚<br>\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"2-server\" class=\"fragment\"></span><a href=\"#2-server\"><i class=\"fa fa-link\"></i></a>(2) server</h5>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚<br>\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚</p>\n\n<h5>\n<span id=\"3-src\" class=\"fragment\"></span><a href=\"#3-src\"><i class=\"fa fa-link\"></i></a>(3) src</h5>\n\n<p>ãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚<br>\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚<br>\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯<code>ng</code>ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚</p>\n\n<h5>\n<span id=\"4-proxyconfjson\" class=\"fragment\"></span><a href=\"#4-proxyconfjson\"><i class=\"fa fa-link\"></i></a>(4) proxy.conf.json</h5>\n\n<p><code>npm start</code>ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚</p>\n\n<h2>\n<span id=\"æ§‹ç¯‰æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E6%A7%8B%E7%AF%89%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>æ§‹ç¯‰æ‰‹é †</h2>\n\n<h3>\n<span id=\"1-ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\" class=\"fragment\"></span><a href=\"#1-%E3%83%97%E3%83%AD%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ</h3>\n\n<ul>\n<li>\n<p>Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install -g @angular/cli\n</pre></div></div>\n</li>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ ng new sample\n$ cd sample\n$ npm install\n</pre></div></div>\n</li>\n<li>\n<p>Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«<br>\n</p>\n<dd>\n<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/express\" rel=\"nofollow noopener\" target=\"_blank\"><code>express</code></a><br>\n    </dt>\n<dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noopener\" target=\"_blank\"><code>body-parser</code></a><br>\n    </dt>\n<dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/mongoose\" rel=\"nofollow noopener\" target=\"_blank\"><code>mongoose</code></a><br>\n    </dt>\n<dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/nodemon\" rel=\"nofollow noopener\" target=\"_blank\"><code>nodemon</code></a><br>\n    </dt>\n<dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«<br>\n</dd>\n<dt>\n<a href=\"https://www.npmjs.com/package/npm-run-all\" rel=\"nofollow noopener\" target=\"_blank\"><code>npm-run-all</code></a><br>\n    </dt>\n<dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸<br>\n</dd>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm install --save express body-parser mongoose\n$ npm install --save-dev @types/mongoose nodemon npm-run-all\n</pre></div></div>\n</li>\n</ul>\n\n<h3>\n<span id=\"2-ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-%E3%82%B5%E3%83%BC%E3%83%90%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«<code>server</code>ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"servermodelsmessagets\" class=\"fragment\"></span><a href=\"#servermodelsmessagets\"><i class=\"fa fa-link\"></i></a>server/models/message.ts</h4>\n\n<p>MongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">Message</span> <span class=\"o\">=</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">model</span><span class=\"p\">(</span><span class=\"s1\">'messages'</span><span class=\"p\">,</span> <span class=\"k\">new</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">Schema</span><span class=\"p\">({</span>\n  <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"na\">type</span><span class=\"p\">:</span> <span class=\"nb\">String</span><span class=\"p\">}</span>\n<span class=\"p\">}));</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverroutesmessagets\" class=\"fragment\"></span><a href=\"#serverroutesmessagets\"><i class=\"fa fa-link\"></i></a>server/routes/message.ts</h4>\n\n<p>ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯<code>server/models/message.ts</code>ã‚’ä½¿ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Router</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Message</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../models/message'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">const</span> <span class=\"nx\">messageRouter</span><span class=\"p\">:</span> <span class=\"nx\">Router</span> <span class=\"o\">=</span> <span class=\"nx\">Router</span><span class=\"p\">();</span>\n\n<span class=\"c1\">// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"nx\">Message</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">doc</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span><span class=\"na\">messages</span><span class=\"p\">:</span> <span class=\"nx\">doc</span><span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"c1\">// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹</span>\n<span class=\"nx\">messageRouter</span><span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">,</span> <span class=\"nx\">next</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"nx\">Message</span><span class=\"p\">({</span>\n    <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">req</span><span class=\"p\">.</span><span class=\"nx\">body</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n  <span class=\"p\">});</span>\n\n  <span class=\"nx\">message</span><span class=\"p\">.</span><span class=\"nx\">save</span><span class=\"p\">((</span><span class=\"nx\">err</span><span class=\"p\">,</span> <span class=\"nx\">result</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">err</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">500</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n          <span class=\"na\">title</span><span class=\"p\">:</span> <span class=\"s1\">'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n          <span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">err</span><span class=\"p\">.</span><span class=\"nx\">message</span>\n      <span class=\"p\">});</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">return</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">status</span><span class=\"p\">(</span><span class=\"mi\">200</span><span class=\"p\">).</span><span class=\"nx\">json</span><span class=\"p\">({</span>\n      <span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"s1\">'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚'</span><span class=\"p\">,</span>\n      <span class=\"na\">obj</span><span class=\"p\">:</span> <span class=\"nx\">result</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">});</span>\n<span class=\"p\">});</span>\n\n<span class=\"k\">export</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">};</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverappts\" class=\"fragment\"></span><a href=\"#serverappts\"><i class=\"fa fa-link\"></i></a>server/app.ts</h4>\n\n<p>Expressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯<code>/api/messages</code>ã«è¨­å®šã—ã€<br>\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚<br>\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€<br>\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">express</span> <span class=\"k\">from</span> <span class=\"s1\">'express'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">path</span> <span class=\"k\">from</span> <span class=\"s1\">'path'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">bodyParser</span> <span class=\"k\">from</span> <span class=\"s1\">'body-parser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">mongoose</span> <span class=\"k\">from</span> <span class=\"s1\">'mongoose'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">messageRouter</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./routes/message'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MONGO_URL</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./config'</span><span class=\"p\">;</span>\n\n<span class=\"kd\">class</span> <span class=\"nx\">App</span> <span class=\"p\">{</span>\n  <span class=\"kr\">public</span> <span class=\"nx\">express</span><span class=\"p\">:</span> <span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">Application</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span> <span class=\"o\">=</span> <span class=\"nx\">express</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">middleware</span><span class=\"p\">();</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">routes</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">middleware</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">());</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">bodyParser</span><span class=\"p\">.</span><span class=\"nx\">urlencoded</span><span class=\"p\">({</span> <span class=\"na\">extended</span><span class=\"p\">:</span> <span class=\"kc\">false</span> <span class=\"p\">}));</span>\n    <span class=\"c1\">// æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nb\">Promise</span> <span class=\"o\">=</span> <span class=\"nb\">global</span><span class=\"p\">.</span><span class=\"nb\">Promise</span><span class=\"p\">;</span>\n    <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">connect</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">MONGO_URL</span> <span class=\"o\">||</span> <span class=\"nx\">MONGO_URL</span><span class=\"p\">,</span> <span class=\"p\">{</span>\n      <span class=\"na\">useMongoClient</span><span class=\"p\">:</span> <span class=\"kc\">true</span><span class=\"p\">,</span>\n    <span class=\"p\">});</span>\n    <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'SIGINT'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span> <span class=\"nx\">mongoose</span><span class=\"p\">.</span><span class=\"nx\">disconnect</span><span class=\"p\">();</span> <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kr\">private</span> <span class=\"nx\">routes</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"c1\">// é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kr\">static</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public'</span><span class=\"p\">)));</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"nx\">use</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"nx\">messageRouter</span><span class=\"p\">);</span>\n\n    <span class=\"c1\">// ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">express</span><span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'*'</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"nx\">req</span><span class=\"p\">,</span> <span class=\"nx\">res</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n      <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">sendFile</span><span class=\"p\">(</span><span class=\"nx\">path</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"nx\">__dirname</span><span class=\"p\">,</span> <span class=\"s1\">'public/index.html'</span><span class=\"p\">));</span>\n    <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"k\">export</span> <span class=\"k\">default</span> <span class=\"k\">new</span> <span class=\"nx\">App</span><span class=\"p\">().</span><span class=\"nx\">express</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverbinwwwts\" class=\"fragment\"></span><a href=\"#serverbinwwwts\"><i class=\"fa fa-link\"></i></a>server/bin/www.ts</h4>\n\n<p>Node.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">www.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"o\">*</span> <span class=\"k\">as</span> <span class=\"nx\">http</span> <span class=\"k\">from</span> <span class=\"s1\">'http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'../config'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"nx\">app</span> <span class=\"k\">from</span> <span class=\"s1\">'../app'</span><span class=\"p\">;</span>\n\n\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã®è¨­å®š.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">port</span> <span class=\"o\">=</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">env</span><span class=\"p\">.</span><span class=\"nx\">PORT</span> <span class=\"o\">||</span> <span class=\"nx\">SERVER_PORT</span><span class=\"p\">);</span>\n<span class=\"nx\">app</span><span class=\"p\">.</span><span class=\"kd\">set</span><span class=\"p\">(</span><span class=\"s1\">'port'</span><span class=\"p\">,</span> <span class=\"nx\">port</span><span class=\"p\">);</span>\n\n\n<span class=\"c1\">// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.</span>\n<span class=\"kd\">const</span> <span class=\"nx\">server</span> <span class=\"o\">=</span> <span class=\"nx\">http</span><span class=\"p\">.</span><span class=\"nx\">createServer</span><span class=\"p\">(</span><span class=\"nx\">app</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">listen</span><span class=\"p\">(</span><span class=\"nx\">port</span><span class=\"p\">,</span> <span class=\"p\">()</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">log</span><span class=\"p\">(</span><span class=\"s2\">`API running on localhost:</span><span class=\"p\">${</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">));</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'error'</span><span class=\"p\">,</span> <span class=\"nx\">onError</span><span class=\"p\">);</span>\n<span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s1\">'listening'</span><span class=\"p\">,</span> <span class=\"nx\">onListening</span><span class=\"p\">);</span>\n\n<span class=\"c1\">// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">normalizePort</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">):</span> <span class=\"nx\">number</span><span class=\"o\">|</span><span class=\"nx\">string</span><span class=\"o\">|</span><span class=\"kr\">boolean</span>  <span class=\"p\">{</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">:</span> <span class=\"nx\">number</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">val</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">val</span><span class=\"p\">,</span> <span class=\"mi\">10</span><span class=\"p\">)</span>\n    <span class=\"p\">:</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nb\">isNaN</span><span class=\"p\">(</span><span class=\"nx\">normalizedPort</span><span class=\"p\">))</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">val</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">normalizedPort</span> <span class=\"o\">&gt;=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"nx\">normalizedPort</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onError</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">):</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">syscall</span> <span class=\"o\">!==</span> <span class=\"s1\">'listen'</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"k\">typeof</span> <span class=\"nx\">port</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span>\n    <span class=\"p\">?</span> <span class=\"s1\">'Pipe '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span>\n    <span class=\"p\">:</span> <span class=\"s1\">'Port '</span> <span class=\"o\">+</span> <span class=\"nx\">port</span><span class=\"p\">;</span>\n\n  <span class=\"k\">switch</span> <span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">code</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EACCES'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' requires elevated privileges'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"k\">case</span> <span class=\"s1\">'EADDRINUSE'</span><span class=\"p\">:</span>\n      <span class=\"nx\">console</span><span class=\"p\">.</span><span class=\"nx\">error</span><span class=\"p\">(</span><span class=\"nx\">bind</span> <span class=\"o\">+</span> <span class=\"s1\">' is already in use'</span><span class=\"p\">);</span>\n      <span class=\"nx\">process</span><span class=\"p\">.</span><span class=\"nx\">exit</span><span class=\"p\">(</span><span class=\"mi\">1</span><span class=\"p\">);</span>\n      <span class=\"k\">break</span><span class=\"p\">;</span>\n    <span class=\"nl\">default</span><span class=\"p\">:</span>\n      <span class=\"k\">throw</span> <span class=\"nx\">error</span><span class=\"p\">;</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n\n<span class=\"c1\">// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.</span>\n<span class=\"kd\">function</span> <span class=\"nx\">onListening</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">addr</span> <span class=\"o\">=</span> <span class=\"nx\">server</span><span class=\"p\">.</span><span class=\"nx\">address</span><span class=\"p\">();</span>\n  <span class=\"kd\">const</span> <span class=\"nx\">bind</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"k\">typeof</span> <span class=\"nx\">addr</span> <span class=\"o\">===</span> <span class=\"s1\">'string'</span><span class=\"p\">)</span>\n    <span class=\"p\">?</span> <span class=\"s2\">`pipe </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">}</span><span class=\"s2\">`</span>\n    <span class=\"p\">:</span> <span class=\"s2\">`port </span><span class=\"p\">${</span><span class=\"nx\">addr</span><span class=\"p\">.</span><span class=\"nx\">port</span><span class=\"p\">}</span><span class=\"s2\">`</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"serverconfigts\" class=\"fragment\"></span><a href=\"#serverconfigts\"><i class=\"fa fa-link\"></i></a>server/config.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚<br>\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">config.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">SERVER_PORT</span> <span class=\"o\">=</span> <span class=\"mi\">3000</span><span class=\"p\">;</span>\n<span class=\"k\">export</span> <span class=\"kd\">const</span> <span class=\"nx\">MONGO_URL</span> <span class=\"o\">=</span> <span class=\"s1\">'mongodb://localhost:27017/test'</span><span class=\"p\">;</span>\n</pre></div>\n</div>\n\n<h3>\n<span id=\"3-ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-%E3%82%AF%E3%83%A9%E3%82%A4%E3%82%A2%E3%83%B3%E3%83%88%E5%81%B4%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ</h3>\n\n<p>Angular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€<br>\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h4>\n<span id=\"srcappmessagemessageservicets\" class=\"fragment\"></span><a href=\"#srcappmessagemessageservicets\"><i class=\"fa fa-link\"></i></a>src/app/message/message.service.ts</h4>\n\n<p>ã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">message.service.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Injectable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Http</span><span class=\"p\">,</span> <span class=\"nx\">Response</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Observable</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"s1\">'rxjs/Rx'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Injectable</span><span class=\"p\">()</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">MessageService</span> <span class=\"p\">{</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">http</span><span class=\"p\">:</span> <span class=\"nx\">Http</span><span class=\"p\">)</span> <span class=\"p\">{}</span>\n\n  <span class=\"nx\">getAll</span><span class=\"p\">():</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n        <span class=\"p\">.</span><span class=\"kd\">get</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">)</span>\n        <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n        <span class=\"p\">})</span>\n        <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">regist</span><span class=\"p\">(</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">):</span> <span class=\"nx\">Observable</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">return</span> <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">http</span>\n      <span class=\"p\">.</span><span class=\"nx\">post</span><span class=\"p\">(</span><span class=\"s1\">'/api/messages'</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">message</span><span class=\"p\">:</span> <span class=\"nx\">message</span><span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"nx\">map</span><span class=\"p\">((</span><span class=\"na\">response</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n            <span class=\"kd\">const</span> <span class=\"nx\">result</span> <span class=\"o\">=</span> <span class=\"nx\">response</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">();</span>\n            <span class=\"k\">return</span> <span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"p\">})</span>\n      <span class=\"p\">.</span><span class=\"k\">catch</span><span class=\"p\">((</span><span class=\"na\">error</span><span class=\"p\">:</span> <span class=\"nx\">Response</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"nx\">Observable</span><span class=\"p\">.</span><span class=\"k\">throw</span><span class=\"p\">(</span><span class=\"nx\">error</span><span class=\"p\">.</span><span class=\"nx\">json</span><span class=\"p\">()));</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponentts\" class=\"fragment\"></span><a href=\"#srcappappcomponentts\"><i class=\"fa fa-link\"></i></a>src/app/app.component.ts</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">Component</span><span class=\"p\">,</span> <span class=\"nx\">OnInit</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">Component</span><span class=\"p\">({</span>\n  <span class=\"na\">selector</span><span class=\"p\">:</span> <span class=\"s1\">'app-root'</span><span class=\"p\">,</span>\n  <span class=\"na\">templateUrl</span><span class=\"p\">:</span> <span class=\"s1\">'./app.component.html'</span><span class=\"p\">,</span>\n  <span class=\"na\">styleUrls</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"s1\">'./app.component.css'</span><span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span> <span class=\"nx\">MessageService</span> <span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">{</span>\n  <span class=\"nl\">messages</span><span class=\"p\">:</span> <span class=\"nb\">Array</span><span class=\"o\">&lt;</span><span class=\"nx\">any</span><span class=\"o\">&gt;</span><span class=\"p\">;</span>\n  <span class=\"nl\">message</span><span class=\"p\">:</span> <span class=\"nx\">string</span><span class=\"p\">;</span>\n\n  <span class=\"kd\">constructor</span><span class=\"p\">(</span><span class=\"kr\">private</span> <span class=\"nx\">messageService</span><span class=\"p\">:</span> <span class=\"nx\">MessageService</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">getMessages</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">getAll</span><span class=\"p\">()</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messages</span> <span class=\"o\">=</span> <span class=\"nx\">res</span><span class=\"p\">.</span><span class=\"nx\">messages</span><span class=\"p\">;</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n\n  <span class=\"nx\">registerMessage</span><span class=\"p\">():</span> <span class=\"k\">void</span> <span class=\"p\">{</span>\n    <span class=\"k\">if</span> <span class=\"p\">(</span><span class=\"o\">!</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"k\">return</span><span class=\"p\">;</span>\n    <span class=\"p\">}</span>\n\n    <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">messageService</span>\n      <span class=\"p\">.</span><span class=\"nx\">register</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span><span class=\"p\">)</span>\n      <span class=\"p\">.</span><span class=\"nx\">subscribe</span><span class=\"p\">((</span><span class=\"na\">res</span><span class=\"p\">:</span> <span class=\"nx\">any</span><span class=\"p\">)</span> <span class=\"o\">=&gt;</span> <span class=\"p\">{</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">message</span> <span class=\"o\">=</span> <span class=\"s1\">''</span><span class=\"p\">;</span>\n        <span class=\"k\">this</span><span class=\"p\">.</span><span class=\"nx\">getMessages</span><span class=\"p\">();</span>\n      <span class=\"p\">});</span>\n  <span class=\"p\">}</span>\n<span class=\"p\">}</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappcomponenthtml\" class=\"fragment\"></span><a href=\"#srcappappcomponenthtml\"><i class=\"fa fa-link\"></i></a>src/app/app.component.html</h4>\n\n<p>æ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"html\">\n<div class=\"code-lang\"><span class=\"bold\">app.component.html</span></div>\n<div class=\"highlight\"><pre><span class=\"nt\">&lt;div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">id=</span><span class=\"s\">\"getMessagesButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)=\"</span><span class=\"na\">getMessages</span><span class=\"err\">()\"</span><span class=\"nt\">&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–<span class=\"nt\">&lt;/button&gt;</span>\n    <span class=\"nt\">&lt;ul</span> <span class=\"na\">id=</span><span class=\"s\">\"messageList\"</span><span class=\"nt\">&gt;</span>\n      <span class=\"nt\">&lt;li</span> <span class=\"err\">*</span><span class=\"na\">ngFor=</span><span class=\"s\">\"let item of messages\"</span><span class=\"nt\">&gt;</span>\n        {{item.message}}\n      <span class=\"nt\">&lt;/li&gt;</span>\n    <span class=\"nt\">&lt;/ul&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n  <span class=\"nt\">&lt;div&gt;</span>\n    <span class=\"nt\">&lt;h1&gt;</span>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²<span class=\"nt\">&lt;/h1&gt;</span>\n    <span class=\"nt\">&lt;input</span> <span class=\"na\">type=</span><span class=\"s\">\"text\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessage\"</span> <span class=\"err\">[(</span><span class=\"na\">ngModel</span><span class=\"err\">)]=\"</span><span class=\"na\">message</span><span class=\"err\">\"</span> <span class=\"na\">placeholder=</span><span class=\"s\">\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\"</span><span class=\"nt\">&gt;</span>\n    <span class=\"nt\">&lt;button</span> <span class=\"na\">type=</span><span class=\"s\">\"submit\"</span> <span class=\"na\">id=</span><span class=\"s\">\"registerMessageButton\"</span> <span class=\"err\">(</span><span class=\"na\">click</span><span class=\"err\">)='</span><span class=\"na\">registerMessage</span><span class=\"err\">()'</span><span class=\"nt\">&gt;</span>ç™»éŒ²<span class=\"nt\">&lt;/button&gt;</span>\n  <span class=\"nt\">&lt;/div&gt;</span>\n<span class=\"nt\">&lt;/div&gt;</span>\n</pre></div>\n</div>\n\n<h4>\n<span id=\"srcappappmodulets\" class=\"fragment\"></span><a href=\"#srcappappmodulets\"><i class=\"fa fa-link\"></i></a>src/app/app.module.ts</h4>\n\n<p>HttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"js\">\n<div class=\"code-lang\"><span class=\"bold\">app.module.ts</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">BrowserModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/platform-browser'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">NgModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/core'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">HttpModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/http'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">FormsModule</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'@angular/forms'</span><span class=\"p\">;</span>\n\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">AppComponent</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./app.component'</span><span class=\"p\">;</span>\n<span class=\"k\">import</span> <span class=\"p\">{</span> <span class=\"nx\">MessageService</span> <span class=\"p\">}</span> <span class=\"k\">from</span> <span class=\"s1\">'./message/message.service'</span><span class=\"p\">;</span>\n\n<span class=\"p\">@</span><span class=\"nd\">NgModule</span><span class=\"p\">({</span>\n  <span class=\"na\">declarations</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">AppComponent</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">imports</span><span class=\"p\">:</span> <span class=\"p\">[</span>\n    <span class=\"nx\">BrowserModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">HttpModule</span><span class=\"p\">,</span>\n    <span class=\"nx\">FormsModule</span>\n  <span class=\"p\">],</span>\n  <span class=\"na\">providers</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">MessageService</span><span class=\"p\">],</span>\n  <span class=\"na\">bootstrap</span><span class=\"p\">:</span> <span class=\"p\">[</span><span class=\"nx\">AppComponent</span><span class=\"p\">]</span>\n<span class=\"p\">})</span>\n<span class=\"k\">export</span> <span class=\"kd\">class</span> <span class=\"nx\">AppModule</span> <span class=\"p\">{</span> <span class=\"p\">}</span>\n\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"4-ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\" class=\"fragment\"></span><a href=\"#4-%E3%83%93%E3%83%AB%E3%83%89%E3%81%BE%E3%82%8F%E3%82%8A%E7%92%B0%E5%A2%83%E3%82%92%E6%95%B4%E5%82%99\"><i class=\"fa fa-link\"></i></a>4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™</h3>\n\n<h4>\n<span id=\"pakcagejson\" class=\"fragment\"></span><a href=\"#pakcagejson\"><i class=\"fa fa-link\"></i></a>pakcage.json</h4>\n\n<p>ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚<br>\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">package.json</span></div>\n<div class=\"highlight\"><pre><span class=\"w\">\n  </span><span class=\"s2\">\"scripts\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n    </span><span class=\"s2\">\"start\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"npm-run-all -s build:server -p start:*\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"start:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-p watch:server boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"watch:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -w -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"boot:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"nodemon ./dist/server/bin/www.js\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build:server build:client\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:client\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"ng build --output-path=./dist/server/public\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"build:server\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"tsc -p ./server/tsconfig.server.json\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"buildRun\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"run-s build boot:server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"err\">...</span><span class=\"w\">\n  </span><span class=\"p\">},</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<ul>\n<li>\n<strong>start</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>start:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚</li>\n<li>\n<strong>start:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚</li>\n<li>\n<strong>watch:server</strong>ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>boot:server</strong>ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build</strong>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚</li>\n<li>\n<strong>build:server</strong>ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹<code>/server/tsconfig.server.json</code>ã‚’ä½¿ã„ã¾ã™ã€‚</li>\n<li>\n<strong>build:client</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ<code>dist/server/public</code>ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</li>\n<li>\n<strong>buildRun</strong>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"servertsconfigserverjson\" class=\"fragment\"></span><a href=\"#servertsconfigserverjson\"><i class=\"fa fa-link\"></i></a>server/tsconfig.server.json</h4>\n\n<p>ã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>outDir</code>ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">tsconfig.server.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"extends\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../tsconfig.json\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"s2\">\"compilerOptions\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"preserveConstEnums\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">true</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"outDir\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"mapRoot\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"../dist/server\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"module\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"commonjs\"</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"proxyconfjson\" class=\"fragment\"></span><a href=\"#proxyconfjson\"><i class=\"fa fa-link\"></i></a>proxy.conf.json</h4>\n\n<p><code>start</code>ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©<br>\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚<br>\n<code>/api</code>å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"json\">\n<div class=\"code-lang\"><span class=\"bold\">proxy.conf.json</span></div>\n<div class=\"highlight\"><pre><span class=\"p\">{</span><span class=\"w\">\n  </span><span class=\"s2\">\"/api\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"p\">{</span><span class=\"w\">\n    </span><span class=\"s2\">\"target\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"s2\">\"http://localhost:3000\"</span><span class=\"p\">,</span><span class=\"w\">\n    </span><span class=\"s2\">\"secure\"</span><span class=\"p\">:</span><span class=\"w\"> </span><span class=\"kc\">false</span><span class=\"w\">\n  </span><span class=\"p\">}</span><span class=\"w\">\n</span><span class=\"p\">}</span><span class=\"w\">\n</span></pre></div>\n</div>\n\n<h4>\n<span id=\"mongodbã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\" class=\"fragment\"></span><a href=\"#mongodb%E3%82%92%E3%83%AD%E3%83%BC%E3%82%AB%E3%83%AB%E3%81%A7%E7%AB%8B%E3%81%A1%E4%B8%8A%E3%81%92%E3%82%8B\"><i class=\"fa fa-link\"></i></a>MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹</h4>\n\n<p>å…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚</p>\n\n<h3>\n<span id=\"5-è©¦ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#5-%E8%A9%A6%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>5. è©¦ã—ã¦ã¿ã‚‹</h3>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm start \n</pre></div></div>\n</li>\n<li><p>èµ·å‹•ã—ãŸã‚‰<code>http://localhost:4200</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚</p></li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/69f548fea654db9cdc39f80b3ff36129a4e0be22/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33303138373561362d313131362d363066332d313161392d6466366562353566353463322e706e67\" alt=\"ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png\"></a></p>\n\n<ul>\n<li>è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ npm run build\n</pre></div></div>\n</li>\n</ul>\n\n<h4>\n<span id=\"ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\" class=\"fragment\"></span><a href=\"#%E3%82%A2%E3%83%97%E3%83%AA%E3%82%92%E3%83%93%E3%83%AB%E3%83%89%E3%81%97%E3%81%A6%E8%B5%B7%E5%8B%95%E3%81%97%E3%81%A6%E3%81%BF%E3%82%8B\"><i class=\"fa fa-link\"></i></a>ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹</h4>\n\n<ul>\n<li>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯<code>http://localhost:3000</code>ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n<code>\n$ npm run buildRun\n</code>\n</li>\n</ul>\n\n<h2>\n<span id=\"çµ‚ã‚ã‚Šã«\" class=\"fragment\"></span><a href=\"#%E7%B5%82%E3%82%8F%E3%82%8A%E3%81%AB\"><i class=\"fa fa-link\"></i></a>çµ‚ã‚ã‚Šã«</h2>\n\n<p>ä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ<a href=\"http://qiita.com/Takumon/items/b4211fcabad740baa551\">ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨</a>ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚</p>\n","body":"## ã‚„ã‚ŠãŸã„ã“ã¨\n* Angular CLIä½¿ã£ã¦ã€MEANã‚¹ã‚¿ãƒƒã‚¯(**M**ongoDB + **E**xpress + **A**ngular + **N**odeJS)ã®ã‚¢ãƒ—ãƒªã‚’ä½œã‚ŠãŸã„ã€‚ã©ã†ã›ãªã‚‰ã‚µãƒ¼ãƒå´ã‚‚TypeScriptã§ä½œã‚ŠãŸã„ã€‚\n* ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã®ä¸¡æ–¹ã‚’webpackã€gulpãªã©ã¯ä½¿ã‚ãšã«npm scriptsã ã‘ã§ãƒ“ãƒ«ãƒ‰ã€ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ãŸã„ã€‚\n* Dockerã‚’ä½¿ã£ã¦ã‚¢ãƒ—ãƒªã‚’ç°¡å˜ã«é…å¸ƒã—ãŸã„ã€‚\n\nã“ã‚Œã‚‰ã‚’é”æˆã™ã‚‹ãŸã‚ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œã‚Šæ–¹ã‚’ï¼“å›ã«åˆ†ã‘ã¦ç´¹ä»‹ã—ã¾ã™ã€‚\n\n* ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨ã€€â‡¦ã€€ä»Šå›ã¯ã‚³ã‚³\n* [ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)\n* ãã®ï¼“. Dockerãƒ“ãƒ«ãƒ‰ç·¨\n\n\n\n## ãã®ï¼‘. ãƒ“ãƒ«ãƒ‰ç·¨\nAngular CLIã§ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã€\nMongoDBã«ç™»éŒ²ã—ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç”»é¢ã«ä¸€è¦§ã§è¡¨ç¤ºã™ã‚‹ã‚¢ãƒ—ãƒªã‚’ä½œæˆã—ã¦ã„ãã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨ä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã‚ˆã†ãªã‚¢ãƒ—ãƒªã§ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n\n\n\n### ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ\nä»Šå›ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«çµ‚äº†ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆã«ãªã‚Šã¾ã™ã€‚\n[ãƒªãƒã‚¸ãƒˆãƒª](https://github.com/Takumon/angular4-express4-typescritp2/tree/build)ã‚‚ç”¨æ„ã—ã¦ã„ã‚‹ã®ã§è©³ç´°ã¯ãã¡ã‚‰ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚\n\n```:ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®æ§‹æˆï¼ˆå®Œæˆã‚¤ãƒ¡ãƒ¼ã‚¸ï¼‰\n.\nâ”œâ”€â”€ dist                ãƒ»ãƒ»ãƒ»(1) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«è³‡ç”£å‡ºåŠ›å…ˆ\nâ”‚Â Â  â””â”€â”€ serverã€€ã€€ã€€ã€€ã€€ã€€ã€€ã€€      ãƒ»ãƒ»ãƒ»\u001c(1-1)ã€€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â      â”œâ”€â”€ app.js\nâ”‚Â Â      â”œâ”€â”€ app.js.map\nâ”‚Â Â      â”œâ”€â”€ bin\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ www.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ www.js.map\nâ”‚Â Â      â”œâ”€â”€ config.js\nâ”‚Â Â      â”œâ”€â”€ config.js.map\nâ”‚Â Â      â”œâ”€â”€ models\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ message.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ message.js.map\nâ”‚Â Â      â”œâ”€â”€ public      ãƒ»ãƒ»ãƒ»(1-2) ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ inline.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ main.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ polyfills.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ styles.bundle.js.map\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ vendor.bundle.js\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ vendor.bundle.js.map\nâ”‚Â Â      â””â”€â”€ routes\nâ”‚Â Â          â”œâ”€â”€ message.js\nâ”‚Â Â          â””â”€â”€ message.js.map\nâ”œâ”€â”€ node_modules\nâ”‚Â Â  â”œâ”€â”€ ...\nâ”‚Â Â  ...\nâ”‚\nâ”œâ”€â”€ e2e\nâ”‚Â Â  â”œâ”€â”€ app.e2e-spec.ts\nâ”‚Â Â  â”œâ”€â”€ app.po.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.e2e.json\nâ”œâ”€â”€ server               ãƒ»ãƒ»ãƒ»(2)ã€€ã‚µãƒ¼ãƒè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app.ts\nâ”‚Â Â  â”œâ”€â”€ bin\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ www.ts\nâ”‚Â Â  â”œâ”€â”€ config.ts\nâ”‚Â Â  â”œâ”€â”€ models\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â”œâ”€â”€ routes\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message.ts\nâ”‚Â Â  â””â”€â”€ tsconfig.server.json\nâ”œâ”€â”€ src                   ãƒ»ãƒ»ãƒ»(3)ã€€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£\nâ”‚Â Â  â”œâ”€â”€ app\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.css\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.html\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.spec.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.component.ts\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ app.module.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ message\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ message.service.ts\nâ”‚Â Â  â”œâ”€â”€ assets\nâ”‚Â Â  â”œâ”€â”€ environments\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ environment.prod.ts\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ environment.ts\nâ”‚Â Â  â”œâ”€â”€ favicon.ico\nâ”‚Â Â  â”œâ”€â”€ index.html\nâ”‚Â Â  â”œâ”€â”€ main.ts\nâ”‚Â Â  â”œâ”€â”€ polyfills.ts\nâ”‚Â Â  â”œâ”€â”€ styles.css\nâ”‚Â Â  â”œâ”€â”€ test.ts\nâ”‚Â Â  â”œâ”€â”€ tsconfig.app.json\nâ”‚Â Â  â”œâ”€â”€ tsconfig.spec.json\nâ”‚Â Â  â””â”€â”€ typings.d.ts\nâ”œâ”€â”€ karma.conf.js\nâ”œâ”€â”€ package-lock.json\nâ”œâ”€â”€ package.json\nâ”œâ”€â”€ protractor.conf.js\nâ”œâ”€â”€ proxy.conf.json    ãƒ»ãƒ»ãƒ»(4) \nâ”œâ”€â”€ tsconfig.json\nâ”œâ”€â”€ tslint.json\nâ””â”€â”€ README.md\n```\n#### å„è³‡ç”£ã«ã¤ã„ã¦\n##### (1) dist\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸè³‡ç”£ã®å‡ºåŠ›å…ˆãƒ•ã‚©ãƒ«ãƒ€\n\n##### (1-1) dist/server\nã“ã“ã«ã‚µãƒ¼ãƒå´ã®ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸjsãƒ•ã‚¡ã‚¤ãƒ«ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\nserverãƒ•ã‚©ãƒ«ãƒ€ã‚’è¨­ã‘ã¦ã„ã‚‹ã®ã¯æœ¬è³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’åˆ†é›¢ã—ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚\nãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨ã§èª¬æ˜ã—ã¾ã™ãŒã€ã‚µãƒ¼ãƒå´ãƒ†ã‚¹ãƒˆç”¨jsãƒ•ã‚¡ã‚¤ãƒ«ã¯disté…ä¸‹ã®server_testãƒ•ã‚©ãƒ«ãƒ€ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n\n##### (1-2) dist/server/public\nã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã€‚\nã‚µãƒ¼ãƒå´ã‚¢ãƒ—ãƒªã®è³‡ç”£ã®ä¸€éƒ¨ã¨ã—ã¦ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\nExpressã®ã‚¢ãƒ—ãƒªã§ã¯é™çš„è³‡ç”£ã‚’publicãƒ•ã‚©ãƒ«ãƒ€ã«ç½®ãã®ãŒä¸€èˆ¬çš„ãªã®ã§ã“ã†ã—ã¾ã—ãŸã€‚\n\n##### (2) server\nã‚µãƒ¼ãƒè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚\nã„ã‚ã„ã‚æ‚©ã¿ã¾ã—ãŸãŒã€TypeScriptè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã“ã¨ã¨ãƒ†ã‚¹ãƒˆã™ã‚‹ã“ã¨ã‚’è€ƒæ…®ã—ã¦ã“ã®ã‚ˆã†ãªæ§‹æˆã«ã—ã¾ã—ãŸã€‚\n\n##### (3) src\nãƒ•ãƒ­ãƒ³ãƒˆã®å®Ÿè¡Œè³‡ç”£ã¨ãƒ†ã‚¹ãƒˆè³‡ç”£ã‚’æ ¼ç´ã™ã‚‹ãŸã‚ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒªã€‚\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ä½œæˆã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã‚„ã‚¢ãƒ—ãƒªèµ·å‹•ã¯`ng`ã‚³ãƒãƒ³ãƒ‰ã§å®Ÿæ–½ã—ã¾ã™ã€‚\n\n##### (4) proxy.conf.json\n`npm start`ã§ãƒ•ãƒ­ãƒ³ãƒˆå´ã¨ã‚µãƒ¼ãƒå´ã‚’åŒæ™‚ã«èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‹ã‚‰ã‚µãƒ¼ãƒå´ã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã§ã™ã€‚\n\n\n\n\n## æ§‹ç¯‰æ‰‹é †\n\n### 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ\n* Angular CLIã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ npm install -g @angular/cli\n\t```\n\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç”Ÿæˆã€Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n\n\t```\n\t$ ng new sample\n\t$ cd sample\n\t$ npm install\n\t```\n\n* Angular CLIã§ã‚ã‚‰ã‹ã˜ã‚å®šç¾©ã—ã¦ã„ã‚‹ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ä»–ã«å¿…è¦ãªã‚‚ã®ã‚’ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\n<dd>\n    <dt>[`express`](https://www.npmjs.com/package/express)\n        <dd>Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯\n    <dt>[`body-parser`](https://www.npmjs.com/package/body-parser)\n        <dd>ãƒªã‚¯ã‚¨ã‚¹ãƒˆãƒœãƒ‡ã‚£ã®ãƒ‘ãƒ¼ã‚µãƒ¼\n    <dt>[`mongoose`](https://www.npmjs.com/package/mongoose)\n        <dd>MongoDBã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ç°¡å˜ã«ã—ã¦ãã‚Œã‚‹API\n    <dt>[`nodemon`](https://www.npmjs.com/package/nodemon)\n        <dd>nodeå®Ÿè¡Œæ™‚ã«ã‚½ãƒ¼ã‚¹ã®å¤‰æ›´ã‚’è‡ªå‹•åæ˜ ã—ã¦ãã‚Œã‚‹ãƒ„ãƒ¼ãƒ«\n    <dt>[`npm-run-all`](https://www.npmjs.com/package/npm-run-all)\n        <dd>npm-scripts ã®é€£çµå®Ÿè¡Œã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸\n</dd>\n\n\t```\n\t$ npm install --save express body-parser mongoose\n\t$ npm install --save-dev @types/mongoose nodemon npm-run-all\n\t```\n\n\n\n### 2. ã‚µãƒ¼ãƒå´ã‚’ä½œæˆ\nAngular CLIã§ä½œã£ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç›´ä¸‹ã«`server`ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œã£ã¦ã€ãã®ä¸­ã«ã‚µãƒ¼ãƒå´ã®å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãã¾ã™ã€‚\n#### server/models/message.ts\nMongoDBã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ãŸã‚ã®ãƒ¢ãƒ‡ãƒ«ã‚’å®šç¾©ã—ã¾ã™ã€‚\nDBã‚¢ã‚¯ã‚»ã‚¹ã«ã¯mangoosã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as mongoose from 'mongoose';\n\nconst Message = mongoose.model('messages', new mongoose.Schema({\n  message: {type: String}\n}));\n\nexport { Message };\n```\n\n\n\n#### server/routes/message.ts\nã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã”ã¨ã®å‡¦ç†ã‚’è¨˜è¿°ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã‚’å®šç¾©ã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®å–å¾—ã¨ç™»éŒ²ã«ã¯`server/models/message.ts`ã‚’ä½¿ã„ã¾ã™ã€‚\n\n```js:message.ts\nimport * as http from 'http';\nimport { Router, Response } from 'express';\nimport { Message } from '../models/message';\n\nconst messageRouter: Router = Router();\n\n// å…¨ã¦ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹\nmessageRouter.get('/', (req, res, next) => {\n  Message.find(function(err, doc) {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({messages: doc});\n  });\n});\n\n// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹\nmessageRouter.post('/', (req, res, next) => {\n  const message = new Message({\n    message: req.body.message\n  });\n\n  message.save((err, result) => {\n    if (err) {\n      return res.status(500).json({\n          title: 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚',\n          error: err.message\n      });\n    }\n\n    return res.status(200).json({\n      message: 'ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚',\n      obj: result\n    });\n  });\n});\n\nexport { messageRouter };\n```\n\n\n#### server/app.ts\nExpressã§ä½¿ç”¨ã™ã‚‹ãƒ«ãƒ¼ã‚¿ã¨ä¾å­˜ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’å®šç¾©ã™ã‚‹ãŸã‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã¯`/api/messages`ã«è¨­å®šã—ã€\nmongooseã‚’ä½¿ã£ã¦MongoDBã¸ã®æ¥ç¶šè¨­å®šã‚’ã—ã¦ã„ã¾ã™ã€‚\nã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¯ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã¨publicãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ã—ã¦ã„ã‚‹ã®ã§ã€\né™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã¯publicãƒ•ã‚©ãƒ«ãƒ€ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```js:app.ts\nimport * as express from 'express';\nimport * as path from 'path';\nimport * as bodyParser from 'body-parser';\nimport * as mongoose from 'mongoose';\n\nimport { messageRouter } from './routes/message';\nimport { MONGO_URL } from './config';\n\nclass App {\n  public express: express.Application;\n\n  constructor() {\n    this.express = express();\n    this.middleware();\n    this.routes();\n  }\n\n  private middleware(): void {\n    this.express.use(bodyParser.json());\n    this.express.use(bodyParser.urlencoded({ extended: false }));\n    // æ¥ç¶šã™ã‚‹ MongoDB ã®è¨­å®š\n    mongoose.Promise = global.Promise;\n    mongoose.connect(process.env.MONGO_URL || MONGO_URL, {\n      useMongoClient: true,\n    });\n    process.on('SIGINT', function() { mongoose.disconnect(); });\n  }\n\n  private routes(): void {\n    // é™çš„è³‡ç”£ã¸ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.use(express.static(path.join(__dirname, 'public')));\n\n    this.express.use('/api/messages', messageRouter);\n\n    // ãã®ä»–ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¯indexãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°\n    this.express.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'public/index.html'));\n    });\n  }\n}\n\nexport default new App().express;\n```\n\n\n#### server/bin/www\\.ts\nNode.js ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ãŸã‚ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n\n```js:www.ts\nimport * as http from 'http';\nimport { SERVER_PORT } from '../config';\nimport app from '../app';\n\n\n\n// ãƒãƒ¼ãƒˆã®è¨­å®š.\nconst port = normalizePort(process.env.PORT || SERVER_PORT);\napp.set('port', port);\n\n\n// HTTPã‚µãƒ¼ãƒç”Ÿæˆ.\nconst server = http.createServer(app);\nserver.listen(port, () => console.log(`API running on localhost:${port}`));\nserver.on('error', onError);\nserver.on('listening', onListening);\n\n// ãƒãƒ¼ãƒˆã‚’æ­£è¦åŒ–.\nfunction normalizePort(val): number|string|boolean  {\n\n  const normalizedPort: number = (typeof val === 'string')\n    ? parseInt(val, 10)\n    : val;\n\n  if (isNaN(normalizedPort)) {\n    return val;\n  }\n\n  if (normalizedPort >= 0) {\n    return normalizedPort;\n  }\n\n  return false;\n}\n\n// ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒ©ãƒ¼.\nfunction onError(error): void {\n  if (error.syscall !== 'listen') {\n    throw error;\n  }\n\n  const bind = typeof port === 'string'\n    ? 'Pipe ' + port\n    : 'Port ' + port;\n\n  switch (error.code) {\n    case 'EACCES':\n      console.error(bind + ' requires elevated privileges');\n      process.exit(1);\n      break;\n    case 'EADDRINUSE':\n      console.error(bind + ' is already in use');\n      process.exit(1);\n      break;\n    default:\n      throw error;\n  }\n}\n\n// ã‚µãƒ¼ãƒèµ·å‹•æ™‚ã®ãƒªã‚¹ãƒŠãƒ¼.\nfunction onListening(): void {\n  const addr = server.address();\n  const bind = (typeof addr === 'string')\n    ? `pipe ${addr}`\n    : `port ${addr.port}`;\n}\n```\n\n#### server/config.ts\nã‚µãƒ¼ãƒå´ã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\nãƒãƒ¼ãƒˆã¨MongoDBã®URLã‚’å®šç¾©ã—ã¦ã„ã¾ã™ã€‚\nä»Šå›MongoDBã¯ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§ç«‹ã¦ã‚‹æƒ³å®šã§ã™ã€‚\n\n```js:config.ts\nexport const SERVER_PORT = 3000;\nexport const MONGO_URL = 'mongodb://localhost:27017/test';\n```\n\n\n\n### 3. ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå´ã‚’ä½œæˆ\nAngular CLIã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã™ã‚‹ã¨æœ€ä½é™ã®ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ãŒç”Ÿæˆã•ã‚Œã‚‹ã®ã§ã€\nã“ã“ã§ã¯ä¿®æ­£ãŒå¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ã€æ–°è¦ä½œæˆã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ç´¹ä»‹ã—ã¾ã™ã€‚\n\n\n#### src/app/message/message.service.ts\nã‚µãƒ¼ãƒå´ã‹ã‚‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã™ã‚‹ãŸã‚ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’æ–°è¦ä½œæˆã—ã¾ã™ã€‚\n\n```js:message.service.ts\nimport { Injectable } from '@angular/core';\nimport { Http, Response } from '@angular/http';\nimport { Observable } from 'rxjs/Rx';\nimport 'rxjs/Rx';\n\n@Injectable()\nexport class MessageService {\n\n  constructor(private http: Http) {}\n\n  getAll(): Observable<any> {\n    return this.http\n        .get('/api/messages')\n        .map((response: Response) => {\n            const result = response.json();\n            return result;\n        })\n        .catch((error: Response) => Observable.throw(error.json()));\n  }\n\n  regist(message: string): Observable<any> {\n    return this.http\n      .post('/api/messages', {message: message})\n      .map((response: Response) => {\n            const result = response.json();\n            return result;\n      })\n      .catch((error: Response) => Observable.throw(error.json()));\n  }\n}\n```\n\n\n\n\n\n#### src/app/app.component.ts\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä¿®æ­£ã—ã¦ã€messagesã‚’ä¿æŒã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\nMessageServiceã‚’ä½¿ã£ã¦ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ã—ã¾ã™ã€‚\n\n```js:app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { MessageService } from './message/message.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css'],\n  providers: [ MessageService ]\n})\nexport class AppComponent {\n  messages: Array<any>;\n  message: string;\n\n  constructor(private messageService: MessageService) {\n    this.getMessages();\n  }\n\n  getMessages(): void {\n    this.messageService\n      .getAll()\n      .subscribe((res: any) => {\n        this.messages = res.messages;\n      });\n  }\n\n  registerMessage(): void {\n    if (!this.message) {\n      return;\n    }\n\n    this.messageService\n      .register(this.message)\n      .subscribe((res: any) => {\n        this.message = '';\n        this.getMessages();\n      });\n  }\n}\n```\n\n\n#### src/app/app.component.html\næ—¢å­˜ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¿®æ­£ã—ã¦ã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã¨ç™»éŒ²ã®UIã«æ›¸ãæ›ãˆã¾ã™ã€‚\n\n```html:app.component.html\n<div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§</h1>\n    <button id=\"getMessagesButton\" (click)=\"getMessages()\">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ã‚’æœ€æ–°åŒ–</button>\n    <ul id=\"messageList\">\n      <li *ngFor=\"let item of messages\">\n        {{item.message}}\n      </li>\n    </ul>\n  </div>\n  <div>\n    <h1>ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ç™»éŒ²</h1>\n    <input type=\"text\" id=\"registerMessage\" [(ngModel)]=\"message\" placeholder=\"ç™»éŒ²ã™ã‚‹ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚\">\n    <button type=\"submit\" id=\"registerMessageButton\" (click)='registerMessage()'>ç™»éŒ²</button>\n  </div>\n</div>\n```\n#### src/app/app.module.ts\nHttpModuleã€FormsModuleã€MessageServiceã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n\n```js:app.module.ts\nimport { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { HttpModule } from '@angular/http';\nimport { FormsModule } from '@angular/forms';\n\nimport { AppComponent } from './app.component';\nimport { MessageService } from './message/message.service';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    FormsModule\n  ],\n  providers: [MessageService],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n\n\n```\n\n\n### 4. ãƒ“ãƒ«ãƒ‰ã¾ã‚ã‚Šç’°å¢ƒã‚’æ•´å‚™\n\n#### pakcage.json\nã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ä¿®æ­£ã—ã¾ã™ã€‚\n(npm scriptsã¯ä¾¿åˆ©ã§ã™ãŒã€ã‚³ãƒ¡ãƒ³ãƒˆãŒè¨˜è¿°ã§ããªã„ã®ãŒæ®‹å¿µã ãªãƒ¼ã¨æ€ã„ã¾ã—ãŸã€‚)\n\n```json:package.json\n\n  \"scripts\": {\n    ...\n    \"start\": \"npm-run-all -s build:server -p start:*\",\n    \"start:client\": \"ng serve --aot=true --progress=false --proxy-config proxy.conf.json\",\n    \"start:server\": \"run-p watch:server boot:server\",\n    \"watch:server\": \"tsc -w -p ./server/tsconfig.server.json\",\n    \"boot:server\": \"nodemon ./dist/server/bin/www.js\",\n    \"build\": \"run-s build:server build:client\",\n    \"build:client\": \"ng build --output-path=./dist/server/public\",\n    \"build:server\": \"tsc -p ./server/tsconfig.server.json\",\n    \"buildRun\": \"run-s build boot:server\",\n    ...\n  },\n```\n\n* **start**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **start:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦èµ·å‹•ã—ã¾ã™ã€‚Angular CLIã®ngã‚³ãƒãƒ³ãƒ‰ã«ãŠä»»ã›ã—ã¦ã„ã¾ã™ã€‚ãªãŠstartã§ã¯ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã§äºŒã¤ã®ã‚µãƒ¼ãƒã‚’èµ·å‹•ã™ã‚‹ã®ã§ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ï¼ˆãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ã¤ã„ã¦ã¯ä¸‹ã§è§¦ã‚Œã¾ã™ã€‚\n* **start:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦Expressã‚’èµ·å‹•ã—ã¾ã™ã€‚\n* **watch:server**ã§ã‚µãƒ¼ãƒå´ã®TypeScriptã‚’ã‚¦ã‚©ãƒƒãƒã—ã¦å¤‰æ›´ãŒã‚ã‚Œã°ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã™ã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚\n* **boot:server**ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒå´è³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚nodeã§ã¯ãªãnodemonã‚’ä½¿ã†ã“ã¨ã§ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ãŸã‚µãƒ¼ãƒè³‡ç”£ã«æ›´æ–°ãŒã‚ã£ãŸå ´åˆã§ã‚‚å³åº§ã«æ›´æ–°ã‚’åæ˜ ã™ã‚‹ã‚ˆã†ã«ã—ã¦ã„ã¾ã™ã€‚\n* **build**ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¾ã™ã€‚\n* **build:server**ã§ã‚µãƒ¼ãƒè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è¨­å®šã¯ä¸‹ã§è§¦ã‚Œã‚‹`/server/tsconfig.server.json`ã‚’ä½¿ã„ã¾ã™ã€‚\n* **build:client**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã¦ã„ã¾ã™ã€‚å‡ºåŠ›å…ˆã¯ã‚µãƒ¼ãƒå´è³‡ç”£ã®é™çš„ãƒ•ã‚¡ã‚¤ãƒ«æ ¼ç´ãƒ•ã‚©ãƒ«ãƒ€ï¼ˆ`dist/server/public`ï¼‰ã‚’æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n* **buildRun**ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã¨ã‚µãƒ¼ãƒè³‡ç”£ã®ä¸¡æ–¹ã‚’ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã—ã‚µãƒ¼ãƒè³‡ç”£ã‚’èµ·å‹•ã—ã¾ã™ã€‚ã¨ã‚Šã‚ãˆãšãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ãŸã„æ™‚ã®ä¾¿åˆ©ã‚³ãƒãƒ³ãƒ‰ã§ã™ã€‚\n\n\n\n#### server/tsconfig.server.json\nã‚µãƒ¼ãƒè³‡ç”£ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã¨ãã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`outDir`ã§å‡ºåŠ›å…ˆã‚’dist/serverã«æŒ‡å®šã—ã¦ã„ã¾ã™ã€‚\n\n```json:tsconfig.server.json\n{\n  \"extends\": \"../tsconfig.json\",\n  \"compilerOptions\": {\n    \"preserveConstEnums\": true,\n    \"outDir\": \"../dist/server\",\n    \"mapRoot\": \"../dist/server\",\n    \"module\": \"commonjs\"\n  }\n}\n```\n\n#### proxy.conf.json\n`start`ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã¨ã‚µãƒ¼ãƒã®ï¼’ã¤ã‚’èµ·å‹•ã—ãŸæ™‚ã«ã€ã‚¯ãƒ©\nã‚¤ã‚¢ãƒ³ãƒˆã‹ã‚‰ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã®ãƒ—ãƒ­ã‚­ã‚·è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¾ã™ã€‚\n`/api`å§‹ã¾ã‚‹ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ã‚µãƒ¼ãƒã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨ã¿ãªã—ã¦ãƒ—ãƒ­ã‚­ã‚·è¨­å®šã‚’è¡Œã„ã¾ã™ã€‚\n\n```json:proxy.conf.json\n{\n  \"/api\": {\n    \"target\": \"http://localhost:3000\",\n    \"secure\": false\n  }\n}\n```\n\n#### MongoDBã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã§ç«‹ã¡ä¸Šã’ã‚‹\nå…·ä½“çš„ãªæ–¹æ³•ã«ã¤ã„ã¦è§¦ã‚Œã¾ã›ã‚“ãŒã€Dockerã§ã‚‚ãªã‚“ã§ã‚‚ã„ã„ã®ã§ãƒ­ãƒ¼ã‚«ãƒ«ã«ãƒãƒ¼ãƒˆ27017ã§MongoDBã‚’ç«‹ã¡ä¸Šã’ã¦ãŠã„ã¦ãã ã•ã„ã€‚DBã€ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆãªã©ã¯ä¸è¦ã§ã™ã€‚\n\n\n\n### 5. è©¦ã—ã¦ã¿ã‚‹\n#### ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒèµ·å‹•ã—ã¾ã™ã€‚\n\n\t```\n\t$ npm start \n\t```\n\n* èµ·å‹•ã—ãŸã‚‰`http://localhost:4200`ã«ã‚¢ã‚¯ã‚»ã‚¹ã—ã¦ã¿ã¾ã™ã€‚ã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç™»éŒ²ã™ã‚‹ã¨é©å®œä¸€è¦§ã«è¿½åŠ ã•ã‚Œã¦ã„ãã¾ã™ã€‚\n\n![ã‚¢ãƒ•ã‚šãƒªæ¦‚è¦.png](https://qiita-image-store.s3.amazonaws.com/0/49915/301875a6-1116-60f3-11a9-df6eb55f54c2.png)\n\n* è©¦ã—ã«ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆè³‡ç”£ã‹ã‚µãƒ¼ãƒè³‡ç”£ã‚’ä¿®æ­£ã—ã¦ã¿ã‚‹ã¨ã€ã‚³ãƒ³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚Œã¦ã‚¢ãƒ—ãƒªã«å¤‰æ›´ãŒãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã«åæ˜ ã•ã‚Œã‚‹ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n\t```\n\t$ npm run build\n\t```\n\n#### ã‚¢ãƒ—ãƒªã‚’ãƒ“ãƒ«ãƒ‰ã—ã¦èµ·å‹•ã—ã¦ã¿ã‚‹\n* ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ã§ä¸‹è¨˜ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¢ãƒ—ãƒªãŒãƒ“ãƒ«ãƒ‰ã•ã‚Œdistãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã«å‡ºåŠ›ã•ã‚ŒãŸå¾Œã«èµ·å‹•ã•ã‚Œã¾ã™ã€‚\nãƒ“ãƒ«ãƒ‰ã—ãŸã‚¢ãƒ—ãƒªã¯`http://localhost:3000`ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã™ã€‚\n\t```\n\t$ npm run buildRun\n\t```\n\n## çµ‚ã‚ã‚Šã«\nä»Šå›ã¯Angular CLIãƒ™ãƒ¼ã‚¹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ™ãƒ¼ã‚¹ã«ã—ã¦MEANã‚¹ã‚¿ãƒƒã‚¯ã®æœ€å°æ§‹æˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’æ§‹ç¯‰ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’èµ·å‹•ã€ãƒ“ãƒ«ãƒ‰ã™ã‚‹ã“ã¨ã¯ã§ãã‚‹ã‚ˆã†ã«ãªã£ãŸã®ã§ã€æ¬¡å›ã€Œ[ãã®ï¼’. ãƒ†ã‚¹ãƒˆç·¨](http://qiita.com/Takumon/items/b4211fcabad740baa551)ã€ã§ã¯ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ã®ä½œæˆã¨ãƒ†ã‚¹ãƒˆå®Ÿæ–½ç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦ç´¹ä»‹ã—ã‚ˆã†ã¨æ€ã„ã¾ã™ã€‚\n\n\n","comments_count":0,"created_at":"2017-07-19T02:06:59+09:00","likes_count":27,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"JavaScript"},{"weight":50,"keyword":"JavaScript"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/386efa75-7773-5424-94a8-1a2b3ae52a6b/","title":"Asciidocæ–‡æ³•ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®æ—¥æœ¬èªè¨³","date":"2017-05-29T03:14:20+09:00","excerpt":"æ¦‚è¦AsciiDoc Syntax Quick Reference ã‚’æ—¥æœ¬èªè¨³ã—ãŸã‚‚ã®ã§ã™ã€‚ã¨ã“ã‚ã©ã“ã‚æ„è¨³ã—ãŸã‚Šã€è£œè¶³èª¬æ˜ã‚’è¿½åŠ ã—ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰Asciidoctorã‚’ä½¿ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†æ–¹ã€…ã®ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ...","tags":["Markdown","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","asciidoctor","asciidoc","Qiita"],"keywords":["Markdown"],"thumbnail":""},"id":"386efa75-7773-5424-94a8-1a2b3ae52a6b","title":"Asciidocæ–‡æ³•ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®æ—¥æœ¬èªè¨³","rendered_body":"\n<h1>\n<span id=\"æ¦‚è¦\" class=\"fragment\"></span><a href=\"#%E6%A6%82%E8%A6%81\"><i class=\"fa fa-link\"></i></a>æ¦‚è¦</h1>\n\n<p><a href=\"http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/\" rel=\"nofollow noopener\" target=\"_blank\">AsciiDoc Syntax Quick Reference</a> ã‚’æ—¥æœ¬èªè¨³ã—ãŸã‚‚ã®ã§ã™ã€‚<br>\nã¨ã“ã‚ã©ã“ã‚æ„è¨³ã—ãŸã‚Šã€è£œè¶³èª¬æ˜ã‚’è¿½åŠ ã—ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰Asciidoctorã‚’ä½¿ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†æ–¹ã€…ã®ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®url\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AEurl\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®URL</h1>\n\n<p>GitHub Pagesã®ä¸‹è¨˜URLã«ã¦å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://takumon.github.io/asciidoc-syntax-quick-reference-japanese-translation/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://takumon.github.io/asciidoc-syntax-quick-reference-japanese-translation/</a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/f9d71b849f52ad0e5c128d814f813939a770567a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36616463636335332d623866322d323964302d613461382d3738656639326461306236382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f9d71b849f52ad0e5c128d814f813939a770567a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36616463636335332d623866322d323964302d613461382d3738656639326461306236382e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2017-06-03 12.43.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6adccc53-b8f2-29d0-a4a8-78ef92da0b68.png\"></a></p>\n\n<h1>\n<span id=\"asciidoctorã¨ã¯\" class=\"fragment\"></span><a href=\"#asciidoctor%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Asciidoctorã¨ã¯</h1>\n\n<p>Asciidoctorã¯Asciidocã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’HTML5ã‚„DocBook 5ã€PDFã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ç¾¤ã§ã™ã€‚Rubyã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚ŠRubyGem.orgã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§Githubã«ãƒ›ã‚¹ãƒˆã•ã‚Œã¦ãŠã‚Šã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"asciidocã¨ã¯\" class=\"fragment\"></span><a href=\"#asciidoc%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Asciidocã¨ã¯</h1>\n\n<p>Markdownãªã©ã®ã‚ˆã†ãªè»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªã®ä¸€ã¤ã§ã™ã€‚Markdownã‚ˆã‚Šã‚‚é«˜ã„è¡¨ç¾åŠ›ã€é«˜ã„å¯èª­æ€§ã‚’æŒã¡åˆã‚ã›ãŸã‚‚ã®ã§ã€æŠ€è¡“æ–‡æ›¸ã‚’æ›¸ãã®ã«é©ã—ã¦ã„ã¾ã™ã€‚<br>\nã¾ãŸOfficeæ–‡ç« ã¨æ¯”ã¹ã¦ã‚‚ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ãªã®ã§ã€è»½é‡ã§ã€GITãªã©ã®æ§‹æˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ç›¸æ€§ãŒè‰¯ã„ã¨ã„ã£ãŸãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚</p>\n","body":"# æ¦‚è¦\n[AsciiDoc Syntax Quick Reference](http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/) ã‚’æ—¥æœ¬èªè¨³ã—ãŸã‚‚ã®ã§ã™ã€‚\nã¨ã“ã‚ã©ã“ã‚æ„è¨³ã—ãŸã‚Šã€è£œè¶³èª¬æ˜ã‚’è¿½åŠ ã—ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰Asciidoctorã‚’ä½¿ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†æ–¹ã€…ã®ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚\n\n# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®URL\nGitHub Pagesã®ä¸‹è¨˜URLã«ã¦å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚\nhttps://takumon.github.io/asciidoc-syntax-quick-reference-japanese-translation/\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2017-06-03 12.43.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6adccc53-b8f2-29d0-a4a8-78ef92da0b68.png)\n\n# Asciidoctorã¨ã¯\nAsciidoctorã¯Asciidocã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’HTML5ã‚„DocBook 5ã€PDFã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ç¾¤ã§ã™ã€‚Rubyã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚ŠRubyGem.orgã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§Githubã«ãƒ›ã‚¹ãƒˆã•ã‚Œã¦ãŠã‚Šã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã™ã€‚\n\n# Asciidocã¨ã¯\nMarkdownãªã©ã®ã‚ˆã†ãªè»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªã®ä¸€ã¤ã§ã™ã€‚Markdownã‚ˆã‚Šã‚‚é«˜ã„è¡¨ç¾åŠ›ã€é«˜ã„å¯èª­æ€§ã‚’æŒã¡åˆã‚ã›ãŸã‚‚ã®ã§ã€æŠ€è¡“æ–‡æ›¸ã‚’æ›¸ãã®ã«é©ã—ã¦ã„ã¾ã™ã€‚\nã¾ãŸOfficeæ–‡ç« ã¨æ¯”ã¹ã¦ã‚‚ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ãªã®ã§ã€è»½é‡ã§ã€GITãªã©ã®æ§‹æˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ç›¸æ€§ãŒè‰¯ã„ã¨ã„ã£ãŸãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚\n\n\n","comments_count":2,"created_at":"2017-05-29T03:14:20+09:00","likes_count":14,"reactions_count":0},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"},{"weight":50,"keyword":"asciidoctor"},{"weight":50,"keyword":"Qiita"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/94324d66-4d90-51bd-8970-5e5fce7ed13c/","title":"Jenkins Pipelineã§Yamlã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•","date":"2017-06-17T12:14:16+09:00","excerpt":"Jenkins Pipelineã®Jenkinsfileã‚’ä½œã£ã¦ã„ã¦ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(Gradleã§ã„ã†ã€gradle.propertiesã®ã‚ˆã†ãªæ„Ÿã˜)ãŒæ¬²ã—ã„ã¨æ€ã†æ™‚ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jnekinsfileã‹ã‚‰èª­ã¿è¾¼ã‚“ã§...","tags":["Jenkins","CI","Pipeline","Qiita"],"keywords":["Jenkins"],"thumbnail":""},"id":"94324d66-4d90-51bd-8970-5e5fce7ed13c","title":"Jenkins Pipelineã§Yamlã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•","rendered_body":"<p>Jenkins Pipelineã®Jenkinsfileã‚’ä½œã£ã¦ã„ã¦ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(Gradleã§ã„ã†ã€gradle.propertiesã®ã‚ˆã†ãªæ„Ÿã˜)ãŒæ¬²ã—ã„ã¨æ€ã†æ™‚ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jnekinsfileã‹ã‚‰èª­ã¿è¾¼ã‚“ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h1>\n<span id=\"1-pipeline-utility-steps-pluginã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-pipeline-utility-steps-plugin%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Pipeline Utility Steps Plugin</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h1>\n\n<p>Jenkinsã§æ§˜ã€…ãªå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç°¡å˜ã«èª­ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚Yamlãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«ä½¿ã„ã¾ã™ã€‚JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«ã¯å…¥ã£ã¦ã„ãªã„ã®ã§ã€è‡ªåˆ†ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<h1>\n<span id=\"2-configymlã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-configyml%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. config.ymlã‚’ä½œæˆ</h1>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ï¼ˆJenkinsfileã¨åŒã˜å ´æ‰€ï¼‰ã«config.ymlã‚’ä½œã‚Šã¾ã™ã€‚ </p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">config.yml</span></div>\n<div class=\"highlight\"><pre><span class=\"na\">someProp</span><span class=\"pi\">:</span> <span class=\"s\">å€¤ï¼‘</span>\n<span class=\"na\">someCategory</span><span class=\"pi\">:</span>\n  <span class=\"na\">prop</span><span class=\"pi\">:</span> <span class=\"s\">å€¤ï¼’</span>\n  <span class=\"na\">arrayProp</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"s\">é…åˆ—å€¤ï¼</span>\n    <span class=\"pi\">-</span> <span class=\"s\">é…åˆ—å€¤ï¼‘</span>\n    <span class=\"pi\">-</span> <span class=\"s\">é…åˆ—å€¤ï¼’</span>\n</pre></div>\n</div>\n\n<h1>\n<span id=\"3-jenkinsfileã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-jenkinsfile%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. Jenkinsfileã‚’ä½œæˆ</h1>\n\n<p>Jenkinsfileã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»Šå›ã¯Declarative Pipelineã®æ›¸ãæ–¹ã§ã™ãŒã€Scripted Pipelinesã§ã‚‚ã»ã¨ã‚“ã©åŒã˜æ›¸ãæ–¹ã ã¨æ€ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsfie</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">pipeline</span> <span class=\"o\">{</span>\n    <span class=\"n\">agent</span> <span class=\"n\">any</span>\n\n    <span class=\"n\">environment</span> <span class=\"o\">{</span>\n        <span class=\"n\">CONFIG</span> <span class=\"o\">=</span> <span class=\"s2\">\"\"</span> <span class=\"c1\">//ã“ã®æ™‚ç‚¹ã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚ãªã„ã®ã§ä»®ã®å€¤ã‚’è¨­å®šã—ã¦ãŠã</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"n\">stages</span> <span class=\"o\">{</span>\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ</span>\n                <span class=\"n\">checkout</span> <span class=\"n\">scm</span>\n\n                <span class=\"n\">script</span> <span class=\"o\">{</span>\n                    <span class=\"c1\">// ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆå¾Œã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</span>\n                    <span class=\"c1\">// Pipeline Utility Steps Pluginã®é–¢æ•°ã‚’ä½¿ã†</span>\n                    <span class=\"n\">CONFIG</span> <span class=\"o\">=</span> <span class=\"n\">readYaml</span><span class=\"o\">(</span><span class=\"nl\">file:</span> <span class=\"s1\">'config.yml'</span><span class=\"o\">)</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someProp ï¼ ${CONFIG.someProp}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.prop ï¼ ${CONFIG.someCategory.prop}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.arrayProp[0] ï¼ ${CONFIG.someCategory.arrayProp[0]}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.arrayProp[1] ï¼ ${CONFIG.someCategory.arrayProp[1]}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.arrayProp[2] ï¼ ${CONFIG.someCategory.arrayProp[2]}\"</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<p>ã“ã‚Œã§Jobã‚’å®Ÿè¡Œã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ï¼ˆä¸€éƒ¨æŠœç²‹ï¼‰</span></div>\n<div class=\"highlight\"><pre>[Pipeline] { (è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§)\n[Pipeline] echo\nCONFIG.someProp ï¼ å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.prop ï¼ å€¤ï¼’\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[0] ï¼ é…åˆ—å€¤ï¼\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[1] ï¼ é…åˆ—å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[2] ï¼ é…åˆ—å€¤ï¼’\n</pre></div>\n</div>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jenkins Pipelineã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚<br>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Pipeline Utility Steps Plugin</a>ã¯propertiesãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­ã¿è¾¼ã‚ã‚‹ã®ã§ã€gradle.propertiesã‚’èª­ã¿è¾¼ã‚“ã§ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gradleã¨Jenkins Pipelineã§å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚</p>\n","body":"Jenkins Pipelineã®Jenkinsfileã‚’ä½œã£ã¦ã„ã¦ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(Gradleã§ã„ã†ã€gradle.propertiesã®ã‚ˆã†ãªæ„Ÿã˜)ãŒæ¬²ã—ã„ã¨æ€ã†æ™‚ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jnekinsfileã‹ã‚‰èª­ã¿è¾¼ã‚“ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\n# 1. [Pipeline Utility Steps Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nJenkinsã§æ§˜ã€…ãªå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç°¡å˜ã«èª­ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚Yamlãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«ä½¿ã„ã¾ã™ã€‚JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«ã¯å…¥ã£ã¦ã„ãªã„ã®ã§ã€è‡ªåˆ†ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚\n\n# 2. config.ymlã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹\u001cï¼ˆJenkinsfileã¨åŒã˜å ´æ‰€ï¼‰ã«config.ymlã‚’ä½œã‚Šã¾ã™ã€‚ \n\n```yaml:config.yml\nsomeProp: å€¤ï¼‘\nsomeCategory:\n  prop: å€¤ï¼’\n  arrayProp:\n    - é…åˆ—å€¤ï¼\n    - é…åˆ—å€¤ï¼‘\n    - é…åˆ—å€¤ï¼’\n```\n\n# 3. Jenkinsfileã‚’ä½œæˆ\nJenkinsfileã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»Šå›ã¯Declarative Pipelineã®æ›¸ãæ–¹ã§ã™ãŒã€Scripted Pipelinesã§ã‚‚ã»ã¨ã‚“ã©åŒã˜æ›¸ãæ–¹ã ã¨æ€ã„ã¾ã™ã€‚\n\n```groovy:Jenkinsfie\npipeline {\n    agent any\n    \n    environment {\n        CONFIG = \"\" //ã“ã®æ™‚ç‚¹ã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚ãªã„ã®ã§ä»®ã®å€¤ã‚’è¨­å®šã—ã¦ãŠã\n    }\n    \n    stages {\n        stage('ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿') {\n            steps {\n                // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n                checkout scm\n                \n                script {\n                    // ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆå¾Œã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€\n                    // Pipeline Utility Steps Pluginã®é–¢æ•°ã‚’ä½¿ã†\n                    CONFIG = readYaml(file: 'config.yml')\n                }\n            }\n        }\n        \n        stage('è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§') {\n            steps {\n                echo \"CONFIG.someProp ï¼ ${CONFIG.someProp}\"\n                echo \"CONFIG.someCategory.prop ï¼ ${CONFIG.someCategory.prop}\"\n                echo \"CONFIG.someCategory.arrayProp[0] ï¼ ${CONFIG.someCategory.arrayProp[0]}\"\n                echo \"CONFIG.someCategory.arrayProp[1] ï¼ ${CONFIG.someCategory.arrayProp[1]}\"\n                echo \"CONFIG.someCategory.arrayProp[2] ï¼ ${CONFIG.someCategory.arrayProp[2]}\"\n            }\n        }\n    }\n}\n```\n\nã“ã‚Œã§Jobã‚’å®Ÿè¡Œã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```:Jenkinsã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ï¼ˆä¸€éƒ¨æŠœç²‹ï¼‰\n[Pipeline] { (è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§)\n[Pipeline] echo\nCONFIG.someProp ï¼ å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.prop ï¼ å€¤ï¼’\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[0] ï¼ é…åˆ—å€¤ï¼\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[1] ï¼ é…åˆ—å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[2] ï¼ é…åˆ—å€¤ï¼’\n```\n\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jenkins Pipelineã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚\n[Pipeline Utility Steps Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin)ã¯propertiesãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­ã¿è¾¼ã‚ã‚‹ã®ã§ã€gradle.propertiesã‚’èª­ã¿è¾¼ã‚“ã§ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gradleã¨Jenkins Pipelineã§å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚\n","comments_count":0,"created_at":"2017-06-17T12:14:16+09:00","likes_count":3,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/4bf6ffd5-8640-508e-ab47-1a55df05d72e/","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","date":"2017-04-07T02:38:55+09:00","excerpt":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚Githubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™...","tags":["Java","Jenkins","CI","gradle","Pipeline","Qiita"],"keywords":["Java"],"thumbnail":""},"id":"4bf6ffd5-8640-508e-ab47-1a55df05d72e","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","rendered_body":"<p>Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚<br>\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚</p>\n\n<h1>\n<span id=\"declarative-pipeline\" class=\"fragment\"></span><a href=\"#declarative-pipeline\"><i class=\"fa fa-link\"></i></a>Declarative Pipeline</h1>\n\n<p>ã„ã¾ã¾ã§ã¯Jenkinsfileã‚’</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>node {\n  ....\n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€<a href=\"https://jenkins.io/doc/book/pipeline/syntax/\" rel=\"nofollow noopener\" target=\"_blank\">Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã‚‹ã¨<br>\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€<br>\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>pipeline {\n  ....  \n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€<br>\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€<br>\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\" class=\"fragment\"></span><a href=\"#%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3\"><i class=\"fa fa-link\"></i></a>è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³</h1>\n\n<p>JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®</p>\n\n<ul>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F\" rel=\"nofollow noopener\" target=\"_blank\">Checkstyle Plugin</a>ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">FindBugs Plugin</a>ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ </li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">PMD Plugin</a>ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">DRY Plugin</a>ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Step Counter Plugin</a>ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Task Scanner Plugin</a>ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Javadoc Plugin</a>ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Warnings Plugin</a>ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">JaCoCo Plugin</a>ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n</ul>\n\n<h1>\n<span id=\"jenkinsfile\" class=\"fragment\"></span><a href=\"#jenkinsfile\"><i class=\"fa fa-link\"></i></a>Jenkinsfile</h1>\n\n<p>Githubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚<br>\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚<br>\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsfile</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">pipeline</span> <span class=\"o\">{</span>\n    <span class=\"n\">agent</span> <span class=\"n\">any</span>\n    <span class=\"c1\">// å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">environment</span> <span class=\"o\">{</span>\n        <span class=\"n\">reportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/reports'</span>\n        <span class=\"n\">javaDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/java'</span>\n        <span class=\"n\">resourcesDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/resources'</span>\n        <span class=\"n\">testReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/test-results/test'</span>\n        <span class=\"n\">jacocoReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/jacoco'</span> \n        <span class=\"n\">javadocDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/docs/javadoc'</span>\n        <span class=\"n\">libsDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/libs'</span>\n        <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n        <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">stages</span> <span class=\"o\">{</span>\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'äº‹å‰æº–å‚™'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n\n                <span class=\"c1\">// ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ</span>\n                <span class=\"n\">checkout</span> <span class=\"n\">scm</span>\n\n                <span class=\"c1\">// ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"Jenkinsfile\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"build.gradle\"</span>\n\n                <span class=\"c1\">// scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹</span>\n                <span class=\"n\">script</span> <span class=\"o\">{</span>\n                    <span class=\"c1\">// Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹</span>\n                    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n                        <span class=\"n\">sh</span> <span class=\"s1\">'chmod +x gradlew'</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">}</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'clean'</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'classes testClasses'</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"c1\">// postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹</span>\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n\n                    <span class=\"c1\">// JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§</span>\n                    <span class=\"c1\">// Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n\n                        <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n\n                        <span class=\"c1\">// Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€</span>\n                        <span class=\"c1\">// pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚</span>\n                        <span class=\"c1\">// ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦</span>\n                        <span class=\"c1\">// ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†</span>\n                        <span class=\"c1\">// https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'Java Compiler (javac)'</span><span class=\"o\">],</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</span>\n                <span class=\"n\">parallel</span><span class=\"o\">(</span>\n                    <span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span> <span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'check -x test'</span>\n\n                        <span class=\"c1\">// dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹</span>\n                        <span class=\"n\">dir</span><span class=\"o\">(</span><span class=\"n\">reportDir</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'CheckStylePublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'FindBugsPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'PmdPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'DryPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                        <span class=\"o\">}</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"c1\">// ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</span>\n                        <span class=\"c1\">// outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹</span>\n                        <span class=\"n\">stepcounter</span> <span class=\"nl\">outputFile:</span> <span class=\"s1\">'stepcount.xls'</span><span class=\"o\">,</span> <span class=\"nl\">outputFormat:</span> <span class=\"s1\">'excel'</span><span class=\"o\">,</span> <span class=\"nl\">settings:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'Java'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${javaDir}/**/*.java\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'SQL'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.sql\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'HTML'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.html\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'JS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.js\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'CSS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.css\"</span><span class=\"o\">]</span>\n                        <span class=\"o\">]</span>\n                        <span class=\"c1\">// ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹</span>\n                        <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"stepcount.xls\"</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'TasksPublisher'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">pattern:</span> <span class=\"s1\">'./**'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹</span>\n                            <span class=\"nl\">ignoreCase:</span> <span class=\"kc\">true</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹</span>\n                            <span class=\"c1\">// è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">high:</span> <span class=\"s1\">'System.out.System.err'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">normal:</span> <span class=\"s1\">'TODO,FIXME,XXX'</span><span class=\"o\">,</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'JavaDoc'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'javadoc -x classes'</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JavadocArchiver'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">javadocDir:</span> <span class=\"s2\">\"${javadocDir}\"</span><span class=\"o\">,</span>\n                            <span class=\"nl\">keepAll:</span> <span class=\"kc\">true</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">)</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n                   <span class=\"c1\">// JavaDocã®è­¦å‘Šã‚’åé›†</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'JavaDoc Tool'</span><span class=\"o\">]</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'test jacocoTestReport -x classes -x testClasses'</span>\n\n                <span class=\"n\">junit</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n\n                <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰</span>\n                <span class=\"n\">step</span><span class=\"o\">([</span>\n                    <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JacocoPublisher'</span><span class=\"o\">,</span>\n                    <span class=\"nl\">execPattern:</span> <span class=\"s2\">\"${jacocoReportDir}/*.exec\"</span><span class=\"o\">,</span>\n                    <span class=\"nl\">exclusionPattern:</span> <span class=\"s1\">'**/*Test.class'</span>\n                <span class=\"o\">])</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ‡ãƒ—ãƒ­ã‚¤'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹</span>\n            <span class=\"n\">when</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„</span>\n                <span class=\"n\">expression</span> <span class=\"o\">{</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span> <span class=\"o\">==</span> <span class=\"s1\">'SUCCESS'</span><span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'jar'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.jar\"</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'war'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.war\"</span>\n                <span class=\"n\">deploy</span> <span class=\"nl\">warDir:</span> <span class=\"n\">libsDir</span><span class=\"o\">,</span> <span class=\"nl\">appName:</span> <span class=\"n\">appName</span><span class=\"o\">,</span> <span class=\"nl\">appVersion:</span> <span class=\"n\">appVersion</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨</span>\n    <span class=\"c1\">// å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    </span>\n    <span class=\"n\">post</span> <span class=\"o\">{</span>\n        <span class=\"n\">always</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤</span>\n            <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡</span>\n\n        <span class=\"c1\">// çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚</span>\n        <span class=\"n\">changed</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"s2\">\"${currentBuild.previousBuild.result} =&gt; ${currentBuild.currentResult}\"</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// å¤±æ•—ã—ãŸæ™‚</span>\n        <span class=\"n\">failure</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰</span>\n        <span class=\"n\">unstable</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n\n<span class=\"c1\">// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">gradlew</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n        <span class=\"n\">sh</span> <span class=\"s2\">\"./gradlew ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span> <span class=\"k\">else</span> <span class=\"o\">{</span>\n        <span class=\"n\">bat</span> <span class=\"s2\">\"./gradlew.bat ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</span>\n<span class=\"c1\">// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª </span>\n<span class=\"c1\">// args.appName ã‚¢ãƒ—ãƒªå</span>\n<span class=\"c1\">// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³</span>\n<span class=\"kt\">def</span> <span class=\"nf\">deploy</span><span class=\"o\">(</span><span class=\"n\">Map</span> <span class=\"n\">args</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹</span>\n    <span class=\"kt\">def</span> <span class=\"n\">keyDir</span> <span class=\"o\">=</span> <span class=\"s1\">'/var/lib/jenkins/.ssh/xxx'</span>\n    <span class=\"c1\">// Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerAddress</span> <span class=\"o\">=</span> <span class=\"s1\">'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerUser</span> <span class=\"o\">=</span> <span class=\"s1\">'hoge-user'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServer</span> <span class=\"o\">=</span> <span class=\"s2\">\"${webServerUser}@${webServerAddress}\"</span>\n\n    <span class=\"kt\">def</span> <span class=\"n\">srcWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}-${args.appVersion}.war\"</span>\n    <span class=\"kt\">def</span> <span class=\"n\">destWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}.war\"</span>\n\n    <span class=\"c1\">// ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">sendMail</span><span class=\"o\">(</span><span class=\"n\">result</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">mail</span> <span class=\"nl\">to:</span> <span class=\"s2\">\"xxxxxxxx@gmail.com\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">subject:</span> <span class=\"s2\">\"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">body:</span> <span class=\"s2\">\"Build URL: ${env.BUILD_URL}.\\n\\n\"</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<h1>\n<span id=\"èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>èº“ã„ãŸã“ã¨</h1>\n\n<ul>\n<li>å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚</li>\n<li>currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– &gt; è¨­å®š &gt; Pipeline Syntax &gt; Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n<a href=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png\"></a>\n</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png\"></a></p>\n\n<ul>\n<li>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚</li>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins &gt; Jenkinsã®ç®¡ç† &gt; ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š &gt; E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png\"></a></p>\n\n<ul>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€<a href=\"https://support.google.com/accounts/answer/6010255?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹</a>ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png\"></a></p>\n\n<h1>\n<span id=\"buildgradle\" class=\"fragment\"></span><a href=\"#buildgradle\"><i class=\"fa fa-link\"></i></a>build.gradle</h1>\n\n<p>Jenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€<br>\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br>\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li>checkstyle</li>\n<li>findbugs</li>\n<li>pmd</li>\n<li>cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)</li>\n<li>test</li>\n<li>jacocoReport</li>\n<li>jar</li>\n<li>war</li>\n</ul>\n\n<p>ä¾‹ãˆã°ã“ã‚“ãª</p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">build.gradle</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'java'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'war'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'checkstyle'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'findbugs'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'pmd'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'jacoco'</span>\n\n<span class=\"n\">ext</span> <span class=\"o\">{</span>\n    <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n    <span class=\"n\">javaVersion</span> <span class=\"o\">=</span> <span class=\"mf\">1.8</span>\n    <span class=\"n\">defaultEncoding</span> <span class=\"o\">=</span> <span class=\"s1\">'UTF-8'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">sourceCompatibility</span> <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">targetCompatibility</span>  <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">AbstractCompile</span><span class=\"o\">)*.</span><span class=\"na\">options</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">GroovyCompile</span><span class=\"o\">)*.</span><span class=\"na\">groovyOptions</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">mainClassName</span> <span class=\"o\">=</span> <span class=\"s1\">'jp.takumon.sapmleapp.App'</span>\n\n<span class=\"n\">repositories</span> <span class=\"o\">{</span>\n    <span class=\"n\">mavenCentral</span><span class=\"o\">()</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">dependencies</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ </span>\n\n    <span class=\"n\">compile</span> <span class=\"nl\">group:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">name:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">version:</span> <span class=\"s1\">'4.12'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jar</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">war</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">checkstyle</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'7.6.1'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">findbugs</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s2\">\"3.0.1\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">pmd</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">Pmd</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ </span>\n<span class=\"n\">check</span><span class=\"o\">.</span><span class=\"na\">doLast</span> <span class=\"o\">{</span>\n    <span class=\"n\">File</span> <span class=\"n\">outputDir</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"s2\">\"$reportsDir/cpd/\"</span><span class=\"o\">)</span>\n    <span class=\"n\">outputDir</span><span class=\"o\">.</span><span class=\"na\">mkdirs</span><span class=\"o\">()</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">taskdef</span><span class=\"o\">(</span>\n        <span class=\"nl\">name:</span> <span class=\"s1\">'cpd'</span><span class=\"o\">,</span> \n        <span class=\"nl\">classname:</span> <span class=\"s1\">'net.sourceforge.pmd.cpd.CPDTask'</span><span class=\"o\">,</span>\n        <span class=\"nl\">classpath:</span> <span class=\"n\">configurations</span><span class=\"o\">.</span><span class=\"na\">pmd</span><span class=\"o\">.</span><span class=\"na\">asPath</span><span class=\"o\">)</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">cpd</span><span class=\"o\">(</span>\n        <span class=\"nl\">minimumTokenCount:</span> <span class=\"s1\">'100'</span><span class=\"o\">,</span>\n        <span class=\"nl\">format:</span> <span class=\"s1\">'xml'</span><span class=\"o\">,</span>\n        <span class=\"nl\">encoding:</span> <span class=\"n\">defaultEncoding</span><span class=\"o\">,</span>\n        <span class=\"nl\">outputFile:</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"n\">outputDir</span><span class=\"o\">,</span> <span class=\"s1\">'cpd.xml'</span><span class=\"o\">)</span>\n    <span class=\"o\">)</span> <span class=\"o\">{</span>\n        <span class=\"n\">fileset</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"s2\">\"src/main/java\"</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">include</span><span class=\"o\">(</span><span class=\"nl\">name:</span> <span class=\"s1\">'**/*.java'</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">javadoc</span> <span class=\"o\">{</span>\n    <span class=\"n\">failOnError</span> <span class=\"o\">=</span> <span class=\"kc\">false</span>\n    <span class=\"c1\">// å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§</span>\n    <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"na\">memberLevel</span> <span class=\"o\">=</span> <span class=\"n\">JavadocMemberLevel</span><span class=\"o\">.</span><span class=\"na\">PRIVATE</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">test</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n        <span class=\"n\">junitXml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacoco</span> <span class=\"o\">{</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'0.7.5.201505241946'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacocoTestReport</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–</span>\n    <span class=\"n\">afterEvaluate</span> <span class=\"o\">{</span> \n        <span class=\"n\">classDirectories</span> <span class=\"o\">=</span> <span class=\"n\">files</span><span class=\"o\">(</span><span class=\"n\">classDirectories</span><span class=\"o\">.</span><span class=\"na\">files</span><span class=\"o\">.</span><span class=\"na\">collect</span> <span class=\"o\">{</span>\n            <span class=\"n\">fileTree</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"n\">it</span><span class=\"o\">,</span> <span class=\"nl\">exclude:</span> <span class=\"o\">[</span><span class=\"s1\">'**/*Test.class'</span><span class=\"o\">])</span> \n        <span class=\"o\">})</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">task</span> <span class=\"nf\">wrapper</span> <span class=\"o\">(</span><span class=\"nl\">type:</span> <span class=\"n\">Wrapper</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">gradleVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'3.4.1'</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<p>ä»¥ä¸Šã€‚</p>\n","body":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚\n\n# Declarative Pipeline\nã„ã¾ã¾ã§ã¯Jenkinsfileã‚’\n\n```\nnode {\n  ....\n}\n```\n\nã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€[Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ](https://jenkins.io/doc/book/pipeline/syntax/)ã‚’è¦‹ã‚‹ã¨\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯\n\n```\npipeline {\n  ....  \n}\n```\nã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚\n\n# è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\nJenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®\n\n* [Checkstyle Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F)ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨\n* [FindBugs Plugin](https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin)ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ \n* [PMD Plugin](https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin)ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [DRY Plugin](https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin)ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [Step Counter Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin)ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹\n* [Task Scanner Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin)ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹\n* [Javadoc Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin)ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨\n* [Warnings Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin)ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹\n* [JaCoCo Plugin](https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin)ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n\n\n\n# Jenkinsfile\nGithubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png)\n\n\n```groovy:Jenkinsfile\npipeline {\n    agent any\n    // å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹\n    environment {\n        reportDir = 'build/reports'\n        javaDir = 'src/main/java'\n        resourcesDir = 'src/main/resources'\n        testReportDir = 'build/test-results/test'\n        jacocoReportDir = 'build/jacoco' \n        javadocDir = 'build/docs/javadoc'\n        libsDir = 'build/libs'\n        appName = 'SampleApp'\n        appVersion = '1.0.0'\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹\n    stages {\n        stage('äº‹å‰æº–å‚™') {\n            // å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹\n            steps {\n                deleteDir()\n\n                // ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n                checkout scm\n\n                // ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹\n                archiveArtifacts \"Jenkinsfile\"\n                archiveArtifacts \"build.gradle\"\n\n                // scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹\n                script {\n                    // Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹\n                    if(isUnix()) {\n                        sh 'chmod +x gradlew'\n                    }\n                }\n                gradlew 'clean'\n            }\n        }\n        \n        stage('ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«') {\n            steps {\n                gradlew 'classes testClasses'\n            }\n            \n            // postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹\n            post {\n                // alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹\n                always {\n\n                    // JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§\n                    // Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹\n                    step([\n\n                        // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK\n                        $class: 'WarningsPublisher',\n\n                        // Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€\n                        // pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚\n                        // ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦\n                        // ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†\n                        // https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties\n                        consoleParsers: [\n                            [parserName: 'Java Compiler (javac)'],\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n        stage('é™çš„ã‚³ãƒ¼ãƒ‰è§£æ') {\n            steps {\n                // ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\n                parallel(\n                    'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ' : {\n                        gradlew 'check -x test'\n\n                        // dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹\n                        dir(reportDir) {\n                            step([\n                                $class: 'CheckStylePublisher',\n                                pattern: \"checkstyle/*.xml\"\n                            ])\n                            step([\n                                $class: 'FindBugsPublisher',\n                                pattern: \"findbugs/*.xml\"\n                            ])\n                            step([\n                                $class: 'PmdPublisher',\n                                pattern: \"pmd/*.xml\"\n                            ])\n                            step([\n                                $class: 'DryPublisher',\n                                pattern: \"cpd/*.xml\"\n                            ])\n                \n                            archiveArtifacts \"checkstyle/*.xml\"\n                            archiveArtifacts \"findbugs/*.xml\"\n                            archiveArtifacts \"pmd/*.xml\"\n                            archiveArtifacts \"cpd/*.xml\"\n                        }\n                    },\n                    'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ': {\n                        // ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ\n                        // outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹\n                        stepcounter outputFile: 'stepcount.xls', outputFormat: 'excel', settings: [\n                            [key:'Java', filePattern: \"${javaDir}/**/*.java\"],\n                            [key:'SQL', filePattern: \"${resourcesDir}/**/*.sql\"],\n                            [key:'HTML', filePattern: \"${resourcesDir}/**/*.html\"],\n                            [key:'JS', filePattern: \"${resourcesDir}/**/*.js\"],\n                            [key:'CSS', filePattern: \"${resourcesDir}/**/*.css\"]\n                        ]\n                        // ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹\n                        archiveArtifacts \"stepcount.xls\"\n                    },\n                    'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³': {\n                        step([\n                            $class: 'TasksPublisher',\n                            pattern: './**',\n                            // é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹\n                            ignoreCase: true,\n                            // å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹\n                            // è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹\n                            high: 'System.out.System.err',\n                            normal: 'TODO,FIXME,XXX',\n                        ])\n                    },\n                    'JavaDoc': {\n                        gradlew 'javadoc -x classes'\n                        step([\n                            $class: 'JavadocArchiver',\n                            // Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹\n                            javadocDir: \"${javadocDir}\",\n                            keepAll: true\n                        ])\n                    }\n                )\n            }\n            \n            post {\n                always {\n                   // JavaDocã®è­¦å‘Šã‚’åé›†\n                    step([\n                        $class: 'WarningsPublisher',\n                        consoleParsers: [\n                            [parserName: 'JavaDoc Tool']\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n\n        stage('ãƒ†ã‚¹ãƒˆ') {\n            steps {\n                gradlew 'test jacocoTestReport -x classes -x testClasses'\n                \n                junit \"${testReportDir}/*.xml\"\n                archiveArtifacts \"${testReportDir}/*.xml\"\n\n                // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰\n                step([\n                    $class: 'JacocoPublisher',\n                    execPattern: \"${jacocoReportDir}/*.exec\",\n                    exclusionPattern: '**/*Test.class'\n                ])\n            }\n        }\n        \n        stage('ãƒ‡ãƒ—ãƒ­ã‚¤') {\n            // whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹\n            when {\n                // é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„\n                expression {currentBuild.currentResult == 'SUCCESS'}\n            }\n            \n            steps {\n                gradlew 'jar'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.jar\"\n                gradlew 'war'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.war\"\n                deploy warDir: libsDir, appName: appName, appVersion: appVersion\n            }\n        }\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨\n    // å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    \n    post {\n        always {\n            // æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤\n            deleteDir()\n        }\n        // é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡\n\n        // çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚\n        changed {\n            sendMail(\"${currentBuild.previousBuild.result} => ${currentBuild.currentResult}\")\n        }\n        // å¤±æ•—ã—ãŸæ™‚\n        failure {\n            sendMail(currentBuild.currentResult)\n        }\n        // ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰\n        unstable {\n            sendMail(currentBuild.currentResult)\n        }\n    }\n}\n\n\n// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹\ndef gradlew(command) {\n    if(isUnix()) {\n        sh \"./gradlew ${command} --stacktrace\"\n    } else {\n        bat \"./gradlew.bat ${command} --stacktrace\"\n    }\n}\n\n// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹\n// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª \n// args.appName ã‚¢ãƒ—ãƒªå\n// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³\ndef deploy(Map args) {\n    // ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹\n    def keyDir = '/var/lib/jenkins/.ssh/xxx'\n    // Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å\n    def webServerAddress = 'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'\n    def webServerUser = 'hoge-user'\n    def webServer = \"${webServerUser}@${webServerAddress}\"\n    \n    def srcWar = \"${args.appName}-${args.appVersion}.war\"\n    def destWar = \"${args.appName}.war\"\n    \n    // ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹\n    sh \"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"\n    sh \"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"\n}\n\n// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹\ndef sendMail(result) {\n    mail to: \"xxxxxxxx@gmail.com\",\n        subject: \"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\",\n        body: \"Build URL: ${env.BUILD_URL}.\\n\\n\"\n}\n```\n\n# èº“ã„ãŸã“ã¨\n* å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚\n* currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– > è¨­å®š > Pipeline Syntax > Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png)\n \n* ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins > Jenkinsã®ç®¡ç† > ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š > E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png)\n\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€[å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹](https://support.google.com/accounts/answer/6010255?hl=ja)ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png)\n\n# build.gradle\nJenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n\n * checkstyle\n * findbugs\n * pmd\n * cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)\n * test\n * jacocoReport\n * jar\n * war\n\nä¾‹ãˆã°ã“ã‚“ãª\n\n```groovy:build.gradle\napply plugin: 'java'\napply plugin: 'war'\napply plugin: 'checkstyle'\napply plugin: 'findbugs'\napply plugin: 'pmd'\napply plugin: 'jacoco'\n\next {\n    appVersion = '1.0.0'\n    appName = 'SampleApp'\n    javaVersion = 1.8\n    defaultEncoding = 'UTF-8'\n}\n\nsourceCompatibility = javaVersion\ntargetCompatibility  = javaVersion\ntasks.withType(AbstractCompile)*.options*.encoding = defaultEncoding\ntasks.withType(GroovyCompile)*.groovyOptions*.encoding = defaultEncoding\nmainClassName = 'jp.takumon.sapmleapp.App'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ \n\n    compile group: 'junit', name: 'junit', version: '4.12'\n}\n\njar {\n    baseName = appName\n    version =  appVersion\n}\n\nwar {\n    baseName = appName\n    version =  appVersion\n}\n\ncheckstyle {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = '7.6.1'\n}\n\nfindbugs {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = \"3.0.1\"\n}\n\npmd {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n}\n\ntasks.withType(Pmd) {\n    reports {\n      xml.enabled = true\n    }\n}\n\n// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ \ncheck.doLast {\n    File outputDir = new File(\"$reportsDir/cpd/\")\n    outputDir.mkdirs()\n  \n    ant.taskdef(\n        name: 'cpd', \n        classname: 'net.sourceforge.pmd.cpd.CPDTask',\n        classpath: configurations.pmd.asPath)\n  \n    ant.cpd(\n        minimumTokenCount: '100',\n        format: 'xml',\n        encoding: defaultEncoding,\n        outputFile: new File(outputDir, 'cpd.xml')\n    ) {\n        fileset(dir: \"src/main/java\") {\n            include(name: '**/*.java')\n        }\n    }\n}\n\njavadoc {\n    failOnError = false\n    // å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§\n    options.memberLevel = JavadocMemberLevel.PRIVATE\n}\n\ntest {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    reports {\n        junitXml.enabled = true\n    }\n}\n\njacoco {\n    toolVersion = '0.7.5.201505241946'\n}\n\njacocoTestReport {\n    reports {\n      xml.enabled = true\n    }\n    \n    // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–\n    afterEvaluate { \n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: ['**/*Test.class']) \n        })\n    }\n}\n\ntask wrapper (type: Wrapper) {\n    gradleVersion = '3.4.1'\n}\n```\n\n\nä»¥ä¸Šã€‚\n","comments_count":0,"created_at":"2017-04-07T02:38:55+09:00","likes_count":58,"reactions_count":0},"matches":4,"weight":200,"details":[{"weight":50,"keyword":"Jenkins"},{"weight":50,"keyword":"CI"},{"weight":50,"keyword":"Pipeline"},{"weight":50,"keyword":"Qiita"}],"avgWeight":50,"totalWeight":44,"threshold":12.5,"isRelated":true}]},{"node":{"fields":{"slug":"/386efa75-7773-5424-94a8-1a2b3ae52a6b/","title":"Asciidocæ–‡æ³•ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®æ—¥æœ¬èªè¨³","date":"2017-05-29T03:14:20+09:00","excerpt":"æ¦‚è¦AsciiDoc Syntax Quick Reference ã‚’æ—¥æœ¬èªè¨³ã—ãŸã‚‚ã®ã§ã™ã€‚ã¨ã“ã‚ã©ã“ã‚æ„è¨³ã—ãŸã‚Šã€è£œè¶³èª¬æ˜ã‚’è¿½åŠ ã—ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã‹ã‚‰Asciidoctorã‚’ä½¿ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†æ–¹ã€…ã®ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ...","tags":["Markdown","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","asciidoctor","asciidoc","Qiita"],"keywords":["Markdown"],"thumbnail":""},"id":"386efa75-7773-5424-94a8-1a2b3ae52a6b","title":"Asciidocæ–‡æ³•ã‚¯ã‚¤ãƒƒã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã®æ—¥æœ¬èªè¨³","rendered_body":"\n<h1>\n<span id=\"æ¦‚è¦\" class=\"fragment\"></span><a href=\"#%E6%A6%82%E8%A6%81\"><i class=\"fa fa-link\"></i></a>æ¦‚è¦</h1>\n\n<p><a href=\"http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/\" rel=\"nofollow noopener\" target=\"_blank\">AsciiDoc Syntax Quick Reference</a> ã‚’æ—¥æœ¬èªè¨³ã—ãŸã‚‚ã®ã§ã™ã€‚<br>\nã¨ã“ã‚ã©ã“ã‚æ„è¨³ã—ãŸã‚Šã€è£œè¶³èª¬æ˜ã‚’è¿½åŠ ã—ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚<br>\nã“ã‚Œã‹ã‚‰Asciidoctorã‚’ä½¿ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†æ–¹ã€…ã®ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®url\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AEurl\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®URL</h1>\n\n<p>GitHub Pagesã®ä¸‹è¨˜URLã«ã¦å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://takumon.github.io/asciidoc-syntax-quick-reference-japanese-translation/\" class=\"autolink\" rel=\"nofollow noopener\" target=\"_blank\">https://takumon.github.io/asciidoc-syntax-quick-reference-japanese-translation/</a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/f9d71b849f52ad0e5c128d814f813939a770567a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36616463636335332d623866322d323964302d613461382d3738656639326461306236382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f9d71b849f52ad0e5c128d814f813939a770567a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36616463636335332d623866322d323964302d613461382d3738656639326461306236382e706e67\" alt=\"ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2017-06-03 12.43.12.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/6adccc53-b8f2-29d0-a4a8-78ef92da0b68.png\"></a></p>\n\n<h1>\n<span id=\"asciidoctorã¨ã¯\" class=\"fragment\"></span><a href=\"#asciidoctor%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Asciidoctorã¨ã¯</h1>\n\n<p>Asciidoctorã¯Asciidocã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’HTML5ã‚„DocBook 5ã€PDFã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ç¾¤ã§ã™ã€‚Rubyã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚ŠRubyGem.orgã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§Githubã«ãƒ›ã‚¹ãƒˆã•ã‚Œã¦ãŠã‚Šã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"asciidocã¨ã¯\" class=\"fragment\"></span><a href=\"#asciidoc%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Asciidocã¨ã¯</h1>\n\n<p>Markdownãªã©ã®ã‚ˆã†ãªè»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªã®ä¸€ã¤ã§ã™ã€‚Markdownã‚ˆã‚Šã‚‚é«˜ã„è¡¨ç¾åŠ›ã€é«˜ã„å¯èª­æ€§ã‚’æŒã¡åˆã‚ã›ãŸã‚‚ã®ã§ã€æŠ€è¡“æ–‡æ›¸ã‚’æ›¸ãã®ã«é©ã—ã¦ã„ã¾ã™ã€‚<br>\nã¾ãŸOfficeæ–‡ç« ã¨æ¯”ã¹ã¦ã‚‚ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ãªã®ã§ã€è»½é‡ã§ã€GITãªã©ã®æ§‹æˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ç›¸æ€§ãŒè‰¯ã„ã¨ã„ã£ãŸãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚</p>\n","body":"# æ¦‚è¦\n[AsciiDoc Syntax Quick Reference](http://asciidoctor.org/docs/asciidoc-syntax-quick-reference/) ã‚’æ—¥æœ¬èªè¨³ã—ãŸã‚‚ã®ã§ã™ã€‚\nã¨ã“ã‚ã©ã“ã‚æ„è¨³ã—ãŸã‚Šã€è£œè¶³èª¬æ˜ã‚’è¿½åŠ ã—ãŸã‚Šã—ã¦ã„ã¾ã™ã€‚\nã“ã‚Œã‹ã‚‰Asciidoctorã‚’ä½¿ã£ã¦ã¿ã‚ˆã†ã¨ã„ã†æ–¹ã€…ã®ãŠå½¹ã«ç«‹ã¦ã‚Œã°å¹¸ã„ã§ã™ã€‚\n\n# ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®URL\nGitHub Pagesã®ä¸‹è¨˜URLã«ã¦å…¬é–‹ã—ã¦ã„ã¾ã™ã€‚\nhttps://takumon.github.io/asciidoc-syntax-quick-reference-japanese-translation/\n\n![ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ 2017-06-03 12.43.12.png](https://qiita-image-store.s3.amazonaws.com/0/49915/6adccc53-b8f2-29d0-a4a8-78ef92da0b68.png)\n\n# Asciidoctorã¨ã¯\nAsciidoctorã¯Asciidocã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’HTML5ã‚„DocBook 5ã€PDFã«å¤‰æ›ã™ã‚‹ãŸã‚ã®ãƒ„ãƒ¼ãƒ«ç¾¤ã§ã™ã€‚Rubyã§å®Ÿè£…ã•ã‚Œã¦ãŠã‚ŠRubyGem.orgã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã™ã€‚ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã§Githubã«ãƒ›ã‚¹ãƒˆã•ã‚Œã¦ãŠã‚Šã€MITãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§ã™ã€‚\n\n# Asciidocã¨ã¯\nMarkdownãªã©ã®ã‚ˆã†ãªè»½é‡ãƒãƒ¼ã‚¯ã‚¢ãƒƒãƒ—è¨€èªã®ä¸€ã¤ã§ã™ã€‚Markdownã‚ˆã‚Šã‚‚é«˜ã„è¡¨ç¾åŠ›ã€é«˜ã„å¯èª­æ€§ã‚’æŒã¡åˆã‚ã›ãŸã‚‚ã®ã§ã€æŠ€è¡“æ–‡æ›¸ã‚’æ›¸ãã®ã«é©ã—ã¦ã„ã¾ã™ã€‚\nã¾ãŸOfficeæ–‡ç« ã¨æ¯”ã¹ã¦ã‚‚ãƒ†ã‚­ã‚¹ãƒˆãƒ™ãƒ¼ã‚¹ãªã®ã§ã€è»½é‡ã§ã€GITãªã©ã®æ§‹æˆç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ç›¸æ€§ãŒè‰¯ã„ã¨ã„ã£ãŸãƒ¡ãƒªãƒƒãƒˆãŒã‚ã‚Šã¾ã™ã€‚\n\n\n","comments_count":2,"created_at":"2017-05-29T03:14:20+09:00","likes_count":14,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/270e2fae-ed90-5539-8c90-a2ed93ebba83/","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","date":"2017-06-26T00:21:37+09:00","excerpt":"Asciidoctorã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚ãã“ã§ä»Šå›ã¯ã€Dockerã§...","tags":["JavaScript","å…¨æ–‡æ¤œç´¢","ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ","Fess","asciidoctor","Qiita"],"keywords":["JavaScript"],"thumbnail":""},"id":"270e2fae-ed90-5539-8c90-a2ed93ebba83","title":"Fessã‚’ä½¿ç”¨ã—ã¦ã€Asciidoctorã§ç°¡å˜ã«å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹","rendered_body":"<p><a href=\"http://asciidoctor.org/\" rel=\"nofollow noopener\" target=\"_blank\">Asciidoctor</a>ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚</p>\n\n<p>ãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®<a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã‚’ç«‹ã¦ã¦ã€<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€<br>\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<p>å°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e020d2b6619c0b7ce4332c80ea15b89a6efb895e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31323365633737312d666237372d653464632d646637652d6134623430373739323735392e676966\" alt=\"6æœˆ-24-2017 19-05-32.gif\" title=\"6æœˆ-24-2017 19-05-32.gif\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif\"></a></p>\n\n<h2>\n<span id=\"fessã¨ã¯\" class=\"fragment\"></span><a href=\"#fess%E3%81%A8%E3%81%AF\"><i class=\"fa fa-link\"></i></a>Fessã¨ã¯</h2>\n\n<p><a href=\"http://fess.codelibs.org/ja/\" rel=\"nofollow noopener\" target=\"_blank\">Fess</a>ã¯<strong>ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€</strong>ã§ã™ã€‚<br>\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚<br>\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å…¨ä½“åƒ\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E4%BD%93%E5%83%8F\"><i class=\"fa fa-link\"></i></a>å…¨ä½“åƒ</h2>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚<br>\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/6fe043176da6b6451722114a3d0418bc40ac8c99/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f31306338616334362d323135352d386562372d613565642d3763313363653534346563322e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/729e46c74903de7be597a6ac4adea0c03cd8559f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34306531643435362d323633352d326165642d333333642d3862316165633434373933312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png\"></a></p>\n\n<h2>\n<span id=\"å°å…¥æ‰‹é †\" class=\"fragment\"></span><a href=\"#%E5%B0%8E%E5%85%A5%E6%89%8B%E9%A0%86\"><i class=\"fa fa-link\"></i></a>å°å…¥æ‰‹é †</h2>\n\n<p>ã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚</p>\n\n<p><a href=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a94911642557c486b240ffa8c3c184c64bfabc2c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30626164623864322d316135382d323262362d343537632d3132626563663361383931312e706e67\" alt=\"0_Fess_å…¨ä½“åƒ_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png\"></a></p>\n\n<h3>\n<span id=\"fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h3>\n\n<p>Docker Hubã®<a href=\"https://hub.docker.com/r/codelibs/fess/\" rel=\"nofollow noopener\" target=\"_blank\">codelibs/fess</a>ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚<br>\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯<a href=\"http://fess.codelibs.org/ja/11.2/install/index.html\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰</a>ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n</pre></div></div>\n\n<h3>\n<span id=\"fessã®è¨­å®š\" class=\"fragment\"></span><a href=\"#fess%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>Fessã®è¨­å®š</h3>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E8%A8%AD%E5%AE%9A\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š</h4>\n\n<p><code>http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login</code>ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€<code>admin/admin</code>ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/d173fd5ce7a76eb7b5a6ef053a670dd6551d720c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65373930656361392d353037332d393438652d336534332d6437353436643537666165352e706e67\" alt=\"1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png\"></a><br>\n<br></p>\n\n<p>ãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚¯ãƒ­ãƒ¼ãƒ©</code> &gt; <code>Web</code>ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/cbfee37bd5d06381615f013da8587b1af91c35aa/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61636662653935302d666137342d643063622d336365652d3565386462346465356237342e706e67\" alt=\"2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®<code>+ã€€æ–°è¦ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e60be4a90df24cb1275c165752de363b15859b87/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36333130333762342d616162322d386530642d663961612d3364323365633931376132392e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png\"></a><br>\n<br></p>\n\n<p>Webã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/62cd6f97bb7dfebb163873f26b5fda4fabcf89c5/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653561303963392d376363652d336665632d373838342d3132353863333266613931612e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" title=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png\"></a></p>\n\n<p>è¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<ul>\n<li>åå‰ \n\n<ul>\n<li>ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>URL \n\n<ul>\n<li>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«<code>/</code>ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜<code>URL</code>ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.*</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚</li>\n</ul>\n</li>\n<li>æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n\n<ul>\n<li>æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€<code>URLã§è¨­å®šã—ãŸå€¤</code> + <code>.+\\.html$</code> ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br>\n<br>\n</li>\n</ul>\n</li>\n</ul>\n\n<p>å€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦<code>+ã€€ä½œæˆ</code>ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/8302d25592df90b2bdf59fbf3b43e31ecf106b3e/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f33643030626635612d663133312d643336372d646535332d6166313062623336383339642e706e67\" alt=\"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E3%81%AE%E5%AE%9F%E8%A1%8C\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã§ã€€<code>ã‚·ã‚¹ãƒ†ãƒ </code> &gt; <code>ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©</code> ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚<br>\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ <code>Default Crawler</code>ã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/52e6c84dc635dabd786a05e2dc2dbc01bbcd62b3/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f62306165636130642d363461342d343364612d373832622d3061316130636437306238332e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png\"></a><br>\n<br></p>\n\n<p><code>ä»Šã™ãé–‹å§‹</code>ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/15c56153ff7878a59bfda2bab0ac3b8b6182fa23/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30306537363932302d626661642d656562312d636239392d3732346533613933393261392e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" title=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png\"></a><br>\n<br></p>\n\n<p>ã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/b34d527efb0b07d2b04cabccebe97f0e1e4b594c/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f37323564333030662d303766352d373234642d636539332d3865316339373532653130652e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png\"></a><br>\n<br></p>\n\n<p>ã—ã°ã‚‰ãã—ã¦<code>F5</code>ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚<br>\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ<code>å®Ÿè¡Œä¸­</code>ã‹ã‚‰<code>æœ‰åŠ¹</code>ã«ãªã‚Šã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2d860e111077a3a0b63a44b45e14e0e18b02fcb1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f65653466353237372d616163332d616437652d636465622d3431643339623733336331662e706e67\" alt=\"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png\"></a><br>\n<br></p>\n\n<h4>\n<span id=\"ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E3%82%AF%E3%83%AD%E3%83%BC%E3%83%A9%E5%AE%9F%E8%A1%8C%E7%B5%90%E6%9E%9C%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª</h4>\n\n<p>å·¦ãƒšã‚¤ãƒ³ã®<code>ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±</code>&gt;<code>ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±</code>ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/e35eccd76c8d85dcc368298adfebb71871f083a7/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39326633313062352d383366362d646564612d343438642d6166613863356230663130342e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png\"></a><br>\n<br></p>\n\n<p>ã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/341936c3d088fb04a1029cc6c891a35253a079da/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f34653830636431342d333633342d663636352d623434382d3862346234653761386432312e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png\"></a><br>\n<br></p>\n\n<p>ã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/767e79c91f7521caf880a890deee50513f520ea9/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f36306238366263342d663730662d343263382d613031372d3566313338623362383865332e706e67\" alt=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" title=\"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png\"></a><br>\n<br></p>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E7%94%A8web%E3%82%B5%E3%83%BC%E3%83%90%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%82%92%E9%85%8D%E7%BD%AE\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®</h3>\n\n<p>å…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã®ï¼’ã¤ã§ã™ã€‚<br>\n<code>full-text-search.js</code>ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚<br>\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"javascript\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.js</span></div>\n<div class=\"highlight\"><pre><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n    <span class=\"s1\">'use strict'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">=</span> <span class=\"s1\">'http://192.168.1.5:10084/json'</span><span class=\"p\">;</span>\n\n    <span class=\"c1\">// ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°</span>\n    <span class=\"kd\">var</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">=</span> <span class=\"mi\">10</span><span class=\"p\">;</span>\n\n\n    <span class=\"c1\">// ç›®æ¬¡ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#toc'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">prepend</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form id=\"search-form\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;div class=\"search-input-area\"&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-search left-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" /&gt;'</span> <span class=\"o\">+</span>\n                        <span class=\"s1\">'&lt;i class=\"fa fa-close right-icon\"&gt;&lt;/i&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-start\" type=\"hidden\" value=\"0\"/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;input id=\"search-num\" type=\"hidden\" value=\"'</span> <span class=\"o\">+</span> <span class=\"nx\">COUNT_PAR_PAGE</span> <span class=\"o\">+</span> <span class=\"s1\">'\"/&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;form&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"kd\">var</span> <span class=\"nx\">$searchArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-form'</span><span class=\"p\">).</span><span class=\"nx\">submit</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".left-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">({</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">0</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n\n            <span class=\"c1\">// æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"#search-query\"</span><span class=\"p\">).</span><span class=\"nx\">keyup</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$this</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">);</span>\n              <span class=\"kd\">var</span> <span class=\"nx\">$rightIcon</span> <span class=\"o\">=</span> <span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">);</span>\n\n              <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">$this</span><span class=\"p\">.</span><span class=\"nx\">val</span><span class=\"p\">().</span><span class=\"nx\">length</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#555'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span> <span class=\"k\">else</span> <span class=\"p\">{</span>\n                 <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹</span>\n                 <span class=\"nx\">$rightIcon</span><span class=\"p\">.</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">);</span>\n              <span class=\"p\">}</span>\n            <span class=\"p\">});</span>\n\n            <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€</span>\n            <span class=\"nx\">$searchArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\".right-icon\"</span><span class=\"p\">).</span><span class=\"nx\">click</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">(){</span>\n              <span class=\"c1\">// Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦</span>\n              <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">).</span><span class=\"nx\">css</span><span class=\"p\">(</span><span class=\"s1\">'color'</span><span class=\"p\">,</span><span class=\"s1\">'#ccc'</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹</span>\n                     <span class=\"p\">.</span><span class=\"nx\">parent</span><span class=\"p\">().</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s2\">\"input\"</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"s1\">''</span><span class=\"p\">);</span>\n            <span class=\"p\">});</span>\n        <span class=\"p\">});</span>\n\n    <span class=\"c1\">// ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®</span>\n    <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#header&gt;h1'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥</span>\n        <span class=\"p\">.</span><span class=\"nx\">before</span><span class=\"p\">(</span>\n            <span class=\"s1\">'&lt;div id=\"search-result-area\"&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-subheader\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div id=\"search-result-content\"&gt;&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">)</span>\n        <span class=\"c1\">// ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²</span>\n        <span class=\"p\">.</span><span class=\"nx\">ready</span><span class=\"p\">(</span><span class=\"kd\">function</span><span class=\"p\">()</span> <span class=\"p\">{</span>\n            <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"k\">this</span><span class=\"p\">)</span>\n                <span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s1\">'#remove-search-result'</span><span class=\"p\">,</span> <span class=\"kd\">function</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n                      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultArea</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">e</span><span class=\"p\">.</span><span class=\"nx\">delegateTarget</span><span class=\"p\">)</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">removeClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n                      <span class=\"c1\">// æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                      <span class=\"nx\">$searchResultArea</span><span class=\"p\">.</span><span class=\"nx\">find</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">).</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n                    <span class=\"p\">})</span>\n                    <span class=\"c1\">// å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#prevPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">)</span>\n                    <span class=\"c1\">// æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹</span>\n                    <span class=\"p\">.</span><span class=\"nx\">on</span><span class=\"p\">(</span><span class=\"s2\">\"click\"</span><span class=\"p\">,</span> <span class=\"s2\">\"#nextPageLink\"</span><span class=\"p\">,</span> <span class=\"p\">{</span><span class=\"na\">navi</span><span class=\"p\">:</span><span class=\"mi\">1</span><span class=\"p\">},</span> <span class=\"nx\">doSearch</span><span class=\"p\">);</span>\n        <span class=\"p\">});</span>\n\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">doSearch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">){</span>\n      <span class=\"c1\">// æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">searchQuery</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">trim</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-query'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">.</span><span class=\"nx\">length</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">()),</span>\n          <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"nb\">parseInt</span><span class=\"p\">(</span><span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-num'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">());</span>\n      <span class=\"c1\">// è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">start</span> <span class=\"o\">&lt;</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">num</span> <span class=\"o\">&lt;</span> <span class=\"mi\">1</span> <span class=\"o\">||</span> <span class=\"nx\">num</span> <span class=\"o\">&gt;</span> <span class=\"mi\">100</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">num</span> <span class=\"o\">=</span> <span class=\"mi\">20</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n      <span class=\"c1\">// è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—</span>\n      <span class=\"k\">switch</span><span class=\"p\">(</span><span class=\"nx\">event</span><span class=\"p\">.</span><span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">navi</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"k\">case</span> <span class=\"o\">-</span><span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">-=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"k\">case</span> <span class=\"mi\">1</span><span class=\"p\">:</span>\n          <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ</span>\n          <span class=\"nx\">start</span> <span class=\"o\">+=</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n        <span class=\"nl\">default</span><span class=\"p\">:</span>\n        <span class=\"k\">case</span> <span class=\"mi\">0</span><span class=\"p\">:</span>\n          <span class=\"nx\">start</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">;</span>\n          <span class=\"k\">break</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// URLã‚’æ§‹ç¯‰</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">url</span> <span class=\"o\">=</span> <span class=\"nx\">FESS_JSON_ENDPOINT</span> <span class=\"o\">+</span> <span class=\"s1\">'?callback=?'</span> <span class=\"o\">+</span> <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n                                     <span class=\"s1\">'&amp;q='</span> <span class=\"o\">+</span> <span class=\"nb\">encodeURIComponent</span><span class=\"p\">(</span><span class=\"nx\">searchQuery</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;start='</span> <span class=\"o\">+</span> <span class=\"nx\">start</span> <span class=\"o\">+</span>\n                                     <span class=\"s1\">'&amp;num='</span> <span class=\"o\">+</span> <span class=\"nx\">num</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡</span>\n      <span class=\"c1\">// åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">.</span><span class=\"nx\">ajax</span><span class=\"p\">({</span>\n          <span class=\"na\">url</span><span class=\"p\">:</span> <span class=\"nx\">url</span><span class=\"p\">,</span>\n          <span class=\"na\">dataType</span><span class=\"p\">:</span> <span class=\"s1\">'jsonp'</span><span class=\"p\">,</span>\n          <span class=\"na\">success</span><span class=\"p\">:</span> <span class=\"nx\">renderSearchResult</span>\n      <span class=\"p\">});</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#searchNum'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">num</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nb\">document</span><span class=\"p\">).</span><span class=\"nx\">scrollTop</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">);</span>\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™</span>\n      <span class=\"k\">return</span> <span class=\"kc\">false</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n\n    <span class=\"cm\">/**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */</span>\n    <span class=\"kd\">function</span> <span class=\"nx\">renderSearchResult</span><span class=\"p\">(</span><span class=\"nx\">data</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n      <span class=\"c1\">// æ¤œç´¢çµæœå‡¦ç†</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">dataResponse</span> <span class=\"o\">=</span> <span class=\"nx\">data</span><span class=\"p\">.</span><span class=\"nx\">response</span><span class=\"p\">;</span>\n      <span class=\"c1\">// ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">status</span> <span class=\"o\">!=</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"nx\">alert</span><span class=\"p\">(</span><span class=\"s2\">\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\"</span><span class=\"p\">);</span>\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-area'</span><span class=\"p\">).</span><span class=\"nx\">addClass</span><span class=\"p\">(</span><span class=\"s1\">'show'</span><span class=\"p\">);</span>\n\n      <span class=\"kd\">var</span> <span class=\"nx\">$searchResultSubheader</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-subheader'</span><span class=\"p\">),</span>\n          <span class=\"nx\">$searchResultContent</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-result-content'</span><span class=\"p\">),</span>\n          <span class=\"nx\">record_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">record_count</span><span class=\"p\">;</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœãŒãªã„å ´åˆ</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">record_count</span> <span class=\"o\">==</span> <span class=\"mi\">0</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span>  <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"c1\">// çµæœé ˜åŸŸã«å‡ºåŠ›</span>\n        <span class=\"nx\">$searchResultContent</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt;ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚'</span><span class=\"p\">;</span>\n\n        <span class=\"k\">return</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">page_number</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_number</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_size</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">page_count</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">page_count</span><span class=\"p\">,</span>\n          <span class=\"nx\">startRange</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"p\">,</span>\n          <span class=\"nx\">endRange</span> <span class=\"o\">=</span> <span class=\"nx\">page_number</span> <span class=\"o\">*</span> <span class=\"nx\">page_size</span><span class=\"p\">,</span>\n          <span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span>\n          <span class=\"nx\">max</span><span class=\"p\">,</span>\n          <span class=\"nx\">offset</span> <span class=\"o\">=</span> <span class=\"nx\">startRange</span> <span class=\"o\">-</span> <span class=\"mi\">1</span><span class=\"p\">;</span>\n\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s1\">'#search-start'</span><span class=\"p\">).</span><span class=\"nx\">val</span><span class=\"p\">(</span><span class=\"nx\">offset</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›</span>\n      <span class=\"nx\">$searchResultSubheader</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">].</span><span class=\"nx\">innerHTML</span> <span class=\"o\">=</span> <span class=\"s1\">'&lt;b&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">q</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/b&gt; ã®æ¤œç´¢çµæœ '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">record_count</span> <span class=\"o\">+</span> <span class=\"s2\">\" ä»¶ä¸­ \"</span> <span class=\"o\">+</span>  <span class=\"nx\">startRange</span> <span class=\"o\">+</span> <span class=\"s1\">' - '</span> <span class=\"o\">+</span>\n                                <span class=\"nx\">endRange</span> <span class=\"o\">+</span> <span class=\"s1\">' ä»¶ç›® ('</span> <span class=\"o\">+</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">exec_time</span> <span class=\"o\">+</span> <span class=\"s1\">' ç§’)'</span> <span class=\"o\">+</span>\n                               <span class=\"s1\">'&lt;div id=\"remove-search-result\" style=\"float:right;\"&gt;&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/div&gt;'</span>\n\n      <span class=\"c1\">// æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢</span>\n      <span class=\"nx\">$searchResultContent</span><span class=\"p\">.</span><span class=\"nx\">empty</span><span class=\"p\">();</span>\n\n\n      <span class=\"c1\">// æ¤œç´¢çµæœã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">$resultBody</span> <span class=\"o\">=</span> <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;ol/&gt;\"</span><span class=\"p\">);</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">results</span> <span class=\"o\">=</span> <span class=\"nx\">dataResponse</span><span class=\"p\">.</span><span class=\"nx\">result</span><span class=\"p\">;</span>\n      <span class=\"k\">for</span><span class=\"p\">(</span><span class=\"nx\">i</span> <span class=\"o\">=</span> <span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"nx\">max</span> <span class=\"o\">=</span> <span class=\"nx\">results</span><span class=\"p\">.</span><span class=\"nx\">length</span><span class=\"p\">;</span> <span class=\"nx\">i</span> <span class=\"o\">&lt;</span> <span class=\"nx\">max</span><span class=\"p\">;</span> <span class=\"nx\">i</span><span class=\"o\">++</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"kd\">var</span> <span class=\"nx\">element</span> <span class=\"o\">=</span>\n            <span class=\"s1\">'&lt;li&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;h4 class=\"title\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;a href=\"'</span> <span class=\"o\">+</span><span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">url_link</span> <span class=\"o\">+</span> <span class=\"s1\">'\"&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">title</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/a&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/h4&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;div class=\"body\"&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">content_description</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;br/&gt;'</span> <span class=\"o\">+</span>\n                    <span class=\"s1\">'&lt;cite&gt;'</span> <span class=\"o\">+</span> <span class=\"nx\">results</span><span class=\"p\">[</span><span class=\"nx\">i</span><span class=\"p\">].</span><span class=\"nx\">site</span> <span class=\"o\">+</span> <span class=\"s1\">'&lt;/cite&gt;'</span> <span class=\"o\">+</span>\n                <span class=\"s1\">'&lt;/div&gt;'</span> <span class=\"o\">+</span>\n            <span class=\"s1\">'&lt;/li&gt;'</span><span class=\"p\">;</span>\n\n        <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">element</span><span class=\"p\">).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$resultBody</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">$resultBody</span><span class=\"p\">.</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n\n\n      <span class=\"c1\">// ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›</span>\n      <span class=\"kd\">var</span> <span class=\"nx\">pageArea</span> <span class=\"o\">=</span> <span class=\"p\">[];</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;div id=\"pageInfo\"&gt;'</span><span class=\"p\">,</span> <span class=\"nx\">page_number</span><span class=\"p\">,</span> <span class=\"s1\">'ãƒšãƒ¼ã‚¸ç›®&lt;br/&gt;'</span><span class=\"p\">);</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&gt;</span> <span class=\"mi\">1</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"prevPageLink\" href=\"#\"&gt;&amp;lt;&amp;lt;å‰ãƒšãƒ¼ã‚¸ã¸&lt;/a&gt; '</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"k\">if</span><span class=\"p\">(</span><span class=\"nx\">page_number</span> <span class=\"o\">&lt;</span> <span class=\"nx\">page_count</span><span class=\"p\">)</span> <span class=\"p\">{</span>\n        <span class=\"c1\">// æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯</span>\n        <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;a id=\"nextPageLink\" href=\"#\"&gt;æ¬¡ãƒšãƒ¼ã‚¸ã¸&amp;gt;&amp;gt;&lt;/a&gt;'</span><span class=\"p\">);</span>\n      <span class=\"p\">}</span>\n      <span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">push</span><span class=\"p\">(</span><span class=\"s1\">'&lt;/div&gt;'</span><span class=\"p\">);</span>\n      <span class=\"nx\">$</span><span class=\"p\">(</span><span class=\"nx\">pageArea</span><span class=\"p\">.</span><span class=\"nx\">join</span><span class=\"p\">(</span><span class=\"s2\">\"\"</span><span class=\"p\">)).</span><span class=\"nx\">appendTo</span><span class=\"p\">(</span><span class=\"nx\">$searchResultContent</span><span class=\"p\">);</span>\n    <span class=\"p\">}</span>\n<span class=\"p\">});</span>\n\n</pre></div>\n</div>\n\n<div class=\"code-frame\" data-lang=\"css\">\n<div class=\"code-lang\"><span class=\"bold\">full-text-search.css</span></div>\n<div class=\"highlight\"><pre><span class=\"k\">@charset</span> <span class=\"s1\">\"UTF-8\"</span><span class=\"p\">;</span>\n\n<span class=\"nf\">#search-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"p\">{</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">relative</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* å…¥åŠ›é …ç›® */</span>\n<span class=\"nf\">#search-query</span> <span class=\"p\">{</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">width</span><span class=\"p\">:</span> <span class=\"m\">100%</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"no\">black</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-family</span><span class=\"p\">:</span> <span class=\"n\">arial</span><span class=\"p\">,</span><span class=\"nb\">sans-serif</span><span class=\"p\">;</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">2em</span><span class=\"p\">;</span>\n    <span class=\"nl\">outline</span><span class=\"p\">:</span> <span class=\"m\">0</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nt\">input</span><span class=\"nd\">:focus</span> <span class=\"p\">{</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">1px</span> <span class=\"nb\">solid</span> <span class=\"m\">#4d90fe</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"c\">/* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */</span>\n    <span class=\"nl\">position</span><span class=\"p\">:</span><span class=\"nb\">absolute</span><span class=\"p\">;</span>\n    <span class=\"nl\">top</span><span class=\"p\">:</span> <span class=\"m\">50%</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">-0.5em</span><span class=\"p\">;</span>\n    <span class=\"py\">font-sise</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */</span>\n    <span class=\"nl\">cursor</span><span class=\"p\">:</span><span class=\"nb\">pointer</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span><span class=\"m\">#444</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.7em</span><span class=\"p\">;</span>\n    <span class=\"c\">/* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */</span>\n    <span class=\"nl\">color</span><span class=\"p\">:</span> <span class=\"m\">#ccc</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span><span class=\"o\">,</span>\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">font-size</span><span class=\"p\">:</span> <span class=\"m\">1.4em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.left-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">left</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n\n<span class=\"nc\">.search-input-area</span> <span class=\"nc\">.right-icon</span><span class=\"nd\">:hover</span> <span class=\"p\">{</span>\n    <span class=\"nl\">right</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n<span class=\"c\">/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */</span>\n<span class=\"nf\">#search-result-area</span><span class=\"nc\">.show</span> <span class=\"p\">{</span>\n    <span class=\"nl\">background</span><span class=\"p\">:</span> <span class=\"m\">#f8f8f7</span><span class=\"p\">;</span>\n    <span class=\"nl\">border</span><span class=\"p\">:</span> <span class=\"m\">0px</span> <span class=\"nb\">solid</span><span class=\"p\">;</span>\n    <span class=\"nl\">border-radius</span><span class=\"p\">:</span> <span class=\"m\">0.5em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-top</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">margin-bottom</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n    <span class=\"nl\">padding</span><span class=\"p\">:</span> <span class=\"m\">1em</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n\n</pre></div>\n</div>\n\n<h3>\n<span id=\"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \" class=\"fragment\"></span><a href=\"#%E3%83%89%E3%82%AD%E3%83%A5%E3%83%A1%E3%83%B3%E3%83%88%E3%81%AB%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E7%94%A8%E8%B3%87%E7%94%A3%E3%81%AE%E8%AA%AD%E3%81%BF%E8%BE%BC%E3%81%BF%E5%87%A6%E7%90%86%E3%82%92%E8%BF%BD%E5%8A%A0\"><i class=\"fa fa-link\"></i></a>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ </h3>\n\n<p>å‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ<code>full-text-search.js</code>ã¨<code>full-text-search.css</code>ã‚’ã€<br>\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚<br>\n<code>full-text-search.js</code>ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€<br>\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚</p>\n\n<p>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n</pre></div></div>\n\n<p><code>asciidoctor-sample.adoc</code>ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>++++\n&lt;link rel=\"stylesheet\" href=\"../full-text-search.css\"&gt;&lt;/link&gt;\n&lt;script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;script src=\"../full-text-search.js\"&gt;&lt;/script&gt;\n++++\n</pre></div></div>\n\n<h3>\n<span id=\"å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\" class=\"fragment\"></span><a href=\"#%E5%85%A8%E6%96%87%E6%A4%9C%E7%B4%A2%E3%81%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%81%8B%E3%81%AE%E7%A2%BA%E8%AA%8D\"><i class=\"fa fa-link\"></i></a>å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª</h3>\n\n<p>ä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚<br>\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/daf3699de0e01b28ba4d3c2a8b8b535d3c54a2ab/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f39393039336364362d353865382d376364652d613364382d3562656332613032303636382e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png\"></a><br>\n<br></p>\n\n<p>æ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/5d8e0c5f2db223d5f021d484351b0c840010bb4f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f63646533643865612d643838332d613636622d663838642d3961353934313032366263392e706e67\" alt=\"7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png\"></a><br>\n<br></p>\n\n<h2>\n<span id=\"ã¾ã¨ã‚\" class=\"fragment\"></span><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\"><i class=\"fa fa-link\"></i></a>ã¾ã¨ã‚</h2>\n\n<p>Fessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚<br>\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚</p>\n\n<h2>\n<span id=\"å‚è€ƒ\" class=\"fragment\"></span><a href=\"#%E5%8F%82%E8%80%83\"><i class=\"fa fa-link\"></i></a>å‚è€ƒ</h2>\n\n<ul>\n<li><a href=\"http://fess.codelibs.org/ja/articles/article-4.html#js\" rel=\"nofollow noopener\" target=\"_blank\">Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨</a></li>\n<li><a href=\"http://qiita.com/cookienote/items/1f2443be25630a78d946\" id=\"reference-69c989703115d994be84\">å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™</a></li>\n</ul>\n","body":"[Asciidoctor](http://asciidoctor.org/)ã‚’ä½¿ã†ã¨ã€æŠ€è¡“æ–‡æ›¸ã‚„æ‰‹é †æ›¸ãªã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ç°¡å˜ã«HTMLã§å…¬é–‹ã§ãã¾ã™ãŒã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå¤šããªã‚‹ã¨è‡ªåˆ†ã®èª¿ã¹ãŸã„ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ãŒã€ã©ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¼‰ã£ã¦ã„ã‚‹ã®ã‹æ¢ã™ã®ãŒå›°é›£ã«ãªã£ã¦ãã¾ã™ã€‚\n\nãã“ã§ä»Šå›ã¯ã€Dockerã§å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒã®[Fess](http://fess.codelibs.org/ja/)ã‚’ç«‹ã¦ã¦ã€\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰JavaScriptçµŒç”±ã§Fessã®JSON APIã‚’å‘¼ã³å‡ºã™ã“ã¨ã§ã€\nå…¨æ–‡æ¤œç´¢ã‚’ç°¡å˜ã«å°å…¥ã™ã‚‹æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\nå°å…¥ã™ã‚‹ã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å³ä¸Šã«æ¤œç´¢çª“ãŒå‡ºã¦ãã¦å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\n![6æœˆ-24-2017 19-05-32.gif](https://qiita-image-store.s3.amazonaws.com/0/49915/123ec771-fb77-e4dc-df7e-a4b407792759.gif \"6æœˆ-24-2017 19-05-32.gif\")\n\n\n## Fessã¨ã¯\n[Fess](http://fess.codelibs.org/ja/)ã¯**ã€Œ5 åˆ†ã§ç°¡å˜ã«æ§‹ç¯‰å¯èƒ½ãªå…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ã€**ã§ã™ã€‚\nJavaãƒ™ãƒ¼ã‚¹ã§æ§‹ç¯‰ã•ã‚Œã¦ãŠã‚Šã€Apacheãƒ©ã‚¤ã‚»ãƒ³ã‚¹ã§æä¾›ã•ã‚Œã‚‹ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹è£½å“ã§ã€ç„¡æ–™ã§ä½¿ç”¨ã§ãã¾ã™ã€‚\nè‡ªåˆ†ã§ã‚¯ãƒ­ãƒ¼ãƒ©ã‚’è¨­å®šã—ã¦ã€è‡ªåˆ†ã ã‘ã®æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ãŒã¤ãã‚Œã‚‹ã‚ˆã†ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ¤œç´¢ç”»é¢ã‚’æä¾›ã—ã¦ã„ã¾ã™ãŒã€JSON APIã‚‚æä¾›ã—ã¦ã„ã‚‹ã®ã§ã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã¨é€£æºå¯èƒ½ã§ã™ã€‚\n\n\n## å…¨ä½“åƒ\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨ã®JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ã¨CSSãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã€Dockerã§å…¨æ–‡æ¤œç´¢ç”¨ã®Fessã‚µãƒ¼ãƒã‚’ç«‹ã¦ã¾ã™ã€‚\nFessã‚µãƒ¼ãƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã‚’ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã€ãã®æƒ…å ±ã‚’ä¿å­˜ã—ã¦ãŠãã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§å…¨æ–‡æ¤œç´¢ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€JavaScriptçµŒç”±ã§Fessã‚µãƒ¼ãƒã®JSON AIPã‚’å‘¼ã³å‡ºã—ã¦ã€å…¨æ–‡æ¤œç´¢çµæœã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¡¨ç¤ºã—ã¾ã™ã€‚\n\n![0_Fess_å…¨ä½“åƒ_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/10c8ac46-2155-8eb7-a5ed-7c13ce544ec2.png)\n\n![0_Fess_å…¨ä½“åƒ_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/40e1d456-2635-2aed-333d-8b1aec447931.png)\n\n## å°å…¥æ‰‹é †\nã“ã®å°å…¥æ‰‹é †ã¯ã€ä¸‹è¨˜ã®ã‚ˆã†ãªç’°å¢ƒ\u001cï¼ˆãƒ­ãƒ¼ã‚«ãƒ«PCã®Dockerä¸Šã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã¨Fessã‚µãƒ¼ãƒãŒç«‹ã£ã¦ã„ã‚‹ç’°å¢ƒï¼‰ã‚’ä½œã£ãŸæ™‚ã®ã‚‚ã®ã§ã™ã€‚\nDockerã‚’ä½¿ã‚ãªãã¦ã‚‚ã€ãƒ­ãƒ¼ã‚«ãƒ«PCä»¥å¤–ã§ã‚‚ã€å°å…¥å¯èƒ½ã§ã™ã€‚å°å…¥æ‰‹é †ã¯é©å®œèª­ã¿æ›¿ãˆã¦ãã ã•ã„ã€‚\n\n![0_Fess_å…¨ä½“åƒ_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/0badb8d2-1a58-22b6-457c-12becf3a8911.png)\n\n\n### Fessã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nDocker Hubã®[codelibs/fess](https://hub.docker.com/r/codelibs/fess/)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»Šå›ãƒãƒ¼ãƒˆã¯10084ã§å…¬é–‹ã—ã¾ã™ã€‚\nDockerã‚’ä½¿ã‚ãªã„å ´åˆã¯[Fess ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚¬ã‚¤ãƒ‰](http://fess.codelibs.org/ja/11.2/install/index.html)ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚\n\n```\n$ docker run -d -p 10084:8080 --name fess codelibs/fess:latest\n```\n\n### Fessã®è¨­å®š\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®è¨­å®š\n`http://[PCã®ãƒ­ãƒ¼ã‚«ãƒ«IPã‚¢ãƒ‰ãƒ¬ã‚¹]:10084/login`ã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãƒ­ã‚°ã‚¤ãƒ³ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\nãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ID/PASSã€€`admin/admin`ã§ãƒ­ã‚°ã‚¤ãƒ³ã—ã¾ã—ã‚‡ã†ã€‚\n![1_Fessç®¡ç†è€…_ãƒ­ã‚¯ã‚™ã‚¤ãƒ³ç”»é¢.png](https://qiita-image-store.s3.amazonaws.com/0/49915/e790eca9-5073-948e-3e43-d7546d57fae5.png)\n<br/>\n\nãƒ­ã‚°ã‚¤ãƒ³ã™ã‚‹ã¨ãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚å·¦ãƒšã‚¤ãƒ³ã®`ã‚¯ãƒ­ãƒ¼ãƒ©` > `Web`ã€€ã‚’é¸æŠã—ã¾ã—ã‚‡ã†ã€‚\n![2_Fessç®¡ç†è€…_ã‚¿ã‚™ãƒƒã‚·ãƒ¥ãƒ›ã‚™ãƒ¼ãƒˆã‚™.png](https://qiita-image-store.s3.amazonaws.com/0/49915/acfbe950-fa74-d0cb-3cee-5e8db4de5b74.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ©ã«ã¯ã¾ã ä½•ã‚‚ç™»éŒ²ã•ã‚Œã¦ã„ãªã„ã®ã§ã€å·¦ä¸Šã®`+ã€€æ–°è¦ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã—ã‚‡ã†ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/631037b4-aab2-8e0d-f9aa-3d23ec917a29.png)\n<br/>\n\nWebã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±å…¥åŠ›ç”»é¢ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee5a09c9-7cce-3fec-7884-1258c32fa91a.png \"3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_2.png\")\n\nè¨­å®šé …ç›®ã¯è‰²ã€…ã‚ã‚Šã¾ã™ãŒã€ã¨ã‚Šã‚ãˆãšä¸‹è¨˜é …ç›®ã ã‘è¨­å®šã—ã¾ã—ã‚‡ã†ã€‚\n\n* åå‰ \n    * ä»»æ„ã®åå‰ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚\n* URL \n    * ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«ãŠã„ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ ¼ç´ã•ã‚Œã¦ã„ã‚‹ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ã®URLã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚æœ«å°¾ã«`/`ã‚’ä»˜ã‘ã¦ãã ã•ã„ã€‚\n* ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾è±¡ã¨ã™ã‚‹URL \n    * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚ä¸Šè¨˜`URL`ã§è¨­å®šã—ãŸãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€é…ä¸‹ã®å…¨è³‡ç”£ã‚’å¯¾è±¡ã¨ã™ã‚‹ãŸã‚ã«ã€`URLã§è¨­å®šã—ãŸå€¤` + `.*` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n* æ¤œç´¢å¯¾è±¡ã¨ã™ã‚‹URL\n   * æ­£è¦è¡¨ç¾ã§å€¤ã‚’è¨­å®šã—ã¾ã™ã€‚HTMLã®ã¿ã‚’æ¤œç´¢å¯¾è±¡ã«ã—ãŸã„ï¼ˆJSã€CSSãªã©ã¯é™¤å¤–ã—ãŸã„ï¼‰ã®ã§ã€`URLã§è¨­å®šã—ãŸå€¤` + `.+\\.html$` ã‚’æŒ‡å®šã—ã¦ãã ã•ã„ã€‚\n<br/>\n<br/>\n\n\nå€¤ã‚’è¨­å®šã—ãŸã‚‰ã€ç”»é¢ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã—ã¦`+ã€€ä½œæˆ`ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\nã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ã«Webã‚¯ãƒ­ãƒ¼ãƒ«ã®ãƒ‡ãƒ¼ã‚¿ãŒï¼‘ä»¶ç™»éŒ²ã•ã‚Œã¾ã™ã€‚\n![3_Fessç®¡ç†è€…_Webã‚¯ãƒ­ãƒ¼ãƒ«è¨­å®š_4.png](https://qiita-image-store.s3.amazonaws.com/0/49915/3d00bf5a-f131-d367-de53-af10bb36839d.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©ã®å®Ÿè¡Œ\nå·¦ãƒšã‚¤ãƒ³ã§ã€€`ã‚·ã‚¹ãƒ†ãƒ ` > `ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©` ã‚’é¸æŠã—ã¦ã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã‚’é–‹ãã¾ã™ã€‚\nã‚¸ãƒ§ãƒ–ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã§ `Default Crawler`ã‚’é¸æŠã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/b0aeca0d-64a4-43da-782b-0a1a0cd70b83.png)\n<br/>\n\n`ä»Šã™ãé–‹å§‹`ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/00e76920-bfad-eeb1-cb99-724e3a9392a9.png \"4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_1.1.png\")\n<br/>\n\nã™ã‚‹ã¨ã‚¯ãƒ­ãƒ¼ãƒ«ãŒå®Ÿè¡Œã•ã‚Œã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/725d300f-07f5-724d-ce93-8e1c9752e10e.png)\n<br/>\n\nã—ã°ã‚‰ãã—ã¦`F5`ã‚­ãƒ¼ã‚’æŠ¼ã—ã¦ãƒ–ãƒ©ã‚¦ã‚¶ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚\nã‚¯ãƒ­ãƒ¼ãƒ«ãŒçµ‚äº†ã™ã‚‹ã¨ã€ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ©ã®çŠ¶æ…‹ãŒ`å®Ÿè¡Œä¸­`ã‹ã‚‰`æœ‰åŠ¹`ã«ãªã‚Šã¾ã™ã€‚\n![4_Fessç®¡ç†è€…_ã‚¹ã‚±ã‚·ã‚™ãƒ¥ãƒ¼ãƒ©_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/ee4f5277-aac3-ad7e-cdeb-41d39b733c1f.png)\n<br/>\n\n\n#### ã‚¯ãƒ­ãƒ¼ãƒ©å®Ÿè¡Œçµæœã®ç¢ºèª\nå·¦ãƒšã‚¤ãƒ³ã®`ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±`>`ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±`ã‚’é¸æŠã™ã‚‹ã¨ã€å…ˆã»ã©å®Ÿè¡Œã—ãŸã‚¯ãƒ­ãƒ¼ãƒ«ã®çµæœãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™ã€‚ãã®è¡Œã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/92f310b5-83f6-deda-448d-afa8c5b0f104.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_1.png\")\n<br/>\n\n\nã‚»ãƒƒã‚·ãƒ§ãƒ³IDã‚’é¸æŠã—ã¾ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/4e80cd14-3634-f665-b448-8b4b4e7a8d21.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_2.png\")\n<br/>\n\nã“ã“ã«ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒå…¨ã¦è¡¨ç¤ºã•ã‚Œã‚Œã°OKã§ã™ã€‚\n![5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png](https://qiita-image-store.s3.amazonaws.com/0/49915/60b86bc4-f70f-42c8-a017-5f138b3b88e3.png \"5_Fessç®¡ç†è€…_ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±_ã‚¯ãƒ­ãƒ¼ãƒ«æƒ…å ±_3.png\")\n<br/>\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã‚’é…ç½®\nå…¨æ–‡æ¤œç´¢ç”¨ã®è³‡ç”£ã¯`full-text-search.js`ã¨`full-text-search.css`ã®ï¼’ã¤ã§ã™ã€‚\n`full-text-search.js`ã®å¤‰æ•° FESS_JSON_ENDPOINT(FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ) ã¯é©æ™‚ç½®ãæ›ãˆã¦ãã ã•ã„ã€‚\nã“ã‚Œã‚‰ã®è³‡ç”£ã‚’ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ«ãƒ¼ãƒˆãƒ•ã‚©ãƒ«ãƒ€ç›´ä¸‹ã«é…ç½®ã—ã¦ãã ã•ã„ã€‚\n\n```javascript:full-text-search.js\n$(function() {\n    'use strict';\n\n    // FESSã‚µãƒ¼ãƒã®JSON APIã®ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆï¼ˆFessã‚µãƒ¼ãƒã®IPã‚¢ãƒ‰ãƒ¬ã‚¹ + /jsonï¼‰\n    var FESS_JSON_ENDPOINT = 'http://192.168.1.5:10084/json';\n\n    // ï¼‘ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®æ¤œç´¢çµæœè¡¨ç¤ºä»¶æ•°\n    var COUNT_PAR_PAGE = 10;\n\n\n    // ç›®æ¬¡ã®\n    $('#toc')\n        // ä¸€ç•ªä¸Šã«æ¤œç´¢æ¡ä»¶å…¥åŠ›ã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .prepend(\n            '<div id=\"search-area\">' +\n                '<form id=\"search-form\">' +\n                    '<div class=\"search-input-area\">' +\n                        '<i class=\"fa fa-search left-icon\"></i>' +\n                        '<input id=\"search-query\" placeholder=\"å…¨æ–‡æ¤œç´¢\" />' +\n                        '<i class=\"fa fa-close right-icon\"></i>' +\n                    '</div>' +\n                    '<input id=\"search-start\" type=\"hidden\" value=\"0\"/>' +\n                    '<input id=\"search-num\" type=\"hidden\" value=\"' + COUNT_PAR_PAGE + '\"/>' +\n                '<form>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            var $searchArea = $(this);\n\n            // å…¥åŠ›é …ç›®ã®æ¤œç´¢æ¡ä»¶ã§Enterã‚’æŠ¼ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find('#search-form').submit({navi:0}, doSearch);\n\n            // è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã™ã‚‹\n            $searchArea.find(\".left-icon\").click({navi:0}, doSearch);\n\n            // æ¤œç´¢æ¡ä»¶å…¥åŠ›ã—ãŸã‚‰ã€\n            $searchArea.find(\"#search-query\").keyup(function(){\n              var $this = $(this);\n              var $rightIcon = $this.parent().find(\".right-icon\");\n\n              if($this.val().length > 0) {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒã‚ã‚‹å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’æ¿ƒãã™ã‚‹\n                 $rightIcon.css('color','#555');\n              } else {\n                 // æ¤œç´¢æ¡ä»¶ã«å€¤ãŒãªã„å ´åˆã¯Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã™ã‚‹\n                 $rightIcon.css('color','#ccc');\n              }\n            });\n\n            // Ã—ã‚¢ã‚¤ã‚³ãƒ³æŠ¼ä¸‹ã—ãŸã‚‰ã€\n            $searchArea.find(\".right-icon\").click(function(){\n              // Ã—ã‚¢ã‚¤ã‚³ãƒ³ã®è‰²ã‚’è–„ãã—ã¦\n              $(this).css('color','#ccc')\n                      // æ¤œç´¢æ¡ä»¶ã‚’ã‚¯ãƒªã‚¢ã™ã‚‹\n                     .parent().find(\"input\").val('');\n            });\n        });\n\n    // ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚¿ã‚¤ãƒˆãƒ«ã®\n    $('#header>h1')\n        // ç›´ä¸‹ã«æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’æŒ¿å…¥\n        .before(\n            '<div id=\"search-result-area\">' +\n                '<div id=\"search-result-subheader\"></div>' +\n                '<div id=\"search-result-content\"></div>' +\n            '</div>')\n        // ã‚¤ãƒ™ãƒ³ãƒˆç™»éŒ²\n        .ready(function() {\n            $(this)\n                .find('#search-result-area')\n                    // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ãƒãƒ„ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€\n                    .on(\"click\", '#remove-search-result', function(e) {\n                      var $searchResultArea = $(e.delegateTarget)\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã‚’éè¡¨ç¤ºãƒ¢ãƒ¼ãƒ‰ã«ã™ã‚‹\n                      $searchResultArea.removeClass('show');\n                      // æ¤œç´¢çµæœã‚¨ãƒªã‚¢ã®ä¸­èº«ã‚’å‰Šé™¤ã™ã‚‹\n                      $searchResultArea.find('#search-result-subheader').empty();\n                      $searchResultArea.find('#search-result-content').empty();\n                    })\n                    // å‰ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å‰ã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#prevPageLink\", {navi:-1}, doSearch)\n                    // æ¬¡ãƒšãƒ¼ã‚¸ãƒªãƒ³ã‚¯ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ãŸã‚‰ã€ï¼‘ãƒšãƒ¼ã‚¸å¾Œã‚’æ¤œç´¢ã™ã‚‹\n                    .on(\"click\", \"#nextPageLink\", {navi:1}, doSearch);\n        });\n\n\n\n    /**\n     * æ¤œç´¢å‡¦ç†\n     *\n     * @param  {eventObject} event\n     * @return {boolean}  submitå‡¦ç†ã‚’ä¸­æ–­ã•ã›ã‚‹ãŸã‚ã«å¿…ãšfalseã‚’è¿”å´ã™ã‚‹\n     */\n    function doSearch(event){\n      // æ¤œç´¢ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å€¤ã‚’ãƒˆãƒªãƒ ã—ã¦å–å¾—\n      var searchQuery = $.trim($('#search-query').val());\n      // ç©ºã®å ´åˆã¯æ¤œç´¢å‡¦ç†ã‚’å®Ÿè¡Œã—ãªã„\n      if(searchQuery.length == 0) {\n        return false;\n      }\n\n\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã€è¡¨ç¤ºä»¶æ•°ã®å–å¾—\n      var start = parseInt($('#search-start').val()),\n          num = parseInt($('#search-num').val());\n      // è¡¨ç¤ºé–‹å§‹ä½ç½®ã®ãƒã‚§ãƒƒã‚¯\n      if(start < 0) {\n        start = 0;\n      }\n      // è¡¨ç¤ºä»¶æ•°ã®ãƒã‚§ãƒƒã‚¯\n      if(num < 1 || num > 100) {\n        num = 20;\n      }\n      // è¡¨ç¤ºãƒšãƒ¼ã‚¸æƒ…å ±ã®å–å¾—\n      switch(event.data.navi) {\n        case -1:\n          // å‰ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start -= num;\n          break;\n        case 1:\n          // æ¬¡ã®ãƒšãƒ¼ã‚¸ã®å ´åˆ\n          start += num;\n          break;\n        default:\n        case 0:\n          start = 0;\n          break;\n      }\n\n\n      // URLã‚’æ§‹ç¯‰\n      var url = FESS_JSON_ENDPOINT + '?callback=?' + // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n                                     '&q=' + encodeURIComponent(searchQuery) +\n                                     '&start=' + start +\n                                     '&num=' + num;\n\n      // æ¤œç´¢ãƒªã‚¯ã‚¨ã‚¹ãƒˆé€ä¿¡\n      // åˆ¥ãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’æƒ³å®šã—ã¦JSONPå½¢å¼ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ã™ã‚‹\n      $.ajax({\n          url: url,\n          dataType: 'jsonp',\n          success: renderSearchResult\n      });\n\n\n      // ãƒšãƒ¼ã‚¸æƒ…å ±ã®æ›´æ–°\n      $('#searchNum').val(num);\n\n      // ãƒšãƒ¼ã‚¸è¡¨ç¤ºã‚’ä¸Šéƒ¨ã«ç§»å‹•\n      $(document).scrollTop(0);\n\n      // ã‚µãƒ–ãƒŸãƒƒãƒˆã‚’æŠ‘æ­¢ã™ã‚‹ãŸã‚ã«falseã‚’è¿”ã™\n      return false;\n    };\n\n\n    /**\n     * æ¤œç´¢æˆåŠŸæ™‚ã«æ¤œç´¢çµæœã‚’æç”»ã™ã‚‹\n     *\n     * @param  {Anything} data ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿\n     */\n    function renderSearchResult(data) {\n      // æ¤œç´¢çµæœå‡¦ç†\n      var dataResponse = data.response;\n      // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒã‚§ãƒƒã‚¯\n      if(dataResponse.status != 0) {\n        alert(\"æ¤œç´¢ä¸­ã«å•é¡ŒãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚\");\n        return;\n      }\n\n      // æ¤œç´¢çµæœé ˜åŸŸã‚’è¡¨ç¤ºã™ã‚‹\n      $('#search-result-area').addClass('show');\n\n      var $searchResultSubheader = $('#search-result-subheader'),\n          $searchResultContent = $('#search-result-content'),\n          record_count = dataResponse.record_count;\n\n      // æ¤œç´¢çµæœãŒãªã„å ´åˆ\n      if(record_count == 0) {\n        // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n        $searchResultSubheader[0].innerHTML =  '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>';\n\n        // çµæœé ˜åŸŸã«å‡ºåŠ›\n        $searchResultContent[0].innerHTML = '<b>' + dataResponse.q + '</b>ã«ä¸€è‡´ã™ã‚‹æƒ…å ±ã¯è¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚';\n\n        return;\n      }\n\n\n      // æ¤œç´¢ã«ãƒ’ãƒƒãƒˆã—ãŸå ´åˆ\n      var page_number = dataResponse.page_number,\n          page_size = dataResponse.page_size,\n          page_count = dataResponse.page_count,\n          startRange = (page_number - 1) * page_size + 1,\n          endRange = page_number * page_size,\n          i = 0,\n          max,\n          offset = startRange - 1;\n\n      $('#search-start').val(offset);\n\n\n      // ã‚µãƒ–ãƒ˜ãƒƒãƒ€ãƒ¼ã«å‡ºåŠ›\n      $searchResultSubheader[0].innerHTML = '<b>' + dataResponse.q + '</b> ã®æ¤œç´¢çµæœ ' +\n                                record_count + \" ä»¶ä¸­ \" +  startRange + ' - ' +\n                                endRange + ' ä»¶ç›® (' + dataResponse.exec_time + ' ç§’)' +\n                               '<div id=\"remove-search-result\" style=\"float:right;\"><i class=\"fa fa-times\"></i></div>'\n\n      // æ¤œç´¢çµæœé ˜åŸŸã®ã‚¯ãƒªã‚¢\n      $searchResultContent.empty();\n\n\n      // æ¤œç´¢çµæœã®å‡ºåŠ›\n      var $resultBody = $(\"<ol/>\");\n      var results = dataResponse.result;\n      for(i = 0, max = results.length; i < max; i++) {\n        var element =\n            '<li>' +\n                '<h4 class=\"title\">' +\n                    '<a href=\"' +results[i].url_link + '\">' + results[i].title + '</a>' +\n                '</h4>' +\n                '<div class=\"body\">' +\n                    results[i].content_description +\n                    '<br/>' +\n                    '<cite>' + results[i].site + '</cite>' +\n                '</div>' +\n            '</li>';\n\n        $(element).appendTo($resultBody);\n      }\n      $resultBody.appendTo($searchResultContent);\n\n\n      // ãƒšãƒ¼ã‚¸ç•ªå·æƒ…å ±ã®å‡ºåŠ›\n      var pageArea = [];\n      pageArea.push('<div id=\"pageInfo\">', page_number, 'ãƒšãƒ¼ã‚¸ç›®<br/>');\n      if(page_number > 1) {\n        // å‰ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"prevPageLink\" href=\"#\">&lt;&lt;å‰ãƒšãƒ¼ã‚¸ã¸</a> ');\n      }\n      if(page_number < page_count) {\n        // æ¬¡ã®ãƒšãƒ¼ã‚¸ã¸ã®ãƒªãƒ³ã‚¯\n        pageArea.push('<a id=\"nextPageLink\" href=\"#\">æ¬¡ãƒšãƒ¼ã‚¸ã¸&gt;&gt;</a>');\n      }\n      pageArea.push('</div>');\n      $(pageArea.join(\"\")).appendTo($searchResultContent);\n    }\n});\n\n```\n\n\n```css:full-text-search.css\n@charset \"UTF-8\";\n\n#search-area {\n    margin-bottom: 1em;\n}\n\n.search-input-area {\n    position:relative;\n}\n\n/* å…¥åŠ›é …ç›® */\n#search-query {\n    padding: 0.7em 2em;\n    width: 100%;\n    color: black;\n    font-family: arial,sans-serif;\n    font-size: 1em;\n    border: 1px solid #ccc;\n    border-radius: 2em;\n    outline: 0;\n}\n\n.search-input-area input:focus {\n    border: 1px solid #4d90fe;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã¯å…¥åŠ›é …ç›®ã®å·¦ã¨å³ã«é…ç½®ã™ã‚‹ */\n.search-input-area .left-icon,\n.search-input-area .right-icon {\n    /* ç¸¦æ–¹å‘ã®ä¸­å¤®å¯„ã› */\n    position:absolute;\n    top: 50%;\n    margin-top: -0.5em;\n    font-sise: 1em;\n    /* è¦ç´ ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ãƒã‚¦ã‚¹ãƒã‚¤ãƒ³ã‚¿ã®ãƒãƒ¼ã‚¯ã‚’å¤‰ãˆã‚‹ */\n    cursor:pointer;\n}\n\n.search-input-area .left-icon {\n    left: 0.7em;\n    color:#444;\n}\n\n.search-input-area .right-icon {\n    right: 0.7em;\n    /* æœ€åˆã¯ã€ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆã—ã¦ãŠã */\n    color: #ccc;\n}\n\n/* ã‚¢ã‚¤ã‚³ãƒ³ã«ãƒã‚¦ã‚¹ã‚’åˆã‚ã›ãŸã‚‰ã€ã‚µã‚¤ã‚ºã‚’å¤§ããã™ã‚‹ */\n.search-input-area .left-icon:hover,\n.search-input-area .right-icon:hover {\n    font-size: 1.4em;\n}\n\n\n.search-input-area .left-icon:hover {\n    left: 0.5em;\n}\n\n\n.search-input-area .right-icon:hover {\n    right: 0.5em;\n}\n\n/* æ¤œç´¢çµæœè¡¨ç¤ºæ™‚ã«é©ç”¨ã™ã‚‹ã‚¹ã‚¿ã‚¤ãƒ« */\n#search-result-area.show {\n    background: #f8f8f7;\n    border: 0px solid;\n    border-radius: 0.5em;\n    margin-top: 1em;\n    margin-bottom: 1em;\n    padding: 1em;\n}\n\n```\n\n### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«å…¨æ–‡æ¤œç´¢ç”¨è³‡ç”£ã®èª­ã¿è¾¼ã¿å‡¦ç†ã‚’è¿½åŠ \nå‰æ‰‹é †ã§ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã«é…ç½®ã—ãŸ`full-text-search.js`ã¨`full-text-search.css`ã‚’ã€\nå„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ã—ã¾ã™ã€‚\n`full-text-search.js`ã¯jQueryã«ä¾å­˜ã—ã¦ã„ã‚‹ã®ã§ã€\næ—¢å­˜ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§èª­ã¿è¾¼ã‚“ã§ã„ãªã„å ´åˆã¯jQueryã‚‚èª­ã¿è¾¼ã¿ã‚‚è¿½åŠ ã—ã¦ãã ã•ã„ã€‚\n\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒãŒã“ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã ã¨ã—ãŸã‚‰ã€\n\n```\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆç”¨Webã‚µãƒ¼ãƒã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ«ãƒ¼ãƒˆ\nâ”œâ”€â”€ full-text-search.css\nâ”œâ”€â”€ full-text-search.js\nâ””â”€â”€ asciidoctor-sample\n Â Â  â””â”€â”€ asciidoctor-sample.html\n```\n\n\n`asciidoctor-sample.adoc`ã«ã¯ä¸‹è¨˜ã‚’è¿½åŠ ã—ã¾ã™ã€‚\n\n```\n++++\n<link rel=\"stylesheet\" href=\"../full-text-search.css\"></link>\n<script\n  src=\"https://code.jquery.com/jquery-3.2.1.min.js\"\n  integrity=\"sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=\"\n  crossorigin=\"anonymous\"></script>\n<script src=\"../full-text-search.js\"></script>\n++++\n```\n\n### å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‹ã®ç¢ºèª\nä»¥ä¸Šã®æ‰‹é †ã‚’å®Ÿæ–½ã™ã‚‹ã¨ã€Asdciidoctorã§å…¨æ–‡æ¤œç´¢ãŒã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚\nãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã§è¦‹ã‚‹ã¨ã€ç›®æ¬¡ä¸Šéƒ¨ã«æ¤œç´¢çª“ãŒè¿½åŠ ã•ã‚Œã¦ã„ã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_1.png](https://qiita-image-store.s3.amazonaws.com/0/49915/99093cd6-58e8-7cde-a3d8-5bec2a020668.png)\n<br/>\n\næ¤œç´¢æ¡ä»¶ã‚’å…¥åŠ›ã—ã€è™«çœ¼é¡ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€æ¤œç´¢çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚\n![7_å…¨æ–‡æ¤œç´¢ã‚¤ãƒ¡ãƒ¼ã‚·ã‚™_2.png](https://qiita-image-store.s3.amazonaws.com/0/49915/cde3d8ea-d883-a66b-f88d-9a5941026bc9.png)\n<br/>\n\n\n## ã¾ã¨ã‚\nFessã®REST APIã‚’ä½¿ç”¨ã—ã¦Asciidoctorã§å…¨æ–‡æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹æ–¹æ³•ã‚’ç´¹ä»‹ã—ã¾ã—ãŸã€‚\nFessã®REST APIã‚’ä½¿ãˆã°ã€Asciidoctorã«é™ã‚‰ãšã€æ§˜ã€…ãªã‚·ã‚¹ãƒ†ãƒ ã«å…¨æ–‡æ¤œç´¢æ©Ÿèƒ½ã‚’å°å…¥ã§ããã†ã§ã™ã€‚\n\n\n## å‚è€ƒ\n* [Fess ã§ä½œã‚‹Apache Solrãƒ™ãƒ¼ã‚¹ã®æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ ã€œ REST API ç·¨](http://fess.codelibs.org/ja/articles/article-4.html#js)\n* [å…¨æ–‡æ¤œç´¢ã‚µãƒ¼ãƒãƒ¼ Fess ã‚’ Docker ã§å‹•ã‹ã™](http://qiita.com/cookienote/items/1f2443be25630a78d946)\n\n","comments_count":0,"created_at":"2017-06-26T00:21:37+09:00","likes_count":21,"reactions_count":0},"matches":3,"weight":150,"details":[{"weight":50,"keyword":"ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ"},{"weight":50,"keyword":"asciidoctor"},{"weight":50,"keyword":"Qiita"}],"avgWeight":50,"totalWeight":44,"threshold":16.666666666666668,"isRelated":true}]},{"node":{"fields":{"slug":"/4bf6ffd5-8640-508e-ab47-1a55df05d72e/","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","date":"2017-04-07T02:38:55+09:00","excerpt":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚Githubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™...","tags":["Java","Jenkins","CI","gradle","Pipeline","Qiita"],"keywords":["Java"],"thumbnail":""},"id":"4bf6ffd5-8640-508e-ab47-1a55df05d72e","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","rendered_body":"<p>Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚<br>\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚</p>\n\n<h1>\n<span id=\"declarative-pipeline\" class=\"fragment\"></span><a href=\"#declarative-pipeline\"><i class=\"fa fa-link\"></i></a>Declarative Pipeline</h1>\n\n<p>ã„ã¾ã¾ã§ã¯Jenkinsfileã‚’</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>node {\n  ....\n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€<a href=\"https://jenkins.io/doc/book/pipeline/syntax/\" rel=\"nofollow noopener\" target=\"_blank\">Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã‚‹ã¨<br>\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€<br>\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>pipeline {\n  ....  \n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€<br>\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€<br>\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\" class=\"fragment\"></span><a href=\"#%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3\"><i class=\"fa fa-link\"></i></a>è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³</h1>\n\n<p>JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®</p>\n\n<ul>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F\" rel=\"nofollow noopener\" target=\"_blank\">Checkstyle Plugin</a>ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">FindBugs Plugin</a>ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ </li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">PMD Plugin</a>ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">DRY Plugin</a>ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Step Counter Plugin</a>ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Task Scanner Plugin</a>ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Javadoc Plugin</a>ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Warnings Plugin</a>ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">JaCoCo Plugin</a>ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n</ul>\n\n<h1>\n<span id=\"jenkinsfile\" class=\"fragment\"></span><a href=\"#jenkinsfile\"><i class=\"fa fa-link\"></i></a>Jenkinsfile</h1>\n\n<p>Githubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚<br>\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚<br>\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsfile</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">pipeline</span> <span class=\"o\">{</span>\n    <span class=\"n\">agent</span> <span class=\"n\">any</span>\n    <span class=\"c1\">// å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">environment</span> <span class=\"o\">{</span>\n        <span class=\"n\">reportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/reports'</span>\n        <span class=\"n\">javaDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/java'</span>\n        <span class=\"n\">resourcesDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/resources'</span>\n        <span class=\"n\">testReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/test-results/test'</span>\n        <span class=\"n\">jacocoReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/jacoco'</span> \n        <span class=\"n\">javadocDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/docs/javadoc'</span>\n        <span class=\"n\">libsDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/libs'</span>\n        <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n        <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">stages</span> <span class=\"o\">{</span>\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'äº‹å‰æº–å‚™'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n\n                <span class=\"c1\">// ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ</span>\n                <span class=\"n\">checkout</span> <span class=\"n\">scm</span>\n\n                <span class=\"c1\">// ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"Jenkinsfile\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"build.gradle\"</span>\n\n                <span class=\"c1\">// scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹</span>\n                <span class=\"n\">script</span> <span class=\"o\">{</span>\n                    <span class=\"c1\">// Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹</span>\n                    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n                        <span class=\"n\">sh</span> <span class=\"s1\">'chmod +x gradlew'</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">}</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'clean'</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'classes testClasses'</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"c1\">// postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹</span>\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n\n                    <span class=\"c1\">// JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§</span>\n                    <span class=\"c1\">// Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n\n                        <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n\n                        <span class=\"c1\">// Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€</span>\n                        <span class=\"c1\">// pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚</span>\n                        <span class=\"c1\">// ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦</span>\n                        <span class=\"c1\">// ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†</span>\n                        <span class=\"c1\">// https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'Java Compiler (javac)'</span><span class=\"o\">],</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</span>\n                <span class=\"n\">parallel</span><span class=\"o\">(</span>\n                    <span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span> <span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'check -x test'</span>\n\n                        <span class=\"c1\">// dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹</span>\n                        <span class=\"n\">dir</span><span class=\"o\">(</span><span class=\"n\">reportDir</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'CheckStylePublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'FindBugsPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'PmdPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'DryPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                        <span class=\"o\">}</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"c1\">// ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</span>\n                        <span class=\"c1\">// outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹</span>\n                        <span class=\"n\">stepcounter</span> <span class=\"nl\">outputFile:</span> <span class=\"s1\">'stepcount.xls'</span><span class=\"o\">,</span> <span class=\"nl\">outputFormat:</span> <span class=\"s1\">'excel'</span><span class=\"o\">,</span> <span class=\"nl\">settings:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'Java'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${javaDir}/**/*.java\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'SQL'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.sql\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'HTML'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.html\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'JS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.js\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'CSS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.css\"</span><span class=\"o\">]</span>\n                        <span class=\"o\">]</span>\n                        <span class=\"c1\">// ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹</span>\n                        <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"stepcount.xls\"</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'TasksPublisher'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">pattern:</span> <span class=\"s1\">'./**'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹</span>\n                            <span class=\"nl\">ignoreCase:</span> <span class=\"kc\">true</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹</span>\n                            <span class=\"c1\">// è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">high:</span> <span class=\"s1\">'System.out.System.err'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">normal:</span> <span class=\"s1\">'TODO,FIXME,XXX'</span><span class=\"o\">,</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'JavaDoc'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'javadoc -x classes'</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JavadocArchiver'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">javadocDir:</span> <span class=\"s2\">\"${javadocDir}\"</span><span class=\"o\">,</span>\n                            <span class=\"nl\">keepAll:</span> <span class=\"kc\">true</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">)</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n                   <span class=\"c1\">// JavaDocã®è­¦å‘Šã‚’åé›†</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'JavaDoc Tool'</span><span class=\"o\">]</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'test jacocoTestReport -x classes -x testClasses'</span>\n\n                <span class=\"n\">junit</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n\n                <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰</span>\n                <span class=\"n\">step</span><span class=\"o\">([</span>\n                    <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JacocoPublisher'</span><span class=\"o\">,</span>\n                    <span class=\"nl\">execPattern:</span> <span class=\"s2\">\"${jacocoReportDir}/*.exec\"</span><span class=\"o\">,</span>\n                    <span class=\"nl\">exclusionPattern:</span> <span class=\"s1\">'**/*Test.class'</span>\n                <span class=\"o\">])</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ‡ãƒ—ãƒ­ã‚¤'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹</span>\n            <span class=\"n\">when</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„</span>\n                <span class=\"n\">expression</span> <span class=\"o\">{</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span> <span class=\"o\">==</span> <span class=\"s1\">'SUCCESS'</span><span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'jar'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.jar\"</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'war'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.war\"</span>\n                <span class=\"n\">deploy</span> <span class=\"nl\">warDir:</span> <span class=\"n\">libsDir</span><span class=\"o\">,</span> <span class=\"nl\">appName:</span> <span class=\"n\">appName</span><span class=\"o\">,</span> <span class=\"nl\">appVersion:</span> <span class=\"n\">appVersion</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨</span>\n    <span class=\"c1\">// å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    </span>\n    <span class=\"n\">post</span> <span class=\"o\">{</span>\n        <span class=\"n\">always</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤</span>\n            <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡</span>\n\n        <span class=\"c1\">// çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚</span>\n        <span class=\"n\">changed</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"s2\">\"${currentBuild.previousBuild.result} =&gt; ${currentBuild.currentResult}\"</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// å¤±æ•—ã—ãŸæ™‚</span>\n        <span class=\"n\">failure</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰</span>\n        <span class=\"n\">unstable</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n\n<span class=\"c1\">// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">gradlew</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n        <span class=\"n\">sh</span> <span class=\"s2\">\"./gradlew ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span> <span class=\"k\">else</span> <span class=\"o\">{</span>\n        <span class=\"n\">bat</span> <span class=\"s2\">\"./gradlew.bat ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</span>\n<span class=\"c1\">// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª </span>\n<span class=\"c1\">// args.appName ã‚¢ãƒ—ãƒªå</span>\n<span class=\"c1\">// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³</span>\n<span class=\"kt\">def</span> <span class=\"nf\">deploy</span><span class=\"o\">(</span><span class=\"n\">Map</span> <span class=\"n\">args</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹</span>\n    <span class=\"kt\">def</span> <span class=\"n\">keyDir</span> <span class=\"o\">=</span> <span class=\"s1\">'/var/lib/jenkins/.ssh/xxx'</span>\n    <span class=\"c1\">// Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerAddress</span> <span class=\"o\">=</span> <span class=\"s1\">'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerUser</span> <span class=\"o\">=</span> <span class=\"s1\">'hoge-user'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServer</span> <span class=\"o\">=</span> <span class=\"s2\">\"${webServerUser}@${webServerAddress}\"</span>\n\n    <span class=\"kt\">def</span> <span class=\"n\">srcWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}-${args.appVersion}.war\"</span>\n    <span class=\"kt\">def</span> <span class=\"n\">destWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}.war\"</span>\n\n    <span class=\"c1\">// ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">sendMail</span><span class=\"o\">(</span><span class=\"n\">result</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">mail</span> <span class=\"nl\">to:</span> <span class=\"s2\">\"xxxxxxxx@gmail.com\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">subject:</span> <span class=\"s2\">\"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">body:</span> <span class=\"s2\">\"Build URL: ${env.BUILD_URL}.\\n\\n\"</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<h1>\n<span id=\"èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>èº“ã„ãŸã“ã¨</h1>\n\n<ul>\n<li>å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚</li>\n<li>currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– &gt; è¨­å®š &gt; Pipeline Syntax &gt; Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n<a href=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png\"></a>\n</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png\"></a></p>\n\n<ul>\n<li>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚</li>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins &gt; Jenkinsã®ç®¡ç† &gt; ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š &gt; E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png\"></a></p>\n\n<ul>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€<a href=\"https://support.google.com/accounts/answer/6010255?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹</a>ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png\"></a></p>\n\n<h1>\n<span id=\"buildgradle\" class=\"fragment\"></span><a href=\"#buildgradle\"><i class=\"fa fa-link\"></i></a>build.gradle</h1>\n\n<p>Jenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€<br>\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br>\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li>checkstyle</li>\n<li>findbugs</li>\n<li>pmd</li>\n<li>cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)</li>\n<li>test</li>\n<li>jacocoReport</li>\n<li>jar</li>\n<li>war</li>\n</ul>\n\n<p>ä¾‹ãˆã°ã“ã‚“ãª</p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">build.gradle</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'java'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'war'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'checkstyle'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'findbugs'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'pmd'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'jacoco'</span>\n\n<span class=\"n\">ext</span> <span class=\"o\">{</span>\n    <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n    <span class=\"n\">javaVersion</span> <span class=\"o\">=</span> <span class=\"mf\">1.8</span>\n    <span class=\"n\">defaultEncoding</span> <span class=\"o\">=</span> <span class=\"s1\">'UTF-8'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">sourceCompatibility</span> <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">targetCompatibility</span>  <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">AbstractCompile</span><span class=\"o\">)*.</span><span class=\"na\">options</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">GroovyCompile</span><span class=\"o\">)*.</span><span class=\"na\">groovyOptions</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">mainClassName</span> <span class=\"o\">=</span> <span class=\"s1\">'jp.takumon.sapmleapp.App'</span>\n\n<span class=\"n\">repositories</span> <span class=\"o\">{</span>\n    <span class=\"n\">mavenCentral</span><span class=\"o\">()</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">dependencies</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ </span>\n\n    <span class=\"n\">compile</span> <span class=\"nl\">group:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">name:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">version:</span> <span class=\"s1\">'4.12'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jar</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">war</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">checkstyle</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'7.6.1'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">findbugs</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s2\">\"3.0.1\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">pmd</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">Pmd</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ </span>\n<span class=\"n\">check</span><span class=\"o\">.</span><span class=\"na\">doLast</span> <span class=\"o\">{</span>\n    <span class=\"n\">File</span> <span class=\"n\">outputDir</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"s2\">\"$reportsDir/cpd/\"</span><span class=\"o\">)</span>\n    <span class=\"n\">outputDir</span><span class=\"o\">.</span><span class=\"na\">mkdirs</span><span class=\"o\">()</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">taskdef</span><span class=\"o\">(</span>\n        <span class=\"nl\">name:</span> <span class=\"s1\">'cpd'</span><span class=\"o\">,</span> \n        <span class=\"nl\">classname:</span> <span class=\"s1\">'net.sourceforge.pmd.cpd.CPDTask'</span><span class=\"o\">,</span>\n        <span class=\"nl\">classpath:</span> <span class=\"n\">configurations</span><span class=\"o\">.</span><span class=\"na\">pmd</span><span class=\"o\">.</span><span class=\"na\">asPath</span><span class=\"o\">)</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">cpd</span><span class=\"o\">(</span>\n        <span class=\"nl\">minimumTokenCount:</span> <span class=\"s1\">'100'</span><span class=\"o\">,</span>\n        <span class=\"nl\">format:</span> <span class=\"s1\">'xml'</span><span class=\"o\">,</span>\n        <span class=\"nl\">encoding:</span> <span class=\"n\">defaultEncoding</span><span class=\"o\">,</span>\n        <span class=\"nl\">outputFile:</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"n\">outputDir</span><span class=\"o\">,</span> <span class=\"s1\">'cpd.xml'</span><span class=\"o\">)</span>\n    <span class=\"o\">)</span> <span class=\"o\">{</span>\n        <span class=\"n\">fileset</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"s2\">\"src/main/java\"</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">include</span><span class=\"o\">(</span><span class=\"nl\">name:</span> <span class=\"s1\">'**/*.java'</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">javadoc</span> <span class=\"o\">{</span>\n    <span class=\"n\">failOnError</span> <span class=\"o\">=</span> <span class=\"kc\">false</span>\n    <span class=\"c1\">// å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§</span>\n    <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"na\">memberLevel</span> <span class=\"o\">=</span> <span class=\"n\">JavadocMemberLevel</span><span class=\"o\">.</span><span class=\"na\">PRIVATE</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">test</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n        <span class=\"n\">junitXml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacoco</span> <span class=\"o\">{</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'0.7.5.201505241946'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacocoTestReport</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–</span>\n    <span class=\"n\">afterEvaluate</span> <span class=\"o\">{</span> \n        <span class=\"n\">classDirectories</span> <span class=\"o\">=</span> <span class=\"n\">files</span><span class=\"o\">(</span><span class=\"n\">classDirectories</span><span class=\"o\">.</span><span class=\"na\">files</span><span class=\"o\">.</span><span class=\"na\">collect</span> <span class=\"o\">{</span>\n            <span class=\"n\">fileTree</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"n\">it</span><span class=\"o\">,</span> <span class=\"nl\">exclude:</span> <span class=\"o\">[</span><span class=\"s1\">'**/*Test.class'</span><span class=\"o\">])</span> \n        <span class=\"o\">})</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">task</span> <span class=\"nf\">wrapper</span> <span class=\"o\">(</span><span class=\"nl\">type:</span> <span class=\"n\">Wrapper</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">gradleVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'3.4.1'</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<p>ä»¥ä¸Šã€‚</p>\n","body":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚\n\n# Declarative Pipeline\nã„ã¾ã¾ã§ã¯Jenkinsfileã‚’\n\n```\nnode {\n  ....\n}\n```\n\nã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€[Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ](https://jenkins.io/doc/book/pipeline/syntax/)ã‚’è¦‹ã‚‹ã¨\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯\n\n```\npipeline {\n  ....  \n}\n```\nã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚\n\n# è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\nJenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®\n\n* [Checkstyle Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F)ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨\n* [FindBugs Plugin](https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin)ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ \n* [PMD Plugin](https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin)ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [DRY Plugin](https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin)ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [Step Counter Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin)ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹\n* [Task Scanner Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin)ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹\n* [Javadoc Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin)ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨\n* [Warnings Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin)ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹\n* [JaCoCo Plugin](https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin)ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n\n\n\n# Jenkinsfile\nGithubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png)\n\n\n```groovy:Jenkinsfile\npipeline {\n    agent any\n    // å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹\n    environment {\n        reportDir = 'build/reports'\n        javaDir = 'src/main/java'\n        resourcesDir = 'src/main/resources'\n        testReportDir = 'build/test-results/test'\n        jacocoReportDir = 'build/jacoco' \n        javadocDir = 'build/docs/javadoc'\n        libsDir = 'build/libs'\n        appName = 'SampleApp'\n        appVersion = '1.0.0'\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹\n    stages {\n        stage('äº‹å‰æº–å‚™') {\n            // å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹\n            steps {\n                deleteDir()\n\n                // ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n                checkout scm\n\n                // ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹\n                archiveArtifacts \"Jenkinsfile\"\n                archiveArtifacts \"build.gradle\"\n\n                // scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹\n                script {\n                    // Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹\n                    if(isUnix()) {\n                        sh 'chmod +x gradlew'\n                    }\n                }\n                gradlew 'clean'\n            }\n        }\n        \n        stage('ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«') {\n            steps {\n                gradlew 'classes testClasses'\n            }\n            \n            // postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹\n            post {\n                // alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹\n                always {\n\n                    // JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§\n                    // Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹\n                    step([\n\n                        // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK\n                        $class: 'WarningsPublisher',\n\n                        // Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€\n                        // pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚\n                        // ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦\n                        // ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†\n                        // https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties\n                        consoleParsers: [\n                            [parserName: 'Java Compiler (javac)'],\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n        stage('é™çš„ã‚³ãƒ¼ãƒ‰è§£æ') {\n            steps {\n                // ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\n                parallel(\n                    'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ' : {\n                        gradlew 'check -x test'\n\n                        // dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹\n                        dir(reportDir) {\n                            step([\n                                $class: 'CheckStylePublisher',\n                                pattern: \"checkstyle/*.xml\"\n                            ])\n                            step([\n                                $class: 'FindBugsPublisher',\n                                pattern: \"findbugs/*.xml\"\n                            ])\n                            step([\n                                $class: 'PmdPublisher',\n                                pattern: \"pmd/*.xml\"\n                            ])\n                            step([\n                                $class: 'DryPublisher',\n                                pattern: \"cpd/*.xml\"\n                            ])\n                \n                            archiveArtifacts \"checkstyle/*.xml\"\n                            archiveArtifacts \"findbugs/*.xml\"\n                            archiveArtifacts \"pmd/*.xml\"\n                            archiveArtifacts \"cpd/*.xml\"\n                        }\n                    },\n                    'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ': {\n                        // ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ\n                        // outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹\n                        stepcounter outputFile: 'stepcount.xls', outputFormat: 'excel', settings: [\n                            [key:'Java', filePattern: \"${javaDir}/**/*.java\"],\n                            [key:'SQL', filePattern: \"${resourcesDir}/**/*.sql\"],\n                            [key:'HTML', filePattern: \"${resourcesDir}/**/*.html\"],\n                            [key:'JS', filePattern: \"${resourcesDir}/**/*.js\"],\n                            [key:'CSS', filePattern: \"${resourcesDir}/**/*.css\"]\n                        ]\n                        // ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹\n                        archiveArtifacts \"stepcount.xls\"\n                    },\n                    'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³': {\n                        step([\n                            $class: 'TasksPublisher',\n                            pattern: './**',\n                            // é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹\n                            ignoreCase: true,\n                            // å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹\n                            // è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹\n                            high: 'System.out.System.err',\n                            normal: 'TODO,FIXME,XXX',\n                        ])\n                    },\n                    'JavaDoc': {\n                        gradlew 'javadoc -x classes'\n                        step([\n                            $class: 'JavadocArchiver',\n                            // Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹\n                            javadocDir: \"${javadocDir}\",\n                            keepAll: true\n                        ])\n                    }\n                )\n            }\n            \n            post {\n                always {\n                   // JavaDocã®è­¦å‘Šã‚’åé›†\n                    step([\n                        $class: 'WarningsPublisher',\n                        consoleParsers: [\n                            [parserName: 'JavaDoc Tool']\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n\n        stage('ãƒ†ã‚¹ãƒˆ') {\n            steps {\n                gradlew 'test jacocoTestReport -x classes -x testClasses'\n                \n                junit \"${testReportDir}/*.xml\"\n                archiveArtifacts \"${testReportDir}/*.xml\"\n\n                // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰\n                step([\n                    $class: 'JacocoPublisher',\n                    execPattern: \"${jacocoReportDir}/*.exec\",\n                    exclusionPattern: '**/*Test.class'\n                ])\n            }\n        }\n        \n        stage('ãƒ‡ãƒ—ãƒ­ã‚¤') {\n            // whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹\n            when {\n                // é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„\n                expression {currentBuild.currentResult == 'SUCCESS'}\n            }\n            \n            steps {\n                gradlew 'jar'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.jar\"\n                gradlew 'war'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.war\"\n                deploy warDir: libsDir, appName: appName, appVersion: appVersion\n            }\n        }\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨\n    // å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    \n    post {\n        always {\n            // æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤\n            deleteDir()\n        }\n        // é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡\n\n        // çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚\n        changed {\n            sendMail(\"${currentBuild.previousBuild.result} => ${currentBuild.currentResult}\")\n        }\n        // å¤±æ•—ã—ãŸæ™‚\n        failure {\n            sendMail(currentBuild.currentResult)\n        }\n        // ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰\n        unstable {\n            sendMail(currentBuild.currentResult)\n        }\n    }\n}\n\n\n// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹\ndef gradlew(command) {\n    if(isUnix()) {\n        sh \"./gradlew ${command} --stacktrace\"\n    } else {\n        bat \"./gradlew.bat ${command} --stacktrace\"\n    }\n}\n\n// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹\n// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª \n// args.appName ã‚¢ãƒ—ãƒªå\n// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³\ndef deploy(Map args) {\n    // ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹\n    def keyDir = '/var/lib/jenkins/.ssh/xxx'\n    // Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å\n    def webServerAddress = 'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'\n    def webServerUser = 'hoge-user'\n    def webServer = \"${webServerUser}@${webServerAddress}\"\n    \n    def srcWar = \"${args.appName}-${args.appVersion}.war\"\n    def destWar = \"${args.appName}.war\"\n    \n    // ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹\n    sh \"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"\n    sh \"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"\n}\n\n// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹\ndef sendMail(result) {\n    mail to: \"xxxxxxxx@gmail.com\",\n        subject: \"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\",\n        body: \"Build URL: ${env.BUILD_URL}.\\n\\n\"\n}\n```\n\n# èº“ã„ãŸã“ã¨\n* å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚\n* currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– > è¨­å®š > Pipeline Syntax > Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png)\n \n* ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins > Jenkinsã®ç®¡ç† > ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š > E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png)\n\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€[å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹](https://support.google.com/accounts/answer/6010255?hl=ja)ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png)\n\n# build.gradle\nJenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n\n * checkstyle\n * findbugs\n * pmd\n * cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)\n * test\n * jacocoReport\n * jar\n * war\n\nä¾‹ãˆã°ã“ã‚“ãª\n\n```groovy:build.gradle\napply plugin: 'java'\napply plugin: 'war'\napply plugin: 'checkstyle'\napply plugin: 'findbugs'\napply plugin: 'pmd'\napply plugin: 'jacoco'\n\next {\n    appVersion = '1.0.0'\n    appName = 'SampleApp'\n    javaVersion = 1.8\n    defaultEncoding = 'UTF-8'\n}\n\nsourceCompatibility = javaVersion\ntargetCompatibility  = javaVersion\ntasks.withType(AbstractCompile)*.options*.encoding = defaultEncoding\ntasks.withType(GroovyCompile)*.groovyOptions*.encoding = defaultEncoding\nmainClassName = 'jp.takumon.sapmleapp.App'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ \n\n    compile group: 'junit', name: 'junit', version: '4.12'\n}\n\njar {\n    baseName = appName\n    version =  appVersion\n}\n\nwar {\n    baseName = appName\n    version =  appVersion\n}\n\ncheckstyle {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = '7.6.1'\n}\n\nfindbugs {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = \"3.0.1\"\n}\n\npmd {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n}\n\ntasks.withType(Pmd) {\n    reports {\n      xml.enabled = true\n    }\n}\n\n// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ \ncheck.doLast {\n    File outputDir = new File(\"$reportsDir/cpd/\")\n    outputDir.mkdirs()\n  \n    ant.taskdef(\n        name: 'cpd', \n        classname: 'net.sourceforge.pmd.cpd.CPDTask',\n        classpath: configurations.pmd.asPath)\n  \n    ant.cpd(\n        minimumTokenCount: '100',\n        format: 'xml',\n        encoding: defaultEncoding,\n        outputFile: new File(outputDir, 'cpd.xml')\n    ) {\n        fileset(dir: \"src/main/java\") {\n            include(name: '**/*.java')\n        }\n    }\n}\n\njavadoc {\n    failOnError = false\n    // å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§\n    options.memberLevel = JavadocMemberLevel.PRIVATE\n}\n\ntest {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    reports {\n        junitXml.enabled = true\n    }\n}\n\njacoco {\n    toolVersion = '0.7.5.201505241946'\n}\n\njacocoTestReport {\n    reports {\n      xml.enabled = true\n    }\n    \n    // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–\n    afterEvaluate { \n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: ['**/*Test.class']) \n        })\n    }\n}\n\ntask wrapper (type: Wrapper) {\n    gradleVersion = '3.4.1'\n}\n```\n\n\nä»¥ä¸Šã€‚\n","comments_count":0,"created_at":"2017-04-07T02:38:55+09:00","likes_count":58,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/e6e81f10-e1df-58fa-ad49-6da5d018abc4/","title":"Java SE8 Goldå–ã‚Šã¾ã—ãŸã€‚","date":"2017-03-12T17:52:21+09:00","excerpt":"å…ˆæ—¥Java SE 8 Programmer II(Java SE8 Gold)ã«åˆæ ¼ã—ã¾ã—ãŸã€‚ãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚â–¼è©¦é¨“çµæœå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(&gt;...","tags":["Java","java8","è³‡æ ¼","Qiita"],"keywords":["Java"],"thumbnail":""},"id":"e6e81f10-e1df-58fa-ad49-6da5d018abc4","title":"Java SE8 Goldå–ã‚Šã¾ã—ãŸã€‚","rendered_body":"<p>å…ˆæ—¥<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-809&amp;p_org_id=70\" rel=\"nofollow noopener\" target=\"_blank\">Java SE 8 Programmer II(Java SE8 Gold)</a>ã«åˆæ ¼ã—ã¾ã—ãŸã€‚<br>\nãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚</p>\n\n<p>â–¼è©¦é¨“çµæœ<br>\nå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆ<br>\nå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(&gt;o&lt;)!</p>\n\n<h2>\n<span id=\"è‡ªåˆ†ã¨javaã®é–¢ä¿‚\" class=\"fragment\"></span><a href=\"#%E8%87%AA%E5%88%86%E3%81%A8java%E3%81%AE%E9%96%A2%E4%BF%82\"><i class=\"fa fa-link\"></i></a>è‡ªåˆ†ã¨Javaã®é–¢ä¿‚</h2>\n\n<ul>\n<li>ä»•äº‹ã§Javaé–‹ç™ºã¯5å¹´</li>\n<li>ä¿æœ‰è³‡æ ¼ã¯<a href=\"https://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-808&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Java SE 8 Silver</a>ã¨ <a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=458&amp;p_org_id=70&amp;lang=JA&amp;get_params=p_track_id:JEE5WCD\" rel=\"nofollow noopener\" target=\"_blank\">Webã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘EE 5</a>ã¨ <a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-851&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Javaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"ãã£ã‹ã‘\" class=\"fragment\"></span><a href=\"#%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\"><i class=\"fa fa-link\"></i></a>ãã£ã‹ã‘</h2>\n\n<p>Java8ã§æ–°æ©Ÿèƒ½ãŒå¤šãè¿½åŠ ã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚‰ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã«å—é¨“ã—ã¾ã—ãŸã€‚ã€€<br>\næœ€åˆã¯<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-813&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Upgrade to Java SE 8 OCP</a>ã®å—é¨“ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸãŒã€<br>\nå‚è€ƒæ›¸ãŒãªã„ã®ã¨æƒ…å ±é‡ãŒå°‘ãªã‹ã£ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’å—ã‘ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³\" class=\"fragment\"></span><a href=\"#%E8%B2%B7%E3%81%A3%E3%81%9F%E5%8F%82%E8%80%83%E6%9B%B8%E3%81%A8%E6%84%9F%E6%83%B3\"><i class=\"fa fa-link\"></i></a>è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³</h2>\n\n<p></p><dl>\n<dt>\n<a href=\"https://www.amazon.co.jp/%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5Java-SE-8-Gold%E5%95%8F%E9%A1%8C%E9%9B%86%EF%BC%BB1Z0-809%EF%BC%BD%E5%AF%BE%E5%BF%9C-%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-ebook/dp/B01LXSG1G9/ref=pd_sim_351_1?_encoding=UTF8&amp;psc=1&amp;refRID=PC6MK9AHZB6JSXW5VM6F\" rel=\"nofollow noopener\" target=\"_blank\">å¾¹åº•æ”»ç•¥Java SE 8 Goldå•é¡Œé›†ï¼»1Z0-809ï¼½å¯¾å¿œ å¾¹åº•æ”»ç•¥ã‚·ãƒªãƒ¼ã‚º</a>ï¼ˆä»¥å¾Œã€é»’æœ¬ã¨è¨˜è¿°ï¼‰</dt>\n<br>\n<dd>å®šç•ªã®å•é¡Œé›†ãªã®ã§è³¼å…¥ã—ã¾ã—ãŸãŒã€å…¨ä½“çš„ã«é›£æ˜“åº¦ãŒä½ã‚ã®é–€é¡ŒãŒå¤šã„ã§ã™ã€‚ãŸã æœ¬ã®æœ€å¾Œã®ç·ä»•ä¸Šã’å•é¡Œã¯æœ¬ç•ªè©¦é¨“ã¨é›£æ˜“åº¦ãŒè¿‘ãã€æœ¬ç•ªã§ã‚‚åŒã˜å•é¡ŒãŒå¤šæ•°å‡ºé¡Œã•ã‚Œã¾ã—ãŸã€‚</dd>\n<br>\n<dt>\n<a href=\"https://www.amazon.co.jp/dp/B0191U2H8C/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"nofollow noopener\" target=\"_blank\">OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide: Exam 1Z0-809</a>ï¼ˆä»¥å¾Œã€ Study Guideã¨è¨˜è¿°ï¼‰</dt>\n<br>\n<dd>ä¸Šè¨˜ã®é»’æœ¬ã ã‘ã§ã¯ä¸å®‰ã«ãªã‚Šè³¼å…¥ã—ã¾ã—ãŸã€‚<a href=\"https://www.amazon.co.jp/dp/B01J1LPKJY/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"nofollow noopener\" target=\"_blank\">ç´«æœ¬</a>ã¨åŒã˜ã‚ˆã†ãªæ§‹æˆã§ã€å‚è€ƒæ›¸ã¨å•é¡Œé›†ãŒï¼‘ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ç´«æœ¬ã§ã¯ãªãStudy Guideã«ã—ãŸã®ã¯è‹±èªåŠ›ã‚’èº«ã«ã¤ã‘ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚æœ¬ã®èª¬æ˜ã«ã€ŒComplete, trusted preparation for the Java Programmer II examã€ã¨ã‚ã‚‹é€šã‚Šå•é¡Œæ•°ã‚‚å¤šãã‹ãªã‚Šå……å®Ÿã—ãŸå†…å®¹ã§ã—ãŸã€‚é›£æ˜“åº¦ã¯æœ¬ç•ªã‚ˆã‚Šã‚‚é«˜ã‚ã§ã™ã€‚ã“ã®æœ¬ã‚’ï¼’å‘¨ã—ã¦å•é¡Œã®æ­£ç­”ç‡ãŒ90%ã«é”ã—ã¦ã„ã‚Œã°çµ¶å¯¾åˆæ ¼ã§ãã¾ã™ã€‚ãŸã é‡ãŒå¤šã„ã®ã§ï¼’å‘¨ã™ã‚‹ã®ã¯ã‹ãªã‚Šæ ¹æ°—ãŒå¿…è¦ã§ã™ï¼ˆè‡ªåˆ†ã¯1å‘¨ã§æ–­å¿µã—ã¾ã—ãŸï¼‰ã€‚<br>ã‚ã¨æœ¬ãŒã§ã‹ãã¦ã€é›»è»Šã®ä¸­ã§ã¯çµ¶å¯¾èª­ã‚ã¾ã›ã‚“ã€‚Kindleã§è³¼å…¥ã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚</dd>\n\n<h2>\n<span id=\"è©¦é¨“æœ¬ç•ª\" class=\"fragment\"></span><a href=\"#%E8%A9%A6%E9%A8%93%E6%9C%AC%E7%95%AA\"><i class=\"fa fa-link\"></i></a>è©¦é¨“æœ¬ç•ª</h2>\n\n<p>å•é¡Œæ•°ã¯85å•ã€è©¦é¨“æ™‚é–“ã¯150åˆ†ã§ã—ãŸãŒã€æ™‚é–“ãŒè¶³ã‚Šãªã„ã¨ã„ã†ã“ã¨ã¯ãªãã€120åˆ†ã»ã©ã§è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸã€‚<br>\né›£æ˜“åº¦ã¯é»’æœ¬ã®ç·ä»•ä¸Šã’å•é¡Œã‚ˆã‚Šã‚‚å°‘ã—é«˜ã‚ã§ã™ã€‚<br>\nJavaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6ã®æ™‚ã®ã‚ˆã†ãªé‡ç®±ã®éš…ã‚’ã¤ã¤ãã‚ˆã†ãªå•é¡Œã¯å°‘ãªãã€<br>\nJava8ã®æ–°è¦æ©Ÿèƒ½ãŒãƒ¡ã‚¤ãƒ³ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ AIPã€ãƒ©ãƒ ãƒ€å¼ã€ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã«é–¢ã—ã¦ã¯å˜ä½“ã§ã®å‡ºé¡Œ or ä»–ã¨çµ¡ã‚ã¦ã®å‡ºé¡Œã§ï¼‘ï¼ï¼”ã‚’å ã‚ã¦ã„ã¾ã—ãŸã€‚Study Guideã§ã¯ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®é›£ã—ã‚ã®å•é¡ŒãŒå¤šã‹ã£ãŸã®ã§ã™ãŒã€æœ¬ç•ªã¯ç°¡å˜ãªå•é¡ŒãŒï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚Optionalã¨DateTimeAPIã«ã¤ã„ã¦ã¯æ„å¤–ã¨å°‘ãªãã€ï¼‘ã€ï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚<br>\nJDBCã¯ä¾‹å¤–å‡¦ç†ã¨çµ¡ã‚ãŸå•é¡Œã‚‚ã‚ã‚Šï¼•ï½ï¼—å•ã¨æ„å¤–ã¨å¤šã‚ã§ã—ãŸã€‚<br>\nNew IOã«ã¤ã„ã¦ã¯çµ¶å¯¾ãƒ‘ã‚¹ã¨ç›¸å¯¾ãƒ‘ã‚¹ã§ã®æŒ™å‹•ã®é•ã„ã‚’ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ„Ÿæƒ³\" class=\"fragment\"></span><a href=\"#%E6%84%9F%E6%83%B3\"><i class=\"fa fa-link\"></i></a>æ„Ÿæƒ³</h2>\n\n<p>ç‚¹æ•°çš„ã«ã¯ã‚®ãƒªã‚®ãƒªåˆæ ¼ã§ã—ãŸã€‚ã€‚ã€‚<br>\nå•é¡Œé›†ã«å–ã‚Šçµ„ã‚€ã¨ãã«ã€æ­£è§£ã‚’å°ãå‡ºã›ã‚‹ã ã‘ã§ãªãã€ä¸€ã¤ä¸€ã¤ã®é¸æŠè‚¢ã«å¯¾ã—ã¦èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãªãŒã‚‰Java8ã®ä¸»è¦æ–°ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ä¸€é€šã‚Šæ•´ç†ã§ãã¾ã—ãŸã€æ¥­å‹™ã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªç†è§£ã ã¨æ€ã„ã¾ã™ã€‚<br>\nè©¦é¨“å¯¾ç­–ã¯å•é¡Œé›†ã®ã¿ã§ã—ãŸãŒã€è©¦é¨“å¾Œã«<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-809&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">ã‚ªãƒ©ã‚¯ãƒ«ã®å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€è©¦é¨“å†…å®¹ï¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ã€ãƒˆãƒ”ãƒƒã‚¯ã€‘ã®ï¼‘ã¤ï¼‘ã¤ã«å¯¾ã—ã¦æ¼ã‚Œãªãå•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¦ãŸã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§ã€è©¦é¨“å‰ã«è¦‹ã¨ã‘ã°ã‚ˆã‹ã£ãŸãªãã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã‚ã¨è‹±èªã®å‹‰å¼·ã‚‚ã‹ã­ã¦é»’æœ¬ã¨Study Guideã‚’é¸ã³ã¾ã—ãŸãŒã€ä»–ã®æ–¹ã®ãƒ–ãƒ­ã‚°ã‚’è¦‹ãŸæ„Ÿã˜ã ã¨ã€é»’æœ¬ã¨ç´«æœ¬ã‚’è²·ã£ã¦ãã‚Œãã‚Œï¼’å‘¨ã™ã‚Œã°åˆæ ¼ã§ãã‚‹ã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸã€‚</p>\n</dl>","body":"å…ˆæ—¥[Java SE 8 Programmer II(Java SE8 Gold)](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-809&p_org_id=70)ã«åˆæ ¼ã—ã¾ã—ãŸã€‚\nãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚\n\nâ–¼è©¦é¨“çµæœ\nå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆ\nå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(>o<)!\n\n## è‡ªåˆ†ã¨Javaã®é–¢ä¿‚\n* ä»•äº‹ã§Javaé–‹ç™ºã¯5å¹´\n* ä¿æœ‰è³‡æ ¼ã¯[Java SE 8 Silver](https://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-808&p_org_id=70&lang=JA)ã¨ [Webã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘EE 5](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=458&p_org_id=70&lang=JA&get_params=p_track_id:JEE5WCD)ã¨ [Javaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-851&p_org_id=70&lang=JA)\n\n## ãã£ã‹ã‘\nJava8ã§æ–°æ©Ÿèƒ½ãŒå¤šãè¿½åŠ ã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚‰ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã«å—é¨“ã—ã¾ã—ãŸã€‚ã€€\næœ€åˆã¯[Upgrade to Java SE 8 OCP](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-813&p_org_id=70&lang=JA)ã®å—é¨“ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸãŒã€\nå‚è€ƒæ›¸ãŒãªã„ã®ã¨æƒ…å ±é‡ãŒå°‘ãªã‹ã£ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’å—ã‘ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\n\n## è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³\n<dl><dt>[å¾¹åº•æ”»ç•¥Java SE 8 Goldå•é¡Œé›†ï¼»1Z0-809ï¼½å¯¾å¿œ å¾¹åº•æ”»ç•¥ã‚·ãƒªãƒ¼ã‚º](https://www.amazon.co.jp/%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5Java-SE-8-Gold%E5%95%8F%E9%A1%8C%E9%9B%86%EF%BC%BB1Z0-809%EF%BC%BD%E5%AF%BE%E5%BF%9C-%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-ebook/dp/B01LXSG1G9/ref=pd_sim_351_1?_encoding=UTF8&psc=1&refRID=PC6MK9AHZB6JSXW5VM6F)ï¼ˆä»¥å¾Œã€é»’æœ¬ã¨è¨˜è¿°ï¼‰</dt>\n<dd>å®šç•ªã®å•é¡Œé›†ãªã®ã§è³¼å…¥ã—ã¾ã—ãŸãŒã€å…¨ä½“çš„ã«é›£æ˜“åº¦ãŒä½ã‚ã®é–€é¡ŒãŒå¤šã„ã§ã™ã€‚ãŸã æœ¬ã®æœ€å¾Œã®ç·ä»•ä¸Šã’å•é¡Œã¯æœ¬ç•ªè©¦é¨“ã¨é›£æ˜“åº¦ãŒè¿‘ãã€æœ¬ç•ªã§ã‚‚åŒã˜å•é¡ŒãŒå¤šæ•°å‡ºé¡Œã•ã‚Œã¾ã—ãŸã€‚</dd>\n<dt>[OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide: Exam 1Z0-809](https://www.amazon.co.jp/dp/B0191U2H8C/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)ï¼ˆä»¥å¾Œã€ Study Guideã¨è¨˜è¿°ï¼‰</dt>\n<dd>ä¸Šè¨˜ã®é»’æœ¬ã ã‘ã§ã¯ä¸å®‰ã«ãªã‚Šè³¼å…¥ã—ã¾ã—ãŸã€‚[ç´«æœ¬](https://www.amazon.co.jp/dp/B01J1LPKJY/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)ã¨åŒã˜ã‚ˆã†ãªæ§‹æˆã§ã€å‚è€ƒæ›¸ã¨å•é¡Œé›†ãŒï¼‘ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ç´«æœ¬ã§ã¯ãªãStudy Guideã«ã—ãŸã®ã¯è‹±èªåŠ›ã‚’èº«ã«ã¤ã‘ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚æœ¬ã®èª¬æ˜ã«ã€ŒComplete, trusted preparation for the Java Programmer II examã€ã¨ã‚ã‚‹é€šã‚Šå•é¡Œæ•°ã‚‚å¤šãã‹ãªã‚Šå……å®Ÿã—ãŸå†…å®¹ã§ã—ãŸã€‚é›£æ˜“åº¦ã¯æœ¬ç•ªã‚ˆã‚Šã‚‚é«˜ã‚ã§ã™ã€‚ã“ã®æœ¬ã‚’ï¼’å‘¨ã—ã¦å•é¡Œã®æ­£ç­”ç‡ãŒ90%ã«é”ã—ã¦ã„ã‚Œã°çµ¶å¯¾åˆæ ¼ã§ãã¾ã™ã€‚ãŸã é‡ãŒå¤šã„ã®ã§ï¼’å‘¨ã™ã‚‹ã®ã¯ã‹ãªã‚Šæ ¹æ°—ãŒå¿…è¦ã§ã™ï¼ˆè‡ªåˆ†ã¯1å‘¨ã§æ–­å¿µã—ã¾ã—ãŸï¼‰ã€‚<br>ã‚ã¨æœ¬ãŒã§ã‹ãã¦ã€é›»è»Šã®ä¸­ã§ã¯çµ¶å¯¾èª­ã‚ã¾ã›ã‚“ã€‚Kindleã§è³¼å…¥ã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚</dd>\n\n## è©¦é¨“æœ¬ç•ª\nå•é¡Œæ•°ã¯85å•ã€è©¦é¨“æ™‚é–“ã¯150åˆ†ã§ã—ãŸãŒã€æ™‚é–“ãŒè¶³ã‚Šãªã„ã¨ã„ã†ã“ã¨ã¯ãªãã€120åˆ†ã»ã©ã§è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸã€‚\né›£æ˜“åº¦ã¯é»’æœ¬ã®ç·ä»•ä¸Šã’å•é¡Œã‚ˆã‚Šã‚‚å°‘ã—é«˜ã‚ã§ã™ã€‚\nJavaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6ã®æ™‚ã®ã‚ˆã†ãªé‡ç®±ã®éš…ã‚’ã¤ã¤ãã‚ˆã†ãªå•é¡Œã¯å°‘ãªãã€\nJava8ã®æ–°è¦æ©Ÿèƒ½ãŒãƒ¡ã‚¤ãƒ³ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ AIPã€ãƒ©ãƒ ãƒ€å¼ã€ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã«é–¢ã—ã¦ã¯å˜ä½“ã§ã®å‡ºé¡Œ or ä»–ã¨çµ¡ã‚ã¦ã®å‡ºé¡Œã§ï¼‘ï¼ï¼”ã‚’å ã‚ã¦ã„ã¾ã—ãŸã€‚Study Guideã§ã¯ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®é›£ã—ã‚ã®å•é¡ŒãŒå¤šã‹ã£ãŸã®ã§ã™ãŒã€æœ¬ç•ªã¯ç°¡å˜ãªå•é¡ŒãŒï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚Optionalã¨DateTimeAPIã«ã¤ã„ã¦ã¯æ„å¤–ã¨å°‘ãªãã€ï¼‘ã€ï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚\nJDBCã¯ä¾‹å¤–å‡¦ç†ã¨çµ¡ã‚ãŸå•é¡Œã‚‚ã‚ã‚Šï¼•ï½ï¼—å•ã¨æ„å¤–ã¨å¤šã‚ã§ã—ãŸã€‚\nNew IOã«ã¤ã„ã¦ã¯çµ¶å¯¾ãƒ‘ã‚¹ã¨ç›¸å¯¾ãƒ‘ã‚¹ã§ã®æŒ™å‹•ã®é•ã„ã‚’ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n## æ„Ÿæƒ³\nç‚¹æ•°çš„ã«ã¯ã‚®ãƒªã‚®ãƒªåˆæ ¼ã§ã—ãŸã€‚ã€‚ã€‚\nå•é¡Œé›†ã«å–ã‚Šçµ„ã‚€ã¨ãã«ã€æ­£è§£ã‚’å°ãå‡ºã›ã‚‹ã ã‘ã§ãªãã€ä¸€ã¤ä¸€ã¤ã®é¸æŠè‚¢ã«å¯¾ã—ã¦èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãªãŒã‚‰Java8ã®ä¸»è¦æ–°ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ä¸€é€šã‚Šæ•´ç†ã§ãã¾ã—ãŸã€æ¥­å‹™ã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªç†è§£ã ã¨æ€ã„ã¾ã™ã€‚\nè©¦é¨“å¯¾ç­–ã¯å•é¡Œé›†ã®ã¿ã§ã—ãŸãŒã€è©¦é¨“å¾Œã«[ã‚ªãƒ©ã‚¯ãƒ«ã®å…¬å¼ã‚µã‚¤ãƒˆ](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-809&p_org_id=70&lang=JA)ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€è©¦é¨“å†…å®¹ï¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ã€ãƒˆãƒ”ãƒƒã‚¯ã€‘ã®ï¼‘ã¤ï¼‘ã¤ã«å¯¾ã—ã¦æ¼ã‚Œãªãå•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¦ãŸã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§ã€è©¦é¨“å‰ã«è¦‹ã¨ã‘ã°ã‚ˆã‹ã£ãŸãªãã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã‚ã¨è‹±èªã®å‹‰å¼·ã‚‚ã‹ã­ã¦é»’æœ¬ã¨Study Guideã‚’é¸ã³ã¾ã—ãŸãŒã€ä»–ã®æ–¹ã®ãƒ–ãƒ­ã‚°ã‚’è¦‹ãŸæ„Ÿã˜ã ã¨ã€é»’æœ¬ã¨ç´«æœ¬ã‚’è²·ã£ã¦ãã‚Œãã‚Œï¼’å‘¨ã™ã‚Œã°åˆæ ¼ã§ãã‚‹ã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸã€‚\n","comments_count":0,"created_at":"2017-03-12T17:52:21+09:00","likes_count":17,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Java"},{"weight":50,"keyword":"Java"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/94324d66-4d90-51bd-8970-5e5fce7ed13c/","title":"Jenkins Pipelineã§Yamlã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•","date":"2017-06-17T12:14:16+09:00","excerpt":"Jenkins Pipelineã®Jenkinsfileã‚’ä½œã£ã¦ã„ã¦ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(Gradleã§ã„ã†ã€gradle.propertiesã®ã‚ˆã†ãªæ„Ÿã˜)ãŒæ¬²ã—ã„ã¨æ€ã†æ™‚ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jnekinsfileã‹ã‚‰èª­ã¿è¾¼ã‚“ã§...","tags":["Jenkins","CI","Pipeline","Qiita"],"keywords":["Jenkins"],"thumbnail":""},"id":"94324d66-4d90-51bd-8970-5e5fce7ed13c","title":"Jenkins Pipelineã§Yamlã‚’è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•","rendered_body":"<p>Jenkins Pipelineã®Jenkinsfileã‚’ä½œã£ã¦ã„ã¦ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(Gradleã§ã„ã†ã€gradle.propertiesã®ã‚ˆã†ãªæ„Ÿã˜)ãŒæ¬²ã—ã„ã¨æ€ã†æ™‚ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jnekinsfileã‹ã‚‰èª­ã¿è¾¼ã‚“ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚</p>\n\n<h1>\n<span id=\"1-pipeline-utility-steps-pluginã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\" class=\"fragment\"></span><a href=\"#1-pipeline-utility-steps-plugin%E3%82%92%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\"><i class=\"fa fa-link\"></i></a>1. <a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Pipeline Utility Steps Plugin</a>ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«</h1>\n\n<p>Jenkinsã§æ§˜ã€…ãªå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç°¡å˜ã«èª­ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚Yamlãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«ä½¿ã„ã¾ã™ã€‚JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«ã¯å…¥ã£ã¦ã„ãªã„ã®ã§ã€è‡ªåˆ†ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚</p>\n\n<h1>\n<span id=\"2-configymlã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#2-configyml%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>2. config.ymlã‚’ä½œæˆ</h1>\n\n<p>ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹ï¼ˆJenkinsfileã¨åŒã˜å ´æ‰€ï¼‰ã«config.ymlã‚’ä½œã‚Šã¾ã™ã€‚ </p>\n\n<div class=\"code-frame\" data-lang=\"yaml\">\n<div class=\"code-lang\"><span class=\"bold\">config.yml</span></div>\n<div class=\"highlight\"><pre><span class=\"na\">someProp</span><span class=\"pi\">:</span> <span class=\"s\">å€¤ï¼‘</span>\n<span class=\"na\">someCategory</span><span class=\"pi\">:</span>\n  <span class=\"na\">prop</span><span class=\"pi\">:</span> <span class=\"s\">å€¤ï¼’</span>\n  <span class=\"na\">arrayProp</span><span class=\"pi\">:</span>\n    <span class=\"pi\">-</span> <span class=\"s\">é…åˆ—å€¤ï¼</span>\n    <span class=\"pi\">-</span> <span class=\"s\">é…åˆ—å€¤ï¼‘</span>\n    <span class=\"pi\">-</span> <span class=\"s\">é…åˆ—å€¤ï¼’</span>\n</pre></div>\n</div>\n\n<h1>\n<span id=\"3-jenkinsfileã‚’ä½œæˆ\" class=\"fragment\"></span><a href=\"#3-jenkinsfile%E3%82%92%E4%BD%9C%E6%88%90\"><i class=\"fa fa-link\"></i></a>3. Jenkinsfileã‚’ä½œæˆ</h1>\n\n<p>Jenkinsfileã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»Šå›ã¯Declarative Pipelineã®æ›¸ãæ–¹ã§ã™ãŒã€Scripted Pipelinesã§ã‚‚ã»ã¨ã‚“ã©åŒã˜æ›¸ãæ–¹ã ã¨æ€ã„ã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsfie</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">pipeline</span> <span class=\"o\">{</span>\n    <span class=\"n\">agent</span> <span class=\"n\">any</span>\n\n    <span class=\"n\">environment</span> <span class=\"o\">{</span>\n        <span class=\"n\">CONFIG</span> <span class=\"o\">=</span> <span class=\"s2\">\"\"</span> <span class=\"c1\">//ã“ã®æ™‚ç‚¹ã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚ãªã„ã®ã§ä»®ã®å€¤ã‚’è¨­å®šã—ã¦ãŠã</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"n\">stages</span> <span class=\"o\">{</span>\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ</span>\n                <span class=\"n\">checkout</span> <span class=\"n\">scm</span>\n\n                <span class=\"n\">script</span> <span class=\"o\">{</span>\n                    <span class=\"c1\">// ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆå¾Œã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€</span>\n                    <span class=\"c1\">// Pipeline Utility Steps Pluginã®é–¢æ•°ã‚’ä½¿ã†</span>\n                    <span class=\"n\">CONFIG</span> <span class=\"o\">=</span> <span class=\"n\">readYaml</span><span class=\"o\">(</span><span class=\"nl\">file:</span> <span class=\"s1\">'config.yml'</span><span class=\"o\">)</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someProp ï¼ ${CONFIG.someProp}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.prop ï¼ ${CONFIG.someCategory.prop}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.arrayProp[0] ï¼ ${CONFIG.someCategory.arrayProp[0]}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.arrayProp[1] ï¼ ${CONFIG.someCategory.arrayProp[1]}\"</span>\n                <span class=\"n\">echo</span> <span class=\"s2\">\"CONFIG.someCategory.arrayProp[2] ï¼ ${CONFIG.someCategory.arrayProp[2]}\"</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<p>ã“ã‚Œã§Jobã‚’å®Ÿè¡Œã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚</p>\n\n<div class=\"code-frame\" data-lang=\"\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ï¼ˆä¸€éƒ¨æŠœç²‹ï¼‰</span></div>\n<div class=\"highlight\"><pre>[Pipeline] { (è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§)\n[Pipeline] echo\nCONFIG.someProp ï¼ å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.prop ï¼ å€¤ï¼’\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[0] ï¼ é…åˆ—å€¤ï¼\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[1] ï¼ é…åˆ—å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[2] ï¼ é…åˆ—å€¤ï¼’\n</pre></div>\n</div>\n\n<h2>\n<span id=\"æœ€å¾Œã«\" class=\"fragment\"></span><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\"><i class=\"fa fa-link\"></i></a>æœ€å¾Œã«</h2>\n\n<p>ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jenkins Pipelineã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚<br>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Pipeline Utility Steps Plugin</a>ã¯propertiesãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­ã¿è¾¼ã‚ã‚‹ã®ã§ã€gradle.propertiesã‚’èª­ã¿è¾¼ã‚“ã§ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gradleã¨Jenkins Pipelineã§å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚</p>\n","body":"Jenkins Pipelineã®Jenkinsfileã‚’ä½œã£ã¦ã„ã¦ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«(Gradleã§ã„ã†ã€gradle.propertiesã®ã‚ˆã†ãªæ„Ÿã˜)ãŒæ¬²ã—ã„ã¨æ€ã†æ™‚ãŒã‚ã‚Šã¾ã™ã€‚ä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jnekinsfileã‹ã‚‰èª­ã¿è¾¼ã‚“ã§è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã†æ–¹æ³•ã‚’ã”ç´¹ä»‹ã—ã¾ã™ã€‚\n\n# 1. [Pipeline Utility Steps Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin)ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\nJenkinsã§æ§˜ã€…ãªå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒç°¡å˜ã«èª­ã¿è¾¼ã‚ã‚‹ã‚ˆã†ã«ãªã‚‹ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã§ã™ã€‚Yamlãƒ•ã‚¡ã‚¤ãƒ«ã®èª­ã¿è¾¼ã¿ã«ä½¿ã„ã¾ã™ã€‚JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«ã¯å…¥ã£ã¦ã„ãªã„ã®ã§ã€è‡ªåˆ†ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ã€‚\n\n# 2. config.ymlã‚’ä½œæˆ\nãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç›´ä¸‹\u001cï¼ˆJenkinsfileã¨åŒã˜å ´æ‰€ï¼‰ã«config.ymlã‚’ä½œã‚Šã¾ã™ã€‚ \n\n```yaml:config.yml\nsomeProp: å€¤ï¼‘\nsomeCategory:\n  prop: å€¤ï¼’\n  arrayProp:\n    - é…åˆ—å€¤ï¼\n    - é…åˆ—å€¤ï¼‘\n    - é…åˆ—å€¤ï¼’\n```\n\n# 3. Jenkinsfileã‚’ä½œæˆ\nJenkinsfileã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚ä»Šå›ã¯Declarative Pipelineã®æ›¸ãæ–¹ã§ã™ãŒã€Scripted Pipelinesã§ã‚‚ã»ã¨ã‚“ã©åŒã˜æ›¸ãæ–¹ã ã¨æ€ã„ã¾ã™ã€‚\n\n```groovy:Jenkinsfie\npipeline {\n    agent any\n    \n    environment {\n        CONFIG = \"\" //ã“ã®æ™‚ç‚¹ã§ã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚ãªã„ã®ã§ä»®ã®å€¤ã‚’è¨­å®šã—ã¦ãŠã\n    }\n    \n    stages {\n        stage('ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆã—ã¦è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿') {\n            steps {\n                // ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n                checkout scm\n                \n                script {\n                    // ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆå¾Œã«è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€\n                    // Pipeline Utility Steps Pluginã®é–¢æ•°ã‚’ä½¿ã†\n                    CONFIG = readYaml(file: 'config.yml')\n                }\n            }\n        }\n        \n        stage('è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§') {\n            steps {\n                echo \"CONFIG.someProp ï¼ ${CONFIG.someProp}\"\n                echo \"CONFIG.someCategory.prop ï¼ ${CONFIG.someCategory.prop}\"\n                echo \"CONFIG.someCategory.arrayProp[0] ï¼ ${CONFIG.someCategory.arrayProp[0]}\"\n                echo \"CONFIG.someCategory.arrayProp[1] ï¼ ${CONFIG.someCategory.arrayProp[1]}\"\n                echo \"CONFIG.someCategory.arrayProp[2] ï¼ ${CONFIG.someCategory.arrayProp[2]}\"\n            }\n        }\n    }\n}\n```\n\nã“ã‚Œã§Jobã‚’å®Ÿè¡Œã™ã‚‹ã¨ä¸‹è¨˜ã®ã‚ˆã†ãªã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¾ã™ã€‚\n\n```:Jenkinsã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ï¼ˆä¸€éƒ¨æŠœç²‹ï¼‰\n[Pipeline] { (è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«å‚ç…§)\n[Pipeline] echo\nCONFIG.someProp ï¼ å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.prop ï¼ å€¤ï¼’\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[0] ï¼ é…åˆ—å€¤ï¼\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[1] ï¼ é…åˆ—å€¤ï¼‘\n[Pipeline] echo\nCONFIG.someCategory.arrayProp[2] ï¼ é…åˆ—å€¤ï¼’\n```\n\n\n\n## æœ€å¾Œã«\nä»Šå›ã¯Yamlãƒ•ã‚¡ã‚¤ãƒ«ã‚’Jenkins Pipelineã®è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä½¿ã£ã¦ã¿ã¾ã—ãŸã€‚\n[Pipeline Utility Steps Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Pipeline+Utility+Steps+Plugin)ã¯propertiesãƒ•ã‚¡ã‚¤ãƒ«ã‚‚èª­ã¿è¾¼ã‚ã‚‹ã®ã§ã€gradle.propertiesã‚’èª­ã¿è¾¼ã‚“ã§ã€è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’Gradleã¨Jenkins Pipelineã§å…±æœ‰ã™ã‚‹ã“ã¨ã‚‚ã§ããã†ã§ã™ã€‚\n","comments_count":0,"created_at":"2017-06-17T12:14:16+09:00","likes_count":3,"reactions_count":0},"matches":4,"weight":200,"details":[{"weight":50,"keyword":"Jenkins"},{"weight":50,"keyword":"CI"},{"weight":50,"keyword":"Pipeline"},{"weight":50,"keyword":"Qiita"}],"avgWeight":50,"totalWeight":44,"threshold":12.5,"isRelated":true},{"node":{"fields":{"slug":"/2018/12/16/","title":"JJUG CCC 2018 Fallã«è¡Œã£ã¦ãã¾ã—ãŸ","date":"2018-12-16T21:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒJava CCC 2018 Fallã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚è¦‹ã¦ããŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ã€JJUGåŸºèª¿è¬›æ¼”ã€‘Javaã®æœªæ¥ã‚’è€ƒãˆã‚ˆã† ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¦‚è¦#ccc_e1ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ã‚°ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¾çŠ¶ã¨èª²é¡Œç‚¹ã«ã¤ã„ã¦...","tags":["Java","Kotlin","JJUG CCC","ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆ"],"keywords":["Java"],"thumbnail":"/thumbnail/2018/jjug-ccc-2018-fall.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Java"},{"weight":50,"keyword":"Java"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]},{"node":{"fields":{"slug":"/e6e81f10-e1df-58fa-ad49-6da5d018abc4/","title":"Java SE8 Goldå–ã‚Šã¾ã—ãŸã€‚","date":"2017-03-12T17:52:21+09:00","excerpt":"å…ˆæ—¥Java SE 8 Programmer II(Java SE8 Gold)ã«åˆæ ¼ã—ã¾ã—ãŸã€‚ãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚â–¼è©¦é¨“çµæœå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(&gt;...","tags":["Java","java8","è³‡æ ¼","Qiita"],"keywords":["Java"],"thumbnail":""},"id":"e6e81f10-e1df-58fa-ad49-6da5d018abc4","title":"Java SE8 Goldå–ã‚Šã¾ã—ãŸã€‚","rendered_body":"<p>å…ˆæ—¥<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-809&amp;p_org_id=70\" rel=\"nofollow noopener\" target=\"_blank\">Java SE 8 Programmer II(Java SE8 Gold)</a>ã«åˆæ ¼ã—ã¾ã—ãŸã€‚<br>\nãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚</p>\n\n<p>â–¼è©¦é¨“çµæœ<br>\nå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆ<br>\nå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(&gt;o&lt;)!</p>\n\n<h2>\n<span id=\"è‡ªåˆ†ã¨javaã®é–¢ä¿‚\" class=\"fragment\"></span><a href=\"#%E8%87%AA%E5%88%86%E3%81%A8java%E3%81%AE%E9%96%A2%E4%BF%82\"><i class=\"fa fa-link\"></i></a>è‡ªåˆ†ã¨Javaã®é–¢ä¿‚</h2>\n\n<ul>\n<li>ä»•äº‹ã§Javaé–‹ç™ºã¯5å¹´</li>\n<li>ä¿æœ‰è³‡æ ¼ã¯<a href=\"https://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-808&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Java SE 8 Silver</a>ã¨ <a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=458&amp;p_org_id=70&amp;lang=JA&amp;get_params=p_track_id:JEE5WCD\" rel=\"nofollow noopener\" target=\"_blank\">Webã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘EE 5</a>ã¨ <a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-851&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Javaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6</a>\n</li>\n</ul>\n\n<h2>\n<span id=\"ãã£ã‹ã‘\" class=\"fragment\"></span><a href=\"#%E3%81%8D%E3%81%A3%E3%81%8B%E3%81%91\"><i class=\"fa fa-link\"></i></a>ãã£ã‹ã‘</h2>\n\n<p>Java8ã§æ–°æ©Ÿèƒ½ãŒå¤šãè¿½åŠ ã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚‰ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã«å—é¨“ã—ã¾ã—ãŸã€‚ã€€<br>\næœ€åˆã¯<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-813&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">Upgrade to Java SE 8 OCP</a>ã®å—é¨“ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸãŒã€<br>\nå‚è€ƒæ›¸ãŒãªã„ã®ã¨æƒ…å ±é‡ãŒå°‘ãªã‹ã£ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’å—ã‘ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</p>\n\n<h2>\n<span id=\"è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³\" class=\"fragment\"></span><a href=\"#%E8%B2%B7%E3%81%A3%E3%81%9F%E5%8F%82%E8%80%83%E6%9B%B8%E3%81%A8%E6%84%9F%E6%83%B3\"><i class=\"fa fa-link\"></i></a>è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³</h2>\n\n<p></p><dl>\n<dt>\n<a href=\"https://www.amazon.co.jp/%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5Java-SE-8-Gold%E5%95%8F%E9%A1%8C%E9%9B%86%EF%BC%BB1Z0-809%EF%BC%BD%E5%AF%BE%E5%BF%9C-%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-ebook/dp/B01LXSG1G9/ref=pd_sim_351_1?_encoding=UTF8&amp;psc=1&amp;refRID=PC6MK9AHZB6JSXW5VM6F\" rel=\"nofollow noopener\" target=\"_blank\">å¾¹åº•æ”»ç•¥Java SE 8 Goldå•é¡Œé›†ï¼»1Z0-809ï¼½å¯¾å¿œ å¾¹åº•æ”»ç•¥ã‚·ãƒªãƒ¼ã‚º</a>ï¼ˆä»¥å¾Œã€é»’æœ¬ã¨è¨˜è¿°ï¼‰</dt>\n<br>\n<dd>å®šç•ªã®å•é¡Œé›†ãªã®ã§è³¼å…¥ã—ã¾ã—ãŸãŒã€å…¨ä½“çš„ã«é›£æ˜“åº¦ãŒä½ã‚ã®é–€é¡ŒãŒå¤šã„ã§ã™ã€‚ãŸã æœ¬ã®æœ€å¾Œã®ç·ä»•ä¸Šã’å•é¡Œã¯æœ¬ç•ªè©¦é¨“ã¨é›£æ˜“åº¦ãŒè¿‘ãã€æœ¬ç•ªã§ã‚‚åŒã˜å•é¡ŒãŒå¤šæ•°å‡ºé¡Œã•ã‚Œã¾ã—ãŸã€‚</dd>\n<br>\n<dt>\n<a href=\"https://www.amazon.co.jp/dp/B0191U2H8C/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"nofollow noopener\" target=\"_blank\">OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide: Exam 1Z0-809</a>ï¼ˆä»¥å¾Œã€ Study Guideã¨è¨˜è¿°ï¼‰</dt>\n<br>\n<dd>ä¸Šè¨˜ã®é»’æœ¬ã ã‘ã§ã¯ä¸å®‰ã«ãªã‚Šè³¼å…¥ã—ã¾ã—ãŸã€‚<a href=\"https://www.amazon.co.jp/dp/B01J1LPKJY/ref=dp-kindle-redirect?_encoding=UTF8&amp;btkr=1\" rel=\"nofollow noopener\" target=\"_blank\">ç´«æœ¬</a>ã¨åŒã˜ã‚ˆã†ãªæ§‹æˆã§ã€å‚è€ƒæ›¸ã¨å•é¡Œé›†ãŒï¼‘ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ç´«æœ¬ã§ã¯ãªãStudy Guideã«ã—ãŸã®ã¯è‹±èªåŠ›ã‚’èº«ã«ã¤ã‘ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚æœ¬ã®èª¬æ˜ã«ã€ŒComplete, trusted preparation for the Java Programmer II examã€ã¨ã‚ã‚‹é€šã‚Šå•é¡Œæ•°ã‚‚å¤šãã‹ãªã‚Šå……å®Ÿã—ãŸå†…å®¹ã§ã—ãŸã€‚é›£æ˜“åº¦ã¯æœ¬ç•ªã‚ˆã‚Šã‚‚é«˜ã‚ã§ã™ã€‚ã“ã®æœ¬ã‚’ï¼’å‘¨ã—ã¦å•é¡Œã®æ­£ç­”ç‡ãŒ90%ã«é”ã—ã¦ã„ã‚Œã°çµ¶å¯¾åˆæ ¼ã§ãã¾ã™ã€‚ãŸã é‡ãŒå¤šã„ã®ã§ï¼’å‘¨ã™ã‚‹ã®ã¯ã‹ãªã‚Šæ ¹æ°—ãŒå¿…è¦ã§ã™ï¼ˆè‡ªåˆ†ã¯1å‘¨ã§æ–­å¿µã—ã¾ã—ãŸï¼‰ã€‚<br>ã‚ã¨æœ¬ãŒã§ã‹ãã¦ã€é›»è»Šã®ä¸­ã§ã¯çµ¶å¯¾èª­ã‚ã¾ã›ã‚“ã€‚Kindleã§è³¼å…¥ã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚</dd>\n\n<h2>\n<span id=\"è©¦é¨“æœ¬ç•ª\" class=\"fragment\"></span><a href=\"#%E8%A9%A6%E9%A8%93%E6%9C%AC%E7%95%AA\"><i class=\"fa fa-link\"></i></a>è©¦é¨“æœ¬ç•ª</h2>\n\n<p>å•é¡Œæ•°ã¯85å•ã€è©¦é¨“æ™‚é–“ã¯150åˆ†ã§ã—ãŸãŒã€æ™‚é–“ãŒè¶³ã‚Šãªã„ã¨ã„ã†ã“ã¨ã¯ãªãã€120åˆ†ã»ã©ã§è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸã€‚<br>\né›£æ˜“åº¦ã¯é»’æœ¬ã®ç·ä»•ä¸Šã’å•é¡Œã‚ˆã‚Šã‚‚å°‘ã—é«˜ã‚ã§ã™ã€‚<br>\nJavaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6ã®æ™‚ã®ã‚ˆã†ãªé‡ç®±ã®éš…ã‚’ã¤ã¤ãã‚ˆã†ãªå•é¡Œã¯å°‘ãªãã€<br>\nJava8ã®æ–°è¦æ©Ÿèƒ½ãŒãƒ¡ã‚¤ãƒ³ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ AIPã€ãƒ©ãƒ ãƒ€å¼ã€ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã«é–¢ã—ã¦ã¯å˜ä½“ã§ã®å‡ºé¡Œ or ä»–ã¨çµ¡ã‚ã¦ã®å‡ºé¡Œã§ï¼‘ï¼ï¼”ã‚’å ã‚ã¦ã„ã¾ã—ãŸã€‚Study Guideã§ã¯ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®é›£ã—ã‚ã®å•é¡ŒãŒå¤šã‹ã£ãŸã®ã§ã™ãŒã€æœ¬ç•ªã¯ç°¡å˜ãªå•é¡ŒãŒï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚Optionalã¨DateTimeAPIã«ã¤ã„ã¦ã¯æ„å¤–ã¨å°‘ãªãã€ï¼‘ã€ï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚<br>\nJDBCã¯ä¾‹å¤–å‡¦ç†ã¨çµ¡ã‚ãŸå•é¡Œã‚‚ã‚ã‚Šï¼•ï½ï¼—å•ã¨æ„å¤–ã¨å¤šã‚ã§ã—ãŸã€‚<br>\nNew IOã«ã¤ã„ã¦ã¯çµ¶å¯¾ãƒ‘ã‚¹ã¨ç›¸å¯¾ãƒ‘ã‚¹ã§ã®æŒ™å‹•ã®é•ã„ã‚’ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>\n\n<h2>\n<span id=\"æ„Ÿæƒ³\" class=\"fragment\"></span><a href=\"#%E6%84%9F%E6%83%B3\"><i class=\"fa fa-link\"></i></a>æ„Ÿæƒ³</h2>\n\n<p>ç‚¹æ•°çš„ã«ã¯ã‚®ãƒªã‚®ãƒªåˆæ ¼ã§ã—ãŸã€‚ã€‚ã€‚<br>\nå•é¡Œé›†ã«å–ã‚Šçµ„ã‚€ã¨ãã«ã€æ­£è§£ã‚’å°ãå‡ºã›ã‚‹ã ã‘ã§ãªãã€ä¸€ã¤ä¸€ã¤ã®é¸æŠè‚¢ã«å¯¾ã—ã¦èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãªãŒã‚‰Java8ã®ä¸»è¦æ–°ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ä¸€é€šã‚Šæ•´ç†ã§ãã¾ã—ãŸã€æ¥­å‹™ã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªç†è§£ã ã¨æ€ã„ã¾ã™ã€‚<br>\nè©¦é¨“å¯¾ç­–ã¯å•é¡Œé›†ã®ã¿ã§ã—ãŸãŒã€è©¦é¨“å¾Œã«<a href=\"http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&amp;get_params=p_exam_id:1Z0-809&amp;p_org_id=70&amp;lang=JA\" rel=\"nofollow noopener\" target=\"_blank\">ã‚ªãƒ©ã‚¯ãƒ«ã®å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€è©¦é¨“å†…å®¹ï¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ã€ãƒˆãƒ”ãƒƒã‚¯ã€‘ã®ï¼‘ã¤ï¼‘ã¤ã«å¯¾ã—ã¦æ¼ã‚Œãªãå•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¦ãŸã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§ã€è©¦é¨“å‰ã«è¦‹ã¨ã‘ã°ã‚ˆã‹ã£ãŸãªãã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã‚ã¨è‹±èªã®å‹‰å¼·ã‚‚ã‹ã­ã¦é»’æœ¬ã¨Study Guideã‚’é¸ã³ã¾ã—ãŸãŒã€ä»–ã®æ–¹ã®ãƒ–ãƒ­ã‚°ã‚’è¦‹ãŸæ„Ÿã˜ã ã¨ã€é»’æœ¬ã¨ç´«æœ¬ã‚’è²·ã£ã¦ãã‚Œãã‚Œï¼’å‘¨ã™ã‚Œã°åˆæ ¼ã§ãã‚‹ã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸã€‚</p>\n</dl>","body":"å…ˆæ—¥[Java SE 8 Programmer II(Java SE8 Gold)](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-809&p_org_id=70)ã«åˆæ ¼ã—ã¾ã—ãŸã€‚\nãã®ãŸã‚ã«è‡ªåˆ†ãŒã‚„ã£ãŸã“ã¨ã¨å—é¨“ã—ãŸæ„Ÿæƒ³ã‚’ãƒ¡ãƒ¢ã—ã¾ã™ã€‚\n\nâ–¼è©¦é¨“çµæœ\nå‹‰å¼·æœŸé–“ã€€ï¼š3ã‚«æœˆ\nå¾—ç‚¹ç‡ã€€ã€€ï¼š 73ï¼…ï¼ˆãƒœãƒ¼ãƒ€ãƒ¼65ï¼…ï¼‰ã€€çµæ§‹ã‚®ãƒªã‚®ãƒª(>o<)!\n\n## è‡ªåˆ†ã¨Javaã®é–¢ä¿‚\n* ä»•äº‹ã§Javaé–‹ç™ºã¯5å¹´\n* ä¿æœ‰è³‡æ ¼ã¯[Java SE 8 Silver](https://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-808&p_org_id=70&lang=JA)ã¨ [Webã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘EE 5](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=458&p_org_id=70&lang=JA&get_params=p_track_id:JEE5WCD)ã¨ [Javaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-851&p_org_id=70&lang=JA)\n\n## ãã£ã‹ã‘\nJava8ã§æ–°æ©Ÿèƒ½ãŒå¤šãè¿½åŠ ã•ã‚ŒãŸã®ã§ã€ãã‚Œã‚‰ã‚’ç¿’å¾—ã™ã‚‹ãŸã‚ã«å—é¨“ã—ã¾ã—ãŸã€‚ã€€\næœ€åˆã¯[Upgrade to Java SE 8 OCP](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-813&p_org_id=70&lang=JA)ã®å—é¨“ã‚’è€ƒãˆã¦ã„ã¾ã—ãŸãŒã€\nå‚è€ƒæ›¸ãŒãªã„ã®ã¨æƒ…å ±é‡ãŒå°‘ãªã‹ã£ãŸã®ã§ã€ã“ã¡ã‚‰ã‚’å—ã‘ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚\n\n## è²·ã£ãŸå‚è€ƒæ›¸ã¨æ„Ÿæƒ³\n<dl><dt>[å¾¹åº•æ”»ç•¥Java SE 8 Goldå•é¡Œé›†ï¼»1Z0-809ï¼½å¯¾å¿œ å¾¹åº•æ”»ç•¥ã‚·ãƒªãƒ¼ã‚º](https://www.amazon.co.jp/%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5Java-SE-8-Gold%E5%95%8F%E9%A1%8C%E9%9B%86%EF%BC%BB1Z0-809%EF%BC%BD%E5%AF%BE%E5%BF%9C-%E5%BE%B9%E5%BA%95%E6%94%BB%E7%95%A5%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-ebook/dp/B01LXSG1G9/ref=pd_sim_351_1?_encoding=UTF8&psc=1&refRID=PC6MK9AHZB6JSXW5VM6F)ï¼ˆä»¥å¾Œã€é»’æœ¬ã¨è¨˜è¿°ï¼‰</dt>\n<dd>å®šç•ªã®å•é¡Œé›†ãªã®ã§è³¼å…¥ã—ã¾ã—ãŸãŒã€å…¨ä½“çš„ã«é›£æ˜“åº¦ãŒä½ã‚ã®é–€é¡ŒãŒå¤šã„ã§ã™ã€‚ãŸã æœ¬ã®æœ€å¾Œã®ç·ä»•ä¸Šã’å•é¡Œã¯æœ¬ç•ªè©¦é¨“ã¨é›£æ˜“åº¦ãŒè¿‘ãã€æœ¬ç•ªã§ã‚‚åŒã˜å•é¡ŒãŒå¤šæ•°å‡ºé¡Œã•ã‚Œã¾ã—ãŸã€‚</dd>\n<dt>[OCP: Oracle Certified Professional Java SE 8 Programmer II Study Guide: Exam 1Z0-809](https://www.amazon.co.jp/dp/B0191U2H8C/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)ï¼ˆä»¥å¾Œã€ Study Guideã¨è¨˜è¿°ï¼‰</dt>\n<dd>ä¸Šè¨˜ã®é»’æœ¬ã ã‘ã§ã¯ä¸å®‰ã«ãªã‚Šè³¼å…¥ã—ã¾ã—ãŸã€‚[ç´«æœ¬](https://www.amazon.co.jp/dp/B01J1LPKJY/ref=dp-kindle-redirect?_encoding=UTF8&btkr=1)ã¨åŒã˜ã‚ˆã†ãªæ§‹æˆã§ã€å‚è€ƒæ›¸ã¨å•é¡Œé›†ãŒï¼‘ã¤ã«ãªã£ã¦ã„ã¾ã™ã€‚ç´«æœ¬ã§ã¯ãªãStudy Guideã«ã—ãŸã®ã¯è‹±èªåŠ›ã‚’èº«ã«ã¤ã‘ãŸã‹ã£ãŸã‹ã‚‰ã§ã™ã€‚æœ¬ã®èª¬æ˜ã«ã€ŒComplete, trusted preparation for the Java Programmer II examã€ã¨ã‚ã‚‹é€šã‚Šå•é¡Œæ•°ã‚‚å¤šãã‹ãªã‚Šå……å®Ÿã—ãŸå†…å®¹ã§ã—ãŸã€‚é›£æ˜“åº¦ã¯æœ¬ç•ªã‚ˆã‚Šã‚‚é«˜ã‚ã§ã™ã€‚ã“ã®æœ¬ã‚’ï¼’å‘¨ã—ã¦å•é¡Œã®æ­£ç­”ç‡ãŒ90%ã«é”ã—ã¦ã„ã‚Œã°çµ¶å¯¾åˆæ ¼ã§ãã¾ã™ã€‚ãŸã é‡ãŒå¤šã„ã®ã§ï¼’å‘¨ã™ã‚‹ã®ã¯ã‹ãªã‚Šæ ¹æ°—ãŒå¿…è¦ã§ã™ï¼ˆè‡ªåˆ†ã¯1å‘¨ã§æ–­å¿µã—ã¾ã—ãŸï¼‰ã€‚<br>ã‚ã¨æœ¬ãŒã§ã‹ãã¦ã€é›»è»Šã®ä¸­ã§ã¯çµ¶å¯¾èª­ã‚ã¾ã›ã‚“ã€‚Kindleã§è³¼å…¥ã—ãŸã»ã†ãŒã„ã„ã§ã™ã€‚</dd>\n\n## è©¦é¨“æœ¬ç•ª\nå•é¡Œæ•°ã¯85å•ã€è©¦é¨“æ™‚é–“ã¯150åˆ†ã§ã—ãŸãŒã€æ™‚é–“ãŒè¶³ã‚Šãªã„ã¨ã„ã†ã“ã¨ã¯ãªãã€120åˆ†ã»ã©ã§è§£ãçµ‚ã‚ã‚Šã¾ã—ãŸã€‚\né›£æ˜“åº¦ã¯é»’æœ¬ã®ç·ä»•ä¸Šã’å•é¡Œã‚ˆã‚Šã‚‚å°‘ã—é«˜ã‚ã§ã™ã€‚\nJavaãƒ—ãƒ­ã‚°ãƒ©ãƒSE 6ã®æ™‚ã®ã‚ˆã†ãªé‡ç®±ã®éš…ã‚’ã¤ã¤ãã‚ˆã†ãªå•é¡Œã¯å°‘ãªãã€\nJava8ã®æ–°è¦æ©Ÿèƒ½ãŒãƒ¡ã‚¤ãƒ³ã§ã€ã‚¹ãƒˆãƒªãƒ¼ãƒ AIPã€ãƒ©ãƒ ãƒ€å¼ã€ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã«é–¢ã—ã¦ã¯å˜ä½“ã§ã®å‡ºé¡Œ or ä»–ã¨çµ¡ã‚ã¦ã®å‡ºé¡Œã§ï¼‘ï¼ï¼”ã‚’å ã‚ã¦ã„ã¾ã—ãŸã€‚Study Guideã§ã¯ãƒ‘ãƒ©ãƒ¬ãƒ«ã‚¹ãƒˆãƒªãƒ¼ãƒ ã®é›£ã—ã‚ã®å•é¡ŒãŒå¤šã‹ã£ãŸã®ã§ã™ãŒã€æœ¬ç•ªã¯ç°¡å˜ãªå•é¡ŒãŒï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚Optionalã¨DateTimeAPIã«ã¤ã„ã¦ã¯æ„å¤–ã¨å°‘ãªãã€ï¼‘ã€ï¼’å•ç¨‹åº¦ã§ã—ãŸã€‚\nJDBCã¯ä¾‹å¤–å‡¦ç†ã¨çµ¡ã‚ãŸå•é¡Œã‚‚ã‚ã‚Šï¼•ï½ï¼—å•ã¨æ„å¤–ã¨å¤šã‚ã§ã—ãŸã€‚\nNew IOã«ã¤ã„ã¦ã¯çµ¶å¯¾ãƒ‘ã‚¹ã¨ç›¸å¯¾ãƒ‘ã‚¹ã§ã®æŒ™å‹•ã®é•ã„ã‚’ã—ã£ã‹ã‚Šç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\n\n## æ„Ÿæƒ³\nç‚¹æ•°çš„ã«ã¯ã‚®ãƒªã‚®ãƒªåˆæ ¼ã§ã—ãŸã€‚ã€‚ã€‚\nå•é¡Œé›†ã«å–ã‚Šçµ„ã‚€ã¨ãã«ã€æ­£è§£ã‚’å°ãå‡ºã›ã‚‹ã ã‘ã§ãªãã€ä¸€ã¤ä¸€ã¤ã®é¸æŠè‚¢ã«å¯¾ã—ã¦èƒŒæ™¯ã‚’ç†è§£ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã—ã‹ã—ãªãŒã‚‰Java8ã®ä¸»è¦æ–°ãªæ©Ÿèƒ½ã«ã¤ã„ã¦ä¸€é€šã‚Šæ•´ç†ã§ãã¾ã—ãŸã€æ¥­å‹™ã§ä½¿ã†åˆ†ã«ã¯ååˆ†ãªç†è§£ã ã¨æ€ã„ã¾ã™ã€‚\nè©¦é¨“å¯¾ç­–ã¯å•é¡Œé›†ã®ã¿ã§ã—ãŸãŒã€è©¦é¨“å¾Œã«[ã‚ªãƒ©ã‚¯ãƒ«ã®å…¬å¼ã‚µã‚¤ãƒˆ](http://education.oracle.com/pls/web_prod-plq-dad/db_pages.getpage?page_id=5001&get_params=p_exam_id:1Z0-809&p_org_id=70&lang=JA)ã‚’è¦‹ã¦ã¿ã‚‹ã¨ã€è©¦é¨“å†…å®¹ï¼ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆï¼ã€ãƒˆãƒ”ãƒƒã‚¯ã€‘ã®ï¼‘ã¤ï¼‘ã¤ã«å¯¾ã—ã¦æ¼ã‚Œãªãå•é¡ŒãŒå‡ºé¡Œã•ã‚Œã¦ãŸã“ã¨ãŒåˆ†ã‹ã£ãŸã®ã§ã€è©¦é¨“å‰ã«è¦‹ã¨ã‘ã°ã‚ˆã‹ã£ãŸãªãã¨æ„Ÿã˜ã¦ã„ã¾ã™ã€‚ã‚ã¨è‹±èªã®å‹‰å¼·ã‚‚ã‹ã­ã¦é»’æœ¬ã¨Study Guideã‚’é¸ã³ã¾ã—ãŸãŒã€ä»–ã®æ–¹ã®ãƒ–ãƒ­ã‚°ã‚’è¦‹ãŸæ„Ÿã˜ã ã¨ã€é»’æœ¬ã¨ç´«æœ¬ã‚’è²·ã£ã¦ãã‚Œãã‚Œï¼’å‘¨ã™ã‚Œã°åˆæ ¼ã§ãã‚‹ã‚ˆã†ãªæ°—ãŒã—ã¾ã—ãŸã€‚\n","comments_count":0,"created_at":"2017-03-12T17:52:21+09:00","likes_count":17,"reactions_count":0},"relations":[{"node":{"fields":{"slug":"/4bf6ffd5-8640-508e-ab47-1a55df05d72e/","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","date":"2017-04-07T02:38:55+09:00","excerpt":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚Githubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™...","tags":["Java","Jenkins","CI","gradle","Pipeline","Qiita"],"keywords":["Java"],"thumbnail":""},"id":"4bf6ffd5-8640-508e-ab47-1a55df05d72e","title":"Declarative Pipelineã§Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸ(Checkstyle,Findbugs,PMD,CPDã¨ã‹)","rendered_body":"<p>Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚<br>\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚</p>\n\n<h1>\n<span id=\"declarative-pipeline\" class=\"fragment\"></span><a href=\"#declarative-pipeline\"><i class=\"fa fa-link\"></i></a>Declarative Pipeline</h1>\n\n<p>ã„ã¾ã¾ã§ã¯Jenkinsfileã‚’</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>node {\n  ....\n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€<a href=\"https://jenkins.io/doc/book/pipeline/syntax/\" rel=\"nofollow noopener\" target=\"_blank\">Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ</a>ã‚’è¦‹ã‚‹ã¨<br>\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€<br>\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯</p>\n\n<div class=\"code-frame\" data-lang=\"text\"><div class=\"highlight\"><pre>pipeline {\n  ....  \n}\n</pre></div></div>\n\n<p>ã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€<br>\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚<br>\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€<br>\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚</p>\n\n<h1>\n<span id=\"è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\" class=\"fragment\"></span><a href=\"#%E8%BF%BD%E5%8A%A0%E3%81%97%E3%81%9F%E3%83%97%E3%83%A9%E3%82%B0%E3%82%A4%E3%83%B3\"><i class=\"fa fa-link\"></i></a>è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³</h1>\n\n<p>JenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®</p>\n\n<ul>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F\" rel=\"nofollow noopener\" target=\"_blank\">Checkstyle Plugin</a>ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">FindBugs Plugin</a>ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ </li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">PMD Plugin</a>ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">DRY Plugin</a>ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Step Counter Plugin</a>ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Task Scanner Plugin</a>ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Javadoc Plugin</a>ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">Warnings Plugin</a>ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹</li>\n<li>\n<a href=\"https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin\" rel=\"nofollow noopener\" target=\"_blank\">JaCoCo Plugin</a>ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨</li>\n</ul>\n\n<h1>\n<span id=\"jenkinsfile\" class=\"fragment\"></span><a href=\"#jenkinsfile\"><i class=\"fa fa-link\"></i></a>Jenkinsfile</h1>\n\n<p>Githubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚<br>\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚<br>\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚<br>\n<a href=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a055f84cfb5b829f162a94d38542e6ab990a5199/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f35366338653132642d323637622d613633372d323234652d6663386362333437346466612e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png\"></a></p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">Jenkinsfile</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">pipeline</span> <span class=\"o\">{</span>\n    <span class=\"n\">agent</span> <span class=\"n\">any</span>\n    <span class=\"c1\">// å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">environment</span> <span class=\"o\">{</span>\n        <span class=\"n\">reportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/reports'</span>\n        <span class=\"n\">javaDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/java'</span>\n        <span class=\"n\">resourcesDir</span> <span class=\"o\">=</span> <span class=\"s1\">'src/main/resources'</span>\n        <span class=\"n\">testReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/test-results/test'</span>\n        <span class=\"n\">jacocoReportDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/jacoco'</span> \n        <span class=\"n\">javadocDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/docs/javadoc'</span>\n        <span class=\"n\">libsDir</span> <span class=\"o\">=</span> <span class=\"s1\">'build/libs'</span>\n        <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n        <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹</span>\n    <span class=\"n\">stages</span> <span class=\"o\">{</span>\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'äº‹å‰æº–å‚™'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n\n                <span class=\"c1\">// ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ</span>\n                <span class=\"n\">checkout</span> <span class=\"n\">scm</span>\n\n                <span class=\"c1\">// ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"Jenkinsfile\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"build.gradle\"</span>\n\n                <span class=\"c1\">// scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹</span>\n                <span class=\"n\">script</span> <span class=\"o\">{</span>\n                    <span class=\"c1\">// Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹</span>\n                    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n                        <span class=\"n\">sh</span> <span class=\"s1\">'chmod +x gradlew'</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">}</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'clean'</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'classes testClasses'</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"c1\">// postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹</span>\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n\n                    <span class=\"c1\">// JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§</span>\n                    <span class=\"c1\">// Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n\n                        <span class=\"c1\">// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n\n                        <span class=\"c1\">// Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€</span>\n                        <span class=\"c1\">// pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚</span>\n                        <span class=\"c1\">// ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦</span>\n                        <span class=\"c1\">// ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†</span>\n                        <span class=\"c1\">// https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'Java Compiler (javac)'</span><span class=\"o\">],</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†</span>\n                <span class=\"n\">parallel</span><span class=\"o\">(</span>\n                    <span class=\"s1\">'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ'</span> <span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'check -x test'</span>\n\n                        <span class=\"c1\">// dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹</span>\n                        <span class=\"n\">dir</span><span class=\"o\">(</span><span class=\"n\">reportDir</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'CheckStylePublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'FindBugsPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'PmdPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n                            <span class=\"n\">step</span><span class=\"o\">([</span>\n                                <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'DryPublisher'</span><span class=\"o\">,</span>\n                                <span class=\"nl\">pattern:</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                            <span class=\"o\">])</span>\n\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"checkstyle/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"findbugs/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"pmd/*.xml\"</span>\n                            <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"cpd/*.xml\"</span>\n                        <span class=\"o\">}</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"c1\">// ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ</span>\n                        <span class=\"c1\">// outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹</span>\n                        <span class=\"n\">stepcounter</span> <span class=\"nl\">outputFile:</span> <span class=\"s1\">'stepcount.xls'</span><span class=\"o\">,</span> <span class=\"nl\">outputFormat:</span> <span class=\"s1\">'excel'</span><span class=\"o\">,</span> <span class=\"nl\">settings:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'Java'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${javaDir}/**/*.java\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'SQL'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.sql\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'HTML'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.html\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'JS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.js\"</span><span class=\"o\">],</span>\n                            <span class=\"o\">[</span><span class=\"nl\">key:</span><span class=\"s1\">'CSS'</span><span class=\"o\">,</span> <span class=\"nl\">filePattern:</span> <span class=\"s2\">\"${resourcesDir}/**/*.css\"</span><span class=\"o\">]</span>\n                        <span class=\"o\">]</span>\n                        <span class=\"c1\">// ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹</span>\n                        <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"stepcount.xls\"</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'TasksPublisher'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">pattern:</span> <span class=\"s1\">'./**'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹</span>\n                            <span class=\"nl\">ignoreCase:</span> <span class=\"kc\">true</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹</span>\n                            <span class=\"c1\">// è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">high:</span> <span class=\"s1\">'System.out.System.err'</span><span class=\"o\">,</span>\n                            <span class=\"nl\">normal:</span> <span class=\"s1\">'TODO,FIXME,XXX'</span><span class=\"o\">,</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">},</span>\n                    <span class=\"s1\">'JavaDoc'</span><span class=\"o\">:</span> <span class=\"o\">{</span>\n                        <span class=\"n\">gradlew</span> <span class=\"s1\">'javadoc -x classes'</span>\n                        <span class=\"n\">step</span><span class=\"o\">([</span>\n                            <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JavadocArchiver'</span><span class=\"o\">,</span>\n                            <span class=\"c1\">// Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹</span>\n                            <span class=\"nl\">javadocDir:</span> <span class=\"s2\">\"${javadocDir}\"</span><span class=\"o\">,</span>\n                            <span class=\"nl\">keepAll:</span> <span class=\"kc\">true</span>\n                        <span class=\"o\">])</span>\n                    <span class=\"o\">}</span>\n                <span class=\"o\">)</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">post</span> <span class=\"o\">{</span>\n                <span class=\"n\">always</span> <span class=\"o\">{</span>\n                   <span class=\"c1\">// JavaDocã®è­¦å‘Šã‚’åé›†</span>\n                    <span class=\"n\">step</span><span class=\"o\">([</span>\n                        <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'WarningsPublisher'</span><span class=\"o\">,</span>\n                        <span class=\"nl\">consoleParsers:</span> <span class=\"o\">[</span>\n                            <span class=\"o\">[</span><span class=\"nl\">parserName:</span> <span class=\"s1\">'JavaDoc Tool'</span><span class=\"o\">]</span>\n                        <span class=\"o\">],</span>\n                        <span class=\"nl\">canComputeNew:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">canResolveRelativesPaths:</span> <span class=\"kc\">false</span><span class=\"o\">,</span>\n                        <span class=\"nl\">usePreviousBuildAsReference:</span> <span class=\"kc\">true</span>\n                    <span class=\"o\">])</span>\n                <span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ†ã‚¹ãƒˆ'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'test jacocoTestReport -x classes -x testClasses'</span>\n\n                <span class=\"n\">junit</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${testReportDir}/*.xml\"</span>\n\n                <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰</span>\n                <span class=\"n\">step</span><span class=\"o\">([</span>\n                    <span class=\"n\">$class</span><span class=\"o\">:</span> <span class=\"s1\">'JacocoPublisher'</span><span class=\"o\">,</span>\n                    <span class=\"nl\">execPattern:</span> <span class=\"s2\">\"${jacocoReportDir}/*.exec\"</span><span class=\"o\">,</span>\n                    <span class=\"nl\">exclusionPattern:</span> <span class=\"s1\">'**/*Test.class'</span>\n                <span class=\"o\">])</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n\n        <span class=\"n\">stage</span><span class=\"o\">(</span><span class=\"s1\">'ãƒ‡ãƒ—ãƒ­ã‚¤'</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹</span>\n            <span class=\"n\">when</span> <span class=\"o\">{</span>\n                <span class=\"c1\">// é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„</span>\n                <span class=\"n\">expression</span> <span class=\"o\">{</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span> <span class=\"o\">==</span> <span class=\"s1\">'SUCCESS'</span><span class=\"o\">}</span>\n            <span class=\"o\">}</span>\n\n            <span class=\"n\">steps</span> <span class=\"o\">{</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'jar'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.jar\"</span>\n                <span class=\"n\">gradlew</span> <span class=\"s1\">'war'</span>\n                <span class=\"n\">archiveArtifacts</span> <span class=\"s2\">\"${libsDir}/${appName}-${appVersion}.war\"</span>\n                <span class=\"n\">deploy</span> <span class=\"nl\">warDir:</span> <span class=\"n\">libsDir</span><span class=\"o\">,</span> <span class=\"nl\">appName:</span> <span class=\"n\">appName</span><span class=\"o\">,</span> <span class=\"nl\">appVersion:</span> <span class=\"n\">appVersion</span>\n            <span class=\"o\">}</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨</span>\n    <span class=\"c1\">// å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    </span>\n    <span class=\"n\">post</span> <span class=\"o\">{</span>\n        <span class=\"n\">always</span> <span class=\"o\">{</span>\n            <span class=\"c1\">// æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤</span>\n            <span class=\"n\">deleteDir</span><span class=\"o\">()</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡</span>\n\n        <span class=\"c1\">// çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚</span>\n        <span class=\"n\">changed</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"s2\">\"${currentBuild.previousBuild.result} =&gt; ${currentBuild.currentResult}\"</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// å¤±æ•—ã—ãŸæ™‚</span>\n        <span class=\"n\">failure</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n        <span class=\"c1\">// ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰</span>\n        <span class=\"n\">unstable</span> <span class=\"o\">{</span>\n            <span class=\"n\">sendMail</span><span class=\"o\">(</span><span class=\"n\">currentBuild</span><span class=\"o\">.</span><span class=\"na\">currentResult</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n\n<span class=\"c1\">// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">gradlew</span><span class=\"o\">(</span><span class=\"n\">command</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"k\">if</span><span class=\"o\">(</span><span class=\"n\">isUnix</span><span class=\"o\">())</span> <span class=\"o\">{</span>\n        <span class=\"n\">sh</span> <span class=\"s2\">\"./gradlew ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span> <span class=\"k\">else</span> <span class=\"o\">{</span>\n        <span class=\"n\">bat</span> <span class=\"s2\">\"./gradlew.bat ${command} --stacktrace\"</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹</span>\n<span class=\"c1\">// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª </span>\n<span class=\"c1\">// args.appName ã‚¢ãƒ—ãƒªå</span>\n<span class=\"c1\">// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³</span>\n<span class=\"kt\">def</span> <span class=\"nf\">deploy</span><span class=\"o\">(</span><span class=\"n\">Map</span> <span class=\"n\">args</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹</span>\n    <span class=\"kt\">def</span> <span class=\"n\">keyDir</span> <span class=\"o\">=</span> <span class=\"s1\">'/var/lib/jenkins/.ssh/xxx'</span>\n    <span class=\"c1\">// Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerAddress</span> <span class=\"o\">=</span> <span class=\"s1\">'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServerUser</span> <span class=\"o\">=</span> <span class=\"s1\">'hoge-user'</span>\n    <span class=\"kt\">def</span> <span class=\"n\">webServer</span> <span class=\"o\">=</span> <span class=\"s2\">\"${webServerUser}@${webServerAddress}\"</span>\n\n    <span class=\"kt\">def</span> <span class=\"n\">srcWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}-${args.appVersion}.war\"</span>\n    <span class=\"kt\">def</span> <span class=\"n\">destWar</span> <span class=\"o\">=</span> <span class=\"s2\">\"${args.appName}.war\"</span>\n\n    <span class=\"c1\">// ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"</span>\n    <span class=\"n\">sh</span> <span class=\"s2\">\"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹</span>\n<span class=\"kt\">def</span> <span class=\"nf\">sendMail</span><span class=\"o\">(</span><span class=\"n\">result</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">mail</span> <span class=\"nl\">to:</span> <span class=\"s2\">\"xxxxxxxx@gmail.com\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">subject:</span> <span class=\"s2\">\"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\"</span><span class=\"o\">,</span>\n        <span class=\"nl\">body:</span> <span class=\"s2\">\"Build URL: ${env.BUILD_URL}.\\n\\n\"</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<h1>\n<span id=\"èº“ã„ãŸã“ã¨\" class=\"fragment\"></span><a href=\"#%E8%BA%93%E3%81%84%E3%81%9F%E3%81%93%E3%81%A8\"><i class=\"fa fa-link\"></i></a>èº“ã„ãŸã“ã¨</h1>\n\n<ul>\n<li>å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚</li>\n<li>currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– &gt; è¨­å®š &gt; Pipeline Syntax &gt; Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n<a href=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/dce98ca18e752127b3f57901a65249f540d2193f/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f30663631366435302d633537662d323335652d633231342d3863386430643139646139372e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png\"></a>\n</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/f2249e2915cbfd8a261d64823199f32a147bfe7a/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f61386666326463662d396438352d376334312d316565302d6662346638336562336333632e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png\"></a></p>\n\n<p><a href=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/313541fc7e1ffe9781ad27141ed0b9d59400be18/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f66363362353066352d373639642d386666322d313930392d6630366165636330373130362e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png\"></a></p>\n\n<ul>\n<li>ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚</li>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins &gt; Jenkinsã®ç®¡ç† &gt; ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š &gt; E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/a9ab429d39d5959f7d05fe968d1110ccd53738f1/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f38356139313162622d303931642d393936622d333663612d6366303336306336353539322e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png\"></a></p>\n\n<ul>\n<li>Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€<a href=\"https://support.google.com/accounts/answer/6010255?hl=ja\" rel=\"nofollow noopener\" target=\"_blank\">å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹</a>ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚</li>\n</ul>\n\n<p><a href=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" target=\"_blank\" rel=\"nofollow noopener\"><img src=\"https://camo.qiitausercontent.com/2758c73a3bb32139599ba67b88c6ac3e77bae419/68747470733a2f2f71696974612d696d6167652d73746f72652e73332e616d617a6f6e6177732e636f6d2f302f34393931352f32343738646535352d633338332d396130622d366564622d3934623365383438376666342e706e67\" alt=\"image\" data-canonical-src=\"https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png\"></a></p>\n\n<h1>\n<span id=\"buildgradle\" class=\"fragment\"></span><a href=\"#buildgradle\"><i class=\"fa fa-link\"></i></a>build.gradle</h1>\n\n<p>Jenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€<br>\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚<br>\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚</p>\n\n<ul>\n<li>checkstyle</li>\n<li>findbugs</li>\n<li>pmd</li>\n<li>cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)</li>\n<li>test</li>\n<li>jacocoReport</li>\n<li>jar</li>\n<li>war</li>\n</ul>\n\n<p>ä¾‹ãˆã°ã“ã‚“ãª</p>\n\n<div class=\"code-frame\" data-lang=\"groovy\">\n<div class=\"code-lang\"><span class=\"bold\">build.gradle</span></div>\n<div class=\"highlight\"><pre><span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'java'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'war'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'checkstyle'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'findbugs'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'pmd'</span>\n<span class=\"n\">apply</span> <span class=\"nl\">plugin:</span> <span class=\"s1\">'jacoco'</span>\n\n<span class=\"n\">ext</span> <span class=\"o\">{</span>\n    <span class=\"n\">appVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'1.0.0'</span>\n    <span class=\"n\">appName</span> <span class=\"o\">=</span> <span class=\"s1\">'SampleApp'</span>\n    <span class=\"n\">javaVersion</span> <span class=\"o\">=</span> <span class=\"mf\">1.8</span>\n    <span class=\"n\">defaultEncoding</span> <span class=\"o\">=</span> <span class=\"s1\">'UTF-8'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">sourceCompatibility</span> <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">targetCompatibility</span>  <span class=\"o\">=</span> <span class=\"n\">javaVersion</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">AbstractCompile</span><span class=\"o\">)*.</span><span class=\"na\">options</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">GroovyCompile</span><span class=\"o\">)*.</span><span class=\"na\">groovyOptions</span><span class=\"o\">*.</span><span class=\"na\">encoding</span> <span class=\"o\">=</span> <span class=\"n\">defaultEncoding</span>\n<span class=\"n\">mainClassName</span> <span class=\"o\">=</span> <span class=\"s1\">'jp.takumon.sapmleapp.App'</span>\n\n<span class=\"n\">repositories</span> <span class=\"o\">{</span>\n    <span class=\"n\">mavenCentral</span><span class=\"o\">()</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">dependencies</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ </span>\n\n    <span class=\"n\">compile</span> <span class=\"nl\">group:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">name:</span> <span class=\"s1\">'junit'</span><span class=\"o\">,</span> <span class=\"nl\">version:</span> <span class=\"s1\">'4.12'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jar</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">war</span> <span class=\"o\">{</span>\n    <span class=\"n\">baseName</span> <span class=\"o\">=</span> <span class=\"n\">appName</span>\n    <span class=\"n\">version</span> <span class=\"o\">=</span>  <span class=\"n\">appVersion</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">checkstyle</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'7.6.1'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">findbugs</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s2\">\"3.0.1\"</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">pmd</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">sourceSets</span> <span class=\"o\">=</span> <span class=\"o\">[</span><span class=\"n\">sourceSets</span><span class=\"o\">.</span><span class=\"na\">main</span><span class=\"o\">]</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">tasks</span><span class=\"o\">.</span><span class=\"na\">withType</span><span class=\"o\">(</span><span class=\"n\">Pmd</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"c1\">// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ </span>\n<span class=\"n\">check</span><span class=\"o\">.</span><span class=\"na\">doLast</span> <span class=\"o\">{</span>\n    <span class=\"n\">File</span> <span class=\"n\">outputDir</span> <span class=\"o\">=</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"s2\">\"$reportsDir/cpd/\"</span><span class=\"o\">)</span>\n    <span class=\"n\">outputDir</span><span class=\"o\">.</span><span class=\"na\">mkdirs</span><span class=\"o\">()</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">taskdef</span><span class=\"o\">(</span>\n        <span class=\"nl\">name:</span> <span class=\"s1\">'cpd'</span><span class=\"o\">,</span> \n        <span class=\"nl\">classname:</span> <span class=\"s1\">'net.sourceforge.pmd.cpd.CPDTask'</span><span class=\"o\">,</span>\n        <span class=\"nl\">classpath:</span> <span class=\"n\">configurations</span><span class=\"o\">.</span><span class=\"na\">pmd</span><span class=\"o\">.</span><span class=\"na\">asPath</span><span class=\"o\">)</span>\n\n    <span class=\"n\">ant</span><span class=\"o\">.</span><span class=\"na\">cpd</span><span class=\"o\">(</span>\n        <span class=\"nl\">minimumTokenCount:</span> <span class=\"s1\">'100'</span><span class=\"o\">,</span>\n        <span class=\"nl\">format:</span> <span class=\"s1\">'xml'</span><span class=\"o\">,</span>\n        <span class=\"nl\">encoding:</span> <span class=\"n\">defaultEncoding</span><span class=\"o\">,</span>\n        <span class=\"nl\">outputFile:</span> <span class=\"k\">new</span> <span class=\"n\">File</span><span class=\"o\">(</span><span class=\"n\">outputDir</span><span class=\"o\">,</span> <span class=\"s1\">'cpd.xml'</span><span class=\"o\">)</span>\n    <span class=\"o\">)</span> <span class=\"o\">{</span>\n        <span class=\"n\">fileset</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"s2\">\"src/main/java\"</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n            <span class=\"n\">include</span><span class=\"o\">(</span><span class=\"nl\">name:</span> <span class=\"s1\">'**/*.java'</span><span class=\"o\">)</span>\n        <span class=\"o\">}</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">javadoc</span> <span class=\"o\">{</span>\n    <span class=\"n\">failOnError</span> <span class=\"o\">=</span> <span class=\"kc\">false</span>\n    <span class=\"c1\">// å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§</span>\n    <span class=\"n\">options</span><span class=\"o\">.</span><span class=\"na\">memberLevel</span> <span class=\"o\">=</span> <span class=\"n\">JavadocMemberLevel</span><span class=\"o\">.</span><span class=\"na\">PRIVATE</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">test</span> <span class=\"o\">{</span>\n    <span class=\"c1\">// å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹</span>\n    <span class=\"n\">ignoreFailures</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n        <span class=\"n\">junitXml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacoco</span> <span class=\"o\">{</span>\n    <span class=\"n\">toolVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'0.7.5.201505241946'</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">jacocoTestReport</span> <span class=\"o\">{</span>\n    <span class=\"n\">reports</span> <span class=\"o\">{</span>\n      <span class=\"n\">xml</span><span class=\"o\">.</span><span class=\"na\">enabled</span> <span class=\"o\">=</span> <span class=\"kc\">true</span>\n    <span class=\"o\">}</span>\n\n    <span class=\"c1\">// ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–</span>\n    <span class=\"n\">afterEvaluate</span> <span class=\"o\">{</span> \n        <span class=\"n\">classDirectories</span> <span class=\"o\">=</span> <span class=\"n\">files</span><span class=\"o\">(</span><span class=\"n\">classDirectories</span><span class=\"o\">.</span><span class=\"na\">files</span><span class=\"o\">.</span><span class=\"na\">collect</span> <span class=\"o\">{</span>\n            <span class=\"n\">fileTree</span><span class=\"o\">(</span><span class=\"nl\">dir:</span> <span class=\"n\">it</span><span class=\"o\">,</span> <span class=\"nl\">exclude:</span> <span class=\"o\">[</span><span class=\"s1\">'**/*Test.class'</span><span class=\"o\">])</span> \n        <span class=\"o\">})</span>\n    <span class=\"o\">}</span>\n<span class=\"o\">}</span>\n\n<span class=\"n\">task</span> <span class=\"nf\">wrapper</span> <span class=\"o\">(</span><span class=\"nl\">type:</span> <span class=\"n\">Wrapper</span><span class=\"o\">)</span> <span class=\"o\">{</span>\n    <span class=\"n\">gradleVersion</span> <span class=\"o\">=</span> <span class=\"s1\">'3.4.1'</span>\n<span class=\"o\">}</span>\n</pre></div>\n</div>\n\n<p>ä»¥ä¸Šã€‚</p>\n","body":"Gradleã®Javaã‚¢ãƒ—ãƒªã‚’Jenkinsã§ï¼‘äººCIã™ã‚‹ãŸã‚ã®Jenkinsfileã‚’æ›¸ã„ã¦ã¿ãŸã€‚\nGithubã«ãƒ—ãƒƒã‚·ãƒ¥æ™‚ã«ã€AWSä¸Šã®Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ãŒå‹•ã„ã¦ã€ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã‚‰åŒã˜ãAWSä¸Šã®Tomcatã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¿ãŸã„ãªæ„Ÿã˜ã§ä½¿ã£ã¦ã¾ã™ã€‚\n\n# Declarative Pipeline\nã„ã¾ã¾ã§ã¯Jenkinsfileã‚’\n\n```\nnode {\n  ....\n}\n```\n\nã®ã‚ˆã†ã«æ›¸ã„ã¦ã¾ã—ãŸãŒã€[Jenkinsã®å…¬å¼ã‚µã‚¤ãƒˆ](https://jenkins.io/doc/book/pipeline/syntax/)ã‚’è¦‹ã‚‹ã¨\nã“ã‚Œã¯Scripted Pipelinesã®è¨˜æ³•ã§ã‚ã‚Šã€\nPipeline Pluginã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³2.5ç§»è¡Œã‹ã‚‰ã¯\n\n```\npipeline {\n  ....  \n}\n```\nã®ã‚ˆã†ã«æ›¸ãDeclarative Pipelineã¨ã„ã†è¨˜æ³•ãŒå°å…¥ã•ã‚Œã¦ã€\nãã£ã¡ã®ã»ã†ãŒã‚·ãƒ³ãƒ—ãƒ«ã§ã‚ã‹ã‚Šã‚„ã™ãæ›¸ã‘ã‚‹ã‚ˆ!ã¨ã„ã†ã“ã¨ã ã£ãŸã®ã§æ›¸ãç›´ã—ã¦ã¿ã¾ã—ãŸã€‚\nç¢ºã‹ã«ã™ã£ãã‚Šã—ãŸã—ï¼ˆç‰¹ã«æœ€å¾Œã®ãƒ¡ãƒ¼ãƒ«ãŠãã‚‹ã¨ã“ã¨ã‹ã€ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã¨ã“ã¨ã‹ï¼‰ã€\nã„ã–ã¨ãªã£ãŸã‚‰å¾“æ¥ã®Scripted Pipelinesã‚‚ãƒŸãƒƒã‚¯ã‚¹ã§ãã‚‹ã®ã§ã„ã„æ„Ÿã˜ã§ã™ã€‚\n\n# è¿½åŠ ã—ãŸãƒ—ãƒ©ã‚°ã‚¤ãƒ³\nJenkinsåˆæœŸè¨­å®šæ™‚ã®Suggested Pluginã«å…¥ã£ã¦ã„ãªã„ã‚‚ã®\n\n* [Checkstyle Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Checkstyle+Plugin;jsessionid=E9D4FA5064ACAE1CED7B19928DE0788F)ï¼ˆv3.47ï¼‰ - Checkstyeã®çµæœåé›†ç”¨\n* [FindBugs Plugin](https://wiki.jenkins-ci.org/display/JENKINS/FindBugs+Plugin)ï¼ˆv4.69ï¼‰ - Findbugsã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨ \n* [PMD Plugin](https://wiki.jenkins-ci.org/display/JENKINS/PMD+Plugin)ï¼ˆv3.46ï¼‰ - PMDã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [DRY Plugin](https://wiki.jenkins-ci.org/display/JENKINS/DRY+Plugin)ï¼ˆv2.46ï¼‰ - CPD(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n* [Step Counter Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Step+Counter+Plugin)ï¼ˆv2.0.0ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã®ã‚¹ãƒ†ãƒƒãƒ—æ•°ã‚’é›†è¨ˆã—ã¦ãã‚Œã‚‹\n* [Task Scanner Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Task+Scanner+Plugin)ï¼ˆv4.50ï¼‰ - ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä¸­ã®TODOã¨ã‹ã‚’ä¸€è¦§åŒ–ã—ã¦ãã‚Œã‚‹\n* [Javadoc Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Javadoc+Plugin)ï¼ˆv1.4ï¼‰ - JavaDocç”Ÿæˆç”¨\n* [Warnings Plugin](https://wiki.jenkins-ci.org/display/JENKINS/Warnings+Plugin)ï¼ˆv4.60ï¼‰ - ã‚¸ãƒ§ãƒ–å®Ÿè¡Œæ™‚ã®è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’åé›†ã—ã¦ãã‚Œã‚‹\n* [JaCoCo Plugin](https://wiki.jenkins-ci.org/display/JENKINS/JaCoCo+Plugin)ï¼ˆv2.2.0ï¼‰ - ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ãƒ¬ãƒãƒ¼ãƒˆç”Ÿæˆç”¨\n\n\n\n# Jenkinsfile\nGithubã‹ã‚‰Webhookã§Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã‚’å®Ÿè¡Œã™ã‚‹ã€‚\nãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ–ã§ã¯Githubã®Jenkinsfileã‚’ä½¿ã†ã€‚\nã‚¸ãƒ§ãƒ–ã®æµã‚Œã¯ä¸‹è¨˜ã€‚ãƒ‡ãƒ—ãƒ­ã‚¤ã¯é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ãŸã¨ãã ã‘å®Ÿè¡Œã™ã‚‹ã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/56c8e12d-267b-a637-224e-fc8cb3474dfa.png)\n\n\n```groovy:Jenkinsfile\npipeline {\n    agent any\n    // å®šæ•°ã‚„å¤‰æ•°ã‚’å®šç¾©ã™ã‚‹\n    environment {\n        reportDir = 'build/reports'\n        javaDir = 'src/main/java'\n        resourcesDir = 'src/main/resources'\n        testReportDir = 'build/test-results/test'\n        jacocoReportDir = 'build/jacoco' \n        javadocDir = 'build/docs/javadoc'\n        libsDir = 'build/libs'\n        appName = 'SampleApp'\n        appVersion = '1.0.0'\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«ä¸€ã¤ä»¥ä¸Šã®stageã‚’å®šç¾©ã™ã‚‹\n    stages {\n        stage('äº‹å‰æº–å‚™') {\n            // å®Ÿéš›ã®å‡¦ç†ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ä¸­ã«å®šç¾©ã™ã‚‹\n            steps {\n                deleteDir()\n\n                // ã“ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼ã—ã¦ããŸGithubã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ\n                checkout scm\n\n                // ã‚¸ãƒ§ãƒ–å¤±æ•—ã®åŸå› èª¿æŸ»ç”¨ã«Jenkinsfileã¨build.gradleã¯æœ€åˆã«ä¿å­˜ã™ã‚‹\n                archiveArtifacts \"Jenkinsfile\"\n                archiveArtifacts \"build.gradle\"\n\n                // scriptãƒ–ãƒ­ãƒƒã‚¯ã‚’ä½¿ã†ã¨å¾“æ¥ã®Scripted Pipelinesã®è¨˜æ³•ã‚‚ä½¿ãˆã‚‹\n                script {\n                    // Permission deniedã§æ€’ã‚‰ã‚Œãªã„ãŸã‚ã«å®Ÿè¡Œæ¨©é™ã‚’ä»˜ä¸ã™ã‚‹\n                    if(isUnix()) {\n                        sh 'chmod +x gradlew'\n                    }\n                }\n                gradlew 'clean'\n            }\n        }\n        \n        stage('ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«') {\n            steps {\n                gradlew 'classes testClasses'\n            }\n            \n            // postãƒ–ãƒ­ãƒƒã‚¯ã§stepsãƒ–ãƒ­ãƒƒã‚¯ã®å¾Œã«å®Ÿè¡Œã•ã‚Œã‚‹å‡¦ç†ãŒå®šç¾©ã§ãã‚‹\n            post {\n                // alwaysãƒ–ãƒ­ãƒƒã‚¯ã¯stepsãƒ–ãƒ­ãƒƒã‚¯ã®å‡¦ç†ãŒå¤±æ•—ã—ã¦ã‚‚æˆåŠŸã—ã¦ã‚‚å¿…ãšå®Ÿè¡Œã•ã‚Œã‚‹\n                always {\n\n                    // JavaDocç”Ÿæˆæ™‚ã«å®Ÿè¡Œã™ã‚‹ã¨JavaDocã®è­¦å‘Šã‚‚å«ã¾ã‚Œã¦ã—ã¾ã†ã®ã§\n                    // Javaã‚³ãƒ³ãƒ‘ã‚¤ãƒ«æ™‚ã®è­¦å‘Šã¯ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ç›´å¾Œã«åé›†ã™ã‚‹\n                    step([\n\n                        // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã¨ãã®ã‚¯ãƒ©ã‚¹æŒ‡å®šã¯å®Œå…¨ä¿®é£¾åã§ãªãã¦ã‚‚OK\n                        $class: 'WarningsPublisher',\n\n                        // Jobå®Ÿè¡Œæ™‚ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‹ã‚‰è­¦å‘Šã‚’åé›†ã™ã‚‹å ´åˆã¯consoleParsersã€\n                        // pmd.xmlãªã©ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰åé›†ã™ã‚‹å ´åˆã¯parserConfigurationsã‚’æŒ‡å®šã™ã‚‹ã€‚\n                        // ãªãŠparserConfigurationsã®å ´åˆã¯parserNameã®ã»ã‹ã«pattern(é›†è¨ˆå¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹)ã‚‚æŒ‡å®šãŒå¿…è¦\n                        // ãƒ‘ãƒ¼ã‚µåã¯ä¸‹è¨˜ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ãƒ•ã‚¡ã‚¤ãƒ«ã«å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚‚ã®ã‚’ä½¿ã†\n                        // https://github.com/jenkinsci/warnings-plugin/blob/master/src/main/resources/hudson/plugins/warnings/parser/Messages.properties\n                        consoleParsers: [\n                            [parserName: 'Java Compiler (javac)'],\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n        stage('é™çš„ã‚³ãƒ¼ãƒ‰è§£æ') {\n            steps {\n                // ä¸¦åˆ—å‡¦ç†ã®å ´åˆã¯parallelãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½¿ã†\n                parallel(\n                    'é™çš„ã‚³ãƒ¼ãƒ‰è§£æ' : {\n                        gradlew 'check -x test'\n\n                        // dirãƒ¡ã‚½ãƒƒãƒ‰ã§ã‚«ãƒ¬ãƒ³ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æŒ‡å®šã§ãã‚‹\n                        dir(reportDir) {\n                            step([\n                                $class: 'CheckStylePublisher',\n                                pattern: \"checkstyle/*.xml\"\n                            ])\n                            step([\n                                $class: 'FindBugsPublisher',\n                                pattern: \"findbugs/*.xml\"\n                            ])\n                            step([\n                                $class: 'PmdPublisher',\n                                pattern: \"pmd/*.xml\"\n                            ])\n                            step([\n                                $class: 'DryPublisher',\n                                pattern: \"cpd/*.xml\"\n                            ])\n                \n                            archiveArtifacts \"checkstyle/*.xml\"\n                            archiveArtifacts \"findbugs/*.xml\"\n                            archiveArtifacts \"pmd/*.xml\"\n                            archiveArtifacts \"cpd/*.xml\"\n                        }\n                    },\n                    'ã‚¹ãƒ†ãƒƒãƒ—ã‚«ã‚¦ãƒ³ãƒˆ': {\n                        // ãƒ¬ãƒãƒ¼ãƒˆä½œæˆ\n                        // outputFileã¨outputFormatã‚’æŒ‡å®šã™ã‚‹ã¨ã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚ä½œæˆã—ã¦ãã‚Œã‚‹\n                        stepcounter outputFile: 'stepcount.xls', outputFormat: 'excel', settings: [\n                            [key:'Java', filePattern: \"${javaDir}/**/*.java\"],\n                            [key:'SQL', filePattern: \"${resourcesDir}/**/*.sql\"],\n                            [key:'HTML', filePattern: \"${resourcesDir}/**/*.html\"],\n                            [key:'JS', filePattern: \"${resourcesDir}/**/*.js\"],\n                            [key:'CSS', filePattern: \"${resourcesDir}/**/*.css\"]\n                        ]\n                        // ä¸€å¿œã‚¨ã‚¯ã‚»ãƒ«ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æˆæœç‰©ã¨ã—ã¦ä¿å­˜ã™ã‚‹\n                        archiveArtifacts \"stepcount.xls\"\n                    },\n                    'ã‚¿ã‚¹ã‚¯ã‚¹ã‚­ãƒ£ãƒ³': {\n                        step([\n                            $class: 'TasksPublisher',\n                            pattern: './**',\n                            // é›†è¨ˆå¯¾è±¡ã‚’æ¤œç´¢ã™ã‚‹ã¨ãã«å¤§æ–‡å­—å°æ–‡å­—ã‚’åŒºåˆ¥ã™ã‚‹ã‹\n                            ignoreCase: true,\n                            // å„ªå…ˆåº¦åˆ¥ã«é›†è¨ˆå¯¾è±¡ã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã§ãã‚‹\n                            // è¤‡æ•°æŒ‡å®šã™ã‚‹å ´åˆã¯ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®æ–‡å­—åˆ—ã‚’æŒ‡å®šã™ã‚‹\n                            high: 'System.out.System.err',\n                            normal: 'TODO,FIXME,XXX',\n                        ])\n                    },\n                    'JavaDoc': {\n                        gradlew 'javadoc -x classes'\n                        step([\n                            $class: 'JavadocArchiver',\n                            // Javadocã®index.htmlãŒã‚ã‚‹ãƒ•ã‚©ãƒ«ãƒ€ã®ãƒ‘ã‚¹ã‚’æŒ‡å®šã™ã‚‹\n                            javadocDir: \"${javadocDir}\",\n                            keepAll: true\n                        ])\n                    }\n                )\n            }\n            \n            post {\n                always {\n                   // JavaDocã®è­¦å‘Šã‚’åé›†\n                    step([\n                        $class: 'WarningsPublisher',\n                        consoleParsers: [\n                            [parserName: 'JavaDoc Tool']\n                        ],\n                        canComputeNew: false,\n                        canResolveRelativesPaths: false,\n                        usePreviousBuildAsReference: true\n                    ])\n                }\n            }\n        }\n        \n\n        stage('ãƒ†ã‚¹ãƒˆ') {\n            steps {\n                gradlew 'test jacocoTestReport -x classes -x testClasses'\n                \n                junit \"${testReportDir}/*.xml\"\n                archiveArtifacts \"${testReportDir}/*.xml\"\n\n                // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆï¼ˆãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–ï¼‰\n                step([\n                    $class: 'JacocoPublisher',\n                    execPattern: \"${jacocoReportDir}/*.exec\",\n                    exclusionPattern: '**/*Test.class'\n                ])\n            }\n        }\n        \n        stage('ãƒ‡ãƒ—ãƒ­ã‚¤') {\n            // whenãƒ–ãƒ­ãƒƒã‚¯ã§stageã‚’å®Ÿè¡Œã™ã‚‹æ¡ä»¶ã‚’æŒ‡å®šã§ãã‚‹\n            when {\n                // é™çš„ã‚³ãƒ¼ãƒ‰è§£æã¨ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ã¯ãƒ‡ãƒ—ãƒ­ã‚¤ã—ãªã„\n                expression {currentBuild.currentResult == 'SUCCESS'}\n            }\n            \n            steps {\n                gradlew 'jar'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.jar\"\n                gradlew 'war'\n                archiveArtifacts \"${libsDir}/${appName}-${appVersion}.war\"\n                deploy warDir: libsDir, appName: appName, appVersion: appVersion\n            }\n        }\n    }\n    \n    // stagesãƒ–ãƒ­ãƒƒã‚¯ã¨åŒã˜ãƒ¬ãƒ™ãƒ«ã«postãƒ–ãƒ­ãƒƒã‚¯ã‚’å®šç¾©ã™ã‚‹ã¨\n    // å…¨ã¦ã®stageå‡¦ç†ãŒçµ‚ã‚ã£ãŸå¾Œã®å‡¦ç†ã®å®šç¾©ãŒå¯èƒ½    \n    post {\n        always {\n            // æœ€å¾Œã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ä¸­èº«ã‚’å‰Šé™¤\n            deleteDir()\n        }\n        // é€£ç¶šã§æˆåŠŸã—ã¦ã„ã‚‹ã¨ãä»¥å¤–ã¯è‡ªåˆ†å®›ã«ãƒ¡ãƒ¼ãƒ«ã‚’é€ä¿¡\n\n        // çµæœãŒå‰å›ã¨å¤‰ã‚ã£ãŸæ™‚\n        changed {\n            sendMail(\"${currentBuild.previousBuild.result} => ${currentBuild.currentResult}\")\n        }\n        // å¤±æ•—ã—ãŸæ™‚\n        failure {\n            sendMail(currentBuild.currentResult)\n        }\n        // ä¸å®‰å®šãªæ™‚ï¼ˆä¸»ã«ãƒ†ã‚¹ãƒˆå¤±æ•—æ™‚ï¼‰\n        unstable {\n            sendMail(currentBuild.currentResult)\n        }\n    }\n}\n\n\n// Gradlewã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹\ndef gradlew(command) {\n    if(isUnix()) {\n        sh \"./gradlew ${command} --stacktrace\"\n    } else {\n        bat \"./gradlew.bat ${command} --stacktrace\"\n    }\n}\n\n// ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹\n// args.warDir warã®æ ¼ç´ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª \n// args.appName ã‚¢ãƒ—ãƒªå\n// args.appVersion ã‚¢ãƒ—ãƒªã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³\ndef deploy(Map args) {\n    // ç§˜å¯†éµã®ãƒ‘ã‚¹ â€»Tomcatã‚µãƒ¼ãƒã«ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã™ã‚‹ã®ã§äº‹å‰ã«Jenkinsã‚µãƒ¼ãƒã®ã©ã“ã‹ã«ç§˜å¯†éµã‚’æ ¼ç´ã—ã¦ãŠãå¿…è¦ãŒã‚ã‚‹\n    def keyDir = '/var/lib/jenkins/.ssh/xxx'\n    // Tomcatã‚µãƒ¼ãƒã®ã‚¢ãƒ‰ãƒ¬ã‚¹ã¨ãƒ¦ãƒ¼ã‚¶å\n    def webServerAddress = 'ecX-XX-XXX-X-X.xx-xxxx-x.xxxxxxxx'\n    def webServerUser = 'hoge-user'\n    def webServer = \"${webServerUser}@${webServerAddress}\"\n    \n    def srcWar = \"${args.appName}-${args.appVersion}.war\"\n    def destWar = \"${args.appName}.war\"\n    \n    // ãƒ•ã‚¡ã‚¤ãƒ«è»¢é€ã—ã¦Tomcatã®webappsã«warã‚’é…ç½®ã™ã‚‹\n    sh \"sudo -S scp -i ${keyDir} ./${args.warDir}/${srcWar} ${webServer}:/home/ec2-user\"\n    sh \"sudo -S ssh -i ${keyDir} ${webServer} \\\"sudo cp /home/ec2-user/${srcWar} /usr/share/tomcat8/webapps/${destWar}\\\"\"\n}\n\n// ãƒ¡ãƒ¼ãƒ«ã‚’Gmailã«é€ä¿¡ã™ã‚‹\ndef sendMail(result) {\n    mail to: \"xxxxxxxx@gmail.com\",\n        subject: \"${env.JOB_NAME} #${env.BUILD_NUMBER} [${result}]\",\n        body: \"Build URL: ${env.BUILD_URL}.\\n\\n\"\n}\n```\n\n# èº“ã„ãŸã“ã¨\n* å„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¨ã‚‚Changelogã«ã€Œãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å¯¾å¿œã—ãŸã‚ˆï¼ã€ã¨ã¯æ›¸ã„ã¦ã‚ã‚‹ãŒã€\nå…·ä½“çš„ã¯æ›¸ãæ–¹ã¯æ˜è¨˜ã—ã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã®ã§ã€\nå„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®Githubã§ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ï¼ˆä¸»ã«ã€Œãªã‚“ã¡ã‚ƒã‚‰Publisherã€ã‚¯ãƒ©ã‚¹ï¼‰ã‚’è¦‹ãªãŒã‚‰ã€Jenkinsfileã‚’æ›¸ã„ãŸã€‚\n* currentBuildã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ä½¿ã„æ–¹ãŒã‚ˆãã‚ã‹ã‚‰ãªã‹ã£ãŸãŒã€Jenkinsã®ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚¸ãƒ§ãƒ– > è¨­å®š > Pipeline Syntax > Global Variables Reference ã«è©³ã—ãè¼‰ã£ã¦ã„ãŸã€‚\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/0f616d50-c57f-235e-c214-8c8d0d19da97.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/a8ff2dcf-9d85-7c41-1ee0-fb4f83eb3c3c.png)\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/f63b50f5-769d-8ff2-1909-f06aecc07106.png)\n \n* ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã¯build.gradleã®jacocoTestReportã‚¿ã‚¹ã‚¯ã§ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆå¯¾è±¡å¤–ã«ã—ã¦ã„ã¦ã‚‚Jenkinsã®ã»ã†ã§ã¯ã†ã¾ãé™¤å¤–ã•ã‚Œãªã‹ã£ãŸã®ã§ã€Jenkinsfileã®ã»ã†ã§ã‚‚å¯¾è±¡å¤–è¨­å®šã‚’ã—ãŸã€‚\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€Jenkins > Jenkinsã®ç®¡ç† > ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®š > E-mailé€šçŸ¥ã§ä¸‹è¨˜ã®ã‚ˆã†ãªè¨­å®šãŒå¿…è¦ã ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/85a911bb-091d-996b-36ca-cf0360c65592.png)\n\n* Jenkinsã‹ã‚‰Gmailã«ãƒ¡ãƒ¼ãƒ«ã™ã‚‹å ´åˆã€[å®‰å…¨æ€§ã®ä½ã„ã‚¢ãƒ—ãƒªãŒã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã®ã‚’è¨±å¯ã™ã‚‹](https://support.google.com/accounts/answer/6010255?hl=ja)ã®æ‰‹é †ã«å¾“ã£ã¦è¨±å¯ã‚’æœ‰åŠ¹ã«ã™ã‚‹å¿…è¦ãŒã‚ã£ãŸã€‚\n\n![image](https://qiita-image-store.s3.amazonaws.com/0/49915/2478de55-c383-9a0b-6edb-94b3e8487ff4.png)\n\n# build.gradle\nJenkinsè‡ªä½“ã¯ã€Gradleã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦å‡ºåŠ›çµæœã‚’ã‚‚ã¨ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ç”Ÿæˆã™ã‚‹ã ã‘ãªã®ã§ã€\nGradleã®Javaã‚¢ãƒ—ãƒªã®build.gradleã§ä¸‹è¨˜å‡¦ç†ãŒå®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚\nã¾ãŸJenkinsã§Gradleã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ãªãã¦ã„ã„ã‚ˆã†ã«Gradleãƒ©ãƒƒãƒ‘ãƒ¼ã‚’ä½œæˆã—ã¦ãŠãã¾ã™ã€‚\n\n * checkstyle\n * findbugs\n * pmd\n * cpd(é‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯)\n * test\n * jacocoReport\n * jar\n * war\n\nä¾‹ãˆã°ã“ã‚“ãª\n\n```groovy:build.gradle\napply plugin: 'java'\napply plugin: 'war'\napply plugin: 'checkstyle'\napply plugin: 'findbugs'\napply plugin: 'pmd'\napply plugin: 'jacoco'\n\next {\n    appVersion = '1.0.0'\n    appName = 'SampleApp'\n    javaVersion = 1.8\n    defaultEncoding = 'UTF-8'\n}\n\nsourceCompatibility = javaVersion\ntargetCompatibility  = javaVersion\ntasks.withType(AbstractCompile)*.options*.encoding = defaultEncoding\ntasks.withType(GroovyCompile)*.groovyOptions*.encoding = defaultEncoding\nmainClassName = 'jp.takumon.sapmleapp.App'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    // ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’è¨˜è¼‰ \n\n    compile group: 'junit', name: 'junit', version: '4.12'\n}\n\njar {\n    baseName = appName\n    version =  appVersion\n}\n\nwar {\n    baseName = appName\n    version =  appVersion\n}\n\ncheckstyle {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = '7.6.1'\n}\n\nfindbugs {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n    toolVersion = \"3.0.1\"\n}\n\npmd {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    sourceSets = [sourceSets.main]\n}\n\ntasks.withType(Pmd) {\n    reports {\n      xml.enabled = true\n    }\n}\n\n// CPDï¼ˆé‡è¤‡ã‚³ãƒ¼ãƒ‰ãƒã‚§ãƒƒã‚¯å‡¦ç†ï¼‰ã‚’Checkã‚¿ã‚¹ã‚¯ã«è¿½åŠ \ncheck.doLast {\n    File outputDir = new File(\"$reportsDir/cpd/\")\n    outputDir.mkdirs()\n  \n    ant.taskdef(\n        name: 'cpd', \n        classname: 'net.sourceforge.pmd.cpd.CPDTask',\n        classpath: configurations.pmd.asPath)\n  \n    ant.cpd(\n        minimumTokenCount: '100',\n        format: 'xml',\n        encoding: defaultEncoding,\n        outputFile: new File(outputDir, 'cpd.xml')\n    ) {\n        fileset(dir: \"src/main/java\") {\n            include(name: '**/*.java')\n        }\n    }\n}\n\njavadoc {\n    failOnError = false\n    // å¥½ã¿ã®ãƒ¬ãƒ™ãƒ«ã§\n    options.memberLevel = JavadocMemberLevel.PRIVATE\n}\n\ntest {\n    // å¤±æ•—ã—ã¦ã‚‚å¾Œç¶šã®å‡¦ç†ã‚’ç¶™ç¶šã•ã›ã‚‹\n    ignoreFailures = true\n    reports {\n        junitXml.enabled = true\n    }\n}\n\njacoco {\n    toolVersion = '0.7.5.201505241946'\n}\n\njacocoTestReport {\n    reports {\n      xml.enabled = true\n    }\n    \n    // ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆã‹ã‚‰ãƒ†ã‚¹ãƒˆã‚¯ãƒ©ã‚¹ã‚’é™¤å¤–\n    afterEvaluate { \n        classDirectories = files(classDirectories.files.collect {\n            fileTree(dir: it, exclude: ['**/*Test.class']) \n        })\n    }\n}\n\ntask wrapper (type: Wrapper) {\n    gradleVersion = '3.4.1'\n}\n```\n\n\nä»¥ä¸Šã€‚\n","comments_count":0,"created_at":"2017-04-07T02:38:55+09:00","likes_count":58,"reactions_count":0},"matches":3,"weight":200,"details":[{"weight":100,"keyword":"Java"},{"weight":50,"keyword":"Java"},{"weight":50,"keyword":"Qiita"}],"avgWeight":66.66666666666667,"totalWeight":63,"threshold":16.666666666666668,"isRelated":true},{"node":{"fields":{"slug":"/2018/12/16/","title":"JJUG CCC 2018 Fallã«è¡Œã£ã¦ãã¾ã—ãŸ","date":"2018-12-16T21:50:00.000+09:00","excerpt":"ãªã«ã“ã‚ŒJava CCC 2018 Fallã«å‚åŠ ã—ã¦ãã¾ã—ãŸã€‚è¦‹ã¦ããŸã‚»ãƒƒã‚·ãƒ§ãƒ³ã¯ä»¥ä¸‹ã®é€šã‚Šã§ã™ã€‚ã€JJUGåŸºèª¿è¬›æ¼”ã€‘Javaã®æœªæ¥ã‚’è€ƒãˆã‚ˆã† ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¦‚è¦#ccc_e1ãƒãƒãƒ¼ãƒ•ã‚©ãƒ¯ãƒ¼ãƒ‰ã®ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚¢ã‚°ãƒªã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¾çŠ¶ã¨èª²é¡Œç‚¹ã«ã¤ã„ã¦...","tags":["Java","Kotlin","JJUG CCC","ã‚¤ãƒ™ãƒ³ãƒˆãƒ¬ãƒãƒ¼ãƒˆ"],"keywords":["Java"],"thumbnail":"/thumbnail/2018/jjug-ccc-2018-fall.png"}},"matches":2,"weight":150,"details":[{"weight":100,"keyword":"Java"},{"weight":50,"keyword":"Java"}],"avgWeight":75,"totalWeight":72,"threshold":25,"isRelated":true}]}]}}