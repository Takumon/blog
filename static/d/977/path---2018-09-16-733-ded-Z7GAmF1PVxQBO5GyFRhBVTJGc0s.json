{"data":{"site":{"siteMetadata":{"title":"Takumon Blog","author":"Takuto Inoue"}},"markdownRemark":{"id":"f008c71d-a126-5832-abf1-199c8279a3ae","html":"<h2 id=\"なにこれ\"><a href=\"#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>なにこれ</h2>\n<p>Gatsby製ブログ(Reactアプリ)でSNS対応した時のメモです。<br>\n<strong>(1) SNSシェアボタン</strong>と<strong>(2) 自分のSNSへのリンク</strong>を設置して、ブログの記事をSNSでシェアできるように、、、<br>\nまた、<strong>(3) OGPタグを設定し</strong>、SNSでシェアするときにイメージ画像や、タイトル、記事概要を表示できるようにしました。</p>\n<ul>\n<li>ブログのフッター\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-0136e.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 59.01162790697675%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB4UlEQVQoz41SXW8SQRTdP6Z/on/HRH+FT9bGrwd9URMf9AUjMbVtTKo2WBgKLbALCwF22c+Z2bn3OAsrhYoJJzmZuTdzz5y5d5xRpL6JELNmwCNLXwTkN+fkX9m9t2DfjWzOxkTkx4r8Tkg+eBVvcGQ5McZcO1+uou7Tzy7Seg0Xp+c4/D3Da49RmxgcigTPOymOJ8BbF3h0Dtx/DxjsBjMrpz/PxXFPodEem5P2jD/eZFzzCv7UV3zUyviZyPhsbDjIiVtzw1+HzKvaLVApaF0mDptClMEgIeotDLxQYxBIDEOFKDNIpcEiLzCJNdxQlmWVm21zlcPUUVqLKklVfg3afs+ShrgsvEuuHKYOFUaMZh0E4Yik1EjiyDJHGsdAkSHPcygll4W0W+yuoBb1g3t48+AhPak38OJnjJe/zvDu0sWrVoGDDwqPf+ilyYLwP2w82RgBbwCvN6bvboyLADidjNGyPWxbk0dN4MRf1RDv4VApJcpvoLQioyVMnmy08tYSrafAu77LraDtkRh6Hq67Xer2+nzTvGQdzvnvGJQ2XJST+PerbGEtqLVuW5cIgoDLAaRZhkUUYTqdIrN73/eRJAn2gdXNHFvUkFKyXXNZwV4grfhytRfKoij2oT2qgz8BMJZxl9gVtgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"ブログフッタ\"\n        title=\"\"\n        src=\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-fb8a0.png\"\n        srcset=\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-1a291.png 148w,\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-2bc4a.png 295w,\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-fb8a0.png 590w,\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-0136e.png 688w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n<li>Twitterの呟き\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/tweet-sample-with-number-32788568e53b55ca649719666998c2b0-27ff0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 38.11129848229342%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAB6ElEQVQoz42RTYvTUBSG82v8CW5m5U7mB/gXFAYRXNa9C7cuXAiC4Ho2isy0zPd0aG36kTZfbZK2aXrbNOlnmkmnTc59vQURdeWBh5f3PXA49x5Jlr+F/tDzNM1gusDQTebYPeYOGBsyXzBhq9WajUYTtt2lbJemLNk8sI1g7zMilmUk8ow9CC+dP36EqdFAZ+Cg17cxDkZwRy4c14btOhgwF6t4gSAYY72cYzkNEO01DJAm9/i3JLAxGpMoO+v7vMyWvOjN+Lnr82IQ8+sw5pfjJc+zGb/xI37bXfBSP+LmEtwQtKbEtTm4vhDsdca59OwOqFpTSpQSKlfH6JYLSDo6rK6HYllBudqCZvZQVUzcVRTc/KihVFNhiL7cNGF7vlADfjhH3hMbHomBej+k3ad3yB89QevFIdLTYzB/BLvdhtZqQqnX0TZ0OJYFpVZDtSLDEr2myE1Ng9JoYD4Z44pxSK/rgNoLs3XuOUVPDyg6PKDy2xxNo4iY55Esy9Rud8j3ffK8IXUdh7zBgIIgoFZTJVVgWQ7RdkOXQyKJiY9UhxHo9juab17hOvcSXz++xzpOECdbcZAEKeG/6sIXT97cx9aFEagnCtO/FNv6h9Oq/rlQ10/MhZ63ot8UfvGXt//IOitBpP0E8PM1nJoU1vcAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"つぶやきサンプル\"\n        title=\"\"\n        src=\"/static/tweet-sample-with-number-32788568e53b55ca649719666998c2b0-fb8a0.png\"\n        srcset=\"/static/tweet-sample-with-number-32788568e53b55ca649719666998c2b0-1a291.png 148w,\n/static/tweet-sample-with-number-32788568e53b55ca649719666998c2b0-2bc4a.png 295w,\n/static/tweet-sample-with-number-32788568e53b55ca649719666998c2b0-fb8a0.png 590w,\n/static/tweet-sample-with-number-32788568e53b55ca649719666998c2b0-27ff0.png 593w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </li>\n</ul>\n<h2 id=\"1-snsシェアボタンを設置\"><a href=\"#1-sns%E3%82%B7%E3%82%A7%E3%82%A2%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E8%A8%AD%E7%BD%AE\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1. SNSシェアボタンを設置</h2>\n<h3 id=\"facebook、google、linkedin、twitterシェアボタン\"><a href=\"#facebook%E3%80%81google%E3%80%81linkedin%E3%80%81twitter%E3%82%B7%E3%82%A7%E3%82%A2%E3%83%9C%E3%82%BF%E3%83%B3\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Facebook、Google、Linkedin、Twitterシェアボタン</h3>\n<p><a href=\"https://github.com/nygardk/react-share\">react-share</a>でめっちゃ簡単にできます。<br>\nそれぞれ専用タグが用意されているので<br>\n<code class=\"language-text\">url</code>属性に記事のURL、<code class=\"language-text\">icon</code>属性にアイコンサイズを指定するだけです。<br>\nLinkedinアイコンはそれに加えて<code class=\"language-text\">title</code>属性に記事タイトルを<br>\nTwitterアイコンは<code class=\"language-text\">via</code>属性に自分のTwitterアカウント名、<code class=\"language-text\">title</code>属性に記事タイトルを指定します。<br>\n※下記コード中の<code class=\"language-text\">articleUrl</code>は記事URL、<code class=\"language-text\">articleTitle</code>は記事タイトルです。</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>FacebookShareButton</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{articleUrl}</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>FacebookIcon</span> <span class=\"token attr-name\">size</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{32}</span> <span class=\"token attr-name\">round</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>FacebookShareButton</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>GooglePlusShareButton</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{articleUrl}</span><span class=\"token punctuation\">></span></span>\n  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>GooglePlusIcon</span> <span class=\"token attr-name\">size</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{32}</span> <span class=\"token attr-name\">round</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>GooglePlusShareButton</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LinkedinShareButton</span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{articleUrl}</span><span class=\"token punctuation\">></span></span>\n<span class=\"gatsby-highlight-code-line\">  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>LinkedinIcon</span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{articleTitle}</span> <span class=\"token attr-name\">size</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{32}</span> <span class=\"token attr-name\">round</span> <span class=\"token punctuation\">/></span></span>\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>LinkedinShareButton</span><span class=\"token punctuation\">></span></span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TwitterShareButton</span> <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{articleTitle}</span> <span class=\"token attr-name\">via</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>@inouetakumon<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">url</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{articleUrl}</span><span class=\"token punctuation\">></span></span>\n</span>  <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>TwittearIcon</span> <span class=\"token attr-name\">size</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{32}</span> <span class=\"token attr-name\">round</span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>TwitterShareButton</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<br>\nすると下記のように画面にSNSシェアアイコンが表示されます。\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/sns-share-icons-d0d7eb87f24ffe765de329c18b8cf04a-1d2d3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 205px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 33.65853658536586%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAYAAAAIy204AAAACXBIWXMAAAsSAAALEgHS3X78AAABkUlEQVQoz62QzS8DQRjG969ylpC4KOFEovERB0JTBz04aJYIBwdxQJT4yCYSDRLSJtKI+uiurq8limjKflhJKdradHe2M5k1ndahd5M8mWd+75OZd17GssAW0bpt25xpWhwgOzBNDgBQVslXajY5kyxnWmVvEl+0KVsjmZ03Xa9nnH9ciqL6mCJyHM/EHujwbcKbBx0SDi1NgdpQN1QHOqClypRJ6iesn4nAtqVjmDEAZce6DZtCWTgmGlbpQl1TPMxuNOU09K7AgfFd3De6jQnH74FZrI8MYtndiNNz05T1rJ5ib/ActyxE8eJJkjJ3JItDMsB90TwUDUK+Xr2Mli44rv51UNe1jILhG9Kvg37iMSS7Xei5tRbl+SPKNuIpRDpEzfOHSNK+KQskCqjzIIfa93OgQMDnm+qhM8wa0NE/zOqBZNLkxY8q9JyDTgZUx5Lks0bFv8jKMMPzwuStdOl/TEhsjOdZQRBYIRZjxbt7ogT1JVaqPd1esXfXF+zpX44oKcXZa1Hwn4niVDgUqvkFNsDb2ZWGMOEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"SNSシェアアイコン\"\n        title=\"\"\n        src=\"/static/sns-share-icons-d0d7eb87f24ffe765de329c18b8cf04a-1d2d3.png\"\n        srcset=\"/static/sns-share-icons-d0d7eb87f24ffe765de329c18b8cf04a-1eb4e.png 148w,\n/static/sns-share-icons-d0d7eb87f24ffe765de329c18b8cf04a-1d2d3.png 205w\"\n        sizes=\"(max-width: 205px) 100vw, 205px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3 id=\"はてブ追加ボタン\"><a href=\"#%E3%81%AF%E3%81%A6%E3%83%96%E8%BF%BD%E5%8A%A0%E3%83%9C%E3%82%BF%E3%83%B3\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>はてブ追加ボタン</h3>\n<p><code class=\"language-text\">bookmark_button.js</code>というJavaScriptファイルを読み込んで、リンクタグを設置するだけです。</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Helmet</span><span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>//b.st-hatena.com/js/bookmark_button.js<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">charset</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>utf-8<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">async</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>async<span class=\"token punctuation\">\"</span></span> <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>Helmet</span><span class=\"token punctuation\">></span></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>a</span>\n  <span class=\"token attr-name\">href</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>http://b.hatena.ne.jp/entry/<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">className</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>hatena-bookmark-button<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">data-hatena-bookmark-layout</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>vertical-normal<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">data-hatena-bookmark-lang</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>ja<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token attr-name\">title</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>このエントリーをはてなブックマークに追加<span class=\"token punctuation\">\"</span></span>\n  <span class=\"token punctuation\">></span></span><span class=\"token plain-text\">\n  </span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>img</span>\n    <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>//b.st-hatena.com/images/entry-button/button-only@2x.png<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">alt</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>このエントリーをはてなブックマークに追加<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">width</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">height</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span><span class=\"token punctuation\">\"</span>20<span class=\"token punctuation\">\"</span></span>\n    <span class=\"token attr-name\">style</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>border<span class=\"token punctuation\">:</span> <span class=\"token string\">'none'</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span></span>\n  <span class=\"token punctuation\">/></span></span><span class=\"token plain-text\">\n</span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>a</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<br>\nすると下記のように画面にはてブ追加アイコンが表示されます。\n![はてブシェアアイコン](./hatebu1.png)\n<p>クリックするとウィジェットが表示されます。(<code class=\"language-text\">bookmark_button.js</code>がやってくれています。)\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/hatebu2-10e6ad7b12fcc2c5a07352252251d509-5119a.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 384px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 132.29166666666669%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAaCAYAAAC3g3x9AAAACXBIWXMAAAsSAAALEgHS3X78AAAD/klEQVRIx51US28bVRSeP8CGBRLiB7BiyYpFiGABYsWiilKBlQIRQgLBIlmwB4kNgvAQrVSpSFWlJERGMRFRSpvb2IEkiEQqhUCCX2OPx68Zj+3xePy4Mx/nXNuNaVNa5UrfnHvPvfPdc+55aJ2WewVhkEHH/wNB7xCyd9jr9Q77/b6Sj4J+v3dHSql3Op2r2s2MtS1cYFn38X0FuOHgzIPId7UPf8lvTtys4pXonf6L1/aC89H94CiZCrKZTJBOZ4KMkukgmUwGqVRKrXVdD7LZbJAlqZM0qsVeR3bht/249s6trHj2uoXn3vhAvn3+HN5/713Mzs4iEolgZmYG09PTSs7Pz2Nubg5TU1OYmJjA5OQknif5wssv4aPJZ+RPCx/DlWFC+/q3vLiYD3F1XchYdAWxH9awurqKaDSqEIvFsLa2hvX1dWxsbKi9xcVFLC8tKSytrGDr8iWp/7qLRrud0LrttoDfgmnkpZ7LgdyDZVmoVqswDAPkKshNkJtqXqlU0Gw2kaOzxWIR3U6Hn0/yx6nVEprv+8IwTQgh5Pb2NuLxOHZ2dhTxwcEB9vb2sL+/r3QsHcdBvV6HbdsKrusipBArQsdJaK1WS1B0UCqVJG8WCgVlSaPRUFYy+MdyucxnHhRgRVhjC+kHoTQ0mJjyj8OPdrsNsv4uKMeU5EtPgSIkyxMaWSRYSWkg+V34jcaJ7gUTjzBaMyEbogjpYQUryVLJbrGrZ0hodnBAaJKF4+8QEvpBOEB4jxzHmM7zOyeEhYI5RhgMKR8FNLoeWmUDbbsyfEOKcr1aEsL08MlBSS7cLuPzIT4jfPH7YP7lUC4MMTrD809vV3Dlz7JEEAwsDJ2KOJewoC0cSe3SP9AuHg/wzTGe/C6Hp1ZyeHrVwONLOp5Y1qFdTtIenyPw+a+O8di1lPLOYULPKotvky5evWHImS0TEUa8qOSFeAFvES5sFfAmzxNFvH6rgNcYwkCE5NSmgfndoqQWOCAsVyqiaVsopJPSzKaQPfoLmb8PUdIzcMpFePUa/IaDpl1FkXSlHOlLBUjPVXPbzMPMpmVAQVIu5/N5ISX532hKh1KGbiE0eA235cGjBG80XaWz7BrsmoOaU1c6m8rQqtVARp0kNpWV6Ha7VFZlyTXK5UWRVwnOZWhSnfPtDxkntUwkIqQfaKFqmepR1e6olpmYq4DPBBRJxvh8iP8SsoVMSI1CtSnqzKqreJ6nOgu3K76I2xrv8yVcVUx2qoW8ICtUto9qlC9hyxis54bBYD2D50zIe/dZyAtWDjfvw//pTyPcHLUvGuEZ0b9LSI+/pZrCwyP5wBEOfybjftbooX+kdwvo3RoE9yyg/+scQMqK6/8CXs1jsaZdhU0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"はてブシェアアイコンウィジェット\"\n        title=\"\"\n        src=\"/static/hatebu2-10e6ad7b12fcc2c5a07352252251d509-5119a.png\"\n        srcset=\"/static/hatebu2-10e6ad7b12fcc2c5a07352252251d509-0a242.png 148w,\n/static/hatebu2-10e6ad7b12fcc2c5a07352252251d509-f057f.png 295w,\n/static/hatebu2-10e6ad7b12fcc2c5a07352252251d509-5119a.png 384w\"\n        sizes=\"(max-width: 384px) 100vw, 384px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id=\"2-自分のsnsへのリンクを設置\"><a href=\"#2-%E8%87%AA%E5%88%86%E3%81%AEsns%E3%81%B8%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E8%A8%AD%E7%BD%AE\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2. 自分のSNSへのリンクを設置</h2>\n<p>SNSへのリンクアイコンは<a href=\"https://github.com/FortAwesome/react-fontawesome\">react-fontawesome</a>を使いました。<br>\nまずはreact-fontawesomeをインストールします。</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save @fortawesome/react-fontawesome\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save @fortawesome/fontawesome-svg-core\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save @fortawesome/free-brands-svg-icons\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save @fortawesome/free-solid-svg-icons\n<span class=\"token function\">npm</span> <span class=\"token function\">install</span> --save @fortawesome/free-regular-svg-icons</code></pre></div>\n<br>\n実装は下記のようにします。スタイルの細かい部分は省略していますが、ざっくり書きのような感じです。Qiitaだけ小細工してます。\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">GitHub</td>\n<td align=\"left\">Font Awsomeアイコン使用。背景をダークグレイ。</td>\n</tr>\n<tr>\n<td align=\"left\">Twitter</td>\n<td align=\"left\">Font Awsomeアイコン使用。背景を水色。</td>\n</tr>\n<tr>\n<td align=\"left\">Qiita</td>\n<td align=\"left\">Font Awsomeに用意がないので、<strong>代わりに虫眼鏡アイコン使用。背景を黄緑にしてQiitaっぽくする</strong></td>\n</tr>\n</tbody>\n</table>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">・・・\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> FontAwesomeIcon <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@fortawesome/react-fontawesome'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> faGithubSquare<span class=\"token punctuation\">,</span> faTwitterSquare <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@fortawesome/free-brands-svg-icons'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> faSearch <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'@fortawesome/free-solid-svg-icons'</span>\n\n・・・\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">Bio</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React<span class=\"token punctuation\">.</span>Component</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n      ・・・\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"https://github.com/Takumon\"</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">       <span class=\"token operator\">&lt;</span>FontAwesomeIcon\n</span><span class=\"gatsby-highlight-code-line\">         color<span class=\"token operator\">=</span><span class=\"token string\">\"#333\"</span>\n</span><span class=\"gatsby-highlight-code-line\">         icon<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>faGithubSquare<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"https://twitter.com/inouetakumon\"</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token operator\">&lt;</span>FontAwesomeIcon\n</span><span class=\"gatsby-highlight-code-line\">          color<span class=\"token operator\">=</span><span class=\"token string\">\"#3eaded\"</span>\n</span><span class=\"gatsby-highlight-code-line\">          icon<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>faTwitterSquare<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n</span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>a href<span class=\"token operator\">=</span><span class=\"token string\">\"https://qiita.com/Takumon\"</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">        <span class=\"token operator\">&lt;</span>FontAwesomeIcon\n</span><span class=\"gatsby-highlight-code-line\">          color<span class=\"token operator\">=</span><span class=\"token string\">\"white\"</span>\n</span><span class=\"gatsby-highlight-code-line\">          style<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">            overflow<span class=\"token punctuation\">:</span> <span class=\"token string\">'hidden'</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">            height<span class=\"token punctuation\">:</span> <span class=\"token string\">'0.9em'</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">            width<span class=\"token punctuation\">:</span> <span class=\"token string\">'0.9em'</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">            backgroundColor<span class=\"token punctuation\">:</span> <span class=\"token string\">'#4cb10d'</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">            borderRadius<span class=\"token punctuation\">:</span> <span class=\"token string\">'2px'</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">            marginTop<span class=\"token punctuation\">:</span> <span class=\"token string\">'2px'</span><span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n</span><span class=\"gatsby-highlight-code-line\">          icon<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>faSearch<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n</span>\n      ・・・\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\nここまでくると、下記のようなアイコンが画面に追加されています。\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/my-sns-icons-dcdd6bd9dc56f2fdd0408117969af22c-3135f.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 333px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 26.426426426426424%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsSAAALEgHS3X78AAABU0lEQVQY031Qy0rDUBTML/gLgh+gH+HSnxC3LkRERFBBERFEKgq68IF0416xliIq9VXaWhFL9Da1tsaktU2aq/cmOU3GVHAlODBw5nDOMIzicL4O4BlBJx8AhU4QFCL9L4OwexcWwjD83eWiuSSl3FSkEKlPM4vVnRHo6im6eNRq0PQPGM02KnodpbcGqgbH04sOq9mA124CvoTrurBtG6Zp/vwR0Zli19TDm9EhzPX3uLnhQUoUTZqMX9JuukzrWYeWLkzaz1QpdnVLsbRGyWKLjkqccoakKAxZlkWRqds19DwvoXDeSvG1WZwN9EJfGEO8KDE1M4+KxnASBTl4BVxYiGvTeBImllWg7wgYv8cf+L5/rrTafPvLbuh6+ljt8A+WLHts4iDPtm7qbCUr2OK1YFt372z+MsM28pw9GJJpTcFMRzLflUwI0aUa9Wc4jrP3DSGuXwrquNtuAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"自分のSNSリンク\"\n        title=\"\"\n        src=\"/static/my-sns-icons-dcdd6bd9dc56f2fdd0408117969af22c-3135f.png\"\n        srcset=\"/static/my-sns-icons-dcdd6bd9dc56f2fdd0408117969af22c-2c691.png 148w,\n/static/my-sns-icons-dcdd6bd9dc56f2fdd0408117969af22c-4b7bd.png 295w,\n/static/my-sns-icons-dcdd6bd9dc56f2fdd0408117969af22c-3135f.png 333w\"\n        sizes=\"(max-width: 333px) 100vw, 333px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h2 id=\"3-ogpタグを設定\"><a href=\"#3-ogp%E3%82%BF%E3%82%B0%E3%82%92%E8%A8%AD%E5%AE%9A\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3. OGPタグを設定</h2>\n<p>OGPとは、「Open Graph Protcol」の略でFacebookやTwitterなどのSNSでシェアした際に、\nWEBページのタイトルやイメージ画像、説明文などをわかりやすく伝えるためのHTML要素です。\nOGPをWebページで設定することでユーザーに対してWEBページの内容を詳しく伝えることができます。</p>\n<h3 id=\"ogpタグを定義\"><a href=\"#ogp%E3%82%BF%E3%82%B0%E3%82%92%E5%AE%9A%E7%BE%A9\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OGPタグを定義</h3>\n<p>Reactアプリだと、<a href=\"https://github.com/nfl/react-helmet\">ReactHelmet</a>を使います。<br>\n今回はOgpタグを作りました。ただブログのトップと記事詳細で設定する値が違うので、そこはコンポーネントの引数で受け取れるようにしています。<br>\n※<code class=\"language-text\">blog-config.js</code>はブログタイトルなどの設定しているファイルです。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n<span class=\"token keyword\">import</span> Helmet <span class=\"token keyword\">from</span> <span class=\"token string\">'react-helmet'</span>\n\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>\n</span><span class=\"gatsby-highlight-code-line\">  blogTitle<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">  blogUrl<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">  blogDescription<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">  blogImageUrl<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">  facebookAppId<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\">  blogAuthorTwitterUserName<span class=\"token punctuation\">,</span>\n</span><span class=\"gatsby-highlight-code-line\"><span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../config/blog-config.js'</span><span class=\"token punctuation\">;</span>\n</span>\n<span class=\"gatsby-highlight-code-line\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Ogp</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>isRoot<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">,</span> description<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n</span>  <span class=\"token keyword\">const</span> type <span class=\"token operator\">=</span> isRoot <span class=\"token operator\">?</span> <span class=\"token string\">'website'</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">'article'</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span><span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Helmet<span class=\"token operator\">></span>\n<span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta property<span class=\"token operator\">=</span><span class=\"token string\">\"og:title\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>title <span class=\"token operator\">||</span> blogTitle<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta property<span class=\"token operator\">=</span><span class=\"token string\">\"og:description\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>description <span class=\"token operator\">||</span> blogDescription<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta property<span class=\"token operator\">=</span><span class=\"token string\">\"og:url\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>blogUrl<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta property<span class=\"token operator\">=</span><span class=\"token string\">\"og:type\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>type<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta property<span class=\"token operator\">=</span><span class=\"token string\">\"og:site_name\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>blogTitle<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta property<span class=\"token operator\">=</span><span class=\"token string\">\"og:image\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>blogImageUrl<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta property<span class=\"token operator\">=</span><span class=\"token string\">\"fb:app_id\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>facebookAppId<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta name<span class=\"token operator\">=</span><span class=\"token string\">\"twitter:card\"</span> content<span class=\"token operator\">=</span><span class=\"token string\">\"summary\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span><span class=\"gatsby-highlight-code-line\">      <span class=\"token operator\">&lt;</span>meta name<span class=\"token operator\">=</span><span class=\"token string\">\"twitter:site\"</span> content<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token template-string\"><span class=\"token string\">`@</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>blogAuthorTwitterUserName<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">`</span></span><span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n</span>    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Helmet<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\nいろいろあるプロパティは下記の通り\n<br>\n<br>\n<table>\n<thead>\n<tr>\n<th align=\"left\">プロパティ名</th>\n<th align=\"left\">説明</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"left\">og:title</td>\n<td align=\"left\">ページのタイトル。SNS共有時は、headのtitleタグよりも優先して使われます。</td>\n</tr>\n<tr>\n<td align=\"left\">og:description</td>\n<td align=\"left\">ページの説明。</td>\n</tr>\n<tr>\n<td align=\"left\">og:url</td>\n<td align=\"left\">ページのURL。</td>\n</tr>\n<tr>\n<td align=\"left\">og:type</td>\n<td align=\"left\">ページの属性、だいたい<code class=\"language-text\">website</code>か<code class=\"language-text\">article</code>を指定します。詳細は<a href=\"http://ogp.me/#types\">ココ</a>参照</td>\n</tr>\n<tr>\n<td align=\"left\">og:site_name</td>\n<td align=\"left\">Webサイト名。</td>\n</tr>\n<tr>\n<td align=\"left\">og:image</td>\n<td align=\"left\">ページのイメージ画像</td>\n</tr>\n<tr>\n<td align=\"left\">fb:app_id</td>\n<td align=\"left\">FacebookのアプリID。FacebookでOGPを表示させる際に必須。アプリIDの取り方は<a href=\"https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html\">FacebookのOGP設定に必要なfb:app IDの取得方法</a>参照。</td>\n</tr>\n<tr>\n<td align=\"left\">twitter:card</td>\n<td align=\"left\">OGPのレイアウトのタイプ。詳細は<a href=\"https://saruwakakun.com/html-css/reference/twitter-card\">【2018年版】Twitterカードとは？使い方と設定方法まとめ</a>参照。</td>\n</tr>\n<tr>\n<td align=\"left\">twitter:site</td>\n<td align=\"left\">Twitterのユーザ名。</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"ogpタグ呼び出し\"><a href=\"#ogp%E3%82%BF%E3%82%B0%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>OGPタグ呼び出し</h3>\n<p>こんどは作ったOgpタグを呼び出す側の実装です。\nGatsby製ブログではトップページとブログ議事ページの2カ所で呼び出します。</p>\n<h4 id=\"ブログトップページでの呼び出し\"><a href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E3%83%88%E3%83%83%E3%83%97%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%A7%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ブログトップページでの呼び出し</h4>\n<p><strong>src/layouts/index.js</strong><br>\n全体のテンプレートなのでURLがブログトップページの時のみOGPタグを呼び出します。</p>\n<div class=\"gatsby-highlight\" data-language=\"jsx\"><pre class=\"language-jsx\"><code class=\"language-jsx\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Ogp</span> <span class=\"token attr-name\">isRoot</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>isRoot<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span></code></pre></div>\n<h4 id=\"ブログ記事ページでの呼び出し\"><a href=\"#%E3%83%96%E3%83%AD%E3%82%B0%E8%A8%98%E4%BA%8B%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%A7%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ブログ記事ページでの呼び出し</h4>\n<div class=\"gatsby-code-title\">src/templates/blog-post.js</div>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>Ogp</span> <span class=\"token attr-name\">isRoot</span><span class=\"token attr-value\"><span class=\"token punctuation\">=</span>{isRoot}</span> <span class=\"token punctuation\">/></span></span>\n  isRoot={false}\n  title={`${post.frontmatter.title} | ${siteTitle}`}\n<span class=\"gatsby-highlight-code-line\">  description={sumarrize(post.html)}/>\n</span></code></pre></div>\n<p>4行目の<code class=\"language-text\">sumarrize</code>メソッドではブログ記事(HTML形式)から<a href=\"https://github.com/ericnorris/striptags\">striptags</a>というライブラリを使ってテキストを抽出し、冒頭120文字を1行にして返すようにしています。</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">function</span> <span class=\"token function\">sumarrize</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> postContent <span class=\"token operator\">=</span> <span class=\"token function\">striptags</span><span class=\"token punctuation\">(</span>html<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\">/\\r?\\n/g</span><span class=\"token punctuation\">,</span> <span class=\"token string\">''</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">trim</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> postContent<span class=\"token punctuation\">.</span>length <span class=\"token operator\">&lt;=</span> <span class=\"token number\">120</span>\n    <span class=\"token operator\">?</span> postContent\n    <span class=\"token punctuation\">:</span> postContent<span class=\"token punctuation\">.</span><span class=\"token function\">slice</span><span class=\"token punctuation\">(</span><span class=\"token number\">0</span><span class=\"token punctuation\">,</span> <span class=\"token number\">120</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">+</span> <span class=\"token string\">'...'</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<br>\n<p>※<a href=\"https://github.com/ericnorris/striptags\">striptags</a>は非常に便利なライブラリですが、1点だけ注意点があって、最新バージョンの3系(2018/9/16現在)はGatsbyビルド時にエラーになるため<strong>2系を使用してください</strong>。Gatsbyではビルド時に<a href=\"https://github.com/mishoo/UglifyJS2\">Uglifyjs</a>を使用しているためES6のコードをコンパイルできません。</p>\n<br>\n<p>これでTwitterなどでシェアするとイメージ画像とタイトル、記事概要を表示してくれるようになります。\n\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/tweet-sample-b0cd0202e80e38f1c88291e73f0b8290-27ff0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 38.11129848229342%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5UlEQVQoz42RTY/SUBSG+2v8Cy5m5dL5I5qYiXvcu3DrwoWJiYnr2WjMDMT5YAYDM+WjQL9oC5Ry4dLyUQqWAXru6yUxRl15kidv3vckJ+feo6jql4gPg0DXTWZITMNinttj/oCxIeOSCVsuV2w0mrDtbs92+z1LNw9sIzn4jIhlGck8Yw/SK8XHjzAzG7B9D72+i3E4gj/y4fkuXJkNmI/leoEwHGMVzxFPQyQHjULs0x/4t5TIG6PKk+xbn4sKi0UpmIkLn4tSuBbFaC2uxrHIs5m44Ym47S5EuZ8IK4YwJa0pCX0OYSwkB50JoZzowF1nSqlWxv31KbqVAtKOAacboFTRUKm2oFs9VDUL3+813NzVUK61Ycq+2rTgBlyqCR7NkQ/khqlcU+9FtPvwBvkXT9B6foz9+SkYH8G1beitJrR6HbZpwHMcaLUaqvcqHNlrytzSdWiNBuaTMa6ZgLKVA9u9KFvlntHq6RElx0dUeZ2jaZIQCwJSVZVsu0OccwqCIXU9j4LBgMIwpFazTW2J43hE2w1dDYmUw0fqwwTZ7Vc0X71EMXeCz+/fYrVOsU638iAp9oT/qksunxwna+fSDNtnGjM+lWzj3XnV+FioG2fWwsg7yW8Kv/jLu39knaUk0X8Co4g3LYXWyrgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"つぶやきサンプル\"\n        title=\"\"\n        src=\"/static/tweet-sample-b0cd0202e80e38f1c88291e73f0b8290-fb8a0.png\"\n        srcset=\"/static/tweet-sample-b0cd0202e80e38f1c88291e73f0b8290-1a291.png 148w,\n/static/tweet-sample-b0cd0202e80e38f1c88291e73f0b8290-2bc4a.png 295w,\n/static/tweet-sample-b0cd0202e80e38f1c88291e73f0b8290-fb8a0.png 590w,\n/static/tweet-sample-b0cd0202e80e38f1c88291e73f0b8290-27ff0.png 593w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>開発中に下記サイトで実際にどんな感じになるかを確認できます。</p>\n<ul>\n<li>Twitter → <a href=\"https://cards-dev.twitter.com/validator\">Card validator</a></li>\n<li>Facebook → <a href=\"https://developers.facebook.com/tools/debug/\">シェアデバッガー</a></li>\n</ul>\n<h2 id=\"まとめ\"><a href=\"#%E3%81%BE%E3%81%A8%E3%82%81\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>まとめ</h2>\n<p>今回はReactアプリでSNSシェアボタンや自分のSNSへのリンクを設置し、さらにOGPタグを設置して\nTwitterなどでのシェアをより効果的にする方法をメモに残しました。\nReactだと、かなり簡単に実現できるし、グっと今時のWebサイトっぽくなるので是非みなさんも試してみてください。</p>\n<h2 id=\"参考\"><a href=\"#%E5%8F%82%E8%80%83\" aria-hidden=\"true\" class=\"anchor\"><svg aria-hidden=\"true\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>参考</h2>\n<ul>\n<li><a href=\"https://github.com/nygardk/react-share\">react-share</a></li>\n<li><a href=\"https://github.com/FortAwesome/react-fontawesome\">react-fontawesome</a></li>\n<li><a href=\"https://github.com/nfl/react-helmet\">ReactHelmet</a></li>\n<li><a href=\"https://ferret-plus.com/610\">Facebook・TwitterのOGP設定方法まとめ｜ferret フェレット</a></li>\n<li><a href=\"https://akameco.github.io/blog/react-helmet/\">React Helmetを使ってOGP対応した | akameco Blog</a></li>\n<li><a href=\"https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html\">FacebookのOGP設定に必要なfb:app IDの取得方法</a></li>\n<li>\n<p><a href=\"https://cards-dev.twitter.com/validator\">Card validator</a></p>\n<ul>\n<li>Twitterシェア時にOGP領域プレビュー確認サイト</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://developers.facebook.com/tools/debug/\">シェアデバッガー</a></p>\n<ul>\n<li>Facebookシェア時にOGP領域プレビュー確認サイト</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://github.com/ericnorris/striptags\">striptags</a></p>\n<ul>\n<li>HTML文字列から単純テキストを抽出してくれるライブラリで</li>\n</ul>\n</li>\n<li>\n<p><a href=\"https://github.com/gatsbyjs/gatsby/issues/3780\">GatsbyはES6未対応 | GitHub issues</a></p>\n<ul>\n<li>GatsbyはビルドでJSファイル最初化時にUglifyを使っており、uglifyがES6未対応なのでES6のコードをコンパイルしようとするとエラーになってしまいます。</li>\n</ul>\n</li>\n</ul>","excerpt":"なにこれ Gatsby製ブログ(Reactアプリ)でSNS対応した時のメモです。 \n (1) SNSシェアボタン と (2) 自分のSNSへのリンク を設置して、ブログの記事をSNSでシェアできるように、、、 \nまた、 (3) OGPタグを設定し 、SNS…","rawMarkdownBody":"\n## なにこれ\nGatsby製ブログ(Reactアプリ)でSNS対応した時のメモです。<br>\n**(1) SNSシェアボタン**と**(2) 自分のSNSへのリンク**を設置して、ブログの記事をSNSでシェアできるように、、、<br>\nまた、**(3) OGPタグを設定し**、SNSでシェアするときにイメージ画像や、タイトル、記事概要を表示できるようにしました。\n* ブログのフッター\n  ![ブログフッタ](./blog-footer.png)\n* Twitterの呟き\n  ![つぶやきサンプル](./tweet-sample-with-number.png)\n\n##  1. SNSシェアボタンを設置\n\n\n### Facebook、Google、Linkedin、Twitterシェアボタン\n[react-share](https://github.com/nygardk/react-share)でめっちゃ簡単にできます。<br>\nそれぞれ専用タグが用意されているので<br>\n`url`属性に記事のURL、`icon`属性にアイコンサイズを指定するだけです。<br>\nLinkedinアイコンはそれに加えて`title`属性に記事タイトルを<br>\nTwitterアイコンは`via`属性に自分のTwitterアカウント名、`title`属性に記事タイトルを指定します。<br>\n※下記コード中の`articleUrl`は記事URL、`articleTitle`は記事タイトルです。\n\n```html{10,13}\n<FacebookShareButton url={articleUrl}>\n  <FacebookIcon size={32} round />\n</FacebookShareButton>\n\n<GooglePlusShareButton url={articleUrl}>\n  <GooglePlusIcon size={32} round />\n</GooglePlusShareButton>\n\n<LinkedinShareButton url={articleUrl}>\n  <LinkedinIcon title={articleTitle} size={32} round />\n</LinkedinShareButton>\n\n<TwitterShareButton title={articleTitle} via=\"@inouetakumon\" url={articleUrl}>\n  <TwittearIcon size={32} round />\n</TwitterShareButton>\n```\n\n<br>\nすると下記のように画面にSNSシェアアイコンが表示されます。\n\n![SNSシェアアイコン](./sns-share-icons.png)\n\n### はてブ追加ボタン\n`bookmark_button.js`というJavaScriptファイルを読み込んで、リンクタグを設置するだけです。\n```jsx\n<Helmet>\n  <script type=\"text/javascript\" src=\"//b.st-hatena.com/js/bookmark_button.js\" charset=\"utf-8\" async=\"async\" />\n</Helmet>\n<a\n  href=\"http://b.hatena.ne.jp/entry/\"\n  className=\"hatena-bookmark-button\"\n  data-hatena-bookmark-layout=\"vertical-normal\"\n  data-hatena-bookmark-lang=\"ja\"\n  title=\"このエントリーをはてなブックマークに追加\"\n  >\n  <img\n    src=\"//b.st-hatena.com/images/entry-button/button-only@2x.png\"\n    alt=\"このエントリーをはてなブックマークに追加\"\n    width=\"20\"\n    height=\"20\"\n    style={{border: 'none'}}\n  />\n</a>\n```\n\n<br>\nすると下記のように画面にはてブ追加アイコンが表示されます。\n![はてブシェアアイコン](./hatebu1.png)\n\nクリックするとウィジェットが表示されます。(`bookmark_button.js`がやってくれています。)\n![はてブシェアアイコンウィジェット](./hatebu2.png)\n\n\n## 2. 自分のSNSへのリンクを設置\nSNSへのリンクアイコンは[react-fontawesome](https://github.com/FortAwesome/react-fontawesome)を使いました。<br>\nまずはreact-fontawesomeをインストールします。\n\n```bash\nnpm install --save @fortawesome/react-fontawesome\nnpm install --save @fortawesome/fontawesome-svg-core\nnpm install --save @fortawesome/free-brands-svg-icons\nnpm install --save @fortawesome/free-solid-svg-icons\nnpm install --save @fortawesome/free-regular-svg-icons\n```\n\n<br>\n実装は下記のようにします。スタイルの細かい部分は省略していますが、ざっくり書きのような感じです。Qiitaだけ小細工してます。\n\n|||\n|:-|:-|\n|GitHub|Font Awsomeアイコン使用。背景をダークグレイ。|\n|Twitter|Font Awsomeアイコン使用。背景を水色。|\n|Qiita|Font Awsomeに用意がないので、**代わりに虫眼鏡アイコン使用。背景を黄緑にしてQiitaっぽくする**|\n\n```js{13-17,19-23,25-37}\n・・・\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faGithubSquare, faTwitterSquare } from '@fortawesome/free-brands-svg-icons'\nimport { faSearch } from '@fortawesome/free-solid-svg-icons'\n\n・・・\n\nclass Bio extends React.Component {\n  render() {\n    return (\n      ・・・\n      <a href=\"https://github.com/Takumon\">\n       <FontAwesomeIcon\n         color=\"#333\"\n         icon={faGithubSquare} />\n      </a>\n\n      <a href=\"https://twitter.com/inouetakumon\">\n        <FontAwesomeIcon\n          color=\"#3eaded\"\n          icon={faTwitterSquare} />\n      </a>\n\n      <a href=\"https://qiita.com/Takumon\">\n        <FontAwesomeIcon\n          color=\"white\"\n          style={{\n            overflow: 'hidden',\n            height: '0.9em',\n            width: '0.9em',\n            backgroundColor: '#4cb10d',\n            borderRadius: '2px',\n            marginTop: '2px',\n          }}\n          icon={faSearch} />\n      </a>\n\n      ・・・\n    );\n  }\n}\n```\n\n<br>\nここまでくると、下記のようなアイコンが画面に追加されています。\n\n![自分のSNSリンク](./my-sns-icons.png)\n\n\n## 3. OGPタグを設定\nOGPとは、「Open Graph Protcol」の略でFacebookやTwitterなどのSNSでシェアした際に、\nWEBページのタイトルやイメージ画像、説明文などをわかりやすく伝えるためのHTML要素です。\nOGPをWebページで設定することでユーザーに対してWEBページの内容を詳しく伝えることができます。\n\n### OGPタグを定義\nReactアプリだと、[ReactHelmet](https://github.com/nfl/react-helmet)を使います。<br>\n今回はOgpタグを作りました。ただブログのトップと記事詳細で設定する値が違うので、そこはコンポーネントの引数で受け取れるようにしています。<br>\n※`blog-config.js`はブログタイトルなどの設定しているファイルです。\n\n```js{4-11,13,18-27}\nimport React from 'react'\nimport Helmet from 'react-helmet'\n\nimport {\n  blogTitle,\n  blogUrl,\n  blogDescription,\n  blogImageUrl,\n  facebookAppId,\n  blogAuthorTwitterUserName,\n} from '../config/blog-config.js';\n\nexport default function Ogp({isRoot, title, description}) {\n  const type = isRoot ? 'website' : 'article';\n\n  return(\n    <Helmet>\n      <meta property=\"og:title\" content={title || blogTitle} />\n      <meta property=\"og:description\" content={description || blogDescription} />\n\n      <meta property=\"og:url\" content={blogUrl} />\n      <meta property=\"og:type\" content={type} />\n      <meta property=\"og:site_name\" content={blogTitle} />\n      <meta property=\"og:image\" content={blogImageUrl} />\n      <meta property=\"fb:app_id\" content={facebookAppId} />\n      <meta name=\"twitter:card\" content=\"summary\" />\n      <meta name=\"twitter:site\" content={`@${blogAuthorTwitterUserName}`} />\n    </Helmet>\n  )\n}\n```\n\n<br>\nいろいろあるプロパティは下記の通り\n<br>\n<br>\n\n|プロパティ名|説明|\n|:--|:--|\n|og:title|ページのタイトル。SNS共有時は、headのtitleタグよりも優先して使われます。|\n|og:description|ページの説明。|\n|og:url|ページのURL。|\n|og:type|ページの属性、だいたい`website`か`article`を指定します。詳細は[ココ](http://ogp.me/#types)参照|\n|og:site_name|Webサイト名。|\n|og:image|ページのイメージ画像|\n|fb:app_id|FacebookのアプリID。FacebookでOGPを表示させる際に必須。アプリIDの取り方は[FacebookのOGP設定に必要なfb:app IDの取得方法](https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html)参照。|\n|twitter:card|OGPのレイアウトのタイプ。詳細は[【2018年版】Twitterカードとは？使い方と設定方法まとめ](https://saruwakakun.com/html-css/reference/twitter-card)参照。|\n|twitter:site|Twitterのユーザ名。|\n\n\n### OGPタグ呼び出し\n\nこんどは作ったOgpタグを呼び出す側の実装です。\nGatsby製ブログではトップページとブログ議事ページの2カ所で呼び出します。\n\n#### ブログトップページでの呼び出し\n**src/layouts/index.js**<br>\n全体のテンプレートなのでURLがブログトップページの時のみOGPタグを呼び出します。\n```jsx\n<Ogp isRoot={isRoot} />\n```\n\n#### ブログ記事ページでの呼び出し\n\n```html{4}:title=src/templates/blog-post.js\n<Ogp isRoot={isRoot} />\n  isRoot={false}\n  title={`${post.frontmatter.title} | ${siteTitle}`}\n  description={sumarrize(post.html)}/>\n```\n\n4行目の`sumarrize`メソッドではブログ記事(HTML形式)から[striptags](https://github.com/ericnorris/striptags)というライブラリを使ってテキストを抽出し、冒頭120文字を1行にして返すようにしています。\n```js\nfunction sumarrize(html) {\n  const postContent = striptags(html).replace(/\\r?\\n/g, '').trim();\n  return postContent.length <= 120\n    ? postContent\n    : postContent.slice(0, 120) + '...';\n}\n```\n<br>\n\n※[striptags](https://github.com/ericnorris/striptags)は非常に便利なライブラリですが、1点だけ注意点があって、最新バージョンの3系(2018/9/16現在)はGatsbyビルド時にエラーになるため**2系を使用してください**。Gatsbyではビルド時に[Uglifyjs](https://github.com/mishoo/UglifyJS2)を使用しているためES6のコードをコンパイルできません。\n\n<br>\n\nこれでTwitterなどでシェアするとイメージ画像とタイトル、記事概要を表示してくれるようになります。\n  ![つぶやきサンプル](./tweet-sample.png)\n\n開発中に下記サイトで実際にどんな感じになるかを確認できます。\n* Twitter → [Card validator](https://cards-dev.twitter.com/validator)\n* Facebook → [シェアデバッガー](https://developers.facebook.com/tools/debug/)\n\n## まとめ\n今回はReactアプリでSNSシェアボタンや自分のSNSへのリンクを設置し、さらにOGPタグを設置して\nTwitterなどでのシェアをより効果的にする方法をメモに残しました。\nReactだと、かなり簡単に実現できるし、グっと今時のWebサイトっぽくなるので是非みなさんも試してみてください。\n\n## 参考\n* [react-share](https://github.com/nygardk/react-share)\n* [react-fontawesome](https://github.com/FortAwesome/react-fontawesome)\n* [ReactHelmet](https://github.com/nfl/react-helmet)\n* [Facebook・TwitterのOGP設定方法まとめ｜ferret フェレット](https://ferret-plus.com/610)\n* [React Helmetを使ってOGP対応した | akameco Blog](https://akameco.github.io/blog/react-helmet/)\n* [FacebookのOGP設定に必要なfb:app IDの取得方法](https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html)\n* [Card validator](https://cards-dev.twitter.com/validator)\n  * Twitterシェア時にOGP領域プレビュー確認サイト\n* [シェアデバッガー](https://developers.facebook.com/tools/debug/)\n  * Facebookシェア時にOGP領域プレビュー確認サイト\n* [striptags](https://github.com/ericnorris/striptags)\n    * HTML文字列から単純テキストを抽出してくれるライブラリで\n* [GatsbyはES6未対応 | GitHub issues](https://github.com/gatsbyjs/gatsby/issues/3780)\n    * GatsbyはビルドでJSファイル最初化時にUglifyを使っており、uglifyがES6未対応なのでES6のコードをコンパイルしようとするとエラーになってしまいます。\n\n\n\n\n","tableOfContents":"<ul>\n<li><a href=\"/2018/09/16/#%E3%81%AA%E3%81%AB%E3%81%93%E3%82%8C\">なにこれ</a></li>\n<li>\n<p><a href=\"/2018/09/16/#1-sns%E3%82%B7%E3%82%A7%E3%82%A2%E3%83%9C%E3%82%BF%E3%83%B3%E3%82%92%E8%A8%AD%E7%BD%AE\">1. SNSシェアボタンを設置</a></p>\n<ul>\n<li><a href=\"/2018/09/16/#facebook%E3%80%81google%E3%80%81linkedin%E3%80%81twitter%E3%82%B7%E3%82%A7%E3%82%A2%E3%83%9C%E3%82%BF%E3%83%B3\">Facebook、Google、Linkedin、Twitterシェアボタン</a></li>\n<li><a href=\"/2018/09/16/#%E3%81%AF%E3%81%A6%E3%83%96%E8%BF%BD%E5%8A%A0%E3%83%9C%E3%82%BF%E3%83%B3\">はてブ追加ボタン</a></li>\n</ul>\n</li>\n<li><a href=\"/2018/09/16/#2-%E8%87%AA%E5%88%86%E3%81%AEsns%E3%81%B8%E3%81%AE%E3%83%AA%E3%83%B3%E3%82%AF%E3%82%92%E8%A8%AD%E7%BD%AE\">2. 自分のSNSへのリンクを設置</a></li>\n<li>\n<p><a href=\"/2018/09/16/#3-ogp%E3%82%BF%E3%82%B0%E3%82%92%E8%A8%AD%E5%AE%9A\">3. OGPタグを設定</a></p>\n<ul>\n<li><a href=\"/2018/09/16/#ogp%E3%82%BF%E3%82%B0%E3%82%92%E5%AE%9A%E7%BE%A9\">OGPタグを定義</a></li>\n<li>\n<p><a href=\"/2018/09/16/#ogp%E3%82%BF%E3%82%B0%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\">OGPタグ呼び出し</a></p>\n<ul>\n<li><a href=\"/2018/09/16/#%E3%83%96%E3%83%AD%E3%82%B0%E3%83%88%E3%83%83%E3%83%97%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%A7%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\">ブログトップページでの呼び出し</a></li>\n<li><a href=\"/2018/09/16/#%E3%83%96%E3%83%AD%E3%82%B0%E8%A8%98%E4%BA%8B%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%A7%E3%81%AE%E5%91%BC%E3%81%B3%E5%87%BA%E3%81%97\">ブログ記事ページでの呼び出し</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li><a href=\"/2018/09/16/#%E3%81%BE%E3%81%A8%E3%82%81\">まとめ</a></li>\n<li><a href=\"/2018/09/16/#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>","headingsDetail":[{"id":"なにこれ","value":"なにこれ","depth":2,"parents":[]},{"id":"1-snsシェアボタンを設置","value":"1. SNSシェアボタンを設置","depth":2,"parents":[]},{"id":"facebook、google、linkedin、twitterシェアボタン","value":"Facebook、Google、Linkedin、Twitterシェアボタン","depth":3,"parents":[{"id":"1-snsシェアボタンを設置","value":"1. SNSシェアボタンを設置","depth":2}]},{"id":"はてブ追加ボタン","value":"はてブ追加ボタン","depth":3,"parents":[{"id":"1-snsシェアボタンを設置","value":"1. SNSシェアボタンを設置","depth":2}]},{"id":"2-自分のsnsへのリンクを設置","value":"2. 自分のSNSへのリンクを設置","depth":2,"parents":[]},{"id":"3-ogpタグを設定","value":"3. OGPタグを設定","depth":2,"parents":[]},{"id":"ogpタグを定義","value":"OGPタグを定義","depth":3,"parents":[{"id":"3-ogpタグを設定","value":"3. OGPタグを設定","depth":2}]},{"id":"ogpタグ呼び出し","value":"OGPタグ呼び出し","depth":3,"parents":[{"id":"3-ogpタグを設定","value":"3. OGPタグを設定","depth":2}]},{"id":"ブログトップページでの呼び出し","value":"ブログトップページでの呼び出し","depth":4,"parents":[{"id":"ogpタグ呼び出し","value":"OGPタグ呼び出し","depth":3},{"id":"3-ogpタグを設定","value":"3. OGPタグを設定","depth":2}]},{"id":"ブログ記事ページでの呼び出し","value":"ブログ記事ページでの呼び出し","depth":4,"parents":[{"id":"ogpタグ呼び出し","value":"OGPタグ呼び出し","depth":3},{"id":"3-ogpタグを設定","value":"3. OGPタグを設定","depth":2}]},{"id":"まとめ","value":"まとめ","depth":2,"parents":[]},{"id":"参考","value":"参考","depth":2,"parents":[]}],"frontmatter":{"date":"2018/09/16","title":"ReactでSNS対応（Gatsby製ブログでSNSシェアボタン、OGPタグ追加）","tags":["Gatsby","React","OGP"]}}},"pageContext":{"slug":"/2018/09/16/","previous":{"fields":{"slug":"/2018/09/12/"},"frontmatter":{"title":"GitHub Pagesを独自ドメイン化 + Https化","tags":["Github-Pages","カスタムドメイン","Https化"]}},"next":{"fields":{"slug":"/2018/09/29/"},"frontmatter":{"title":"Reactで構造化データマークアップ（JSON-LD対応）","tags":["React","Schema-org","JSON-LD"]}}}}