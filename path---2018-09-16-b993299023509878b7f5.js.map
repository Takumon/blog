{"version":3,"sources":["webpack:///path---2018-09-16-b993299023509878b7f5.js","webpack:///./.cache/json/2018-09-16.json"],"names":["webpackJsonp","427","module","exports","data","site","siteMetadata","title","author","markdownRemark","id","html","frontmatter","date","pathContext","slug","previous","fields","next"],"mappings":"AAAAA,cAAc,iBAERC,IACA,SAAUC,EAAQC,GCHxBD,EAAAC,SAAkBC,MAAQC,MAAQC,cAAgBC,MAAA,eAAAC,OAAA,iBAAgDC,gBAAmBC,GAAA,gGAAAC,KAAA,2muBAA6/rBC,aAAq+DL,MAAA,sCAAAM,KAAA,gBAAoEC,aAAgBC,KAAA,eAAAC,UAAkCC,QAAUF,KAAA,gBAAsBH,aAAgBL,MAAA,kCAAyCW,KAAA","file":"path---2018-09-16-b993299023509878b7f5.js","sourcesContent":["webpackJsonp([133001515947093],{\n\n/***/ 427:\n/***/ (function(module, exports) {\n\n\tmodule.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"Takumon Blog\",\"author\":\"Takuto Inoue\"}},\"markdownRemark\":{\"id\":\"/Users/inouetakumon/git/blog/src/pages/2018/09/16/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<h2>なにこれ</h2>\\n<p>Gatsby製ブログでSNS対応を実施した時のメモです。<br>\\n<strong>(1) SNSシェアボタン設置</strong>して <strong>(2) 自分のSNSへのリンク設置</strong>することでブログフッターの見栄えがちょっと良い感じになりました。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-0136e.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 59.01162790697675%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB4UlEQVQoz41SXW8SQRTdP6Z/on/HRH+FT9bGrwd9URMf9AUjMbVtTKo2WBgKLbALCwF22c+Z2bn3OAsrhYoJJzmZuTdzz5y5d5xRpL6JELNmwCNLXwTkN+fkX9m9t2DfjWzOxkTkx4r8Tkg+eBVvcGQ5McZcO1+uou7Tzy7Seg0Xp+c4/D3Da49RmxgcigTPOymOJ8BbF3h0Dtx/DxjsBjMrpz/PxXFPodEem5P2jD/eZFzzCv7UV3zUyviZyPhsbDjIiVtzw1+HzKvaLVApaF0mDptClMEgIeotDLxQYxBIDEOFKDNIpcEiLzCJNdxQlmWVm21zlcPUUVqLKklVfg3afs+ShrgsvEuuHKYOFUaMZh0E4Yik1EjiyDJHGsdAkSHPcygll4W0W+yuoBb1g3t48+AhPak38OJnjJe/zvDu0sWrVoGDDwqPf+ilyYLwP2w82RgBbwCvN6bvboyLADidjNGyPWxbk0dN4MRf1RDv4VApJcpvoLQioyVMnmy08tYSrafAu77LraDtkRh6Hq67Xer2+nzTvGQdzvnvGJQ2XJST+PerbGEtqLVuW5cIgoDLAaRZhkUUYTqdIrN73/eRJAn2gdXNHFvUkFKyXXNZwV4grfhytRfKoij2oT2qgz8BMJZxl9gVtgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"ブログフッタ\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-fb8a0.png\\\"\\n        srcset=\\\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-1a291.png 148w,\\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-2bc4a.png 295w,\\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-fb8a0.png 590w,\\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-0136e.png 688w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>またSNSシェア時にわかりやすくするためにOGPタグなるものを設定しました。Twitterで呟くと画像、タイトル、記事概要を表示できるようになります。<br>はてなブログとかQiitaみたいな感じですね。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 41.87604690117253%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQoz1WRy27TUBCG/SxFYlkJiRUSCzYICYknYMWCFc/AU7BjwUVsQQJVqtoiqjZtkzRN6tix40tzsXOaxHYcu00dO/E582NnAx3p05z5RxrNmV8KrnuH6sWOP2ajUdewmN41mGFajI0nzJvN2SQIWXRzy2ZRzBbJkgG4BxeCCSFczkW4TLN9abj33ai8eQHP0mAaXQxsEz3LQjwLkNzeYhHHyLMUvKDMgMAqTbBaJhDrDP+H4LkqFZ0OKMNgHvNDu0/qdE5qMKfToUM1x6GqM6SL62tq+x613Skp/SmZk5h63oIGQULhCiX5ohg4S/JLqTpZax+GQM12ha5XcdA4wFHrN7SegYYTomKO0HRDNJ0ZTrojVDQX9asp9GkC2Y2gjhdoOSF3E6DCuCz15pm24wEdTRaNj2/x6t1D/Hj/Eqm2h36/D/WyCV2RYXSUDVrxLrXJyMGVoRfnMaDKLR75E7T9YiBE2in/L9fP+PHzbfr8bJv2H23R+OcnGnoByXKbDNMmWVFp6I7Isnt03mhStd4gtaNv9LPaOQ+CEC2PX0q0zrrFtlDkOq5eP8HJ4wc4fbqF+PAbbpZLzAMf6d0C6/SuMCUBlUbkq8KwqDh/qSebXhltP29LfJ217nKII3uc1I730z9fvqanu7/SpmWnis9TxVtvMCLcw4z/UdSJGQF7g1X9L1giOKAcJBd3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"つぶやきサンプル\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png\\\"\\n        srcset=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-1a291.png 148w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-2bc4a.png 295w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png 590w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png 597w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>SNSシェアボタンを設置</h2>\\n<p>TODO 手順記載</p>\\n<h2>自分のSNSへのリンクを設置</h2>\\n<p>TODO 手順記載</p>\\n<h2>OGPタグを設定</h2>\\n<p>OGPとは、「Open Graph Protcol」の略でFacebookやTwitterなどのSNSでシェアした際に、\\nWEBページのタイトルやイメージ画像、説明文などをわかりやすく伝えるためのHTML要素です。\\nOGPをWebページで設定することでユーザーに対してWEBページの内容を詳しく伝えることができます。</p>\\n<h3>OGPタグ定義</h3>\\n<p>このブログはReactを使って書かれているので、ReactHelmetを使ってOPG専用のコンポーネントを作りました。\\nブログのトップと記事詳細で設定する値が違うので、そこは引数でとれるようにしてあります。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> Helmet <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react-helmet'</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span>\\n  blogTitle<span class=\\\"token punctuation\\\">,</span>\\n  blogUrl<span class=\\\"token punctuation\\\">,</span>\\n  blogDescription<span class=\\\"token punctuation\\\">,</span>\\n  blogImageUrl<span class=\\\"token punctuation\\\">,</span>\\n  facebookAppId<span class=\\\"token punctuation\\\">,</span>\\n  blogAuthorTwitterUserName<span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'../config/blog-config.js'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"gatsby-highlight-code-line\\\"><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">Ogp</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>isRoot<span class=\\\"token punctuation\\\">,</span> title<span class=\\\"token punctuation\\\">,</span> description<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n</span>  <span class=\\\"token keyword\\\">const</span> type <span class=\\\"token operator\\\">=</span> isRoot <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'website'</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'article'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>Helmet</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:title<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>title <span class=\\\"token operator\\\">||</span> blogTitle<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:description<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>description <span class=\\\"token operator\\\">||</span> blogDescription<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:url<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>blogUrl<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:type<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>type<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:site_name<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>blogTitle<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:image<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>blogImageUrl<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>fb:app_id<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>facebookAppId<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>twitter:card<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>summary<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>twitter:site<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`@</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>blogAuthorTwitterUserName<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span>    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>Helmet</span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>※<code class=\\\"language-text\\\">blog-config.js</code>はブログタイトルなどの設定を外出しした設定ファイル<br>\\nいろいろあるプロパティは下記の通り</p>\\n<table>\\n<thead>\\n<tr>\\n<th align=\\\"left\\\">プロパティ名</th>\\n<th align=\\\"left\\\">説明</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td align=\\\"left\\\">og:title</td>\\n<td align=\\\"left\\\">ページのタイトル。SNS共有時は、headのtitleタグよりも優先して使われます。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:description</td>\\n<td align=\\\"left\\\">ページの説明。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:url</td>\\n<td align=\\\"left\\\">ページのURL。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:type</td>\\n<td align=\\\"left\\\">ページの属性、だいたい\\n<code class=\\\"language-text\\\">website</code>\\nか\\n<code class=\\\"language-text\\\">article</code>\\nを指定します。詳細は\\n<a href=\\\"http://ogp.me/#types\\\">ココ</a>\\n参照</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:site_name</td>\\n<td align=\\\"left\\\">Webサイト名。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:image</td>\\n<td align=\\\"left\\\">ページのイメージ画像</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">fb:app_id</td>\\n<td align=\\\"left\\\">FacebookのアプリID。FacebookでOGPを表示させる際に必須。アプリIDの取り方は\\n<a href=\\\"https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html\\\">FacebookのOGP設定に必要なfb:app IDの取得方法</a>\\n参照。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">twitter:card</td>\\n<td align=\\\"left\\\">OGPのレイアウトのタイプ。詳細は\\n<a href=\\\"https://saruwakakun.com/html-css/reference/twitter-card\\\">【2018年版】Twitterカードとは？使い方と設定方法まとめ</a>\\n参照。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">twitter:site</td>\\n<td align=\\\"left\\\">Twitterのユーザ名。</td>\\n</tr>\\n</tbody>\\n</table>\\n<h3>OGPタグ呼び出し</h3>\\n<p>タイトルやURLはページ個別で設定が必要です。\\nGatsby製ブログでは下記2カ所でOGPタグを呼び出します。</p>\\n<h4>1. ブログトップページでの呼び出し</h4>\\n<p><strong>src/layouts/index.js</strong><br>\\n※全体のテンプレートなのでURLがブログトップページの時のみOGPタグを呼び出します。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>Ogp</span> <span class=\\\"token attr-name\\\">isRoot</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>isRoot<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span></code></pre>\\n      </div>\\n<h4>2. ブログ記事ページでの呼び出し</h4>\\n<p><strong>src/templates/blog-post.js</strong></p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>Ogp</span> <span class=\\\"token attr-name\\\">isRoot</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>isRoot<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n  isRoot<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">}</span>\\n  title<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>post<span class=\\\"token punctuation\\\">.</span>frontmatter<span class=\\\"token punctuation\\\">.</span>title<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\"> | </span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>siteTitle<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  description<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token function\\\">sumarrize</span><span class=\\\"token punctuation\\\">(</span>post<span class=\\\"token punctuation\\\">.</span>html<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n</span></code></pre>\\n      </div>\\n<p>4行目の<code class=\\\"language-text\\\">sumarrize</code>メソッドではブログ記事(HTML形式)から<a href=\\\"https://github.com/ericnorris/striptags\\\">striptags</a>というライブラリを使ってテキストを抽出し、冒頭120文字を1行にして返すようにしています。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">sumarrize</span><span class=\\\"token punctuation\\\">(</span>html<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> postContent <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">striptags</span><span class=\\\"token punctuation\\\">(</span>html<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">replace</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token regex\\\">/\\\\r?\\\\n/g</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">trim</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">return</span> postContent<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">&lt;=</span> <span class=\\\"token number\\\">120</span>\\n    <span class=\\\"token operator\\\">?</span> postContent\\n    <span class=\\\"token punctuation\\\">:</span> postContent<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">slice</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">120</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">'...'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>※<a href=\\\"https://github.com/ericnorris/striptags\\\">striptags</a>は非常に便利なライブラリですが、1点だけ注意点があって、最新バージョンの3系(2018/9/16現在)はGatsbyビルド時にエラーになるため<strong>2系を使用してください</strong>。Gatsbyではビルド時に<a href=\\\"https://github.com/mishoo/UglifyJS2\\\">Uglifyjs</a>を使用しているためES6のコードをコンパイルできません。</p>\\n<p>これでTwitterやFacebookで呟くと下記のようにいい感じに画像とタイトル、説明文を表示してくれるようになります。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 41.87604690117253%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQoz1WRy27TUBCG/SxFYlkJiRUSCzYICYknYMWCFc/AU7BjwUVsQQJVqtoiqjZtkzRN6tix40tzsXOaxHYcu00dO/E582NnAx3p05z5RxrNmV8KrnuH6sWOP2ajUdewmN41mGFajI0nzJvN2SQIWXRzy2ZRzBbJkgG4BxeCCSFczkW4TLN9abj33ai8eQHP0mAaXQxsEz3LQjwLkNzeYhHHyLMUvKDMgMAqTbBaJhDrDP+H4LkqFZ0OKMNgHvNDu0/qdE5qMKfToUM1x6GqM6SL62tq+x613Skp/SmZk5h63oIGQULhCiX5ohg4S/JLqTpZax+GQM12ha5XcdA4wFHrN7SegYYTomKO0HRDNJ0ZTrojVDQX9asp9GkC2Y2gjhdoOSF3E6DCuCz15pm24wEdTRaNj2/x6t1D/Hj/Eqm2h36/D/WyCV2RYXSUDVrxLrXJyMGVoRfnMaDKLR75E7T9YiBE2in/L9fP+PHzbfr8bJv2H23R+OcnGnoByXKbDNMmWVFp6I7Isnt03mhStd4gtaNv9LPaOQ+CEC2PX0q0zrrFtlDkOq5eP8HJ4wc4fbqF+PAbbpZLzAMf6d0C6/SuMCUBlUbkq8KwqDh/qSebXhltP29LfJ217nKII3uc1I730z9fvqanu7/SpmWnis9TxVtvMCLcw4z/UdSJGQF7g1X9L1giOKAcJBd3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"つぶやきサンプル\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png\\\"\\n        srcset=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-1a291.png 148w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-2bc4a.png 295w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png 590w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png 597w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>実際にどんな感じになるかは下記サイトで確認できます。</p>\\n<ul>\\n<li>Twitter → <a href=\\\"https://cards-dev.twitter.com/validator\\\">Card validator</a></li>\\n<li>Facebook → <a href=\\\"https://developers.facebook.com/tools/debug/\\\">シェアデバッガー</a></li>\\n</ul>\\n<h2>まとめ</h2>\\n<p>今回はGatsby製ブログでSNSシェアボタンや自分のSNSへのリンクを設置し、さらにOGPタグを設置して\\nTwitterやFacebookなどでのシェアをより効果的にする方法をメモとして残しました。\\nGatsbyはReact製ということもあり、かなり簡単に実現できますし、グっとブログっぽくなるので是非みなさんも挑戦してみてください。</p>\\n<h2>参考</h2>\\n<ul>\\n<li>\\n<p>OGPタグ系関連</p>\\n<ul>\\n<li>\\n<p>参考にしたサイト</p>\\n<ul>\\n<li><a href=\\\"https://ferret-plus.com/610\\\">Facebook・TwitterのOGP設定方法まとめ｜ferret [フェレット]</a></li>\\n<li><a href=\\\"https://akameco.github.io/blog/react-helmet/\\\">React Helmetを使ってOGP対応した | akameco Blog</a></li>\\n<li><a href=\\\"https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html\\\">FacebookのOGP設定に必要なfb:app IDの取得方法</a></li>\\n</ul>\\n</li>\\n<li>\\n<p>下記で実際の表示結果のプレビューが確認できます。</p>\\n<ul>\\n<li>Twitter → <a href=\\\"https://cards-dev.twitter.com/validator\\\">Card validator</a></li>\\n<li>Facebook → <a href=\\\"https://developers.facebook.com/tools/debug/\\\">シェアデバッガー</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"https://github.com/ericnorris/striptags\\\">striptags</a></p>\\n<ul>\\n<li>HTML文字列から単純テキストを抽出してくれるライブラリです。</li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"https://github.com/gatsbyjs/gatsby/issues/3780\\\">GatsbyはES6未対応 | GitHub issues</a></p>\\n<ul>\\n<li>GatsbyはビルドでJSファイル最初化時にUglifyを使っており、uglifyがES6未対応なのでES6のコードをコンパイルしようとするとエラーになってしまいます。</li>\\n</ul>\\n</li>\\n</ul>\\n</li>\\n</ul>\",\"frontmatter\":{\"title\":\"Gatsby製ブログでSNS対応(SNSシェアボタン、OGPタグ追加)\",\"date\":\"2018/09/16\"}}},\"pathContext\":{\"slug\":\"/2018/09/16/\",\"previous\":{\"fields\":{\"slug\":\"/2018/09/12/\"},\"frontmatter\":{\"title\":\"GitHub Pagesを独自ドメイン化 + Https化\"}},\"next\":null}}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// path---2018-09-16-b993299023509878b7f5.js","module.exports = {\"data\":{\"site\":{\"siteMetadata\":{\"title\":\"Takumon Blog\",\"author\":\"Takuto Inoue\"}},\"markdownRemark\":{\"id\":\"/Users/inouetakumon/git/blog/src/pages/2018/09/16/index.md absPath of file >>> MarkdownRemark\",\"html\":\"<h2>なにこれ</h2>\\n<p>Gatsby製ブログでSNS対応を実施した時のメモです。<br>\\n<strong>(1) SNSシェアボタン設置</strong>して <strong>(2) 自分のSNSへのリンク設置</strong>することでブログフッターの見栄えがちょっと良い感じになりました。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-0136e.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 59.01162790697675%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsSAAALEgHS3X78AAAB4UlEQVQoz41SXW8SQRTdP6Z/on/HRH+FT9bGrwd9URMf9AUjMbVtTKo2WBgKLbALCwF22c+Z2bn3OAsrhYoJJzmZuTdzz5y5d5xRpL6JELNmwCNLXwTkN+fkX9m9t2DfjWzOxkTkx4r8Tkg+eBVvcGQ5McZcO1+uou7Tzy7Seg0Xp+c4/D3Da49RmxgcigTPOymOJ8BbF3h0Dtx/DxjsBjMrpz/PxXFPodEem5P2jD/eZFzzCv7UV3zUyviZyPhsbDjIiVtzw1+HzKvaLVApaF0mDptClMEgIeotDLxQYxBIDEOFKDNIpcEiLzCJNdxQlmWVm21zlcPUUVqLKklVfg3afs+ShrgsvEuuHKYOFUaMZh0E4Yik1EjiyDJHGsdAkSHPcygll4W0W+yuoBb1g3t48+AhPak38OJnjJe/zvDu0sWrVoGDDwqPf+ilyYLwP2w82RgBbwCvN6bvboyLADidjNGyPWxbk0dN4MRf1RDv4VApJcpvoLQioyVMnmy08tYSrafAu77LraDtkRh6Hq67Xer2+nzTvGQdzvnvGJQ2XJST+PerbGEtqLVuW5cIgoDLAaRZhkUUYTqdIrN73/eRJAn2gdXNHFvUkFKyXXNZwV4grfhytRfKoij2oT2qgz8BMJZxl9gVtgAAAABJRU5ErkJggg=='); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"ブログフッタ\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-fb8a0.png\\\"\\n        srcset=\\\"/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-1a291.png 148w,\\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-2bc4a.png 295w,\\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-fb8a0.png 590w,\\n/static/blog-footer-b144206bd9e6f72bee5020c93a7da93b-0136e.png 688w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>またSNSシェア時にわかりやすくするためにOGPタグなるものを設定しました。Twitterで呟くと画像、タイトル、記事概要を表示できるようになります。<br>はてなブログとかQiitaみたいな感じですね。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 41.87604690117253%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQoz1WRy27TUBCG/SxFYlkJiRUSCzYICYknYMWCFc/AU7BjwUVsQQJVqtoiqjZtkzRN6tix40tzsXOaxHYcu00dO/E582NnAx3p05z5RxrNmV8KrnuH6sWOP2ajUdewmN41mGFajI0nzJvN2SQIWXRzy2ZRzBbJkgG4BxeCCSFczkW4TLN9abj33ai8eQHP0mAaXQxsEz3LQjwLkNzeYhHHyLMUvKDMgMAqTbBaJhDrDP+H4LkqFZ0OKMNgHvNDu0/qdE5qMKfToUM1x6GqM6SL62tq+x613Skp/SmZk5h63oIGQULhCiX5ohg4S/JLqTpZax+GQM12ha5XcdA4wFHrN7SegYYTomKO0HRDNJ0ZTrojVDQX9asp9GkC2Y2gjhdoOSF3E6DCuCz15pm24wEdTRaNj2/x6t1D/Hj/Eqm2h36/D/WyCV2RYXSUDVrxLrXJyMGVoRfnMaDKLR75E7T9YiBE2in/L9fP+PHzbfr8bJv2H23R+OcnGnoByXKbDNMmWVFp6I7Isnt03mhStd4gtaNv9LPaOQ+CEC2PX0q0zrrFtlDkOq5eP8HJ4wc4fbqF+PAbbpZLzAMf6d0C6/SuMCUBlUbkq8KwqDh/qSebXhltP29LfJ217nKII3uc1I730z9fvqanu7/SpmWnis9TxVtvMCLcw4z/UdSJGQF7g1X9L1giOKAcJBd3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"つぶやきサンプル\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png\\\"\\n        srcset=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-1a291.png 148w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-2bc4a.png 295w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png 590w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png 597w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<h2>SNSシェアボタンを設置</h2>\\n<p>TODO 手順記載</p>\\n<h2>自分のSNSへのリンクを設置</h2>\\n<p>TODO 手順記載</p>\\n<h2>OGPタグを設定</h2>\\n<p>OGPとは、「Open Graph Protcol」の略でFacebookやTwitterなどのSNSでシェアした際に、\\nWEBページのタイトルやイメージ画像、説明文などをわかりやすく伝えるためのHTML要素です。\\nOGPをWebページで設定することでユーザーに対してWEBページの内容を詳しく伝えることができます。</p>\\n<h3>OGPタグ定義</h3>\\n<p>このブログはReactを使って書かれているので、ReactHelmetを使ってOPG専用のコンポーネントを作りました。\\nブログのトップと記事詳細で設定する値が違うので、そこは引数でとれるようにしてあります。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token keyword\\\">import</span> React <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react'</span>\\n<span class=\\\"token keyword\\\">import</span> Helmet <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'react-helmet'</span>\\n\\n<span class=\\\"token keyword\\\">import</span> <span class=\\\"token punctuation\\\">{</span>\\n  blogTitle<span class=\\\"token punctuation\\\">,</span>\\n  blogUrl<span class=\\\"token punctuation\\\">,</span>\\n  blogDescription<span class=\\\"token punctuation\\\">,</span>\\n  blogImageUrl<span class=\\\"token punctuation\\\">,</span>\\n  facebookAppId<span class=\\\"token punctuation\\\">,</span>\\n  blogAuthorTwitterUserName<span class=\\\"token punctuation\\\">,</span>\\n<span class=\\\"token punctuation\\\">}</span> <span class=\\\"token keyword\\\">from</span> <span class=\\\"token string\\\">'../config/blog-config.js'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n<span class=\\\"gatsby-highlight-code-line\\\"><span class=\\\"token keyword\\\">export</span> <span class=\\\"token keyword\\\">default</span> <span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">Ogp</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">{</span>isRoot<span class=\\\"token punctuation\\\">,</span> title<span class=\\\"token punctuation\\\">,</span> description<span class=\\\"token punctuation\\\">}</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n</span>  <span class=\\\"token keyword\\\">const</span> type <span class=\\\"token operator\\\">=</span> isRoot <span class=\\\"token operator\\\">?</span> <span class=\\\"token string\\\">'website'</span> <span class=\\\"token punctuation\\\">:</span> <span class=\\\"token string\\\">'article'</span><span class=\\\"token punctuation\\\">;</span>\\n\\n  <span class=\\\"token keyword\\\">return</span><span class=\\\"token punctuation\\\">(</span>\\n    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>Helmet</span><span class=\\\"token punctuation\\\">></span></span>\\n<span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:title<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>title <span class=\\\"token operator\\\">||</span> blogTitle<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:description<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>description <span class=\\\"token operator\\\">||</span> blogDescription<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:url<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>blogUrl<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:type<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>type<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:site_name<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>blogTitle<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>og:image<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>blogImageUrl<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">property</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>fb:app_id<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>facebookAppId<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>twitter:card<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>summary<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span><span class=\\\"gatsby-highlight-code-line\\\">      <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>meta</span> <span class=\\\"token attr-name\\\">name</span><span class=\\\"token attr-value\\\"><span class=\\\"token punctuation\\\">=</span><span class=\\\"token punctuation\\\">\\\"</span>twitter:site<span class=\\\"token punctuation\\\">\\\"</span></span> <span class=\\\"token attr-name\\\">content</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`@</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>blogAuthorTwitterUserName<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n</span>    <span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;/</span>Helmet</span><span class=\\\"token punctuation\\\">></span></span>\\n  <span class=\\\"token punctuation\\\">)</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>※<code class=\\\"language-text\\\">blog-config.js</code>はブログタイトルなどの設定を外出しした設定ファイル<br>\\nいろいろあるプロパティは下記の通り</p>\\n<table>\\n<thead>\\n<tr>\\n<th align=\\\"left\\\">プロパティ名</th>\\n<th align=\\\"left\\\">説明</th>\\n</tr>\\n</thead>\\n<tbody>\\n<tr>\\n<td align=\\\"left\\\">og:title</td>\\n<td align=\\\"left\\\">ページのタイトル。SNS共有時は、headのtitleタグよりも優先して使われます。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:description</td>\\n<td align=\\\"left\\\">ページの説明。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:url</td>\\n<td align=\\\"left\\\">ページのURL。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:type</td>\\n<td align=\\\"left\\\">ページの属性、だいたい\\n<code class=\\\"language-text\\\">website</code>\\nか\\n<code class=\\\"language-text\\\">article</code>\\nを指定します。詳細は\\n<a href=\\\"http://ogp.me/#types\\\">ココ</a>\\n参照</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:site_name</td>\\n<td align=\\\"left\\\">Webサイト名。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">og:image</td>\\n<td align=\\\"left\\\">ページのイメージ画像</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">fb:app_id</td>\\n<td align=\\\"left\\\">FacebookのアプリID。FacebookでOGPを表示させる際に必須。アプリIDの取り方は\\n<a href=\\\"https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html\\\">FacebookのOGP設定に必要なfb:app IDの取得方法</a>\\n参照。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">twitter:card</td>\\n<td align=\\\"left\\\">OGPのレイアウトのタイプ。詳細は\\n<a href=\\\"https://saruwakakun.com/html-css/reference/twitter-card\\\">【2018年版】Twitterカードとは？使い方と設定方法まとめ</a>\\n参照。</td>\\n</tr>\\n<tr>\\n<td align=\\\"left\\\">twitter:site</td>\\n<td align=\\\"left\\\">Twitterのユーザ名。</td>\\n</tr>\\n</tbody>\\n</table>\\n<h3>OGPタグ呼び出し</h3>\\n<p>タイトルやURLはページ個別で設定が必要です。\\nGatsby製ブログでは下記2カ所でOGPタグを呼び出します。</p>\\n<h4>1. ブログトップページでの呼び出し</h4>\\n<p><strong>src/layouts/index.js</strong><br>\\n※全体のテンプレートなのでURLがブログトップページの時のみOGPタグを呼び出します。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>Ogp</span> <span class=\\\"token attr-name\\\">isRoot</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>isRoot<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span></code></pre>\\n      </div>\\n<h4>2. ブログ記事ページでの呼び出し</h4>\\n<p><strong>src/templates/blog-post.js</strong></p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token tag\\\"><span class=\\\"token tag\\\"><span class=\\\"token punctuation\\\">&lt;</span>Ogp</span> <span class=\\\"token attr-name\\\">isRoot</span><span class=\\\"token script language-javascript\\\"><span class=\\\"token script-punctuation punctuation\\\">=</span><span class=\\\"token punctuation\\\">{</span>isRoot<span class=\\\"token punctuation\\\">}</span></span> <span class=\\\"token punctuation\\\">/></span></span>\\n  isRoot<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token boolean\\\">false</span><span class=\\\"token punctuation\\\">}</span>\\n  title<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token template-string\\\"><span class=\\\"token string\\\">`</span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>post<span class=\\\"token punctuation\\\">.</span>frontmatter<span class=\\\"token punctuation\\\">.</span>title<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\"> | </span><span class=\\\"token interpolation\\\"><span class=\\\"token interpolation-punctuation punctuation\\\">${</span>siteTitle<span class=\\\"token interpolation-punctuation punctuation\\\">}</span></span><span class=\\\"token string\\\">`</span></span><span class=\\\"token punctuation\\\">}</span>\\n<span class=\\\"gatsby-highlight-code-line\\\">  description<span class=\\\"token operator\\\">=</span><span class=\\\"token punctuation\\\">{</span><span class=\\\"token function\\\">sumarrize</span><span class=\\\"token punctuation\\\">(</span>post<span class=\\\"token punctuation\\\">.</span>html<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">}</span><span class=\\\"token operator\\\">/</span><span class=\\\"token operator\\\">></span>\\n</span></code></pre>\\n      </div>\\n<p>4行目の<code class=\\\"language-text\\\">sumarrize</code>メソッドではブログ記事(HTML形式)から<a href=\\\"https://github.com/ericnorris/striptags\\\">striptags</a>というライブラリを使ってテキストを抽出し、冒頭120文字を1行にして返すようにしています。</p>\\n<div class=\\\"gatsby-highlight\\\" data-language=\\\"jsx\\\">\\n      <pre class=\\\"language-jsx\\\"><code class=\\\"language-jsx\\\"><span class=\\\"token keyword\\\">function</span> <span class=\\\"token function\\\">sumarrize</span><span class=\\\"token punctuation\\\">(</span>html<span class=\\\"token punctuation\\\">)</span> <span class=\\\"token punctuation\\\">{</span>\\n  <span class=\\\"token keyword\\\">const</span> postContent <span class=\\\"token operator\\\">=</span> <span class=\\\"token function\\\">striptags</span><span class=\\\"token punctuation\\\">(</span>html<span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">replace</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token regex\\\">/\\\\r?\\\\n/g</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token string\\\">''</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">trim</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token punctuation\\\">)</span><span class=\\\"token punctuation\\\">;</span>\\n  <span class=\\\"token keyword\\\">return</span> postContent<span class=\\\"token punctuation\\\">.</span>length <span class=\\\"token operator\\\">&lt;=</span> <span class=\\\"token number\\\">120</span>\\n    <span class=\\\"token operator\\\">?</span> postContent\\n    <span class=\\\"token punctuation\\\">:</span> postContent<span class=\\\"token punctuation\\\">.</span><span class=\\\"token function\\\">slice</span><span class=\\\"token punctuation\\\">(</span><span class=\\\"token number\\\">0</span><span class=\\\"token punctuation\\\">,</span> <span class=\\\"token number\\\">120</span><span class=\\\"token punctuation\\\">)</span> <span class=\\\"token operator\\\">+</span> <span class=\\\"token string\\\">'...'</span><span class=\\\"token punctuation\\\">;</span>\\n<span class=\\\"token punctuation\\\">}</span></code></pre>\\n      </div>\\n<p>※<a href=\\\"https://github.com/ericnorris/striptags\\\">striptags</a>は非常に便利なライブラリですが、1点だけ注意点があって、最新バージョンの3系(2018/9/16現在)はGatsbyビルド時にエラーになるため<strong>2系を使用してください</strong>。Gatsbyではビルド時に<a href=\\\"https://github.com/mishoo/UglifyJS2\\\">Uglifyjs</a>を使用しているためES6のコードをコンパイルできません。</p>\\n<p>これでTwitterやFacebookで呟くと下記のようにいい感じに画像とタイトル、説明文を表示してくれるようになります。\\n\\n  <a\\n    class=\\\"gatsby-resp-image-link\\\"\\n    href=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png\\\"\\n    style=\\\"display: block\\\"\\n    target=\\\"_blank\\\"\\n    rel=\\\"noopener\\\"\\n  >\\n  \\n  <span\\n    class=\\\"gatsby-resp-image-wrapper\\\"\\n    style=\\\"position: relative; display: block; ; max-width: 590px; margin-left: auto; margin-right: auto;\\\"\\n  >\\n    <span\\n      class=\\\"gatsby-resp-image-background-image\\\"\\n      style=\\\"padding-bottom: 41.87604690117253%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAAAsSAAALEgHS3X78AAACB0lEQVQoz1WRy27TUBCG/SxFYlkJiRUSCzYICYknYMWCFc/AU7BjwUVsQQJVqtoiqjZtkzRN6tix40tzsXOaxHYcu00dO/E582NnAx3p05z5RxrNmV8KrnuH6sWOP2ajUdewmN41mGFajI0nzJvN2SQIWXRzy2ZRzBbJkgG4BxeCCSFczkW4TLN9abj33ai8eQHP0mAaXQxsEz3LQjwLkNzeYhHHyLMUvKDMgMAqTbBaJhDrDP+H4LkqFZ0OKMNgHvNDu0/qdE5qMKfToUM1x6GqM6SL62tq+x613Skp/SmZk5h63oIGQULhCiX5ohg4S/JLqTpZax+GQM12ha5XcdA4wFHrN7SegYYTomKO0HRDNJ0ZTrojVDQX9asp9GkC2Y2gjhdoOSF3E6DCuCz15pm24wEdTRaNj2/x6t1D/Hj/Eqm2h36/D/WyCV2RYXSUDVrxLrXJyMGVoRfnMaDKLR75E7T9YiBE2in/L9fP+PHzbfr8bJv2H23R+OcnGnoByXKbDNMmWVFp6I7Isnt03mhStd4gtaNv9LPaOQ+CEC2PX0q0zrrFtlDkOq5eP8HJ4wc4fbqF+PAbbpZLzAMf6d0C6/SuMCUBlUbkq8KwqDh/qSebXhltP29LfJ217nKII3uc1I730z9fvqanu7/SpmWnis9TxVtvMCLcw4z/UdSJGQF7g1X9L1giOKAcJBd3AAAAAElFTkSuQmCC'); background-size: cover; display: block;\\\"\\n    >\\n      <img\\n        class=\\\"gatsby-resp-image-image\\\"\\n        style=\\\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\\\"\\n        alt=\\\"つぶやきサンプル\\\"\\n        title=\\\"\\\"\\n        src=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png\\\"\\n        srcset=\\\"/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-1a291.png 148w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-2bc4a.png 295w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-fb8a0.png 590w,\\n/static/tweet-sample-acf283cfe7cd1a5517cf5e76a805655c-320d7.png 597w\\\"\\n        sizes=\\\"(max-width: 590px) 100vw, 590px\\\"\\n      />\\n    </span>\\n  </span>\\n  \\n  </a>\\n    </p>\\n<p>実際にどんな感じになるかは下記サイトで確認できます。</p>\\n<ul>\\n<li>Twitter → <a href=\\\"https://cards-dev.twitter.com/validator\\\">Card validator</a></li>\\n<li>Facebook → <a href=\\\"https://developers.facebook.com/tools/debug/\\\">シェアデバッガー</a></li>\\n</ul>\\n<h2>まとめ</h2>\\n<p>今回はGatsby製ブログでSNSシェアボタンや自分のSNSへのリンクを設置し、さらにOGPタグを設置して\\nTwitterやFacebookなどでのシェアをより効果的にする方法をメモとして残しました。\\nGatsbyはReact製ということもあり、かなり簡単に実現できますし、グっとブログっぽくなるので是非みなさんも挑戦してみてください。</p>\\n<h2>参考</h2>\\n<ul>\\n<li>\\n<p>OGPタグ系関連</p>\\n<ul>\\n<li>\\n<p>参考にしたサイト</p>\\n<ul>\\n<li><a href=\\\"https://ferret-plus.com/610\\\">Facebook・TwitterのOGP設定方法まとめ｜ferret [フェレット]</a></li>\\n<li><a href=\\\"https://akameco.github.io/blog/react-helmet/\\\">React Helmetを使ってOGP対応した | akameco Blog</a></li>\\n<li><a href=\\\"https://design-plus1.com/tcd-w/2018/01/facebook_app_id.html\\\">FacebookのOGP設定に必要なfb:app IDの取得方法</a></li>\\n</ul>\\n</li>\\n<li>\\n<p>下記で実際の表示結果のプレビューが確認できます。</p>\\n<ul>\\n<li>Twitter → <a href=\\\"https://cards-dev.twitter.com/validator\\\">Card validator</a></li>\\n<li>Facebook → <a href=\\\"https://developers.facebook.com/tools/debug/\\\">シェアデバッガー</a></li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"https://github.com/ericnorris/striptags\\\">striptags</a></p>\\n<ul>\\n<li>HTML文字列から単純テキストを抽出してくれるライブラリです。</li>\\n</ul>\\n</li>\\n<li>\\n<p><a href=\\\"https://github.com/gatsbyjs/gatsby/issues/3780\\\">GatsbyはES6未対応 | GitHub issues</a></p>\\n<ul>\\n<li>GatsbyはビルドでJSファイル最初化時にUglifyを使っており、uglifyがES6未対応なのでES6のコードをコンパイルしようとするとエラーになってしまいます。</li>\\n</ul>\\n</li>\\n</ul>\\n</li>\\n</ul>\",\"frontmatter\":{\"title\":\"Gatsby製ブログでSNS対応(SNSシェアボタン、OGPタグ追加)\",\"date\":\"2018/09/16\"}}},\"pathContext\":{\"slug\":\"/2018/09/16/\",\"previous\":{\"fields\":{\"slug\":\"/2018/09/12/\"},\"frontmatter\":{\"title\":\"GitHub Pagesを独自ドメイン化 + Https化\"}},\"next\":null}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/json-loader!./.cache/json/2018-09-16.json\n// module id = 427\n// module chunks = 133001515947093"],"sourceRoot":""}